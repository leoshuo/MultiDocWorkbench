var nx=Object.defineProperty;var rx=(r,e,t)=>e in r?nx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var _i=(r,e,t)=>rx(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ep={exports:{}},Bf={},tp={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function ix(){if(M0)return Wr;M0=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),S=Symbol.iterator;function b(J){return J===null||typeof J!="object"?null:(J=S&&J[S]||J["@@iterator"],typeof J=="function"?J:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function A(J,C,Z){this.props=J,this.context=C,this.refs=N,this.updater=Z||p}A.prototype.isReactComponent={},A.prototype.setState=function(J,C){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,C,"setState")},A.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function w(){}w.prototype=A.prototype;function I(J,C,Z){this.props=J,this.context=C,this.refs=N,this.updater=Z||p}var R=I.prototype=new w;R.constructor=I,j(R,A.prototype),R.isPureReactComponent=!0;var k=Array.isArray,G=Object.prototype.hasOwnProperty,re={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ie(J,C,Z){var ne,ye={},ae=null,M=null;if(C!=null)for(ne in C.ref!==void 0&&(M=C.ref),C.key!==void 0&&(ae=""+C.key),C)G.call(C,ne)&&!Q.hasOwnProperty(ne)&&(ye[ne]=C[ne]);var z=arguments.length-2;if(z===1)ye.children=Z;else if(1<z){for(var fe=Array(z),de=0;de<z;de++)fe[de]=arguments[de+2];ye.children=fe}if(J&&J.defaultProps)for(ne in z=J.defaultProps,z)ye[ne]===void 0&&(ye[ne]=z[ne]);return{$$typeof:r,type:J,key:ae,ref:M,props:ye,_owner:re.current}}function U(J,C){return{$$typeof:r,type:J.type,key:C,ref:J.ref,props:J.props,_owner:J._owner}}function le(J){return typeof J=="object"&&J!==null&&J.$$typeof===r}function oe(J){var C={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Z){return C[Z]})}var B=/\/+/g;function te(J,C){return typeof J=="object"&&J!==null&&J.key!=null?oe(""+J.key):C.toString(36)}function P(J,C,Z,ne,ye){var ae=typeof J;(ae==="undefined"||ae==="boolean")&&(J=null);var M=!1;if(J===null)M=!0;else switch(ae){case"string":case"number":M=!0;break;case"object":switch(J.$$typeof){case r:case e:M=!0}}if(M)return M=J,ye=ye(M),J=ne===""?"."+te(M,0):ne,k(ye)?(Z="",J!=null&&(Z=J.replace(B,"$&/")+"/"),P(ye,C,Z,"",function(de){return de})):ye!=null&&(le(ye)&&(ye=U(ye,Z+(!ye.key||M&&M.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+J)),C.push(ye)),1;if(M=0,ne=ne===""?".":ne+":",k(J))for(var z=0;z<J.length;z++){ae=J[z];var fe=ne+te(ae,z);M+=P(ae,C,Z,fe,ye)}else if(fe=b(J),typeof fe=="function")for(J=fe.call(J),z=0;!(ae=J.next()).done;)ae=ae.value,fe=ne+te(ae,z++),M+=P(ae,C,Z,fe,ye);else if(ae==="object")throw C=String(J),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return M}function be(J,C,Z){if(J==null)return J;var ne=[],ye=0;return P(J,ne,"","",function(ae){return C.call(Z,ae,ye++)}),ne}function Ae(J){if(J._status===-1){var C=J._result;C=C(),C.then(function(Z){(J._status===0||J._status===-1)&&(J._status=1,J._result=Z)},function(Z){(J._status===0||J._status===-1)&&(J._status=2,J._result=Z)}),J._status===-1&&(J._status=0,J._result=C)}if(J._status===1)return J._result.default;throw J._result}var ge={current:null},xe={transition:null},ke={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:xe,ReactCurrentOwner:re};function Fe(){throw Error("act(...) is not supported in production builds of React.")}return Wr.Children={map:be,forEach:function(J,C,Z){be(J,function(){C.apply(this,arguments)},Z)},count:function(J){var C=0;return be(J,function(){C++}),C},toArray:function(J){return be(J,function(C){return C})||[]},only:function(J){if(!le(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Wr.Component=A,Wr.Fragment=t,Wr.Profiler=a,Wr.PureComponent=I,Wr.StrictMode=o,Wr.Suspense=f,Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ke,Wr.act=Fe,Wr.cloneElement=function(J,C,Z){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var ne=j({},J.props),ye=J.key,ae=J.ref,M=J._owner;if(C!=null){if(C.ref!==void 0&&(ae=C.ref,M=re.current),C.key!==void 0&&(ye=""+C.key),J.type&&J.type.defaultProps)var z=J.type.defaultProps;for(fe in C)G.call(C,fe)&&!Q.hasOwnProperty(fe)&&(ne[fe]=C[fe]===void 0&&z!==void 0?z[fe]:C[fe])}var fe=arguments.length-2;if(fe===1)ne.children=Z;else if(1<fe){z=Array(fe);for(var de=0;de<fe;de++)z[de]=arguments[de+2];ne.children=z}return{$$typeof:r,type:J.type,key:ye,ref:ae,props:ne,_owner:M}},Wr.createContext=function(J){return J={$$typeof:u,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:s,_context:J},J.Consumer=J},Wr.createElement=ie,Wr.createFactory=function(J){var C=ie.bind(null,J);return C.type=J,C},Wr.createRef=function(){return{current:null}},Wr.forwardRef=function(J){return{$$typeof:l,render:J}},Wr.isValidElement=le,Wr.lazy=function(J){return{$$typeof:h,_payload:{_status:-1,_result:J},_init:Ae}},Wr.memo=function(J,C){return{$$typeof:d,type:J,compare:C===void 0?null:C}},Wr.startTransition=function(J){var C=xe.transition;xe.transition={};try{J()}finally{xe.transition=C}},Wr.unstable_act=Fe,Wr.useCallback=function(J,C){return ge.current.useCallback(J,C)},Wr.useContext=function(J){return ge.current.useContext(J)},Wr.useDebugValue=function(){},Wr.useDeferredValue=function(J){return ge.current.useDeferredValue(J)},Wr.useEffect=function(J,C){return ge.current.useEffect(J,C)},Wr.useId=function(){return ge.current.useId()},Wr.useImperativeHandle=function(J,C,Z){return ge.current.useImperativeHandle(J,C,Z)},Wr.useInsertionEffect=function(J,C){return ge.current.useInsertionEffect(J,C)},Wr.useLayoutEffect=function(J,C){return ge.current.useLayoutEffect(J,C)},Wr.useMemo=function(J,C){return ge.current.useMemo(J,C)},Wr.useReducer=function(J,C,Z){return ge.current.useReducer(J,C,Z)},Wr.useRef=function(J){return ge.current.useRef(J)},Wr.useState=function(J){return ge.current.useState(J)},Wr.useSyncExternalStore=function(J,C,Z){return ge.current.useSyncExternalStore(J,C,Z)},Wr.useTransition=function(){return ge.current.useTransition()},Wr.version="18.3.1",Wr}var z0;function B1(){return z0||(z0=1,tp.exports=ix()),tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function ox(){if($0)return Bf;$0=1;var r=B1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(l,f,d){var h,S={},b=null,p=null;d!==void 0&&(b=""+d),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(p=f.ref);for(h in f)o.call(f,h)&&!s.hasOwnProperty(h)&&(S[h]=f[h]);if(l&&l.defaultProps)for(h in f=l.defaultProps,f)S[h]===void 0&&(S[h]=f[h]);return{$$typeof:e,type:l,key:b,ref:p,props:S,_owner:a.current}}return Bf.Fragment=t,Bf.jsx=u,Bf.jsxs=u,Bf}var U0;function sx(){return U0||(U0=1,ep.exports=ox()),ep.exports}var y=sx(),Qe=B1();const M1=$v(Qe);var Rd={},np={exports:{}},ca={},rp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function ax(){return q0||(q0=1,(function(r){function e(xe,ke){var Fe=xe.length;xe.push(ke);e:for(;0<Fe;){var J=Fe-1>>>1,C=xe[J];if(0<a(C,ke))xe[J]=ke,xe[Fe]=C,Fe=J;else break e}}function t(xe){return xe.length===0?null:xe[0]}function o(xe){if(xe.length===0)return null;var ke=xe[0],Fe=xe.pop();if(Fe!==ke){xe[0]=Fe;e:for(var J=0,C=xe.length,Z=C>>>1;J<Z;){var ne=2*(J+1)-1,ye=xe[ne],ae=ne+1,M=xe[ae];if(0>a(ye,Fe))ae<C&&0>a(M,ye)?(xe[J]=M,xe[ae]=Fe,J=ae):(xe[J]=ye,xe[ne]=Fe,J=ne);else if(ae<C&&0>a(M,Fe))xe[J]=M,xe[ae]=Fe,J=ae;else break e}}return ke}function a(xe,ke){var Fe=xe.sortIndex-ke.sortIndex;return Fe!==0?Fe:xe.id-ke.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();r.unstable_now=function(){return u.now()-l}}var f=[],d=[],h=1,S=null,b=3,p=!1,j=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(xe){for(var ke=t(d);ke!==null;){if(ke.callback===null)o(d);else if(ke.startTime<=xe)o(d),ke.sortIndex=ke.expirationTime,e(f,ke);else break;ke=t(d)}}function k(xe){if(N=!1,R(xe),!j)if(t(f)!==null)j=!0,Ae(G);else{var ke=t(d);ke!==null&&ge(k,ke.startTime-xe)}}function G(xe,ke){j=!1,N&&(N=!1,w(ie),ie=-1),p=!0;var Fe=b;try{for(R(ke),S=t(f);S!==null&&(!(S.expirationTime>ke)||xe&&!oe());){var J=S.callback;if(typeof J=="function"){S.callback=null,b=S.priorityLevel;var C=J(S.expirationTime<=ke);ke=r.unstable_now(),typeof C=="function"?S.callback=C:S===t(f)&&o(f),R(ke)}else o(f);S=t(f)}if(S!==null)var Z=!0;else{var ne=t(d);ne!==null&&ge(k,ne.startTime-ke),Z=!1}return Z}finally{S=null,b=Fe,p=!1}}var re=!1,Q=null,ie=-1,U=5,le=-1;function oe(){return!(r.unstable_now()-le<U)}function B(){if(Q!==null){var xe=r.unstable_now();le=xe;var ke=!0;try{ke=Q(!0,xe)}finally{ke?te():(re=!1,Q=null)}}else re=!1}var te;if(typeof I=="function")te=function(){I(B)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,be=P.port2;P.port1.onmessage=B,te=function(){be.postMessage(null)}}else te=function(){A(B,0)};function Ae(xe){Q=xe,re||(re=!0,te())}function ge(xe,ke){ie=A(function(){xe(r.unstable_now())},ke)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(xe){xe.callback=null},r.unstable_continueExecution=function(){j||p||(j=!0,Ae(G))},r.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<xe?Math.floor(1e3/xe):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(xe){switch(b){case 1:case 2:case 3:var ke=3;break;default:ke=b}var Fe=b;b=ke;try{return xe()}finally{b=Fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(xe,ke){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Fe=b;b=xe;try{return ke()}finally{b=Fe}},r.unstable_scheduleCallback=function(xe,ke,Fe){var J=r.unstable_now();switch(typeof Fe=="object"&&Fe!==null?(Fe=Fe.delay,Fe=typeof Fe=="number"&&0<Fe?J+Fe:J):Fe=J,xe){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Fe+C,xe={id:h++,callback:ke,priorityLevel:xe,startTime:Fe,expirationTime:C,sortIndex:-1},Fe>J?(xe.sortIndex=Fe,e(d,xe),t(f)===null&&xe===t(d)&&(N?(w(ie),ie=-1):N=!0,ge(k,Fe-J))):(xe.sortIndex=C,e(f,xe),j||p||(j=!0,Ae(G))),xe},r.unstable_shouldYield=oe,r.unstable_wrapCallback=function(xe){var ke=b;return function(){var Fe=b;b=ke;try{return xe.apply(this,arguments)}finally{b=Fe}}}})(ip)),ip}var W0;function lx(){return W0||(W0=1,rp.exports=ax()),rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function cx(){if(H0)return ca;H0=1;var r=B1(),e=lx();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function s(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(a[n]=i,n=0;n<i.length;n++)o.add(i[n])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},S={};function b(n){return f.call(S,n)?!0:f.call(h,n)?!1:d.test(n)?S[n]=!0:(h[n]=!0,!1)}function p(n,i,c,v){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return v?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,c,v){if(i===null||typeof i>"u"||p(n,i,c,v))return!0;if(v)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(n,i,c,v,F,V,ve){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=v,this.attributeNamespace=F,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=V,this.removeEmptyString=ve}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){A[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];A[i]=new N(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){A[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){A[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){A[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){A[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){A[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){A[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){A[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(w,I);A[i]=new N(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(w,I);A[i]=new N(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(w,I);A[i]=new N(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){A[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),A.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){A[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function R(n,i,c,v){var F=A.hasOwnProperty(i)?A[i]:null;(F!==null?F.type!==0:v||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,c,F,v)&&(c=null),v||F===null?b(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):F.mustUseProperty?n[F.propertyName]=c===null?F.type===3?!1:"":c:(i=F.attributeName,v=F.attributeNamespace,c===null?n.removeAttribute(i):(F=F.type,c=F===3||F===4&&c===!0?"":""+c,v?n.setAttributeNS(v,i,c):n.setAttribute(i,c))))}var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),re=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),oe=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),xe=Symbol.iterator;function ke(n){return n===null||typeof n!="object"?null:(n=xe&&n[xe]||n["@@iterator"],typeof n=="function"?n:null)}var Fe=Object.assign,J;function C(n){if(J===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);J=i&&i[1]||""}return`
`+J+n}var Z=!1;function ne(n,i){if(!n||Z)return"";Z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(pt){var v=pt}Reflect.construct(n,[],i)}else{try{i.call()}catch(pt){v=pt}n.call(i.prototype)}else{try{throw Error()}catch(pt){v=pt}n()}}catch(pt){if(pt&&v&&typeof pt.stack=="string"){for(var F=pt.stack.split(`
`),V=v.stack.split(`
`),ve=F.length-1,ze=V.length-1;1<=ve&&0<=ze&&F[ve]!==V[ze];)ze--;for(;1<=ve&&0<=ze;ve--,ze--)if(F[ve]!==V[ze]){if(ve!==1||ze!==1)do if(ve--,ze--,0>ze||F[ve]!==V[ze]){var Ve=`
`+F[ve].replace(" at new "," at ");return n.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",n.displayName)),Ve}while(1<=ve&&0<=ze);break}}}finally{Z=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?C(n):""}function ye(n){switch(n.tag){case 5:return C(n.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return n=ne(n.type,!1),n;case 11:return n=ne(n.type.render,!1),n;case 1:return n=ne(n.type,!0),n;default:return""}}function ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case re:return"Portal";case U:return"Profiler";case ie:return"StrictMode";case te:return"Suspense";case P:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oe:return(n.displayName||"Context")+".Consumer";case le:return(n._context.displayName||"Context")+".Provider";case B:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case be:return i=n.displayName||null,i!==null?i:ae(n.type)||"Memo";case Ae:i=n._payload,n=n._init;try{return ae(n(i))}catch{}}return null}function M(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(i);case 8:return i===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function z(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function de(n){var i=fe(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),v=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var F=c.get,V=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return F.call(this)},set:function(ve){v=""+ve,V.call(this,ve)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return v},setValue:function(ve){v=""+ve},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function se(n){n._valueTracker||(n._valueTracker=de(n))}function pe(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),v="";return n&&(v=fe(n)?n.checked?"true":"false":n.value),n=v,n!==c?(i.setValue(n),!0):!1}function Be(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function H(n,i){var c=i.checked;return Fe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function ee(n,i){var c=i.defaultValue==null?"":i.defaultValue,v=i.checked!=null?i.checked:i.defaultChecked;c=z(i.value!=null?i.value:c),n._wrapperState={initialChecked:v,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function X(n,i){i=i.checked,i!=null&&R(n,"checked",i,!1)}function T(n,i){X(n,i);var c=z(i.value),v=i.type;if(c!=null)v==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(v==="submit"||v==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?q(n,i.type,c):i.hasOwnProperty("defaultValue")&&q(n,i.type,z(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function L(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var v=i.type;if(!(v!=="submit"&&v!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function q(n,i,c){(i!=="number"||Be(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Se=Array.isArray;function Ce(n,i,c,v){if(n=n.options,i){i={};for(var F=0;F<c.length;F++)i["$"+c[F]]=!0;for(c=0;c<n.length;c++)F=i.hasOwnProperty("$"+n[c].value),n[c].selected!==F&&(n[c].selected=F),F&&v&&(n[c].defaultSelected=!0)}else{for(c=""+z(c),i=null,F=0;F<n.length;F++){if(n[F].value===c){n[F].selected=!0,v&&(n[F].defaultSelected=!0);return}i!==null||n[F].disabled||(i=n[F])}i!==null&&(i.selected=!0)}}function Ee(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return Fe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ue(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(Se(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:z(c)}}function ft(n,i){var c=z(i.value),v=z(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),v!=null&&(n.defaultValue=""+v)}function ot(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function lt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?lt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ot,Kt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,v,F){MSApp.execUnsafeLocalFunction(function(){return n(i,c,v,F)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ot.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function xn(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var Bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pr=["Webkit","ms","Moz","O"];Object.keys(Bt).forEach(function(n){pr.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Bt[i]=Bt[n]})});function mn(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Bt.hasOwnProperty(n)&&Bt[n]?(""+i).trim():i+"px"}function Un(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var v=c.indexOf("--")===0,F=mn(c,i[c],v);c==="float"&&(c="cssFloat"),v?n.setProperty(c,F):n[c]=F}}var Vn=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(n,i){if(i){if(Vn[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function en(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=null;function jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ln=null,kr=null,on=null;function pn(n){if(n=Ul(n)){if(typeof Ln!="function")throw Error(t(280));var i=n.stateNode;i&&(i=ms(i),Ln(n.stateNode,n.type,i))}}function zr(n){kr?on?on.push(n):on=[n]:kr=n}function _s(){if(kr){var n=kr,i=on;if(on=kr=null,pn(n),i)for(n=0;n<i.length;n++)pn(i[n])}}function ao(n,i){return n(i)}function ko(){}var Mo=!1;function Nn(n,i,c){if(Mo)return n(i,c);Mo=!0;try{return ao(n,i,c)}finally{Mo=!1,(kr!==null||on!==null)&&(ko(),_s())}}function zo(n,i){var c=n.stateNode;if(c===null)return null;var v=ms(c);if(v===null)return null;c=v[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(n=n.type,v=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!v;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var es=!1;if(l)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){es=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{es=!1}function Oi(n,i,c,v,F,V,ve,ze,Ve){var pt=Array.prototype.slice.call(arguments,3);try{i.apply(c,pt)}catch(It){this.onError(It)}}var Pr=!1,Qr=null,er=!1,$o=null,ts={onError:function(n){Pr=!0,Qr=n}};function $e(n,i,c,v,F,V,ve,ze,Ve){Pr=!1,Qr=null,Oi.apply(ts,arguments)}function He(n,i,c,v,F,V,ve,ze,Ve){if($e.apply(this,arguments),Pr){if(Pr){var pt=Qr;Pr=!1,Qr=null}else throw Error(t(198));er||(er=!0,$o=pt)}}function ht(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function Ht(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function tn(n){if(ht(n)!==n)throw Error(t(188))}function $t(n){var i=n.alternate;if(!i){if(i=ht(n),i===null)throw Error(t(188));return i!==n?null:n}for(var c=n,v=i;;){var F=c.return;if(F===null)break;var V=F.alternate;if(V===null){if(v=F.return,v!==null){c=v;continue}break}if(F.child===V.child){for(V=F.child;V;){if(V===c)return tn(F),n;if(V===v)return tn(F),i;V=V.sibling}throw Error(t(188))}if(c.return!==v.return)c=F,v=V;else{for(var ve=!1,ze=F.child;ze;){if(ze===c){ve=!0,c=F,v=V;break}if(ze===v){ve=!0,v=F,c=V;break}ze=ze.sibling}if(!ve){for(ze=V.child;ze;){if(ze===c){ve=!0,c=V,v=F;break}if(ze===v){ve=!0,v=V,c=F;break}ze=ze.sibling}if(!ve)throw Error(t(189))}}if(c.alternate!==v)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?n:i}function an(n){return n=$t(n),n!==null?Rn(n):null}function Rn(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Rn(n);if(i!==null)return i;n=n.sibling}return null}var qn=e.unstable_scheduleCallback,Gr=e.unstable_cancelCallback,Vr=e.unstable_shouldYield,Vi=e.unstable_requestPaint,hr=e.unstable_now,Xi=e.unstable_getCurrentPriorityLevel,Fi=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,_n=e.unstable_NormalPriority,rr=e.unstable_LowPriority,Kr=e.unstable_IdlePriority,Jt=null,Pn=null;function pi(n){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Jt,n,void 0,(n.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:yr,$r=Math.log,ei=Math.LN2;function yr(n){return n>>>=0,n===0?32:31-($r(n)/ei|0)|0}var Ao=64,No=4194304;function ns(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vr(n,i){var c=n.pendingLanes;if(c===0)return 0;var v=0,F=n.suspendedLanes,V=n.pingedLanes,ve=c&268435455;if(ve!==0){var ze=ve&~F;ze!==0?v=ns(ze):(V&=ve,V!==0&&(v=ns(V)))}else ve=c&~F,ve!==0?v=ns(ve):V!==0&&(v=ns(V));if(v===0)return 0;if(i!==0&&i!==v&&(i&F)===0&&(F=v&-v,V=i&-i,F>=V||F===16&&(V&4194240)!==0))return i;if((v&4)!==0&&(v|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=v;0<i;)c=31-zn(i),F=1<<c,v|=n[c],i&=~F;return v}function Bi(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(n,i){for(var c=n.suspendedLanes,v=n.pingedLanes,F=n.expirationTimes,V=n.pendingLanes;0<V;){var ve=31-zn(V),ze=1<<ve,Ve=F[ve];Ve===-1?((ze&c)===0||(ze&v)!==0)&&(F[ve]=Bi(ze,i)):Ve<=i&&(n.expiredLanes|=ze),V&=~ze}}function to(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ps(){var n=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),n}function rs(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Uo(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-zn(i),n[i]=c}function Gn(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var v=n.eventTimes;for(n=n.expirationTimes;0<c;){var F=31-zn(c),V=1<<F;i[F]=0,v[F]=-1,n[F]=-1,c&=~V}}function En(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var v=31-zn(c),F=1<<v;F&i|n[v]&i&&(n[v]|=i),c&=~F}}var Dr=0;function Ds(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Os,Ai,oc,Fs,nl,is=!1,qi=[],Vs=null,Yi=null,Eo=null,os=new Map,Dn=new Map,_r=[],rl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function il(n,i){switch(n){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":os.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(i.pointerId)}}function ss(n,i,c,v,F,V){return n===null||n.nativeEvent!==V?(n={blockedOn:i,domEventName:c,eventSystemFlags:v,nativeEvent:V,targetContainers:[F]},i!==null&&(i=Ul(i),i!==null&&Ai(i)),n):(n.eventSystemFlags|=v,i=n.targetContainers,F!==null&&i.indexOf(F)===-1&&i.push(F),n)}function Bs(n,i,c,v,F){switch(i){case"focusin":return Vs=ss(Vs,n,i,c,v,F),!0;case"dragenter":return Yi=ss(Yi,n,i,c,v,F),!0;case"mouseover":return Eo=ss(Eo,n,i,c,v,F),!0;case"pointerover":var V=F.pointerId;return os.set(V,ss(os.get(V)||null,n,i,c,v,F)),!0;case"gotpointercapture":return V=F.pointerId,Dn.set(V,ss(Dn.get(V)||null,n,i,c,v,F)),!0}return!1}function Pa(n){var i=ps(n.target);if(i!==null){var c=ht(i);if(c!==null){if(i=c.tag,i===13){if(i=Ht(c),i!==null){n.blockedOn=i,nl(n.priority,function(){oc(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Xs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var v=new c.constructor(c.type,c);Hr=v,c.target.dispatchEvent(v),Hr=null}else return i=Ul(c),i!==null&&Ai(i),n.blockedOn=c,!1;i.shift()}return!0}function qo(n,i,c){Tl(n)&&c.delete(i)}function sc(){is=!1,Vs!==null&&Tl(Vs)&&(Vs=null),Yi!==null&&Tl(Yi)&&(Yi=null),Eo!==null&&Tl(Eo)&&(Eo=null),os.forEach(qo),Dn.forEach(qo)}function as(n,i){n.blockedOn===i&&(n.blockedOn=null,is||(is=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sc)))}function ol(n){function i(F){return as(F,n)}if(0<qi.length){as(qi[0],n);for(var c=1;c<qi.length;c++){var v=qi[c];v.blockedOn===n&&(v.blockedOn=null)}}for(Vs!==null&&as(Vs,n),Yi!==null&&as(Yi,n),Eo!==null&&as(Eo,n),os.forEach(i),Dn.forEach(i),c=0;c<_r.length;c++)v=_r[c],v.blockedOn===n&&(v.blockedOn=null);for(;0<_r.length&&(c=_r[0],c.blockedOn===null);)Pa(c),c.blockedOn===null&&_r.shift()}var To=k.ReactCurrentBatchConfig,Cl=!0;function da(n,i,c,v){var F=Dr,V=To.transition;To.transition=null;try{Dr=1,Ni(n,i,c,v)}finally{Dr=F,To.transition=V}}function ri(n,i,c,v){var F=Dr,V=To.transition;To.transition=null;try{Dr=4,Ni(n,i,c,v)}finally{Dr=F,To.transition=V}}function Ni(n,i,c,v){if(Cl){var F=Xs(n,i,c,v);if(F===null)pc(n,i,v,Ss,c),il(n,v);else if(Bs(F,n,i,c,v))v.stopPropagation();else if(il(n,v),i&4&&-1<rl.indexOf(n)){for(;F!==null;){var V=Ul(F);if(V!==null&&Os(V),V=Xs(n,i,c,v),V===null&&pc(n,i,v,Ss,c),V===F)break;F=V}F!==null&&v.stopPropagation()}else pc(n,i,v,null,c)}}var Ss=null;function Xs(n,i,c,v){if(Ss=null,n=jn(v),n=ps(n),n!==null)if(i=ht(n),i===null)n=null;else if(c=i.tag,c===13){if(n=Ht(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ss=n,null}function ha(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xi()){case Fi:return 1;case Tr:return 4;case _n:case rr:return 16;case Kr:return 536870912;default:return 16}default:return 16}}var Do=null,pa=null,Ys=null;function Js(){if(Ys)return Ys;var n,i=pa,c=i.length,v,F="value"in Do?Do.value:Do.textContent,V=F.length;for(n=0;n<c&&i[n]===F[n];n++);var ve=c-n;for(v=1;v<=ve&&i[c-v]===F[V-v];v++);return Ys=F.slice(n,1<v?1-v:void 0)}function ma(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ms(){return!0}function Zs(){return!1}function ti(n){function i(c,v,F,V,ve){this._reactName=c,this._targetInst=F,this.type=v,this.nativeEvent=V,this.target=ve,this.currentTarget=null;for(var ze in n)n.hasOwnProperty(ze)&&(c=n[ze],this[ze]=c?c(V):V[ze]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?Ms:Zs,this.isPropagationStopped=Zs,this}return Fe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),i}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=ti(ls),O=Fe({},ls,{view:0,detail:0}),me=ti(O),je,qe,Ze,xt=Fe({},O,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ze&&(Ze&&n.type==="mousemove"?(je=n.screenX-Ze.screenX,qe=n.screenY-Ze.screenY):qe=je=0,Ze=n),je)},movementY:function(n){return"movementY"in n?n.movementY:qe}}),wt=ti(xt),fn=Fe({},xt,{dataTransfer:0}),wn=ti(fn),tr=Fe({},O,{relatedTarget:0}),ir=ti(tr),Mn=Fe({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),gi=ti(Mn),Ei=Fe({},ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ii=ti(Ei),no=Fe({},ls,{data:0}),Wi=ti(no),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Da(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=zs[n])?!!i[n]:!1}function Ll(){return Da}var Rl=Fe({},O,{key:function(n){if(n.key){var i=ro[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ga[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(n){return n.type==="keypress"?ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$s=ti(Rl),sl=Fe({},xt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oa=ti(sl),Fa=Fe({},O,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),lo=ti(Fa),Ba=Fe({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=ti(Ba),ac=Fe({},xt,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),lc=ti(ac),Oo=[9,13,27,32],Us=l&&"CompositionEvent"in window,Qs=null;l&&"documentMode"in document&&(Qs=document.documentMode);var cc=l&&"TextEvent"in window&&!Qs,us=l&&(!Us||Qs&&8<Qs&&11>=Qs),ya=" ",Il=!1;function jl(n,i){switch(n){case"keyup":return Oo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ks=!1;function fs(n,i){switch(n){case"compositionend":return va(i);case"keypress":return i.which!==32?null:(Il=!0,ya);case"textInput":return n=i.data,n===ya&&Il?null:n;default:return null}}function Co(n,i){if(ks)return n==="compositionend"||!Us&&jl(n,i)?(n=Js(),Ys=pa=Do=null,ks=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return us&&i.locale!=="ko"?null:i.data;default:return null}}var wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wo(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!wa[n.type]:i==="textarea"}function ea(n,i,c,v){zr(v),i=Ha(i,"onChange"),0<i.length&&(c=new cs("onChange","change",null,c,v),n.push({event:c,listeners:i}))}var ds=null,ta=null;function Mi(n){Bl(n,0)}function Ma(n){var i=Va(n);if(pe(i))return n}function na(n,i){if(n==="change")return i}var qs=!1;if(l){var ll;if(l){var xa="oninput"in document;if(!xa){var Pl=document.createElement("div");Pl.setAttribute("oninput","return;"),xa=typeof Pl.oninput=="function"}ll=xa}else ll=!1;qs=ll&&(!document.documentMode||9<document.documentMode)}function cl(){ds&&(ds.detachEvent("onpropertychange",ra),ta=ds=null)}function ra(n){if(n.propertyName==="value"&&Ma(ta)){var i=[];ea(i,ta,n,jn(n)),Nn(Mi,i)}}function ba(n,i,c){n==="focusin"?(cl(),ds=i,ta=c,ds.attachEvent("onpropertychange",ra)):n==="focusout"&&cl()}function _a(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ma(ta)}function ul(n,i){if(n==="click")return Ma(i)}function Sa(n,i){if(n==="input"||n==="change")return Ma(i)}function za(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var fi=typeof Object.is=="function"?Object.is:za;function Fo(n,i){if(fi(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),v=Object.keys(i);if(c.length!==v.length)return!1;for(v=0;v<c.length;v++){var F=c[v];if(!f.call(i,F)||!fi(n[F],i[F]))return!1}return!0}function Xr(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oi(n,i){var c=Xr(n);n=0;for(var v;c;){if(c.nodeType===3){if(v=n+c.textContent.length,n<=i&&v>=i)return{node:c,offset:i-n};n=v}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Xr(c)}}function zi(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?zi(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ji(){for(var n=window,i=Be();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=Be(n.document)}return i}function As(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function uc(n){var i=Ji(),c=n.focusedElem,v=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&zi(c.ownerDocument.documentElement,c)){if(v!==null&&As(c)){if(i=v.start,n=v.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var F=c.textContent.length,V=Math.min(v.start,F);v=v.end===void 0?V:Math.min(v.end,F),!n.extend&&V>v&&(F=v,v=V,V=F),F=oi(c,V);var ve=oi(c,v);F&&ve&&(n.rangeCount!==1||n.anchorNode!==F.node||n.anchorOffset!==F.offset||n.focusNode!==ve.node||n.focusOffset!==ve.offset)&&(i=i.createRange(),i.setStart(F.node,F.offset),n.removeAllRanges(),V>v?(n.addRange(i),n.extend(ve.node,ve.offset)):(i.setEnd(ve.node,ve.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $a=l&&"documentMode"in document&&11>=document.documentMode,ka=null,ia=null,fl=null,Ho=!1;function fc(n,i,c){var v=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ho||ka==null||ka!==Be(v)||(v=ka,"selectionStart"in v&&As(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),fl&&Fo(fl,v)||(fl=v,v=Ha(ia,"onSelect"),0<v.length&&(i=new cs("onSelect","select",null,i,c),n.push({event:i,listeners:v}),i.target=ka)))}function Dl(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Ua={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},qa={},Bc={};l&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function dl(n){if(qa[n])return qa[n];if(!Ua[n])return n;var i=Ua[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Bc)return qa[n]=i[c];return n}var Mc=dl("animationend"),zc=dl("animationiteration"),$c=dl("animationstart"),Uc=dl("transitionend"),qc=new Map,Wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(n,i){qc.set(n,i),s(i,[n])}for(var hl=0;hl<Wc.length;hl++){var co=Wc[hl],Go=co.toLowerCase(),Ol=co[0].toUpperCase()+co.slice(1);Ws(Go,"on"+Ol)}Ws(Mc,"onAnimationEnd"),Ws(zc,"onAnimationIteration"),Ws($c,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(Uc,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Fl(n,i,c){var v=n.type||"unknown-event";n.currentTarget=c,He(v,i,void 0,n),n.currentTarget=null}function Bl(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var v=n[c],F=v.event;v=v.listeners;e:{var V=void 0;if(i)for(var ve=v.length-1;0<=ve;ve--){var ze=v[ve],Ve=ze.instance,pt=ze.currentTarget;if(ze=ze.listener,Ve!==V&&F.isPropagationStopped())break e;Fl(F,ze,pt),V=Ve}else for(ve=0;ve<v.length;ve++){if(ze=v[ve],Ve=ze.instance,pt=ze.currentTarget,ze=ze.listener,Ve!==V&&F.isPropagationStopped())break e;Fl(F,ze,pt),V=Ve}}}if(er)throw n=$o,er=!1,$o=null,n}function si(n,i){var c=i[Io];c===void 0&&(c=i[Io]=new Set);var v=n+"__bubble";c.has(v)||(hc(i,n,2,!1),c.add(v))}function dc(n,i,c){var v=0;i&&(v|=4),hc(c,n,v,i)}var pl="_reactListening"+Math.random().toString(36).slice(2);function Wa(n){if(!n[pl]){n[pl]=!0,o.forEach(function(c){c!=="selectionchange"&&(fu.has(c)||dc(c,!1,n),dc(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[pl]||(i[pl]=!0,dc("selectionchange",!1,i))}}function hc(n,i,c,v){switch(ha(i)){case 1:var F=da;break;case 4:F=ri;break;default:F=Ni}c=F.bind(null,i,c,n),F=void 0,!es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(F=!0),v?F!==void 0?n.addEventListener(i,c,{capture:!0,passive:F}):n.addEventListener(i,c,!0):F!==void 0?n.addEventListener(i,c,{passive:F}):n.addEventListener(i,c,!1)}function pc(n,i,c,v,F){var V=v;if((i&1)===0&&(i&2)===0&&v!==null)e:for(;;){if(v===null)return;var ve=v.tag;if(ve===3||ve===4){var ze=v.stateNode.containerInfo;if(ze===F||ze.nodeType===8&&ze.parentNode===F)break;if(ve===4)for(ve=v.return;ve!==null;){var Ve=ve.tag;if((Ve===3||Ve===4)&&(Ve=ve.stateNode.containerInfo,Ve===F||Ve.nodeType===8&&Ve.parentNode===F))return;ve=ve.return}for(;ze!==null;){if(ve=ps(ze),ve===null)return;if(Ve=ve.tag,Ve===5||Ve===6){v=V=ve;continue e}ze=ze.parentNode}}v=v.return}Nn(function(){var pt=V,It=jn(c),Mt=[];e:{var Lt=qc.get(n);if(Lt!==void 0){var sn=cs,yn=n;switch(n){case"keypress":if(ma(c)===0)break e;case"keydown":case"keyup":sn=$s;break;case"focusin":yn="focus",sn=ir;break;case"focusout":yn="blur",sn=ir;break;case"beforeblur":case"afterblur":sn=ir;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sn=wt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sn=wn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sn=lo;break;case Mc:case zc:case $c:sn=gi;break;case Uc:sn=al;break;case"scroll":sn=me;break;case"wheel":sn=lc;break;case"copy":case"cut":case"paste":sn=ii;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sn=Oa}var kn=(i&4)!==0,yo=!kn&&n==="scroll",st=kn?Lt!==null?Lt+"Capture":null:Lt;kn=[];for(var Je=pt,at;Je!==null;){at=Je;var Wt=at.stateNode;if(at.tag===5&&Wt!==null&&(at=Wt,st!==null&&(Wt=zo(Je,st),Wt!=null&&kn.push(mc(Je,Wt,at)))),yo)break;Je=Je.return}0<kn.length&&(Lt=new sn(Lt,yn,null,c,It),Mt.push({event:Lt,listeners:kn}))}}if((i&7)===0){e:{if(Lt=n==="mouseover"||n==="pointerover",sn=n==="mouseout"||n==="pointerout",Lt&&c!==Hr&&(yn=c.relatedTarget||c.fromElement)&&(ps(yn)||yn[Ro]))break e;if((sn||Lt)&&(Lt=It.window===It?It:(Lt=It.ownerDocument)?Lt.defaultView||Lt.parentWindow:window,sn?(yn=c.relatedTarget||c.toElement,sn=pt,yn=yn?ps(yn):null,yn!==null&&(yo=ht(yn),yn!==yo||yn.tag!==5&&yn.tag!==6)&&(yn=null)):(sn=null,yn=pt),sn!==yn)){if(kn=wt,Wt="onMouseLeave",st="onMouseEnter",Je="mouse",(n==="pointerout"||n==="pointerover")&&(kn=Oa,Wt="onPointerLeave",st="onPointerEnter",Je="pointer"),yo=sn==null?Lt:Va(sn),at=yn==null?Lt:Va(yn),Lt=new kn(Wt,Je+"leave",sn,c,It),Lt.target=yo,Lt.relatedTarget=at,Wt=null,ps(It)===pt&&(kn=new kn(st,Je+"enter",yn,c,It),kn.target=at,kn.relatedTarget=yo,Wt=kn),yo=Wt,sn&&yn)t:{for(kn=sn,st=yn,Je=0,at=kn;at;at=Ga(at))Je++;for(at=0,Wt=st;Wt;Wt=Ga(Wt))at++;for(;0<Je-at;)kn=Ga(kn),Je--;for(;0<at-Je;)st=Ga(st),at--;for(;Je--;){if(kn===st||st!==null&&kn===st.alternate)break t;kn=Ga(kn),st=Ga(st)}kn=null}else kn=null;sn!==null&&Hc(Mt,Lt,sn,kn,!1),yn!==null&&yo!==null&&Hc(Mt,yo,yn,kn,!0)}}e:{if(Lt=pt?Va(pt):window,sn=Lt.nodeName&&Lt.nodeName.toLowerCase(),sn==="select"||sn==="input"&&Lt.type==="file")var Cn=na;else if(Wo(Lt))if(qs)Cn=Sa;else{Cn=_a;var Zn=ba}else(sn=Lt.nodeName)&&sn.toLowerCase()==="input"&&(Lt.type==="checkbox"||Lt.type==="radio")&&(Cn=ul);if(Cn&&(Cn=Cn(n,pt))){ea(Mt,Cn,c,It);break e}Zn&&Zn(n,Lt,pt),n==="focusout"&&(Zn=Lt._wrapperState)&&Zn.controlled&&Lt.type==="number"&&q(Lt,"number",Lt.value)}switch(Zn=pt?Va(pt):window,n){case"focusin":(Wo(Zn)||Zn.contentEditable==="true")&&(ka=Zn,ia=pt,fl=null);break;case"focusout":fl=ia=ka=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,fc(Mt,c,It);break;case"selectionchange":if($a)break;case"keydown":case"keyup":fc(Mt,c,It)}var Qn;if(Us)e:{switch(n){case"compositionstart":var ur="onCompositionStart";break e;case"compositionend":ur="onCompositionEnd";break e;case"compositionupdate":ur="onCompositionUpdate";break e}ur=void 0}else ks?jl(n,c)&&(ur="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(ur="onCompositionStart");ur&&(us&&c.locale!=="ko"&&(ks||ur!=="onCompositionStart"?ur==="onCompositionEnd"&&ks&&(Qn=Js()):(Do=It,pa="value"in Do?Do.value:Do.textContent,ks=!0)),Zn=Ha(pt,ur),0<Zn.length&&(ur=new Wi(ur,n,null,c,It),Mt.push({event:ur,listeners:Zn}),Qn?ur.data=Qn:(Qn=va(c),Qn!==null&&(ur.data=Qn)))),(Qn=cc?fs(n,c):Co(n,c))&&(pt=Ha(pt,"onBeforeInput"),0<pt.length&&(It=new Wi("onBeforeInput","beforeinput",null,c,It),Mt.push({event:It,listeners:pt}),It.data=Qn))}Bl(Mt,i)})}function mc(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Ha(n,i){for(var c=i+"Capture",v=[];n!==null;){var F=n,V=F.stateNode;F.tag===5&&V!==null&&(F=V,V=zo(n,c),V!=null&&v.unshift(mc(n,V,F)),V=zo(n,i),V!=null&&v.push(mc(n,V,F))),n=n.return}return v}function Ga(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Hc(n,i,c,v,F){for(var V=i._reactName,ve=[];c!==null&&c!==v;){var ze=c,Ve=ze.alternate,pt=ze.stateNode;if(Ve!==null&&Ve===v)break;ze.tag===5&&pt!==null&&(ze=pt,F?(Ve=zo(c,V),Ve!=null&&ve.unshift(mc(c,Ve,ze))):F||(Ve=zo(c,V),Ve!=null&&ve.push(mc(c,Ve,ze)))),c=c.return}ve.length!==0&&n.push({event:i,listeners:ve})}var du=/\r\n?/g,Af=/\u0000|\uFFFD/g;function Ml(n){return(typeof n=="string"?n:""+n).replace(du,`
`).replace(Af,"")}function gc(n,i,c){if(i=Ml(i),Ml(n)!==i&&c)throw Error(t(425))}function zl(){}var ml=null,gl=null;function hu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,Uu=typeof clearTimeout=="function"?clearTimeout:void 0,Ka=typeof Promise=="function"?Promise:void 0,qu=typeof queueMicrotask=="function"?queueMicrotask:typeof Ka<"u"?function(n){return Ka.resolve(null).then(n).catch(mu)}:pu;function mu(n){setTimeout(function(){throw n})}function gu(n,i){var c=i,v=0;do{var F=c.nextSibling;if(n.removeChild(c),F&&F.nodeType===8)if(c=F.data,c==="/$"){if(v===0){n.removeChild(F),ol(i);return}v--}else c!=="$"&&c!=="$?"&&c!=="$!"||v++;c=F}while(c);ol(i)}function Lo(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function hs(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),oa="__reactFiber$"+Ko,$l="__reactProps$"+Ko,Ro="__reactContainer$"+Ko,Io="__reactEvents$"+Ko,Nf="__reactListeners$"+Ko,Ef="__reactHandles$"+Ko;function ps(n){var i=n[oa];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Ro]||c[oa]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=hs(n);n!==null;){if(c=n[oa])return c;n=hs(n)}return i}n=c,c=n.parentNode}return null}function Ul(n){return n=n[oa]||n[Ro],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Va(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ms(n){return n[$l]||null}var yc=[],Hs=-1;function gs(n){return{current:n}}function wr(n){0>Hs||(n.current=yc[Hs],yc[Hs]=null,Hs--)}function nr(n,i){Hs++,yc[Hs]=n.current,n.current=i}var ys={},Ri=gs(ys),Zi=gs(!1),Xa=ys;function Gs(n,i){var c=n.type.contextTypes;if(!c)return ys;var v=n.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===i)return v.__reactInternalMemoizedMaskedChildContext;var F={},V;for(V in c)F[V]=i[V];return v&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=F),F}function Vo(n){return n=n.childContextTypes,n!=null}function ql(){wr(Zi),wr(Ri)}function Gc(n,i,c){if(Ri.current!==ys)throw Error(t(168));nr(Ri,i),nr(Zi,c)}function Kc(n,i,c){var v=n.stateNode;if(i=i.childContextTypes,typeof v.getChildContext!="function")return c;v=v.getChildContext();for(var F in v)if(!(F in i))throw Error(t(108,M(n)||"Unknown",F));return Fe({},c,v)}function Wl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ys,Xa=Ri.current,nr(Ri,n),nr(Zi,Zi.current),!0}function Tf(n,i,c){var v=n.stateNode;if(!v)throw Error(t(169));c?(n=Kc(n,i,Xa),v.__reactInternalMemoizedMergedChildContext=n,wr(Zi),wr(Ri),nr(Ri,n)):wr(Zi),nr(Zi,c)}var Ya=null,Hl=!1,m=!1;function _(n){Ya===null?Ya=[n]:Ya.push(n)}function W(n){Hl=!0,_(n)}function Y(){if(!m&&Ya!==null){m=!0;var n=0,i=Dr;try{var c=Ya;for(Dr=1;n<c.length;n++){var v=c[n];do v=v(!0);while(v!==null)}Ya=null,Hl=!1}catch(F){throw Ya!==null&&(Ya=Ya.slice(n+1)),qn(Fi,Y),F}finally{Dr=i,m=!1}}return null}var he=[],we=0,_e=null,Ne=0,Te=[],Re=0,Ge=null,nt=1,Ie="";function Ye(n,i){he[we++]=Ne,he[we++]=_e,_e=n,Ne=i}function et(n,i,c){Te[Re++]=nt,Te[Re++]=Ie,Te[Re++]=Ge,Ge=n;var v=nt;n=Ie;var F=32-zn(v)-1;v&=~(1<<F),c+=1;var V=32-zn(i)+F;if(30<V){var ve=F-F%5;V=(v&(1<<ve)-1).toString(32),v>>=ve,F-=ve,nt=1<<32-zn(i)+F|c<<F|v,Ie=V+n}else nt=1<<V|c<<F|v,Ie=n}function vt(n){n.return!==null&&(Ye(n,1),et(n,1,0))}function it(n){for(;n===_e;)_e=he[--we],he[we]=null,Ne=he[--we],he[we]=null;for(;n===Ge;)Ge=Te[--Re],Te[Re]=null,Ie=Te[--Re],Te[Re]=null,nt=Te[--Re],Te[Re]=null}var gt=null,yt=null,_t=!1,St=null;function gn(n,i){var c=Qa(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function nn(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,gt=n,yt=Lo(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,gt=n,yt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Ge!==null?{id:nt,overflow:Ie}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Qa(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,gt=n,yt=null,!0):!1;default:return!1}}function or(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ln(n){if(_t){var i=yt;if(i){var c=i;if(!nn(n,i)){if(or(n))throw Error(t(418));i=Lo(c.nextSibling);var v=gt;i&&nn(n,i)?gn(v,c):(n.flags=n.flags&-4097|2,_t=!1,gt=n)}}else{if(or(n))throw Error(t(418));n.flags=n.flags&-4097|2,_t=!1,gt=n}}}function Cr(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;gt=n}function Ii(n){if(n!==gt)return!1;if(!_t)return Cr(n),_t=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!hu(n.type,n.memoizedProps)),i&&(i=yt)){if(or(n))throw ar(),Error(t(418));for(;i;)gn(n,i),i=Lo(i.nextSibling)}if(Cr(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){yt=Lo(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}yt=null}}else yt=gt?Lo(n.stateNode.nextSibling):null;return!0}function ar(){for(var n=yt;n;)n=Lo(n.nextSibling)}function rn(){yt=gt=null,_t=!1}function Gt(n){St===null?St=[n]:St.push(n)}var $i=k.ReactCurrentBatchConfig;function Xn(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var v=c.stateNode}if(!v)throw Error(t(147,n));var F=v,V=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===V?i.ref:(i=function(ve){var ze=F.refs;ve===null?delete ze[V]:ze[V]=ve},i._stringRef=V,i)}if(typeof n!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,n))}return n}function Ar(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function di(n){var i=n._init;return i(n._payload)}function io(n){function i(st,Je){if(n){var at=st.deletions;at===null?(st.deletions=[Je],st.flags|=16):at.push(Je)}}function c(st,Je){if(!n)return null;for(;Je!==null;)i(st,Je),Je=Je.sibling;return null}function v(st,Je){for(st=new Map;Je!==null;)Je.key!==null?st.set(Je.key,Je):st.set(Je.index,Je),Je=Je.sibling;return st}function F(st,Je){return st=tu(st,Je),st.index=0,st.sibling=null,st}function V(st,Je,at){return st.index=at,n?(at=st.alternate,at!==null?(at=at.index,at<Je?(st.flags|=2,Je):at):(st.flags|=2,Je)):(st.flags|=1048576,Je)}function ve(st){return n&&st.alternate===null&&(st.flags|=2),st}function ze(st,Je,at,Wt){return Je===null||Je.tag!==6?(Je=Vh(at,st.mode,Wt),Je.return=st,Je):(Je=F(Je,at),Je.return=st,Je)}function Ve(st,Je,at,Wt){var Cn=at.type;return Cn===Q?It(st,Je,at.props.children,Wt,at.key):Je!==null&&(Je.elementType===Cn||typeof Cn=="object"&&Cn!==null&&Cn.$$typeof===Ae&&di(Cn)===Je.type)?(Wt=F(Je,at.props),Wt.ref=Xn(st,Je,at),Wt.return=st,Wt):(Wt=_d(at.type,at.key,at.props,null,st.mode,Wt),Wt.ref=Xn(st,Je,at),Wt.return=st,Wt)}function pt(st,Je,at,Wt){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==at.containerInfo||Je.stateNode.implementation!==at.implementation?(Je=Xh(at,st.mode,Wt),Je.return=st,Je):(Je=F(Je,at.children||[]),Je.return=st,Je)}function It(st,Je,at,Wt,Cn){return Je===null||Je.tag!==7?(Je=Au(at,st.mode,Wt,Cn),Je.return=st,Je):(Je=F(Je,at),Je.return=st,Je)}function Mt(st,Je,at){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Je=Vh(""+Je,st.mode,at),Je.return=st,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case G:return at=_d(Je.type,Je.key,Je.props,null,st.mode,at),at.ref=Xn(st,null,Je),at.return=st,at;case re:return Je=Xh(Je,st.mode,at),Je.return=st,Je;case Ae:var Wt=Je._init;return Mt(st,Wt(Je._payload),at)}if(Se(Je)||ke(Je))return Je=Au(Je,st.mode,at,null),Je.return=st,Je;Ar(st,Je)}return null}function Lt(st,Je,at,Wt){var Cn=Je!==null?Je.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return Cn!==null?null:ze(st,Je,""+at,Wt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case G:return at.key===Cn?Ve(st,Je,at,Wt):null;case re:return at.key===Cn?pt(st,Je,at,Wt):null;case Ae:return Cn=at._init,Lt(st,Je,Cn(at._payload),Wt)}if(Se(at)||ke(at))return Cn!==null?null:It(st,Je,at,Wt,null);Ar(st,at)}return null}function sn(st,Je,at,Wt,Cn){if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number")return st=st.get(at)||null,ze(Je,st,""+Wt,Cn);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case G:return st=st.get(Wt.key===null?at:Wt.key)||null,Ve(Je,st,Wt,Cn);case re:return st=st.get(Wt.key===null?at:Wt.key)||null,pt(Je,st,Wt,Cn);case Ae:var Zn=Wt._init;return sn(st,Je,at,Zn(Wt._payload),Cn)}if(Se(Wt)||ke(Wt))return st=st.get(at)||null,It(Je,st,Wt,Cn,null);Ar(Je,Wt)}return null}function yn(st,Je,at,Wt){for(var Cn=null,Zn=null,Qn=Je,ur=Je=0,Zo=null;Qn!==null&&ur<at.length;ur++){Qn.index>ur?(Zo=Qn,Qn=null):Zo=Qn.sibling;var li=Lt(st,Qn,at[ur],Wt);if(li===null){Qn===null&&(Qn=Zo);break}n&&Qn&&li.alternate===null&&i(st,Qn),Je=V(li,Je,ur),Zn===null?Cn=li:Zn.sibling=li,Zn=li,Qn=Zo}if(ur===at.length)return c(st,Qn),_t&&Ye(st,ur),Cn;if(Qn===null){for(;ur<at.length;ur++)Qn=Mt(st,at[ur],Wt),Qn!==null&&(Je=V(Qn,Je,ur),Zn===null?Cn=Qn:Zn.sibling=Qn,Zn=Qn);return _t&&Ye(st,ur),Cn}for(Qn=v(st,Qn);ur<at.length;ur++)Zo=sn(Qn,st,ur,at[ur],Wt),Zo!==null&&(n&&Zo.alternate!==null&&Qn.delete(Zo.key===null?ur:Zo.key),Je=V(Zo,Je,ur),Zn===null?Cn=Zo:Zn.sibling=Zo,Zn=Zo);return n&&Qn.forEach(function(nu){return i(st,nu)}),_t&&Ye(st,ur),Cn}function kn(st,Je,at,Wt){var Cn=ke(at);if(typeof Cn!="function")throw Error(t(150));if(at=Cn.call(at),at==null)throw Error(t(151));for(var Zn=Cn=null,Qn=Je,ur=Je=0,Zo=null,li=at.next();Qn!==null&&!li.done;ur++,li=at.next()){Qn.index>ur?(Zo=Qn,Qn=null):Zo=Qn.sibling;var nu=Lt(st,Qn,li.value,Wt);if(nu===null){Qn===null&&(Qn=Zo);break}n&&Qn&&nu.alternate===null&&i(st,Qn),Je=V(nu,Je,ur),Zn===null?Cn=nu:Zn.sibling=nu,Zn=nu,Qn=Zo}if(li.done)return c(st,Qn),_t&&Ye(st,ur),Cn;if(Qn===null){for(;!li.done;ur++,li=at.next())li=Mt(st,li.value,Wt),li!==null&&(Je=V(li,Je,ur),Zn===null?Cn=li:Zn.sibling=li,Zn=li);return _t&&Ye(st,ur),Cn}for(Qn=v(st,Qn);!li.done;ur++,li=at.next())li=sn(Qn,st,ur,li.value,Wt),li!==null&&(n&&li.alternate!==null&&Qn.delete(li.key===null?ur:li.key),Je=V(li,Je,ur),Zn===null?Cn=li:Zn.sibling=li,Zn=li);return n&&Qn.forEach(function(tx){return i(st,tx)}),_t&&Ye(st,ur),Cn}function yo(st,Je,at,Wt){if(typeof at=="object"&&at!==null&&at.type===Q&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case G:e:{for(var Cn=at.key,Zn=Je;Zn!==null;){if(Zn.key===Cn){if(Cn=at.type,Cn===Q){if(Zn.tag===7){c(st,Zn.sibling),Je=F(Zn,at.props.children),Je.return=st,st=Je;break e}}else if(Zn.elementType===Cn||typeof Cn=="object"&&Cn!==null&&Cn.$$typeof===Ae&&di(Cn)===Zn.type){c(st,Zn.sibling),Je=F(Zn,at.props),Je.ref=Xn(st,Zn,at),Je.return=st,st=Je;break e}c(st,Zn);break}else i(st,Zn);Zn=Zn.sibling}at.type===Q?(Je=Au(at.props.children,st.mode,Wt,at.key),Je.return=st,st=Je):(Wt=_d(at.type,at.key,at.props,null,st.mode,Wt),Wt.ref=Xn(st,Je,at),Wt.return=st,st=Wt)}return ve(st);case re:e:{for(Zn=at.key;Je!==null;){if(Je.key===Zn)if(Je.tag===4&&Je.stateNode.containerInfo===at.containerInfo&&Je.stateNode.implementation===at.implementation){c(st,Je.sibling),Je=F(Je,at.children||[]),Je.return=st,st=Je;break e}else{c(st,Je);break}else i(st,Je);Je=Je.sibling}Je=Xh(at,st.mode,Wt),Je.return=st,st=Je}return ve(st);case Ae:return Zn=at._init,yo(st,Je,Zn(at._payload),Wt)}if(Se(at))return yn(st,Je,at,Wt);if(ke(at))return kn(st,Je,at,Wt);Ar(st,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,Je!==null&&Je.tag===6?(c(st,Je.sibling),Je=F(Je,at),Je.return=st,st=Je):(c(st,Je),Je=Vh(at,st.mode,Wt),Je.return=st,st=Je),ve(st)):c(st,Je)}return yo}var Hi=io(!0),Ti=io(!1),Qi=gs(null),oo=null,yi=null,Rr=null;function Yr(){Rr=yi=oo=null}function vi(n){var i=Qi.current;wr(Qi),n._currentValue=i}function Jr(n,i,c){for(;n!==null;){var v=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,v!==null&&(v.childLanes|=i)):v!==null&&(v.childLanes&i)!==i&&(v.childLanes|=i),n===c)break;n=n.return}}function ji(n,i){oo=n,Rr=yi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(In=!0),n.firstContext=null)}function Pi(n){var i=n._currentValue;if(Rr!==n)if(n={context:n,memoizedValue:i,next:null},yi===null){if(oo===null)throw Error(t(308));yi=n,oo.dependencies={lanes:0,firstContext:n}}else yi=yi.next=n;return i}var ai=null;function g(n){ai===null?ai=[n]:ai.push(n)}function x(n,i,c,v){var F=i.interleaved;return F===null?(c.next=c,g(i)):(c.next=F.next,F.next=c),i.interleaved=c,K(n,v)}function K(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var $=!1;function E(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ce(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ue(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function D(n,i,c){var v=n.updateQueue;if(v===null)return null;if(v=v.shared,(ni&2)!==0){var F=v.pending;return F===null?i.next=i:(i.next=F.next,F.next=i),v.pending=i,K(n,c)}return F=v.interleaved,F===null?(i.next=i,g(v)):(i.next=F.next,F.next=i),v.interleaved=i,K(n,c)}function Pe(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var v=i.lanes;v&=n.pendingLanes,c|=v,i.lanes=c,En(n,c)}}function De(n,i){var c=n.updateQueue,v=n.alternate;if(v!==null&&(v=v.updateQueue,c===v)){var F=null,V=null;if(c=c.firstBaseUpdate,c!==null){do{var ve={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};V===null?F=V=ve:V=V.next=ve,c=c.next}while(c!==null);V===null?F=V=i:V=V.next=i}else F=V=i;c={baseState:v.baseState,firstBaseUpdate:F,lastBaseUpdate:V,shared:v.shared,effects:v.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Le(n,i,c,v){var F=n.updateQueue;$=!1;var V=F.firstBaseUpdate,ve=F.lastBaseUpdate,ze=F.shared.pending;if(ze!==null){F.shared.pending=null;var Ve=ze,pt=Ve.next;Ve.next=null,ve===null?V=pt:ve.next=pt,ve=Ve;var It=n.alternate;It!==null&&(It=It.updateQueue,ze=It.lastBaseUpdate,ze!==ve&&(ze===null?It.firstBaseUpdate=pt:ze.next=pt,It.lastBaseUpdate=Ve))}if(V!==null){var Mt=F.baseState;ve=0,It=pt=Ve=null,ze=V;do{var Lt=ze.lane,sn=ze.eventTime;if((v&Lt)===Lt){It!==null&&(It=It.next={eventTime:sn,lane:0,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null});e:{var yn=n,kn=ze;switch(Lt=i,sn=c,kn.tag){case 1:if(yn=kn.payload,typeof yn=="function"){Mt=yn.call(sn,Mt,Lt);break e}Mt=yn;break e;case 3:yn.flags=yn.flags&-65537|128;case 0:if(yn=kn.payload,Lt=typeof yn=="function"?yn.call(sn,Mt,Lt):yn,Lt==null)break e;Mt=Fe({},Mt,Lt);break e;case 2:$=!0}}ze.callback!==null&&ze.lane!==0&&(n.flags|=64,Lt=F.effects,Lt===null?F.effects=[ze]:Lt.push(ze))}else sn={eventTime:sn,lane:Lt,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null},It===null?(pt=It=sn,Ve=Mt):It=It.next=sn,ve|=Lt;if(ze=ze.next,ze===null){if(ze=F.shared.pending,ze===null)break;Lt=ze,ze=Lt.next,Lt.next=null,F.lastBaseUpdate=Lt,F.shared.pending=null}}while(!0);if(It===null&&(Ve=Mt),F.baseState=Ve,F.firstBaseUpdate=pt,F.lastBaseUpdate=It,i=F.shared.interleaved,i!==null){F=i;do ve|=F.lane,F=F.next;while(F!==i)}else V===null&&(F.shared.lanes=0);bu|=ve,n.lanes=ve,n.memoizedState=Mt}}function Me(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var v=n[i],F=v.callback;if(F!==null){if(v.callback=null,v=c,typeof F!="function")throw Error(t(191,F));F.call(v)}}}var Oe={},Xe=gs(Oe),ct=gs(Oe),Pt=gs(Oe);function mt(n){if(n===Oe)throw Error(t(174));return n}function tt(n,i){switch(nr(Pt,i),nr(ct,n),nr(Xe,Oe),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Nt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Nt(i,n)}wr(Xe),nr(Xe,i)}function dt(){wr(Xe),wr(ct),wr(Pt)}function Vt(n){mt(Pt.current);var i=mt(Xe.current),c=Nt(i,n.type);i!==c&&(nr(ct,n),nr(Xe,c))}function dn(n){ct.current===n&&(wr(Xe),wr(ct))}var ut=gs(0);function cn(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ir=[];function Ur(){for(var n=0;n<Ir.length;n++)Ir[n]._workInProgressVersionPrimary=null;Ir.length=0}var hi=k.ReactCurrentDispatcher,Ct=k.ReactCurrentBatchConfig,Wn=0,Ke=null,We=null,Tt=null,Zt=!1,bt=!1,Ut=0,An=0;function $n(){throw Error(t(321))}function sr(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!fi(n[c],i[c]))return!1;return!0}function Gi(n,i,c,v,F,V){if(Wn=V,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,hi.current=n===null||n.memoizedState===null?jr:Lr,n=c(v,F),bt){V=0;do{if(bt=!1,Ut=0,25<=V)throw Error(t(301));V+=1,Tt=We=null,i.updateQueue=null,hi.current=Ui,n=c(v,F)}while(bt)}if(hi.current=Hn,i=We!==null&&We.next!==null,Wn=0,Tt=We=Ke=null,Zt=!1,i)throw Error(t(300));return n}function uo(){var n=Ut!==0;return Ut=0,n}function so(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ke.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function go(){if(We===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var i=Tt===null?Ke.memoizedState:Tt.next;if(i!==null)Tt=i,We=n;else{if(n===null)throw Error(t(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Tt===null?Ke.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Na(n,i){return typeof i=="function"?i(n):i}function vc(n){var i=go(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var v=We,F=v.baseQueue,V=c.pending;if(V!==null){if(F!==null){var ve=F.next;F.next=V.next,V.next=ve}v.baseQueue=F=V,c.pending=null}if(F!==null){V=F.next,v=v.baseState;var ze=ve=null,Ve=null,pt=V;do{var It=pt.lane;if((Wn&It)===It)Ve!==null&&(Ve=Ve.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),v=pt.hasEagerState?pt.eagerState:n(v,pt.action);else{var Mt={lane:It,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};Ve===null?(ze=Ve=Mt,ve=v):Ve=Ve.next=Mt,Ke.lanes|=It,bu|=It}pt=pt.next}while(pt!==null&&pt!==V);Ve===null?ve=v:Ve.next=ze,fi(v,i.memoizedState)||(In=!0),i.memoizedState=v,i.baseState=ve,i.baseQueue=Ve,c.lastRenderedState=v}if(n=c.interleaved,n!==null){F=n;do V=F.lane,Ke.lanes|=V,bu|=V,F=F.next;while(F!==n)}else F===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Ea(n){var i=go(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var v=c.dispatch,F=c.pending,V=i.memoizedState;if(F!==null){c.pending=null;var ve=F=F.next;do V=n(V,ve.action),ve=ve.next;while(ve!==F);fi(V,i.memoizedState)||(In=!0),i.memoizedState=V,i.baseQueue===null&&(i.baseState=V),c.lastRenderedState=V}return[V,v]}function yu(){}function Vc(n,i){var c=Ke,v=go(),F=i(),V=!fi(v.memoizedState,F);if(V&&(v.memoizedState=F,In=!0),v=v.queue,bc(wu.bind(null,c,v,n),[n]),v.getSnapshot!==i||V||Tt!==null&&Tt.memoizedState.tag&1){if(c.flags|=2048,Xo(9,Xc.bind(null,c,v,F,i),void 0,null),Jo===null)throw Error(t(349));(Wn&30)!==0||vu(c,i,F)}return F}function vu(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function Xc(n,i,c,v){i.value=c,i.getSnapshot=v,yl(i)&&wc(n)}function wu(n,i,c){return c(function(){yl(i)&&wc(n)})}function yl(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!fi(n,c)}catch{return!0}}function wc(n){var i=K(n,1);i!==null&&xl(i,n,1,-1)}function Gl(n){var i=so();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:n},i.queue=n,n=n.dispatch=On.bind(null,Ke,n),[i.memoizedState,n]}function Xo(n,i,c,v){return n={tag:n,create:i,destroy:c,deps:v,next:null},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(v=c.next,c.next=n,n.next=v,i.lastEffect=n)),n}function sa(){return go().memoizedState}function Ns(n,i,c,v){var F=so();Ke.flags|=n,F.memoizedState=Xo(1|i,c,void 0,v===void 0?null:v)}function Ja(n,i,c,v){var F=go();v=v===void 0?null:v;var V=void 0;if(We!==null){var ve=We.memoizedState;if(V=ve.destroy,v!==null&&sr(v,ve.deps)){F.memoizedState=Xo(i,c,V,v);return}}Ke.flags|=n,F.memoizedState=Xo(1|i,c,V,v)}function xc(n,i){return Ns(8390656,8,n,i)}function bc(n,i){return Ja(2048,8,n,i)}function xu(n,i){return Ja(4,2,n,i)}function _c(n,i){return Ja(4,4,n,i)}function Sc(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Cf(n,i,c){return c=c!=null?c.concat([n]):null,Ja(4,4,Sc.bind(null,i,n),c)}function At(){}function Et(n,i){var c=go();i=i===void 0?null:i;var v=c.memoizedState;return v!==null&&i!==null&&sr(i,v[1])?v[0]:(c.memoizedState=[n,i],n)}function qt(n,i){var c=go();i=i===void 0?null:i;var v=c.memoizedState;return v!==null&&i!==null&&sr(i,v[1])?v[0]:(n=n(),c.memoizedState=[n,i],n)}function Ft(n,i,c){return(Wn&21)===0?(n.baseState&&(n.baseState=!1,In=!0),n.memoizedState=c):(fi(c,i)||(c=Ps(),Ke.lanes|=c,bu|=c,n.baseState=!0),i)}function Yn(n,i){var c=Dr;Dr=c!==0&&4>c?c:4,n(!0);var v=Ct.transition;Ct.transition={};try{n(!1),i()}finally{Dr=c,Ct.transition=v}}function Tn(){return go().memoizedState}function Sn(n,i,c){var v=Qc(n);if(c={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null},Nr(n))lr(i,c);else if(c=x(n,i,c,v),c!==null){var F=Ks();xl(c,n,v,F),mr(c,i,v)}}function On(n,i,c){var v=Qc(n),F={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nr(n))lr(i,F);else{var V=n.alternate;if(n.lanes===0&&(V===null||V.lanes===0)&&(V=i.lastRenderedReducer,V!==null))try{var ve=i.lastRenderedState,ze=V(ve,c);if(F.hasEagerState=!0,F.eagerState=ze,fi(ze,ve)){var Ve=i.interleaved;Ve===null?(F.next=F,g(i)):(F.next=Ve.next,Ve.next=F),i.interleaved=F;return}}catch{}finally{}c=x(n,i,F,v),c!==null&&(F=Ks(),xl(c,n,v,F),mr(c,i,v))}}function Nr(n){var i=n.alternate;return n===Ke||i!==null&&i===Ke}function lr(n,i){bt=Zt=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function mr(n,i,c){if((c&4194240)!==0){var v=i.lanes;v&=n.pendingLanes,c|=v,i.lanes=c,En(n,c)}}var Hn={readContext:Pi,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},jr={readContext:Pi,useCallback:function(n,i){return so().memoizedState=[n,i===void 0?null:i],n},useContext:Pi,useEffect:xc,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Ns(4194308,4,Sc.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Ns(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ns(4,2,n,i)},useMemo:function(n,i){var c=so();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var v=so();return i=c!==void 0?c(i):i,v.memoizedState=v.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},v.queue=n,n=n.dispatch=Sn.bind(null,Ke,n),[v.memoizedState,n]},useRef:function(n){var i=so();return n={current:n},i.memoizedState=n},useState:Gl,useDebugValue:At,useDeferredValue:function(n){return so().memoizedState=n},useTransition:function(){var n=Gl(!1),i=n[0];return n=Yn.bind(null,n[1]),so().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var v=Ke,F=so();if(_t){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),Jo===null)throw Error(t(349));(Wn&30)!==0||vu(v,i,c)}F.memoizedState=c;var V={value:c,getSnapshot:i};return F.queue=V,xc(wu.bind(null,v,V,n),[n]),v.flags|=2048,Xo(9,Xc.bind(null,v,V,c,i),void 0,null),c},useId:function(){var n=so(),i=Jo.identifierPrefix;if(_t){var c=Ie,v=nt;c=(v&~(1<<32-zn(v)-1)).toString(32)+c,i=":"+i+"R"+c,c=Ut++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=An++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Lr={readContext:Pi,useCallback:Et,useContext:Pi,useEffect:bc,useImperativeHandle:Cf,useInsertionEffect:xu,useLayoutEffect:_c,useMemo:qt,useReducer:vc,useRef:sa,useState:function(){return vc(Na)},useDebugValue:At,useDeferredValue:function(n){var i=go();return Ft(i,We.memoizedState,n)},useTransition:function(){var n=vc(Na)[0],i=go().memoizedState;return[n,i]},useMutableSource:yu,useSyncExternalStore:Vc,useId:Tn,unstable_isNewReconciler:!1},Ui={readContext:Pi,useCallback:Et,useContext:Pi,useEffect:bc,useImperativeHandle:Cf,useInsertionEffect:xu,useLayoutEffect:_c,useMemo:qt,useReducer:Ea,useRef:sa,useState:function(){return Ea(Na)},useDebugValue:At,useDeferredValue:function(n){var i=go();return We===null?i.memoizedState=n:Ft(i,We.memoizedState,n)},useTransition:function(){var n=Ea(Na)[0],i=go().memoizedState;return[n,i]},useMutableSource:yu,useSyncExternalStore:Vc,useId:Tn,unstable_isNewReconciler:!1};function xr(n,i){if(n&&n.defaultProps){i=Fe({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function un(n,i,c,v){i=n.memoizedState,c=c(v,i),c=c==null?i:Fe({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var cr={isMounted:function(n){return(n=n._reactInternals)?ht(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var v=Ks(),F=Qc(n),V=ue(v,F);V.payload=i,c!=null&&(V.callback=c),i=D(n,V,F),i!==null&&(xl(i,n,F,v),Pe(i,n,F))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var v=Ks(),F=Qc(n),V=ue(v,F);V.tag=1,V.payload=i,c!=null&&(V.callback=c),i=D(n,V,F),i!==null&&(xl(i,n,F,v),Pe(i,n,F))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=Ks(),v=Qc(n),F=ue(c,v);F.tag=2,i!=null&&(F.callback=i),i=D(n,F,v),i!==null&&(xl(i,n,v,c),Pe(i,n,v))}};function Sr(n,i,c,v,F,V,ve){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(v,V,ve):i.prototype&&i.prototype.isPureReactComponent?!Fo(c,v)||!Fo(F,V):!0}function Or(n,i,c){var v=!1,F=ys,V=i.contextType;return typeof V=="object"&&V!==null?V=Pi(V):(F=Vo(i)?Xa:Ri.current,v=i.contextTypes,V=(v=v!=null)?Gs(n,F):ys),i=new i(c,V),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cr,n.stateNode=i,i._reactInternals=n,v&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=F,n.__reactInternalMemoizedMaskedChildContext=V),i}function Bn(n,i,c,v){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,v),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,v),i.state!==n&&cr.enqueueReplaceState(i,i.state,null)}function wi(n,i,c,v){var F=n.stateNode;F.props=c,F.state=n.memoizedState,F.refs={},E(n);var V=i.contextType;typeof V=="object"&&V!==null?F.context=Pi(V):(V=Vo(i)?Xa:Ri.current,F.context=Gs(n,V)),F.state=n.memoizedState,V=i.getDerivedStateFromProps,typeof V=="function"&&(un(n,i,V,c),F.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(i=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),i!==F.state&&cr.enqueueReplaceState(F,F.state,null),Le(n,c,F,v),F.state=n.memoizedState),typeof F.componentDidMount=="function"&&(n.flags|=4194308)}function xi(n,i){try{var c="",v=i;do c+=ye(v),v=v.return;while(v);var F=c}catch(V){F=`
Error generating stack: `+V.message+`
`+V.stack}return{value:n,source:i,stack:F,digest:null}}function Qt(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function Kn(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Yt=typeof WeakMap=="function"?WeakMap:Map;function qr(n,i,c){c=ue(-1,c),c.tag=3,c.payload={element:null};var v=i.value;return c.callback=function(){gd||(gd=!0,zh=v),Kn(n,i)},c}function Xt(n,i,c){c=ue(-1,c),c.tag=3;var v=n.type.getDerivedStateFromError;if(typeof v=="function"){var F=i.value;c.payload=function(){return v(F)},c.callback=function(){Kn(n,i)}}var V=n.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){Kn(n,i),typeof v!="function"&&(Jc===null?Jc=new Set([this]):Jc.add(this));var ve=i.stack;this.componentDidCatch(i.value,{componentStack:ve!==null?ve:""})}),c}function Er(n,i,c){var v=n.pingCache;if(v===null){v=n.pingCache=new Yt;var F=new Set;v.set(i,F)}else F=v.get(i),F===void 0&&(F=new Set,v.set(i,F));F.has(c)||(F.add(c),n=Ww.bind(null,n,i,c),i.then(n,n))}function Fr(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Es(n,i,c,v,F){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=ue(-1,1),i.tag=2,D(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=F,n)}var Dt=k.ReactCurrentOwner,In=!1;function Jn(n,i,c,v){i.child=n===null?Ti(i,null,c,v):Hi(i,n.child,c,v)}function bi(n,i,c,v,F){c=c.render;var V=i.ref;return ji(i,F),v=Gi(n,i,c,v,V,F),c=uo(),n!==null&&!In?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~F,Ac(n,i,F)):(_t&&c&&vt(i),i.flags|=1,Jn(n,i,v,F),i.child)}function Br(n,i,c,v,F){if(n===null){var V=c.type;return typeof V=="function"&&!Kh(V)&&V.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=V,vs(n,i,V,v,F)):(n=_d(c.type,null,v,i,i.mode,F),n.ref=i.ref,n.return=i,i.child=n)}if(V=n.child,(n.lanes&F)===0){var ve=V.memoizedProps;if(c=c.compare,c=c!==null?c:Fo,c(ve,v)&&n.ref===i.ref)return Ac(n,i,F)}return i.flags|=1,n=tu(V,v),n.ref=i.ref,n.return=i,i.child=n}function vs(n,i,c,v,F){if(n!==null){var V=n.memoizedProps;if(Fo(V,v)&&n.ref===i.ref)if(In=!1,i.pendingProps=v=V,(n.lanes&F)!==0)(n.flags&131072)!==0&&(In=!0);else return i.lanes=n.lanes,Ac(n,i,F)}return Ta(n,i,c,v,F)}function Ci(n,i,c){var v=i.pendingProps,F=v.children,V=n!==null?n.memoizedState:null;if(v.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Hu,Ca),Ca|=c;else{if((c&1073741824)===0)return n=V!==null?V.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,nr(Hu,Ca),Ca|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=V!==null?V.baseLanes:c,nr(Hu,Ca),Ca|=v}else V!==null?(v=V.baseLanes|c,i.memoizedState=null):v=c,nr(Hu,Ca),Ca|=v;return Jn(n,i,F,c),i.child}function Yo(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Ta(n,i,c,v,F){var V=Vo(c)?Xa:Ri.current;return V=Gs(i,V),ji(i,F),c=Gi(n,i,c,v,V,F),v=uo(),n!==null&&!In?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~F,Ac(n,i,F)):(_t&&v&&vt(i),i.flags|=1,Jn(n,i,c,F),i.child)}function ws(n,i,c,v,F){if(Vo(c)){var V=!0;Wl(i)}else V=!1;if(ji(i,F),i.stateNode===null)fd(n,i),Or(i,c,v),wi(i,c,v,F),v=!0;else if(n===null){var ve=i.stateNode,ze=i.memoizedProps;ve.props=ze;var Ve=ve.context,pt=c.contextType;typeof pt=="object"&&pt!==null?pt=Pi(pt):(pt=Vo(c)?Xa:Ri.current,pt=Gs(i,pt));var It=c.getDerivedStateFromProps,Mt=typeof It=="function"||typeof ve.getSnapshotBeforeUpdate=="function";Mt||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(ze!==v||Ve!==pt)&&Bn(i,ve,v,pt),$=!1;var Lt=i.memoizedState;ve.state=Lt,Le(i,v,ve,F),Ve=i.memoizedState,ze!==v||Lt!==Ve||Zi.current||$?(typeof It=="function"&&(un(i,c,It,v),Ve=i.memoizedState),(ze=$||Sr(i,c,ze,v,Lt,Ve,pt))?(Mt||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(i.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=v,i.memoizedState=Ve),ve.props=v,ve.state=Ve,ve.context=pt,v=ze):(typeof ve.componentDidMount=="function"&&(i.flags|=4194308),v=!1)}else{ve=i.stateNode,ce(n,i),ze=i.memoizedProps,pt=i.type===i.elementType?ze:xr(i.type,ze),ve.props=pt,Mt=i.pendingProps,Lt=ve.context,Ve=c.contextType,typeof Ve=="object"&&Ve!==null?Ve=Pi(Ve):(Ve=Vo(c)?Xa:Ri.current,Ve=Gs(i,Ve));var sn=c.getDerivedStateFromProps;(It=typeof sn=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(ze!==Mt||Lt!==Ve)&&Bn(i,ve,v,Ve),$=!1,Lt=i.memoizedState,ve.state=Lt,Le(i,v,ve,F);var yn=i.memoizedState;ze!==Mt||Lt!==yn||Zi.current||$?(typeof sn=="function"&&(un(i,c,sn,v),yn=i.memoizedState),(pt=$||Sr(i,c,pt,v,Lt,yn,Ve)||!1)?(It||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(v,yn,Ve),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(v,yn,Ve)),typeof ve.componentDidUpdate=="function"&&(i.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof ve.componentDidUpdate!="function"||ze===n.memoizedProps&&Lt===n.memoizedState||(i.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&Lt===n.memoizedState||(i.flags|=1024),i.memoizedProps=v,i.memoizedState=yn),ve.props=v,ve.state=yn,ve.context=Ve,v=pt):(typeof ve.componentDidUpdate!="function"||ze===n.memoizedProps&&Lt===n.memoizedState||(i.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&Lt===n.memoizedState||(i.flags|=1024),v=!1)}return Lf(n,i,c,v,V,F)}function Lf(n,i,c,v,F,V){Yo(n,i);var ve=(i.flags&128)!==0;if(!v&&!ve)return F&&Tf(i,c,!1),Ac(n,i,V);v=i.stateNode,Dt.current=i;var ze=ve&&typeof c.getDerivedStateFromError!="function"?null:v.render();return i.flags|=1,n!==null&&ve?(i.child=Hi(i,n.child,null,V),i.child=Hi(i,null,ze,V)):Jn(n,i,ze,V),i.memoizedState=v.state,F&&Tf(i,c,!0),i.child}function cd(n){var i=n.stateNode;i.pendingContext?Gc(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Gc(n,i.context,!1),tt(n,i.containerInfo)}function kc(n,i,c,v,F){return rn(),Gt(F),i.flags|=256,Jn(n,i,c,v),i.child}var Rf={dehydrated:null,treeContext:null,retryLane:0};function Ch(n){return{baseLanes:n,cachePool:null,transitions:null}}function a0(n,i,c){var v=i.pendingProps,F=ut.current,V=!1,ve=(i.flags&128)!==0,ze;if((ze=ve)||(ze=n!==null&&n.memoizedState===null?!1:(F&2)!==0),ze?(V=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(F|=1),nr(ut,F&1),n===null)return ln(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(ve=v.children,n=v.fallback,V?(v=i.mode,V=i.child,ve={mode:"hidden",children:ve},(v&1)===0&&V!==null?(V.childLanes=0,V.pendingProps=ve):V=Sd(ve,v,0,null),n=Au(n,v,c,null),V.return=i,n.return=i,V.sibling=n,i.child=V,i.child.memoizedState=Ch(c),i.memoizedState=Rf,n):Lh(i,ve));if(F=n.memoizedState,F!==null&&(ze=F.dehydrated,ze!==null))return Iw(n,i,ve,v,ze,F,c);if(V){V=v.fallback,ve=i.mode,F=n.child,ze=F.sibling;var Ve={mode:"hidden",children:v.children};return(ve&1)===0&&i.child!==F?(v=i.child,v.childLanes=0,v.pendingProps=Ve,i.deletions=null):(v=tu(F,Ve),v.subtreeFlags=F.subtreeFlags&14680064),ze!==null?V=tu(ze,V):(V=Au(V,ve,c,null),V.flags|=2),V.return=i,v.return=i,v.sibling=V,i.child=v,v=V,V=i.child,ve=n.child.memoizedState,ve=ve===null?Ch(c):{baseLanes:ve.baseLanes|c,cachePool:null,transitions:ve.transitions},V.memoizedState=ve,V.childLanes=n.childLanes&~c,i.memoizedState=Rf,v}return V=n.child,n=V.sibling,v=tu(V,{mode:"visible",children:v.children}),(i.mode&1)===0&&(v.lanes=c),v.return=i,v.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=v,i.memoizedState=null,v}function Lh(n,i){return i=Sd({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function ud(n,i,c,v){return v!==null&&Gt(v),Hi(i,n.child,null,c),n=Lh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Iw(n,i,c,v,F,V,ve){if(c)return i.flags&256?(i.flags&=-257,v=Qt(Error(t(422))),ud(n,i,ve,v)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(V=v.fallback,F=i.mode,v=Sd({mode:"visible",children:v.children},F,0,null),V=Au(V,F,ve,null),V.flags|=2,v.return=i,V.return=i,v.sibling=V,i.child=v,(i.mode&1)!==0&&Hi(i,n.child,null,ve),i.child.memoizedState=Ch(ve),i.memoizedState=Rf,V);if((i.mode&1)===0)return ud(n,i,ve,null);if(F.data==="$!"){if(v=F.nextSibling&&F.nextSibling.dataset,v)var ze=v.dgst;return v=ze,V=Error(t(419)),v=Qt(V,v,void 0),ud(n,i,ve,v)}if(ze=(ve&n.childLanes)!==0,In||ze){if(v=Jo,v!==null){switch(ve&-ve){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=(F&(v.suspendedLanes|ve))!==0?0:F,F!==0&&F!==V.retryLane&&(V.retryLane=F,K(n,F),xl(v,n,F,-1))}return Gh(),v=Qt(Error(t(421))),ud(n,i,ve,v)}return F.data==="$?"?(i.flags|=128,i.child=n.child,i=Hw.bind(null,n),F._reactRetry=i,null):(n=V.treeContext,yt=Lo(F.nextSibling),gt=i,_t=!0,St=null,n!==null&&(Te[Re++]=nt,Te[Re++]=Ie,Te[Re++]=Ge,nt=n.id,Ie=n.overflow,Ge=i),i=Lh(i,v.children),i.flags|=4096,i)}function l0(n,i,c){n.lanes|=i;var v=n.alternate;v!==null&&(v.lanes|=i),Jr(n.return,i,c)}function Rh(n,i,c,v,F){var V=n.memoizedState;V===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:v,tail:c,tailMode:F}:(V.isBackwards=i,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=c,V.tailMode=F)}function c0(n,i,c){var v=i.pendingProps,F=v.revealOrder,V=v.tail;if(Jn(n,i,v.children,c),v=ut.current,(v&2)!==0)v=v&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&l0(n,c,i);else if(n.tag===19)l0(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}v&=1}if(nr(ut,v),(i.mode&1)===0)i.memoizedState=null;else switch(F){case"forwards":for(c=i.child,F=null;c!==null;)n=c.alternate,n!==null&&cn(n)===null&&(F=c),c=c.sibling;c=F,c===null?(F=i.child,i.child=null):(F=c.sibling,c.sibling=null),Rh(i,!1,F,c,V);break;case"backwards":for(c=null,F=i.child,i.child=null;F!==null;){if(n=F.alternate,n!==null&&cn(n)===null){i.child=F;break}n=F.sibling,F.sibling=c,c=F,F=n}Rh(i,!0,c,null,V);break;case"together":Rh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fd(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ac(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),bu|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,c=tu(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=tu(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function jw(n,i,c){switch(i.tag){case 3:cd(i),rn();break;case 5:Vt(i);break;case 1:Vo(i.type)&&Wl(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:var v=i.type._context,F=i.memoizedProps.value;nr(Qi,v._currentValue),v._currentValue=F;break;case 13:if(v=i.memoizedState,v!==null)return v.dehydrated!==null?(nr(ut,ut.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?a0(n,i,c):(nr(ut,ut.current&1),n=Ac(n,i,c),n!==null?n.sibling:null);nr(ut,ut.current&1);break;case 19:if(v=(c&i.childLanes)!==0,(n.flags&128)!==0){if(v)return c0(n,i,c);i.flags|=128}if(F=i.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),nr(ut,ut.current),v)break;return null;case 22:case 23:return i.lanes=0,Ci(n,i,c)}return Ac(n,i,c)}var u0,Ih,f0,d0;u0=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ih=function(){},f0=function(n,i,c,v){var F=n.memoizedProps;if(F!==v){n=i.stateNode,mt(Xe.current);var V=null;switch(c){case"input":F=H(n,F),v=H(n,v),V=[];break;case"select":F=Fe({},F,{value:void 0}),v=Fe({},v,{value:void 0}),V=[];break;case"textarea":F=Ee(n,F),v=Ee(n,v),V=[];break;default:typeof F.onClick!="function"&&typeof v.onClick=="function"&&(n.onclick=zl)}bn(c,v);var ve;c=null;for(pt in F)if(!v.hasOwnProperty(pt)&&F.hasOwnProperty(pt)&&F[pt]!=null)if(pt==="style"){var ze=F[pt];for(ve in ze)ze.hasOwnProperty(ve)&&(c||(c={}),c[ve]="")}else pt!=="dangerouslySetInnerHTML"&&pt!=="children"&&pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(a.hasOwnProperty(pt)?V||(V=[]):(V=V||[]).push(pt,null));for(pt in v){var Ve=v[pt];if(ze=F!=null?F[pt]:void 0,v.hasOwnProperty(pt)&&Ve!==ze&&(Ve!=null||ze!=null))if(pt==="style")if(ze){for(ve in ze)!ze.hasOwnProperty(ve)||Ve&&Ve.hasOwnProperty(ve)||(c||(c={}),c[ve]="");for(ve in Ve)Ve.hasOwnProperty(ve)&&ze[ve]!==Ve[ve]&&(c||(c={}),c[ve]=Ve[ve])}else c||(V||(V=[]),V.push(pt,c)),c=Ve;else pt==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0,ze=ze?ze.__html:void 0,Ve!=null&&ze!==Ve&&(V=V||[]).push(pt,Ve)):pt==="children"?typeof Ve!="string"&&typeof Ve!="number"||(V=V||[]).push(pt,""+Ve):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&(a.hasOwnProperty(pt)?(Ve!=null&&pt==="onScroll"&&si("scroll",n),V||ze===Ve||(V=[])):(V=V||[]).push(pt,Ve))}c&&(V=V||[]).push("style",c);var pt=V;(i.updateQueue=pt)&&(i.flags|=4)}},d0=function(n,i,c,v){c!==v&&(i.flags|=4)};function If(n,i){if(!_t)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var v=null;c!==null;)c.alternate!==null&&(v=c),c=c.sibling;v===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:v.sibling=null}}function Ts(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,v=0;if(i)for(var F=n.child;F!==null;)c|=F.lanes|F.childLanes,v|=F.subtreeFlags&14680064,v|=F.flags&14680064,F.return=n,F=F.sibling;else for(F=n.child;F!==null;)c|=F.lanes|F.childLanes,v|=F.subtreeFlags,v|=F.flags,F.return=n,F=F.sibling;return n.subtreeFlags|=v,n.childLanes=c,i}function Pw(n,i,c){var v=i.pendingProps;switch(it(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(i),null;case 1:return Vo(i.type)&&ql(),Ts(i),null;case 3:return v=i.stateNode,dt(),wr(Zi),wr(Ri),Ur(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(n===null||n.child===null)&&(Ii(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,St!==null&&(qh(St),St=null))),Ih(n,i),Ts(i),null;case 5:dn(i);var F=mt(Pt.current);if(c=i.type,n!==null&&i.stateNode!=null)f0(n,i,c,v,F),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!v){if(i.stateNode===null)throw Error(t(166));return Ts(i),null}if(n=mt(Xe.current),Ii(i)){v=i.stateNode,c=i.type;var V=i.memoizedProps;switch(v[oa]=i,v[$l]=V,n=(i.mode&1)!==0,c){case"dialog":si("cancel",v),si("close",v);break;case"iframe":case"object":case"embed":si("load",v);break;case"video":case"audio":for(F=0;F<Aa.length;F++)si(Aa[F],v);break;case"source":si("error",v);break;case"img":case"image":case"link":si("error",v),si("load",v);break;case"details":si("toggle",v);break;case"input":ee(v,V),si("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!V.multiple},si("invalid",v);break;case"textarea":Ue(v,V),si("invalid",v)}bn(c,V),F=null;for(var ve in V)if(V.hasOwnProperty(ve)){var ze=V[ve];ve==="children"?typeof ze=="string"?v.textContent!==ze&&(V.suppressHydrationWarning!==!0&&gc(v.textContent,ze,n),F=["children",ze]):typeof ze=="number"&&v.textContent!==""+ze&&(V.suppressHydrationWarning!==!0&&gc(v.textContent,ze,n),F=["children",""+ze]):a.hasOwnProperty(ve)&&ze!=null&&ve==="onScroll"&&si("scroll",v)}switch(c){case"input":se(v),L(v,V,!0);break;case"textarea":se(v),ot(v);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(v.onclick=zl)}v=F,i.updateQueue=v,v!==null&&(i.flags|=4)}else{ve=F.nodeType===9?F:F.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lt(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=ve.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof v.is=="string"?n=ve.createElement(c,{is:v.is}):(n=ve.createElement(c),c==="select"&&(ve=n,v.multiple?ve.multiple=!0:v.size&&(ve.size=v.size))):n=ve.createElementNS(n,c),n[oa]=i,n[$l]=v,u0(n,i,!1,!1),i.stateNode=n;e:{switch(ve=en(c,v),c){case"dialog":si("cancel",n),si("close",n),F=v;break;case"iframe":case"object":case"embed":si("load",n),F=v;break;case"video":case"audio":for(F=0;F<Aa.length;F++)si(Aa[F],n);F=v;break;case"source":si("error",n),F=v;break;case"img":case"image":case"link":si("error",n),si("load",n),F=v;break;case"details":si("toggle",n),F=v;break;case"input":ee(n,v),F=H(n,v),si("invalid",n);break;case"option":F=v;break;case"select":n._wrapperState={wasMultiple:!!v.multiple},F=Fe({},v,{value:void 0}),si("invalid",n);break;case"textarea":Ue(n,v),F=Ee(n,v),si("invalid",n);break;default:F=v}bn(c,F),ze=F;for(V in ze)if(ze.hasOwnProperty(V)){var Ve=ze[V];V==="style"?Un(n,Ve):V==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0,Ve!=null&&Kt(n,Ve)):V==="children"?typeof Ve=="string"?(c!=="textarea"||Ve!=="")&&xn(n,Ve):typeof Ve=="number"&&xn(n,""+Ve):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(a.hasOwnProperty(V)?Ve!=null&&V==="onScroll"&&si("scroll",n):Ve!=null&&R(n,V,Ve,ve))}switch(c){case"input":se(n),L(n,v,!1);break;case"textarea":se(n),ot(n);break;case"option":v.value!=null&&n.setAttribute("value",""+z(v.value));break;case"select":n.multiple=!!v.multiple,V=v.value,V!=null?Ce(n,!!v.multiple,V,!1):v.defaultValue!=null&&Ce(n,!!v.multiple,v.defaultValue,!0);break;default:typeof F.onClick=="function"&&(n.onclick=zl)}switch(c){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ts(i),null;case 6:if(n&&i.stateNode!=null)d0(n,i,n.memoizedProps,v);else{if(typeof v!="string"&&i.stateNode===null)throw Error(t(166));if(c=mt(Pt.current),mt(Xe.current),Ii(i)){if(v=i.stateNode,c=i.memoizedProps,v[oa]=i,(V=v.nodeValue!==c)&&(n=gt,n!==null))switch(n.tag){case 3:gc(v.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&gc(v.nodeValue,c,(n.mode&1)!==0)}V&&(i.flags|=4)}else v=(c.nodeType===9?c:c.ownerDocument).createTextNode(v),v[oa]=i,i.stateNode=v}return Ts(i),null;case 13:if(wr(ut),v=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_t&&yt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ar(),rn(),i.flags|=98560,V=!1;else if(V=Ii(i),v!==null&&v.dehydrated!==null){if(n===null){if(!V)throw Error(t(318));if(V=i.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(t(317));V[oa]=i}else rn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ts(i),V=!1}else St!==null&&(qh(St),St=null),V=!0;if(!V)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(v=v!==null,v!==(n!==null&&n.memoizedState!==null)&&v&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(ut.current&1)!==0?Bo===0&&(Bo=3):Gh())),i.updateQueue!==null&&(i.flags|=4),Ts(i),null);case 4:return dt(),Ih(n,i),n===null&&Wa(i.stateNode.containerInfo),Ts(i),null;case 10:return vi(i.type._context),Ts(i),null;case 17:return Vo(i.type)&&ql(),Ts(i),null;case 19:if(wr(ut),V=i.memoizedState,V===null)return Ts(i),null;if(v=(i.flags&128)!==0,ve=V.rendering,ve===null)if(v)If(V,!1);else{if(Bo!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(ve=cn(n),ve!==null){for(i.flags|=128,If(V,!1),v=ve.updateQueue,v!==null&&(i.updateQueue=v,i.flags|=4),i.subtreeFlags=0,v=c,c=i.child;c!==null;)V=c,n=v,V.flags&=14680066,ve=V.alternate,ve===null?(V.childLanes=0,V.lanes=n,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=ve.childLanes,V.lanes=ve.lanes,V.child=ve.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=ve.memoizedProps,V.memoizedState=ve.memoizedState,V.updateQueue=ve.updateQueue,V.type=ve.type,n=ve.dependencies,V.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return nr(ut,ut.current&1|2),i.child}n=n.sibling}V.tail!==null&&hr()>Gu&&(i.flags|=128,v=!0,If(V,!1),i.lanes=4194304)}else{if(!v)if(n=cn(ve),n!==null){if(i.flags|=128,v=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),If(V,!0),V.tail===null&&V.tailMode==="hidden"&&!ve.alternate&&!_t)return Ts(i),null}else 2*hr()-V.renderingStartTime>Gu&&c!==1073741824&&(i.flags|=128,v=!0,If(V,!1),i.lanes=4194304);V.isBackwards?(ve.sibling=i.child,i.child=ve):(c=V.last,c!==null?c.sibling=ve:i.child=ve,V.last=ve)}return V.tail!==null?(i=V.tail,V.rendering=i,V.tail=i.sibling,V.renderingStartTime=hr(),i.sibling=null,c=ut.current,nr(ut,v?c&1|2:c&1),i):(Ts(i),null);case 22:case 23:return Hh(),v=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==v&&(i.flags|=8192),v&&(i.mode&1)!==0?(Ca&1073741824)!==0&&(Ts(i),i.subtreeFlags&6&&(i.flags|=8192)):Ts(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Dw(n,i){switch(it(i),i.tag){case 1:return Vo(i.type)&&ql(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return dt(),wr(Zi),wr(Ri),Ur(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return dn(i),null;case 13:if(wr(ut),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));rn()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return wr(ut),null;case 4:return dt(),null;case 10:return vi(i.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var dd=!1,Cs=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Wu(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(v){fo(n,i,v)}else c.current=null}function jh(n,i,c){try{c()}catch(v){fo(n,i,v)}}var h0=!1;function Fw(n,i){if(ml=Cl,n=Ji(),As(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var v=c.getSelection&&c.getSelection();if(v&&v.rangeCount!==0){c=v.anchorNode;var F=v.anchorOffset,V=v.focusNode;v=v.focusOffset;try{c.nodeType,V.nodeType}catch{c=null;break e}var ve=0,ze=-1,Ve=-1,pt=0,It=0,Mt=n,Lt=null;t:for(;;){for(var sn;Mt!==c||F!==0&&Mt.nodeType!==3||(ze=ve+F),Mt!==V||v!==0&&Mt.nodeType!==3||(Ve=ve+v),Mt.nodeType===3&&(ve+=Mt.nodeValue.length),(sn=Mt.firstChild)!==null;)Lt=Mt,Mt=sn;for(;;){if(Mt===n)break t;if(Lt===c&&++pt===F&&(ze=ve),Lt===V&&++It===v&&(Ve=ve),(sn=Mt.nextSibling)!==null)break;Mt=Lt,Lt=Mt.parentNode}Mt=sn}c=ze===-1||Ve===-1?null:{start:ze,end:Ve}}else c=null}c=c||{start:0,end:0}}else c=null;for(gl={focusedElem:n,selectionRange:c},Cl=!1,hn=i;hn!==null;)if(i=hn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,hn=n;else for(;hn!==null;){i=hn;try{var yn=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(yn!==null){var kn=yn.memoizedProps,yo=yn.memoizedState,st=i.stateNode,Je=st.getSnapshotBeforeUpdate(i.elementType===i.type?kn:xr(i.type,kn),yo);st.__reactInternalSnapshotBeforeUpdate=Je}break;case 3:var at=i.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Wt){fo(i,i.return,Wt)}if(n=i.sibling,n!==null){n.return=i.return,hn=n;break}hn=i.return}return yn=h0,h0=!1,yn}function jf(n,i,c){var v=i.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var F=v=v.next;do{if((F.tag&n)===n){var V=F.destroy;F.destroy=void 0,V!==void 0&&jh(i,c,V)}F=F.next}while(F!==v)}}function hd(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var v=c.create;c.destroy=v()}c=c.next}while(c!==i)}}function Ph(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function p0(n){var i=n.alternate;i!==null&&(n.alternate=null,p0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[oa],delete i[$l],delete i[Io],delete i[Nf],delete i[Ef])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function m0(n){return n.tag===5||n.tag===3||n.tag===4}function g0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||m0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dh(n,i,c){var v=n.tag;if(v===5||v===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=zl));else if(v!==4&&(n=n.child,n!==null))for(Dh(n,i,c),n=n.sibling;n!==null;)Dh(n,i,c),n=n.sibling}function Oh(n,i,c){var v=n.tag;if(v===5||v===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(v!==4&&(n=n.child,n!==null))for(Oh(n,i,c),n=n.sibling;n!==null;)Oh(n,i,c),n=n.sibling}var xs=null,vl=!1;function Yc(n,i,c){for(c=c.child;c!==null;)y0(n,i,c),c=c.sibling}function y0(n,i,c){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Jt,c)}catch{}switch(c.tag){case 5:Cs||Wu(c,i);case 6:var v=xs,F=vl;xs=null,Yc(n,i,c),xs=v,vl=F,xs!==null&&(vl?(n=xs,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):xs.removeChild(c.stateNode));break;case 18:xs!==null&&(vl?(n=xs,c=c.stateNode,n.nodeType===8?gu(n.parentNode,c):n.nodeType===1&&gu(n,c),ol(n)):gu(xs,c.stateNode));break;case 4:v=xs,F=vl,xs=c.stateNode.containerInfo,vl=!0,Yc(n,i,c),xs=v,vl=F;break;case 0:case 11:case 14:case 15:if(!Cs&&(v=c.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){F=v=v.next;do{var V=F,ve=V.destroy;V=V.tag,ve!==void 0&&((V&2)!==0||(V&4)!==0)&&jh(c,i,ve),F=F.next}while(F!==v)}Yc(n,i,c);break;case 1:if(!Cs&&(Wu(c,i),v=c.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=c.memoizedProps,v.state=c.memoizedState,v.componentWillUnmount()}catch(ze){fo(c,i,ze)}Yc(n,i,c);break;case 21:Yc(n,i,c);break;case 22:c.mode&1?(Cs=(v=Cs)||c.memoizedState!==null,Yc(n,i,c),Cs=v):Yc(n,i,c);break;default:Yc(n,i,c)}}function v0(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new Ow),i.forEach(function(v){var F=Gw.bind(null,n,v);c.has(v)||(c.add(v),v.then(F,F))})}}function wl(n,i){var c=i.deletions;if(c!==null)for(var v=0;v<c.length;v++){var F=c[v];try{var V=n,ve=i,ze=ve;e:for(;ze!==null;){switch(ze.tag){case 5:xs=ze.stateNode,vl=!1;break e;case 3:xs=ze.stateNode.containerInfo,vl=!0;break e;case 4:xs=ze.stateNode.containerInfo,vl=!0;break e}ze=ze.return}if(xs===null)throw Error(t(160));y0(V,ve,F),xs=null,vl=!1;var Ve=F.alternate;Ve!==null&&(Ve.return=null),F.return=null}catch(pt){fo(F,i,pt)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)w0(i,n),i=i.sibling}function w0(n,i){var c=n.alternate,v=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(wl(i,n),Kl(n),v&4){try{jf(3,n,n.return),hd(3,n)}catch(kn){fo(n,n.return,kn)}try{jf(5,n,n.return)}catch(kn){fo(n,n.return,kn)}}break;case 1:wl(i,n),Kl(n),v&512&&c!==null&&Wu(c,c.return);break;case 5:if(wl(i,n),Kl(n),v&512&&c!==null&&Wu(c,c.return),n.flags&32){var F=n.stateNode;try{xn(F,"")}catch(kn){fo(n,n.return,kn)}}if(v&4&&(F=n.stateNode,F!=null)){var V=n.memoizedProps,ve=c!==null?c.memoizedProps:V,ze=n.type,Ve=n.updateQueue;if(n.updateQueue=null,Ve!==null)try{ze==="input"&&V.type==="radio"&&V.name!=null&&X(F,V),en(ze,ve);var pt=en(ze,V);for(ve=0;ve<Ve.length;ve+=2){var It=Ve[ve],Mt=Ve[ve+1];It==="style"?Un(F,Mt):It==="dangerouslySetInnerHTML"?Kt(F,Mt):It==="children"?xn(F,Mt):R(F,It,Mt,pt)}switch(ze){case"input":T(F,V);break;case"textarea":ft(F,V);break;case"select":var Lt=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!V.multiple;var sn=V.value;sn!=null?Ce(F,!!V.multiple,sn,!1):Lt!==!!V.multiple&&(V.defaultValue!=null?Ce(F,!!V.multiple,V.defaultValue,!0):Ce(F,!!V.multiple,V.multiple?[]:"",!1))}F[$l]=V}catch(kn){fo(n,n.return,kn)}}break;case 6:if(wl(i,n),Kl(n),v&4){if(n.stateNode===null)throw Error(t(162));F=n.stateNode,V=n.memoizedProps;try{F.nodeValue=V}catch(kn){fo(n,n.return,kn)}}break;case 3:if(wl(i,n),Kl(n),v&4&&c!==null&&c.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(kn){fo(n,n.return,kn)}break;case 4:wl(i,n),Kl(n);break;case 13:wl(i,n),Kl(n),F=n.child,F.flags&8192&&(V=F.memoizedState!==null,F.stateNode.isHidden=V,!V||F.alternate!==null&&F.alternate.memoizedState!==null||(Mh=hr())),v&4&&v0(n);break;case 22:if(It=c!==null&&c.memoizedState!==null,n.mode&1?(Cs=(pt=Cs)||It,wl(i,n),Cs=pt):wl(i,n),Kl(n),v&8192){if(pt=n.memoizedState!==null,(n.stateNode.isHidden=pt)&&!It&&(n.mode&1)!==0)for(hn=n,It=n.child;It!==null;){for(Mt=hn=It;hn!==null;){switch(Lt=hn,sn=Lt.child,Lt.tag){case 0:case 11:case 14:case 15:jf(4,Lt,Lt.return);break;case 1:Wu(Lt,Lt.return);var yn=Lt.stateNode;if(typeof yn.componentWillUnmount=="function"){v=Lt,c=Lt.return;try{i=v,yn.props=i.memoizedProps,yn.state=i.memoizedState,yn.componentWillUnmount()}catch(kn){fo(v,c,kn)}}break;case 5:Wu(Lt,Lt.return);break;case 22:if(Lt.memoizedState!==null){_0(Mt);continue}}sn!==null?(sn.return=Lt,hn=sn):_0(Mt)}It=It.sibling}e:for(It=null,Mt=n;;){if(Mt.tag===5){if(It===null){It=Mt;try{F=Mt.stateNode,pt?(V=F.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(ze=Mt.stateNode,Ve=Mt.memoizedProps.style,ve=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null,ze.style.display=mn("display",ve))}catch(kn){fo(n,n.return,kn)}}}else if(Mt.tag===6){if(It===null)try{Mt.stateNode.nodeValue=pt?"":Mt.memoizedProps}catch(kn){fo(n,n.return,kn)}}else if((Mt.tag!==22&&Mt.tag!==23||Mt.memoizedState===null||Mt===n)&&Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===n)break e;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===n)break e;It===Mt&&(It=null),Mt=Mt.return}It===Mt&&(It=null),Mt.sibling.return=Mt.return,Mt=Mt.sibling}}break;case 19:wl(i,n),Kl(n),v&4&&v0(n);break;case 21:break;default:wl(i,n),Kl(n)}}function Kl(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(m0(c)){var v=c;break e}c=c.return}throw Error(t(160))}switch(v.tag){case 5:var F=v.stateNode;v.flags&32&&(xn(F,""),v.flags&=-33);var V=g0(n);Oh(n,V,F);break;case 3:case 4:var ve=v.stateNode.containerInfo,ze=g0(n);Dh(n,ze,ve);break;default:throw Error(t(161))}}catch(Ve){fo(n,n.return,Ve)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Bw(n,i,c){hn=n,x0(n)}function x0(n,i,c){for(var v=(n.mode&1)!==0;hn!==null;){var F=hn,V=F.child;if(F.tag===22&&v){var ve=F.memoizedState!==null||dd;if(!ve){var ze=F.alternate,Ve=ze!==null&&ze.memoizedState!==null||Cs;ze=dd;var pt=Cs;if(dd=ve,(Cs=Ve)&&!pt)for(hn=F;hn!==null;)ve=hn,Ve=ve.child,ve.tag===22&&ve.memoizedState!==null?S0(F):Ve!==null?(Ve.return=ve,hn=Ve):S0(F);for(;V!==null;)hn=V,x0(V),V=V.sibling;hn=F,dd=ze,Cs=pt}b0(n)}else(F.subtreeFlags&8772)!==0&&V!==null?(V.return=F,hn=V):b0(n)}}function b0(n){for(;hn!==null;){var i=hn;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Cs||hd(5,i);break;case 1:var v=i.stateNode;if(i.flags&4&&!Cs)if(c===null)v.componentDidMount();else{var F=i.elementType===i.type?c.memoizedProps:xr(i.type,c.memoizedProps);v.componentDidUpdate(F,c.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var V=i.updateQueue;V!==null&&Me(i,V,v);break;case 3:var ve=i.updateQueue;if(ve!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Me(i,ve,c)}break;case 5:var ze=i.stateNode;if(c===null&&i.flags&4){c=ze;var Ve=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Ve.autoFocus&&c.focus();break;case"img":Ve.src&&(c.src=Ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var pt=i.alternate;if(pt!==null){var It=pt.memoizedState;if(It!==null){var Mt=It.dehydrated;Mt!==null&&ol(Mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cs||i.flags&512&&Ph(i)}catch(Lt){fo(i,i.return,Lt)}}if(i===n){hn=null;break}if(c=i.sibling,c!==null){c.return=i.return,hn=c;break}hn=i.return}}function _0(n){for(;hn!==null;){var i=hn;if(i===n){hn=null;break}var c=i.sibling;if(c!==null){c.return=i.return,hn=c;break}hn=i.return}}function S0(n){for(;hn!==null;){var i=hn;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{hd(4,i)}catch(Ve){fo(i,c,Ve)}break;case 1:var v=i.stateNode;if(typeof v.componentDidMount=="function"){var F=i.return;try{v.componentDidMount()}catch(Ve){fo(i,F,Ve)}}var V=i.return;try{Ph(i)}catch(Ve){fo(i,V,Ve)}break;case 5:var ve=i.return;try{Ph(i)}catch(Ve){fo(i,ve,Ve)}}}catch(Ve){fo(i,i.return,Ve)}if(i===n){hn=null;break}var ze=i.sibling;if(ze!==null){ze.return=i.return,hn=ze;break}hn=i.return}}var Mw=Math.ceil,pd=k.ReactCurrentDispatcher,Fh=k.ReactCurrentOwner,Za=k.ReactCurrentBatchConfig,ni=0,Jo=null,jo=null,bs=0,Ca=0,Hu=gs(0),Bo=0,Pf=null,bu=0,md=0,Bh=0,Df=null,aa=null,Mh=0,Gu=1/0,Nc=null,gd=!1,zh=null,Jc=null,yd=!1,Zc=null,vd=0,Of=0,$h=null,wd=-1,xd=0;function Ks(){return(ni&6)!==0?hr():wd!==-1?wd:wd=hr()}function Qc(n){return(n.mode&1)===0?1:(ni&2)!==0&&bs!==0?bs&-bs:$i.transition!==null?(xd===0&&(xd=Ps()),xd):(n=Dr,n!==0||(n=window.event,n=n===void 0?16:ha(n.type)),n)}function xl(n,i,c,v){if(50<Of)throw Of=0,$h=null,Error(t(185));Uo(n,c,v),((ni&2)===0||n!==Jo)&&(n===Jo&&((ni&2)===0&&(md|=c),Bo===4&&eu(n,bs)),la(n,v),c===1&&ni===0&&(i.mode&1)===0&&(Gu=hr()+500,Hl&&Y()))}function la(n,i){var c=n.callbackNode;mi(n,i);var v=vr(n,n===Jo?bs:0);if(v===0)c!==null&&Gr(c),n.callbackNode=null,n.callbackPriority=0;else if(i=v&-v,n.callbackPriority!==i){if(c!=null&&Gr(c),i===1)n.tag===0?W(A0.bind(null,n)):_(A0.bind(null,n)),qu(function(){(ni&6)===0&&Y()}),c=null;else{switch(Ds(v)){case 1:c=Fi;break;case 4:c=Tr;break;case 16:c=_n;break;case 536870912:c=Kr;break;default:c=_n}c=j0(c,k0.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function k0(n,i){if(wd=-1,xd=0,(ni&6)!==0)throw Error(t(327));var c=n.callbackNode;if(Ku()&&n.callbackNode!==c)return null;var v=vr(n,n===Jo?bs:0);if(v===0)return null;if((v&30)!==0||(v&n.expiredLanes)!==0||i)i=bd(n,v);else{i=v;var F=ni;ni|=2;var V=E0();(Jo!==n||bs!==i)&&(Nc=null,Gu=hr()+500,Su(n,i));do try{Uw();break}catch(ze){N0(n,ze)}while(!0);Yr(),pd.current=V,ni=F,jo!==null?i=0:(Jo=null,bs=0,i=Bo)}if(i!==0){if(i===2&&(F=to(n),F!==0&&(v=F,i=Uh(n,F))),i===1)throw c=Pf,Su(n,0),eu(n,v),la(n,hr()),c;if(i===6)eu(n,v);else{if(F=n.current.alternate,(v&30)===0&&!zw(F)&&(i=bd(n,v),i===2&&(V=to(n),V!==0&&(v=V,i=Uh(n,V))),i===1))throw c=Pf,Su(n,0),eu(n,v),la(n,hr()),c;switch(n.finishedWork=F,n.finishedLanes=v,i){case 0:case 1:throw Error(t(345));case 2:ku(n,aa,Nc);break;case 3:if(eu(n,v),(v&130023424)===v&&(i=Mh+500-hr(),10<i)){if(vr(n,0)!==0)break;if(F=n.suspendedLanes,(F&v)!==v){Ks(),n.pingedLanes|=n.suspendedLanes&F;break}n.timeoutHandle=pu(ku.bind(null,n,aa,Nc),i);break}ku(n,aa,Nc);break;case 4:if(eu(n,v),(v&4194240)===v)break;for(i=n.eventTimes,F=-1;0<v;){var ve=31-zn(v);V=1<<ve,ve=i[ve],ve>F&&(F=ve),v&=~V}if(v=F,v=hr()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Mw(v/1960))-v,10<v){n.timeoutHandle=pu(ku.bind(null,n,aa,Nc),v);break}ku(n,aa,Nc);break;case 5:ku(n,aa,Nc);break;default:throw Error(t(329))}}}return la(n,hr()),n.callbackNode===c?k0.bind(null,n):null}function Uh(n,i){var c=Df;return n.current.memoizedState.isDehydrated&&(Su(n,i).flags|=256),n=bd(n,i),n!==2&&(i=aa,aa=c,i!==null&&qh(i)),n}function qh(n){aa===null?aa=n:aa.push.apply(aa,n)}function zw(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var v=0;v<c.length;v++){var F=c[v],V=F.getSnapshot;F=F.value;try{if(!fi(V(),F))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function eu(n,i){for(i&=~Bh,i&=~md,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-zn(i),v=1<<c;n[c]=-1,i&=~v}}function A0(n){if((ni&6)!==0)throw Error(t(327));Ku();var i=vr(n,0);if((i&1)===0)return la(n,hr()),null;var c=bd(n,i);if(n.tag!==0&&c===2){var v=to(n);v!==0&&(i=v,c=Uh(n,v))}if(c===1)throw c=Pf,Su(n,0),eu(n,i),la(n,hr()),c;if(c===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ku(n,aa,Nc),la(n,hr()),null}function Wh(n,i){var c=ni;ni|=1;try{return n(i)}finally{ni=c,ni===0&&(Gu=hr()+500,Hl&&Y())}}function _u(n){Zc!==null&&Zc.tag===0&&(ni&6)===0&&Ku();var i=ni;ni|=1;var c=Za.transition,v=Dr;try{if(Za.transition=null,Dr=1,n)return n()}finally{Dr=v,Za.transition=c,ni=i,(ni&6)===0&&Y()}}function Hh(){Ca=Hu.current,wr(Hu)}function Su(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,Uu(c)),jo!==null)for(c=jo.return;c!==null;){var v=c;switch(it(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&ql();break;case 3:dt(),wr(Zi),wr(Ri),Ur();break;case 5:dn(v);break;case 4:dt();break;case 13:wr(ut);break;case 19:wr(ut);break;case 10:vi(v.type._context);break;case 22:case 23:Hh()}c=c.return}if(Jo=n,jo=n=tu(n.current,null),bs=Ca=i,Bo=0,Pf=null,Bh=md=bu=0,aa=Df=null,ai!==null){for(i=0;i<ai.length;i++)if(c=ai[i],v=c.interleaved,v!==null){c.interleaved=null;var F=v.next,V=c.pending;if(V!==null){var ve=V.next;V.next=F,v.next=ve}c.pending=v}ai=null}return n}function N0(n,i){do{var c=jo;try{if(Yr(),hi.current=Hn,Zt){for(var v=Ke.memoizedState;v!==null;){var F=v.queue;F!==null&&(F.pending=null),v=v.next}Zt=!1}if(Wn=0,Tt=We=Ke=null,bt=!1,Ut=0,Fh.current=null,c===null||c.return===null){Bo=1,Pf=i,jo=null;break}e:{var V=n,ve=c.return,ze=c,Ve=i;if(i=bs,ze.flags|=32768,Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var pt=Ve,It=ze,Mt=It.tag;if((It.mode&1)===0&&(Mt===0||Mt===11||Mt===15)){var Lt=It.alternate;Lt?(It.updateQueue=Lt.updateQueue,It.memoizedState=Lt.memoizedState,It.lanes=Lt.lanes):(It.updateQueue=null,It.memoizedState=null)}var sn=Fr(ve);if(sn!==null){sn.flags&=-257,Es(sn,ve,ze,V,i),sn.mode&1&&Er(V,pt,i),i=sn,Ve=pt;var yn=i.updateQueue;if(yn===null){var kn=new Set;kn.add(Ve),i.updateQueue=kn}else yn.add(Ve);break e}else{if((i&1)===0){Er(V,pt,i),Gh();break e}Ve=Error(t(426))}}else if(_t&&ze.mode&1){var yo=Fr(ve);if(yo!==null){(yo.flags&65536)===0&&(yo.flags|=256),Es(yo,ve,ze,V,i),Gt(xi(Ve,ze));break e}}V=Ve=xi(Ve,ze),Bo!==4&&(Bo=2),Df===null?Df=[V]:Df.push(V),V=ve;do{switch(V.tag){case 3:V.flags|=65536,i&=-i,V.lanes|=i;var st=qr(V,Ve,i);De(V,st);break e;case 1:ze=Ve;var Je=V.type,at=V.stateNode;if((V.flags&128)===0&&(typeof Je.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Jc===null||!Jc.has(at)))){V.flags|=65536,i&=-i,V.lanes|=i;var Wt=Xt(V,ze,i);De(V,Wt);break e}}V=V.return}while(V!==null)}C0(c)}catch(Cn){i=Cn,jo===c&&c!==null&&(jo=c=c.return);continue}break}while(!0)}function E0(){var n=pd.current;return pd.current=Hn,n===null?Hn:n}function Gh(){(Bo===0||Bo===3||Bo===2)&&(Bo=4),Jo===null||(bu&268435455)===0&&(md&268435455)===0||eu(Jo,bs)}function bd(n,i){var c=ni;ni|=2;var v=E0();(Jo!==n||bs!==i)&&(Nc=null,Su(n,i));do try{$w();break}catch(F){N0(n,F)}while(!0);if(Yr(),ni=c,pd.current=v,jo!==null)throw Error(t(261));return Jo=null,bs=0,Bo}function $w(){for(;jo!==null;)T0(jo)}function Uw(){for(;jo!==null&&!Vr();)T0(jo)}function T0(n){var i=I0(n.alternate,n,Ca);n.memoizedProps=n.pendingProps,i===null?C0(n):jo=i,Fh.current=null}function C0(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=Pw(c,i,Ca),c!==null){jo=c;return}}else{if(c=Dw(c,i),c!==null){c.flags&=32767,jo=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Bo=6,jo=null;return}}if(i=i.sibling,i!==null){jo=i;return}jo=i=n}while(i!==null);Bo===0&&(Bo=5)}function ku(n,i,c){var v=Dr,F=Za.transition;try{Za.transition=null,Dr=1,qw(n,i,c,v)}finally{Za.transition=F,Dr=v}return null}function qw(n,i,c,v){do Ku();while(Zc!==null);if((ni&6)!==0)throw Error(t(327));c=n.finishedWork;var F=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var V=c.lanes|c.childLanes;if(Gn(n,V),n===Jo&&(jo=Jo=null,bs=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||yd||(yd=!0,j0(_n,function(){return Ku(),null})),V=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||V){V=Za.transition,Za.transition=null;var ve=Dr;Dr=1;var ze=ni;ni|=4,Fh.current=null,Fw(n,c),w0(c,n),uc(gl),Cl=!!ml,gl=ml=null,n.current=c,Bw(c),Vi(),ni=ze,Dr=ve,Za.transition=V}else n.current=c;if(yd&&(yd=!1,Zc=n,vd=F),V=n.pendingLanes,V===0&&(Jc=null),pi(c.stateNode),la(n,hr()),i!==null)for(v=n.onRecoverableError,c=0;c<i.length;c++)F=i[c],v(F.value,{componentStack:F.stack,digest:F.digest});if(gd)throw gd=!1,n=zh,zh=null,n;return(vd&1)!==0&&n.tag!==0&&Ku(),V=n.pendingLanes,(V&1)!==0?n===$h?Of++:(Of=0,$h=n):Of=0,Y(),null}function Ku(){if(Zc!==null){var n=Ds(vd),i=Za.transition,c=Dr;try{if(Za.transition=null,Dr=16>n?16:n,Zc===null)var v=!1;else{if(n=Zc,Zc=null,vd=0,(ni&6)!==0)throw Error(t(331));var F=ni;for(ni|=4,hn=n.current;hn!==null;){var V=hn,ve=V.child;if((hn.flags&16)!==0){var ze=V.deletions;if(ze!==null){for(var Ve=0;Ve<ze.length;Ve++){var pt=ze[Ve];for(hn=pt;hn!==null;){var It=hn;switch(It.tag){case 0:case 11:case 15:jf(8,It,V)}var Mt=It.child;if(Mt!==null)Mt.return=It,hn=Mt;else for(;hn!==null;){It=hn;var Lt=It.sibling,sn=It.return;if(p0(It),It===pt){hn=null;break}if(Lt!==null){Lt.return=sn,hn=Lt;break}hn=sn}}}var yn=V.alternate;if(yn!==null){var kn=yn.child;if(kn!==null){yn.child=null;do{var yo=kn.sibling;kn.sibling=null,kn=yo}while(kn!==null)}}hn=V}}if((V.subtreeFlags&2064)!==0&&ve!==null)ve.return=V,hn=ve;else e:for(;hn!==null;){if(V=hn,(V.flags&2048)!==0)switch(V.tag){case 0:case 11:case 15:jf(9,V,V.return)}var st=V.sibling;if(st!==null){st.return=V.return,hn=st;break e}hn=V.return}}var Je=n.current;for(hn=Je;hn!==null;){ve=hn;var at=ve.child;if((ve.subtreeFlags&2064)!==0&&at!==null)at.return=ve,hn=at;else e:for(ve=Je;hn!==null;){if(ze=hn,(ze.flags&2048)!==0)try{switch(ze.tag){case 0:case 11:case 15:hd(9,ze)}}catch(Cn){fo(ze,ze.return,Cn)}if(ze===ve){hn=null;break e}var Wt=ze.sibling;if(Wt!==null){Wt.return=ze.return,hn=Wt;break e}hn=ze.return}}if(ni=F,Y(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Jt,n)}catch{}v=!0}return v}finally{Dr=c,Za.transition=i}}return!1}function L0(n,i,c){i=xi(c,i),i=qr(n,i,1),n=D(n,i,1),i=Ks(),n!==null&&(Uo(n,1,i),la(n,i))}function fo(n,i,c){if(n.tag===3)L0(n,n,c);else for(;i!==null;){if(i.tag===3){L0(i,n,c);break}else if(i.tag===1){var v=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Jc===null||!Jc.has(v))){n=xi(c,n),n=Xt(i,n,1),i=D(i,n,1),n=Ks(),i!==null&&(Uo(i,1,n),la(i,n));break}}i=i.return}}function Ww(n,i,c){var v=n.pingCache;v!==null&&v.delete(i),i=Ks(),n.pingedLanes|=n.suspendedLanes&c,Jo===n&&(bs&c)===c&&(Bo===4||Bo===3&&(bs&130023424)===bs&&500>hr()-Mh?Su(n,0):Bh|=c),la(n,i)}function R0(n,i){i===0&&((n.mode&1)===0?i=1:(i=No,No<<=1,(No&130023424)===0&&(No=4194304)));var c=Ks();n=K(n,i),n!==null&&(Uo(n,i,c),la(n,c))}function Hw(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),R0(n,c)}function Gw(n,i){var c=0;switch(n.tag){case 13:var v=n.stateNode,F=n.memoizedState;F!==null&&(c=F.retryLane);break;case 19:v=n.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(i),R0(n,c)}var I0;I0=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||Zi.current)In=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return In=!1,jw(n,i,c);In=(n.flags&131072)!==0}else In=!1,_t&&(i.flags&1048576)!==0&&et(i,Ne,i.index);switch(i.lanes=0,i.tag){case 2:var v=i.type;fd(n,i),n=i.pendingProps;var F=Gs(i,Ri.current);ji(i,c),F=Gi(null,i,v,n,F,c);var V=uo();return i.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Vo(v)?(V=!0,Wl(i)):V=!1,i.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,E(i),F.updater=cr,i.stateNode=F,F._reactInternals=i,wi(i,v,n,c),i=Lf(null,i,v,!0,V,c)):(i.tag=0,_t&&V&&vt(i),Jn(null,i,F,c),i=i.child),i;case 16:v=i.elementType;e:{switch(fd(n,i),n=i.pendingProps,F=v._init,v=F(v._payload),i.type=v,F=i.tag=Vw(v),n=xr(v,n),F){case 0:i=Ta(null,i,v,n,c);break e;case 1:i=ws(null,i,v,n,c);break e;case 11:i=bi(null,i,v,n,c);break e;case 14:i=Br(null,i,v,xr(v.type,n),c);break e}throw Error(t(306,v,""))}return i;case 0:return v=i.type,F=i.pendingProps,F=i.elementType===v?F:xr(v,F),Ta(n,i,v,F,c);case 1:return v=i.type,F=i.pendingProps,F=i.elementType===v?F:xr(v,F),ws(n,i,v,F,c);case 3:e:{if(cd(i),n===null)throw Error(t(387));v=i.pendingProps,V=i.memoizedState,F=V.element,ce(n,i),Le(i,v,null,c);var ve=i.memoizedState;if(v=ve.element,V.isDehydrated)if(V={element:v,isDehydrated:!1,cache:ve.cache,pendingSuspenseBoundaries:ve.pendingSuspenseBoundaries,transitions:ve.transitions},i.updateQueue.baseState=V,i.memoizedState=V,i.flags&256){F=xi(Error(t(423)),i),i=kc(n,i,v,c,F);break e}else if(v!==F){F=xi(Error(t(424)),i),i=kc(n,i,v,c,F);break e}else for(yt=Lo(i.stateNode.containerInfo.firstChild),gt=i,_t=!0,St=null,c=Ti(i,null,v,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(rn(),v===F){i=Ac(n,i,c);break e}Jn(n,i,v,c)}i=i.child}return i;case 5:return Vt(i),n===null&&ln(i),v=i.type,F=i.pendingProps,V=n!==null?n.memoizedProps:null,ve=F.children,hu(v,F)?ve=null:V!==null&&hu(v,V)&&(i.flags|=32),Yo(n,i),Jn(n,i,ve,c),i.child;case 6:return n===null&&ln(i),null;case 13:return a0(n,i,c);case 4:return tt(i,i.stateNode.containerInfo),v=i.pendingProps,n===null?i.child=Hi(i,null,v,c):Jn(n,i,v,c),i.child;case 11:return v=i.type,F=i.pendingProps,F=i.elementType===v?F:xr(v,F),bi(n,i,v,F,c);case 7:return Jn(n,i,i.pendingProps,c),i.child;case 8:return Jn(n,i,i.pendingProps.children,c),i.child;case 12:return Jn(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(v=i.type._context,F=i.pendingProps,V=i.memoizedProps,ve=F.value,nr(Qi,v._currentValue),v._currentValue=ve,V!==null)if(fi(V.value,ve)){if(V.children===F.children&&!Zi.current){i=Ac(n,i,c);break e}}else for(V=i.child,V!==null&&(V.return=i);V!==null;){var ze=V.dependencies;if(ze!==null){ve=V.child;for(var Ve=ze.firstContext;Ve!==null;){if(Ve.context===v){if(V.tag===1){Ve=ue(-1,c&-c),Ve.tag=2;var pt=V.updateQueue;if(pt!==null){pt=pt.shared;var It=pt.pending;It===null?Ve.next=Ve:(Ve.next=It.next,It.next=Ve),pt.pending=Ve}}V.lanes|=c,Ve=V.alternate,Ve!==null&&(Ve.lanes|=c),Jr(V.return,c,i),ze.lanes|=c;break}Ve=Ve.next}}else if(V.tag===10)ve=V.type===i.type?null:V.child;else if(V.tag===18){if(ve=V.return,ve===null)throw Error(t(341));ve.lanes|=c,ze=ve.alternate,ze!==null&&(ze.lanes|=c),Jr(ve,c,i),ve=V.sibling}else ve=V.child;if(ve!==null)ve.return=V;else for(ve=V;ve!==null;){if(ve===i){ve=null;break}if(V=ve.sibling,V!==null){V.return=ve.return,ve=V;break}ve=ve.return}V=ve}Jn(n,i,F.children,c),i=i.child}return i;case 9:return F=i.type,v=i.pendingProps.children,ji(i,c),F=Pi(F),v=v(F),i.flags|=1,Jn(n,i,v,c),i.child;case 14:return v=i.type,F=xr(v,i.pendingProps),F=xr(v.type,F),Br(n,i,v,F,c);case 15:return vs(n,i,i.type,i.pendingProps,c);case 17:return v=i.type,F=i.pendingProps,F=i.elementType===v?F:xr(v,F),fd(n,i),i.tag=1,Vo(v)?(n=!0,Wl(i)):n=!1,ji(i,c),Or(i,v,F),wi(i,v,F,c),Lf(null,i,v,!0,n,c);case 19:return c0(n,i,c);case 22:return Ci(n,i,c)}throw Error(t(156,i.tag))};function j0(n,i){return qn(n,i)}function Kw(n,i,c,v){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(n,i,c,v){return new Kw(n,i,c,v)}function Kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vw(n){if(typeof n=="function")return Kh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===B)return 11;if(n===be)return 14}return 2}function tu(n,i){var c=n.alternate;return c===null?(c=Qa(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function _d(n,i,c,v,F,V){var ve=2;if(v=n,typeof n=="function")Kh(n)&&(ve=1);else if(typeof n=="string")ve=5;else e:switch(n){case Q:return Au(c.children,F,V,i);case ie:ve=8,F|=8;break;case U:return n=Qa(12,c,i,F|2),n.elementType=U,n.lanes=V,n;case te:return n=Qa(13,c,i,F),n.elementType=te,n.lanes=V,n;case P:return n=Qa(19,c,i,F),n.elementType=P,n.lanes=V,n;case ge:return Sd(c,F,V,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case le:ve=10;break e;case oe:ve=9;break e;case B:ve=11;break e;case be:ve=14;break e;case Ae:ve=16,v=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Qa(ve,c,i,F),i.elementType=n,i.type=v,i.lanes=V,i}function Au(n,i,c,v){return n=Qa(7,n,v,i),n.lanes=c,n}function Sd(n,i,c,v){return n=Qa(22,n,v,i),n.elementType=ge,n.lanes=c,n.stateNode={isHidden:!1},n}function Vh(n,i,c){return n=Qa(6,n,null,i),n.lanes=c,n}function Xh(n,i,c){return i=Qa(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Xw(n,i,c,v,F){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rs(0),this.expirationTimes=rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.identifierPrefix=v,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function Yh(n,i,c,v,F,V,ve,ze,Ve){return n=new Xw(n,i,c,ze,Ve),i===1?(i=1,V===!0&&(i|=8)):i=0,V=Qa(3,null,null,i),n.current=V,V.stateNode=n,V.memoizedState={element:v,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},E(V),n}function Yw(n,i,c){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:v==null?null:""+v,children:n,containerInfo:i,implementation:c}}function P0(n){if(!n)return ys;n=n._reactInternals;e:{if(ht(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Vo(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var c=n.type;if(Vo(c))return Kc(n,c,i)}return i}function D0(n,i,c,v,F,V,ve,ze,Ve){return n=Yh(c,v,!0,n,F,V,ve,ze,Ve),n.context=P0(null),c=n.current,v=Ks(),F=Qc(c),V=ue(v,F),V.callback=i??null,D(c,V,F),n.current.lanes=F,Uo(n,F,v),la(n,v),n}function kd(n,i,c,v){var F=i.current,V=Ks(),ve=Qc(F);return c=P0(c),i.context===null?i.context=c:i.pendingContext=c,i=ue(V,ve),i.payload={element:n},v=v===void 0?null:v,v!==null&&(i.callback=v),n=D(F,i,ve),n!==null&&(xl(n,F,ve,V),Pe(n,F,ve)),ve}function Ad(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function O0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function Jh(n,i){O0(n,i),(n=n.alternate)&&O0(n,i)}function Jw(){return null}var F0=typeof reportError=="function"?reportError:function(n){console.error(n)};function Zh(n){this._internalRoot=n}Nd.prototype.render=Zh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));kd(n,i,null,null)},Nd.prototype.unmount=Zh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;_u(function(){kd(null,n,null,null)}),i[Ro]=null}};function Nd(n){this._internalRoot=n}Nd.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fs();n={blockedOn:null,target:n,priority:i};for(var c=0;c<_r.length&&i!==0&&i<_r[c].priority;c++);_r.splice(c,0,n),c===0&&Pa(n)}};function Qh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ed(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function B0(){}function Zw(n,i,c,v,F){if(F){if(typeof v=="function"){var V=v;v=function(){var pt=Ad(ve);V.call(pt)}}var ve=D0(i,v,n,0,null,!1,!1,"",B0);return n._reactRootContainer=ve,n[Ro]=ve.current,Wa(n.nodeType===8?n.parentNode:n),_u(),ve}for(;F=n.lastChild;)n.removeChild(F);if(typeof v=="function"){var ze=v;v=function(){var pt=Ad(Ve);ze.call(pt)}}var Ve=Yh(n,0,!1,null,null,!1,!1,"",B0);return n._reactRootContainer=Ve,n[Ro]=Ve.current,Wa(n.nodeType===8?n.parentNode:n),_u(function(){kd(i,Ve,c,v)}),Ve}function Td(n,i,c,v,F){var V=c._reactRootContainer;if(V){var ve=V;if(typeof F=="function"){var ze=F;F=function(){var Ve=Ad(ve);ze.call(Ve)}}kd(i,ve,n,F)}else ve=Zw(c,i,n,F,v);return Ad(ve)}Os=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=ns(i.pendingLanes);c!==0&&(En(i,c|1),la(i,hr()),(ni&6)===0&&(Gu=hr()+500,Y()))}break;case 13:_u(function(){var v=K(n,1);if(v!==null){var F=Ks();xl(v,n,1,F)}}),Jh(n,1)}},Ai=function(n){if(n.tag===13){var i=K(n,134217728);if(i!==null){var c=Ks();xl(i,n,134217728,c)}Jh(n,134217728)}},oc=function(n){if(n.tag===13){var i=Qc(n),c=K(n,i);if(c!==null){var v=Ks();xl(c,n,i,v)}Jh(n,i)}},Fs=function(){return Dr},nl=function(n,i){var c=Dr;try{return Dr=n,i()}finally{Dr=c}},Ln=function(n,i,c){switch(i){case"input":if(T(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var v=c[i];if(v!==n&&v.form===n.form){var F=ms(v);if(!F)throw Error(t(90));pe(v),T(v,F)}}}break;case"textarea":ft(n,c);break;case"select":i=c.value,i!=null&&Ce(n,!!c.multiple,i,!1)}},ao=Wh,ko=_u;var Qw={usingClientEntryPoint:!1,Events:[Ul,Va,ms,zr,_s,Wh]},Ff={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ex={bundleType:Ff.bundleType,version:Ff.version,rendererPackageName:Ff.rendererPackageName,rendererConfig:Ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=an(n),n===null?null:n.stateNode},findFiberByHostInstance:Ff.findFiberByHostInstance||Jw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Jt=Cd.inject(ex),Pn=Cd}catch{}}return ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qw,ca.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(i))throw Error(t(200));return Yw(n,i,null,c)},ca.createRoot=function(n,i){if(!Qh(n))throw Error(t(299));var c=!1,v="",F=F0;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(v=i.identifierPrefix),i.onRecoverableError!==void 0&&(F=i.onRecoverableError)),i=Yh(n,1,!1,null,null,c,!1,v,F),n[Ro]=i.current,Wa(n.nodeType===8?n.parentNode:n),new Zh(i)},ca.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=an(i),n=n===null?null:n.stateNode,n},ca.flushSync=function(n){return _u(n)},ca.hydrate=function(n,i,c){if(!Ed(i))throw Error(t(200));return Td(null,n,i,!0,c)},ca.hydrateRoot=function(n,i,c){if(!Qh(n))throw Error(t(405));var v=c!=null&&c.hydratedSources||null,F=!1,V="",ve=F0;if(c!=null&&(c.unstable_strictMode===!0&&(F=!0),c.identifierPrefix!==void 0&&(V=c.identifierPrefix),c.onRecoverableError!==void 0&&(ve=c.onRecoverableError)),i=D0(i,null,n,1,c??null,F,!1,V,ve),n[Ro]=i.current,Wa(n),v)for(n=0;n<v.length;n++)c=v[n],F=c._getVersion,F=F(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,F]:i.mutableSourceEagerHydrationData.push(c,F);return new Nd(i)},ca.render=function(n,i,c){if(!Ed(i))throw Error(t(200));return Td(null,n,i,!1,c)},ca.unmountComponentAtNode=function(n){if(!Ed(n))throw Error(t(40));return n._reactRootContainer?(_u(function(){Td(null,null,n,!1,function(){n._reactRootContainer=null,n[Ro]=null})}),!0):!1},ca.unstable_batchedUpdates=Wh,ca.unstable_renderSubtreeIntoContainer=function(n,i,c,v){if(!Ed(c))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Td(n,i,c,!1,v)},ca.version="18.3.1-next-f1338f8080-20240426",ca}var G0;function ux(){if(G0)return np.exports;G0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),np.exports=cx(),np.exports}var K0;function fx(){if(K0)return Rd;K0=1;var r=ux();return Rd.createRoot=r.createRoot,Rd.hydrateRoot=r.hydrateRoot,Rd}var dx=fx();const hx=$v(dx);function Uv(r,e,t=null){try{const o=localStorage.getItem(r);if(!o)return e;const a=JSON.parse(o);return t&&typeof t=="function"?t(a)?a:e:a}catch(o){return console.warn(`[ConfigManager]  (${r}):`,o),e}}function px(r,e,t=null){try{return t&&typeof t=="function"&&!t(e)?(console.warn(`[ConfigManager]  (${r})`),!1):(localStorage.setItem(r,JSON.stringify(e)),!0)}catch(o){return console.error(`[ConfigManager]  (${r}):`,o),!1}}function mx(r){return e=>{try{return r(e)}catch(t){return console.error("[ConfigManager] :",t),!1}}}const v1={"input-form-panel":{id:"input-form-panel",name:"",defaultPosition:{left:20,top:20,width:600,height:180}},"document-list-panel":{id:"document-list-panel",name:"",defaultPosition:{left:20,top:216,width:600,height:180}},"preview-panel":{id:"preview-panel",name:"",defaultPosition:{left:20,top:412,width:600,height:360}},"processing-panel":{id:"processing-panel",name:"",defaultPosition:{left:636,top:20,width:550,height:376}},"operations-panel":{id:"operations-panel",name:"",defaultPosition:{left:636,top:412,width:550,height:360}}},V0=Object.keys(v1).reduce((r,e)=>(r[e]=v1[e].defaultPosition,r),{}),gx="app-layout-config",yx=r=>!r||typeof r!="object"?!1:Object.keys(v1).every(t=>r[t]);function vx(){const r=Uv(gx,V0,yx);return{...V0,...r}}const qv="app-button-config",Ec={"document-list-panel":[{id:"btn_list_delete",label:"",left:12,top:12,width:80,height:36,enabled:!0,kind:"delete_selected"},{id:"btn_list_select_all",label:"",left:104,top:12,width:80,height:36,enabled:!0,kind:"select_all"}],"preview-panel":[{id:"btn_preview_view_doc",label:"",left:12,top:12,width:100,height:36,enabled:!0,kind:"view_doc"},{id:"btn_preview_summarize",label:"",left:124,top:12,width:100,height:36,enabled:!0,kind:"fill_summary"}],"processing-panel":[{id:"btn_proc_config",label:"",left:12,top:12,width:120,height:36,enabled:!0,kind:"tab_config"},{id:"btn_proc_extract",label:"",left:144,top:12,width:100,height:36,enabled:!0,kind:"text_snippet"},{id:"btn_proc_outline",label:"",left:256,top:12,width:100,height:36,enabled:!0,kind:"outline_extract"}],"processing-tabs":[{id:"btn_tab_outline",label:"",left:12,top:6,width:96,height:32,enabled:!0,kind:"tab_outline",style:{fontSize:16,fontWeight:600}},{id:"btn_tab_records",label:"",left:128,top:6,width:96,height:32,enabled:!0,kind:"tab_records",style:{fontSize:16,fontWeight:600}},{id:"btn_tab_config",label:"",left:244,top:6,width:140,height:32,enabled:!0,kind:"tab_config",style:{fontSize:16,fontWeight:600}},{id:"btn_tab_strategy",label:"",left:404,top:6,width:110,height:32,enabled:!0,kind:"tab_strategy",style:{fontSize:16,fontWeight:600}}],"processing-records-toolbar":[{id:"btn_records_batch_replay",label:" Replay",left:12,top:8,width:100,height:28,enabled:!0,kind:"batch_replay",style:{fontSize:12}},{id:"btn_records_select_all",label:"",left:122,top:8,width:64,height:28,enabled:!0,kind:"select_all",style:{fontSize:12}},{id:"btn_records_delete_selected",label:"",left:196,top:8,width:88,height:28,enabled:!0,kind:"delete_selected",style:{fontSize:12}},{id:"btn_records_clear_selection",label:"",left:294,top:8,width:88,height:28,enabled:!0,kind:"clear_selection",style:{fontSize:12}},{id:"btn_group_new",label:"",left:392,top:8,width:100,height:28,enabled:!0,kind:"group_new",style:{fontSize:12}},{id:"btn_group_update",label:"",left:502,top:8,width:100,height:28,enabled:!0,kind:"group_update",style:{fontSize:12}},{id:"btn_group_rename",label:"",left:12,top:8,width:80,height:28,enabled:!0,kind:"group_rename",style:{fontSize:12}},{id:"btn_group_delete",label:"",left:102,top:8,width:72,height:28,enabled:!0,kind:"group_delete",style:{fontSize:12}},{id:"btn_group_replay",label:"Replay",left:184,top:8,width:80,height:28,enabled:!0,kind:"group_replay",style:{fontSize:12}}],"operations-panel":[{id:"btn_ops_clear",label:"",left:12,top:12,width:100,height:36,enabled:!0,kind:"clear_records"},{id:"btn_ops_execute",label:"",left:124,top:12,width:100,height:36,enabled:!0,kind:"dispatch"}],"input-form-panel":[]},z1=mx(r=>{if(!r||typeof r!="object")return!1;const e=["document-list-panel","preview-panel","processing-panel","operations-panel"];for(const t of e)if(!r[t]||!Array.isArray(r[t]))return!1;return!0});function op(){return Uv(qv,null,z1)}async function X0(r){px(qv,r,z1);try{return(await fetch("/api/buttons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buttons:r})})).ok?(console.log("[ButtonManager] "),!0):(console.error("[ButtonManager] "),!1)}catch(e){return console.error("[ButtonManager] ",e),!1}}function wx(r,e){if(!r||typeof r!="object")return{activeButtons:[],deletedButtons:[]};if(r.activeButtons&&Array.isArray(r.activeButtons))return console.log("[Migration] Config is already in new format"),r;console.log("[Migration] Starting button config migration...");const t=[];let o=0;return Object.keys(r).forEach(a=>{const s=r[a];if(!Array.isArray(s))return;const u=e==null?void 0:e[a],l=(u==null?void 0:u.left)||0,f=(u==null?void 0:u.top)||0;console.log(`[Migration] Processing panel ${a}, position: (${l}, ${f})`),s.forEach(d=>{const h=l+(d.left||0),S=f+(d.top||0),b={id:d.id||`global-btn-${++o}`,label:d.label||"",x:h,y:S,width:d.width||100,height:d.height||30,style:d.style||{},onClick:d.onClick||null,enabled:d.enabled!==void 0?d.enabled:!0,zIndex:10,_migrated:{from:a,originalLeft:d.left,originalTop:d.top}};t.push(b),console.log(`[Migration] Migrated button ${b.id}: (${d.left}, ${d.top}) -> (${h}, ${S})`)})}),console.log(`[Migration] Migration complete. Total buttons: ${t.length}`),{activeButtons:t,deletedButtons:[],migratedAt:Date.now(),version:"2.0"}}function xx(r,e="app-button-config"){try{const t=`${e}-backup-${Date.now()}`;return localStorage.setItem(t,JSON.stringify(r)),console.log(`[Backup] Config backed up to ${t}`),t}catch(t){return console.error("[Backup] Failed to backup config:",t),null}}function bx(r="app-button-config"){const e=[],t=`${r}-backup-`;for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o);a&&a.startsWith(t)&&e.push(a)}return e.sort().reverse()}function _x(r="app-button-config",e=5){const o=bx(r).slice(e);o.forEach(a=>{localStorage.removeItem(a),console.log(`[Cleanup] Removed old backup: ${a}`)}),o.length>0&&console.log(`[Cleanup] Cleaned ${o.length} old backups`)}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,o)=>o?o.toUpperCase():t.toLowerCase()),Y0=r=>{const e=kx(r);return e.charAt(0).toUpperCase()+e.slice(1)},Wv=(...r)=>r.filter((e,t,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===t).join(" ").trim(),Ax=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Qe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:o,className:a="",children:s,iconNode:u,...l},f)=>Qe.createElement("svg",{ref:f,...Nx,width:e,height:e,stroke:r,strokeWidth:o?Number(t)*24/Number(e):t,className:Wv("lucide",a),...!s&&!Ax(l)&&{"aria-hidden":"true"},...l},[...u.map(([d,h])=>Qe.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=(r,e)=>{const t=Qe.forwardRef(({className:o,...a},s)=>Qe.createElement(Ex,{ref:s,iconNode:e,className:Wv(`lucide-${Sx(Y0(r))}`,`lucide-${r}`,o),...a}));return t.displayName=Y0(r),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Cx=ui("archive",Tx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],J0=ui("bot",Lx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ix=ui("check",Rx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Hv=ui("chevron-left",jx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dx=ui("chevron-right",Px);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Z0=ui("copy",Ox);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Q0=ui("download",Fx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ed=ui("file-text",Bx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],zx=ui("folder-open",Mx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],Gv=ui("gallery-vertical-end",$x);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],w1=ui("grip-vertical",Ux);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],eg=ui("history",qx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],tg=ui("library",Wx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gx=ui("log-out",Hx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vx=ui("message-square",Kx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Kv=ui("panels-top-left",Xx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jf=ui("pen-line",Yx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Vv=ui("pencil",Jx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Qx=ui("pin",Zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ng=ui("play",eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xv=ui("plus",tb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rg=ui("refresh-cw",nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Yv=ui("rotate-ccw",rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$1=ui("save",ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sb=ui("send",ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fh=ui("settings",ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],td=ui("sparkles",lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gf=ui("trash-2",cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ig=ui("type",ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],db=ui("upload",fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pb=ui("user",hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nd=ui("x",mb),gr={t1:"",t2:"",t3:"",t4:"",t5:" (px)",t6:"",t7:" ",t8:" ",t9:" ",t10:"",t11:"",t12:"",t13:" (400)",t14:" (500)",t15:" (600)",t16:" (700)",t17:" (800)",t18:"",t19:" (px)",t20:" (px)",t21:"",t22:"",t23:"",t24:":",t25:"",t26:":",t27:":",t28:"",t29:"",t30:"AI ",t31:"",t32:"",t33:"",t34:"",t35:"",t36:"",t37:"",t38:"AI  ()",t39:"AI",t40:"",t41:"",t42:"...",t43:"AI",t44:""};function rf({button:r,onStyleChange:e,onDelete:t,onClose:o,onLogicChange:a}){const s={fontSize:14,color:"#1e293b",backgroundColor:"transparent",fontWeight:500,borderColor:"#e2e8f0",borderWidth:1,borderRadius:6,...r.style,label:r.label},[u,l]=Qe.useState(s),[f,d]=Qe.useState("style"),h=(b,p)=>{const j={...u,[b]:p};l(j)},S=()=>{const{label:b,...p}=u;e({style:p,label:b}),o()};return y.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#fff",padding:"0",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",zIndex:1e4,minWidth:"320px",maxWidth:"400px",border:"1px solid #e2e8f0",display:"flex",flexDirection:"column",maxHeight:"90vh"},onClick:b=>b.stopPropagation(),children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 24px 16px",borderBottom:"1px solid #e2e8f0"},children:[y.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#1e293b"},children:gr.t1}),y.jsx("button",{onClick:o,style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",color:"#64748b",padding:"4px 8px"},children:""})]}),y.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e2e8f0",padding:"0 24px"},children:[y.jsxs("button",{onClick:()=>d("style"),style:{flex:1,padding:"12px 16px",background:"transparent",border:"none",borderBottom:`2px solid ${f==="style"?"#3b82f6":"transparent"}`,cursor:"pointer",fontSize:"14px",fontWeight:f==="style"?600:400,color:f==="style"?"#3b82f6":"#64748b",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(fh,{size:16}),gr.t2]}),y.jsxs("button",{onClick:()=>d("logic"),style:{flex:1,padding:"12px 16px",background:"transparent",border:"none",borderBottom:`2px solid ${f==="logic"?"#3b82f6":"transparent"}`,cursor:"pointer",fontSize:"14px",fontWeight:f==="logic"?600:400,color:f==="logic"?"#3b82f6":"#64748b",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(td,{size:16}),gr.t3]})]}),y.jsx("div",{style:{overflowY:"auto",flex:1},children:f==="style"?y.jsxs("div",{style:{padding:"24px"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t4}),y.jsx("input",{type:"text",value:u.label||r.label,onChange:b=>h("label",b.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t5}),y.jsx("input",{type:"number",value:u.fontSize,onChange:b=>h("fontSize",parseInt(b.target.value)||14),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t6}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsx("button",{type:"button",onClick:()=>h("textAlign","left"),style:{flex:1,padding:"8px 12px",border:`2px solid ${u.textAlign==="left"?"#3b82f6":"#e2e8f0"}`,borderRadius:"6px",background:u.textAlign==="left"?"rgba(59, 130, 246, 0.1)":"#fff",color:u.textAlign==="left"?"#3b82f6":"#64748b",cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s"},children:gr.t7}),y.jsx("button",{type:"button",onClick:()=>h("textAlign","center"),style:{flex:1,padding:"8px 12px",border:`2px solid ${u.textAlign==="center"?"#3b82f6":"#e2e8f0"}`,borderRadius:"6px",background:u.textAlign==="center"?"rgba(59, 130, 246, 0.1)":"#fff",color:u.textAlign==="center"?"#3b82f6":"#64748b",cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s"},children:gr.t8}),y.jsx("button",{type:"button",onClick:()=>h("textAlign","right"),style:{flex:1,padding:"8px 12px",border:`2px solid ${u.textAlign==="right"?"#3b82f6":"#e2e8f0"}`,borderRadius:"6px",background:u.textAlign==="right"?"rgba(59, 130, 246, 0.1)":"#fff",color:u.textAlign==="right"?"#3b82f6":"#64748b",cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s"},children:gr.t9})]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t10}),y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[y.jsx("input",{type:"color",value:u.color,onChange:b=>h("color",b.target.value),style:{width:"50px",height:"36px",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"}}),y.jsx("input",{type:"text",value:u.color,onChange:b=>h("color",b.target.value),style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}})]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t11}),y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[y.jsx("input",{type:"color",value:u.backgroundColor==="transparent"?"#ffffff":u.backgroundColor,onChange:b=>h("backgroundColor",b.target.value),style:{width:"50px",height:"36px",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"}}),y.jsx("input",{type:"text",value:u.backgroundColor,onChange:b=>h("backgroundColor",b.target.value),placeholder:"transparent",style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}})]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t12}),y.jsxs("select",{value:u.fontWeight,onChange:b=>h("fontWeight",parseInt(b.target.value)),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",cursor:"pointer",backgroundColor:"#fff"},children:[y.jsx("option",{value:"300",children:" (300)"}),y.jsx("option",{value:"400",children:gr.t13}),y.jsx("option",{value:"500",children:gr.t14}),y.jsx("option",{value:"600",children:gr.t15}),y.jsx("option",{value:"700",children:gr.t16}),y.jsx("option",{value:"800",children:gr.t17})]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t18}),y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[y.jsx("input",{type:"color",value:u.borderColor==="transparent"?"#ffffff":u.borderColor,onChange:b=>h("borderColor",b.target.value),style:{width:"50px",height:"36px",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"}}),y.jsx("input",{type:"text",value:u.borderColor,onChange:b=>h("borderColor",b.target.value),placeholder:"transparent",style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}})]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t19}),y.jsx("input",{type:"number",value:u.borderWidth,onChange:b=>h("borderWidth",parseInt(b.target.value)||0),min:"0",style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:gr.t20}),y.jsx("input",{type:"number",value:u.borderRadius,onChange:b=>h("borderRadius",parseInt(b.target.value)||0),min:"0",style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]})]}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px",justifyContent:"space-between"},children:[y.jsx("button",{onClick:t,style:{padding:"8px 16px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#b91c1c"},children:gr.t21}),y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("button",{onClick:o,style:{padding:"8px 16px",background:"transparent",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#64748b"},children:gr.t22}),y.jsx("button",{onClick:S,style:{padding:"8px 16px",background:"#3b82f6",border:"1px solid #3b82f6",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#fff",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"},children:gr.t23})]})]}),y.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[y.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"8px",fontWeight:500},children:gr.t24}),y.jsx("button",{style:{fontSize:`${u.fontSize}px`,color:u.color,backgroundColor:u.backgroundColor,fontWeight:u.fontWeight,border:`${u.borderWidth}px solid ${u.borderColor}`,borderRadius:`${u.borderRadius}px`,padding:"8px 16px",cursor:"pointer"},children:r.label})]})]}):y.jsx(gb,{button:r,onLogicChange:a,onClose:o})})]})}function gb({button:r,onLogicChange:e,onClose:t}){const[o,a]=Qe.useState(""),[s,u]=Qe.useState(null),[l,f]=Qe.useState(!1),[d,h]=Qe.useState(null),[S,b]=Qe.useState((r==null?void 0:r.kind)||"custom"),[p,j]=Qe.useState((r==null?void 0:r.prompt)||""),N=async()=>{if(!o.trim()){h("");return}f(!0),h(null);try{const w=await fetch("/api/multi/button-logic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buttonId:r==null?void 0:r.id,naturalLanguage:o.trim(),currentConfig:{label:r==null?void 0:r.label,kind:r==null?void 0:r.kind,prompt:r==null?void 0:r.prompt}})});if(!w.ok){const k=await w.json();throw new Error(k.error||"")}const R=(await w.json()).suggestion;u(R),R.kind&&b(R.kind),R.prompt&&j(R.prompt)}catch(w){h(w.message||"")}finally{f(!1)}},A=()=>{e({kind:S,prompt:p}),t()};return y.jsx("div",{style:{padding:"24px"},children:y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"6px"},children:[y.jsx("h4",{style:{margin:"0 0 8px",fontSize:"13px",color:"#666"},children:gr.t25}),y.jsxs("div",{style:{fontSize:"12px",display:"grid",gap:"4px"},children:[y.jsxs("div",{children:[y.jsx("strong",{children:gr.t26})," ",(r==null?void 0:r.kind)||gr.t41]}),(r==null?void 0:r.prompt)&&y.jsxs("div",{children:[y.jsx("strong",{children:gr.t27})," ",r.prompt.substring(0,50),r.prompt.length>50?"...":""]})]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500},children:gr.t28}),y.jsx("textarea",{rows:3,value:o,onChange:w=>a(w.target.value),placeholder:gr.t29,style:{width:"100%",fontSize:"13px",resize:"vertical",padding:"8px",borderRadius:"6px",border:"1px solid #e2e8f0"}}),y.jsxs("button",{className:"primary small",onClick:N,disabled:l||!o.trim(),style:{marginTop:"8px",display:"flex",alignItems:"center",gap:"4px"},children:[y.jsx(td,{size:14}),l?gr.t42:gr.t43]}),d&&y.jsx("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"8px"},children:d})]}),s&&y.jsxs("div",{style:{background:"#e0f2fe",padding:"12px",borderRadius:"6px",border:"1px solid #7dd3fc"},children:[y.jsx("h4",{style:{margin:"0 0 8px",fontSize:"13px",color:"#0369a1"},children:gr.t30}),y.jsx("div",{style:{fontSize:"12px",color:"#0c4a6e"},children:s.explanation||gr.t44})]}),y.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"16px"},children:[y.jsx("h4",{style:{margin:"0 0 12px",fontSize:"13px",fontWeight:500},children:gr.t31}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px"},children:gr.t32}),y.jsxs("select",{value:S,onChange:w=>b(w.target.value),style:{width:"100%",fontSize:"13px",padding:"8px",borderRadius:"6px",border:"1px solid #e2e8f0",background:"white"},children:[y.jsx("option",{value:"outline_extract",children:gr.t33}),y.jsx("option",{value:"dispatch",children:gr.t34}),y.jsx("option",{value:"final_generate",children:gr.t35}),y.jsx("option",{value:"upload_file",children:gr.t36}),y.jsx("option",{value:"custom",children:gr.t37})]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px"},children:gr.t38}),y.jsx("textarea",{rows:3,value:p,onChange:w=>j(w.target.value),placeholder:gr.t39,style:{width:"100%",fontSize:"13px",resize:"vertical",padding:"8px",borderRadius:"6px",border:"1px solid #e2e8f0"}})]}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px",justifyContent:"flex-end"},children:[y.jsx("button",{onClick:t,style:{padding:"8px 16px",background:"transparent",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#64748b"},children:gr.t22}),y.jsx("button",{className:"primary",onClick:A,style:{padding:"8px 16px",background:"#3b82f6",border:"1px solid #3b82f6",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#fff",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"},children:gr.t40})]})]})]})]})})}function og({onClose:r}){return y.jsx("div",{onClick:r,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:9999,backdropFilter:"blur(4px)"}})}const yb={t1:""};function Cu({button:r,isEditing:e,panelId:t,onMouseDown:o,onStyleEdit:a,onClick:s,children:u}){const f={...{fontSize:14,color:"#1e293b",backgroundColor:"transparent",fontWeight:500,borderColor:"#e2e8f0",borderWidth:1,borderRadius:12},...r.style||{}},d=r.enabled===!1,h=!!r.disabled,S=b=>{const p=["final_generate","fill_summary","dispatch"],j=["outline_extract","text_snippet"],N=["tab_config","view_doc"],A=["batch_replay","select_all","deselect_all","clear_selection"],w=["group_new","group_update","group_replay"],I=["delete_selected","group_delete"],R=["clear","upload","clear_records","group_rename"];return p.includes(b)?{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#ffffff",border:"none",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.3)",fontWeight:600}:j.includes(b)?{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#ffffff",border:"none",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)",fontWeight:600}:N.includes(b)?{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#ffffff",border:"none",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.3)",fontWeight:600}:A.includes(b)?{background:"#f8fafc",color:"#475569",border:"1px solid #e2e8f0",boxShadow:"none",fontWeight:500}:w.includes(b)?{background:"#eff6ff",color:"#2563eb",border:"1px solid #93c5fd",boxShadow:"none",fontWeight:600}:I.includes(b)?{background:"#fef2f2",color:"#dc2626",border:"1px solid #fca5a5",boxShadow:"none",fontWeight:500}:R.includes(b)?{background:"#ffffff",color:"#374151",border:"1px solid #d1d5db",boxShadow:"none",fontWeight:500}:null};if(!e){const b=A=>A==="left"?"flex-start":A==="right"?"flex-end":"center",p=t==="processing-records-toolbar",N=f.background||f.backgroundColor!=="transparent"?{}:S(r.kind)||{};return y.jsx("button",{onClick:()=>s==null?void 0:s(r),style:{position:p?"relative":"absolute",left:p?"auto":`${r.left}px`,top:p?"auto":`${r.top}px`,width:p?"auto":`${r.width}px`,height:`${r.height}px`,boxSizing:"border-box",minWidth:"auto",minHeight:"24px",display:d?"none":"inline-flex",alignItems:"center",justifyContent:b(f.textAlign),zIndex:10,fontSize:`${f.fontSize}px`,color:f.color||N.color,background:f.background||N.background||f.backgroundColor,fontWeight:f.fontWeight||N.fontWeight,border:f.border||N.border||`${f.borderWidth}px solid ${f.borderColor}`,borderRadius:f.borderRadius?`${f.borderRadius}px`:"12px",boxShadow:f.boxShadow||N.boxShadow||"none",transform:f.transform||"none",cursor:h?"not-allowed":"pointer",transition:"all 0.2s",padding:"0 12px",pointerEvents:"auto",textAlign:f.textAlign||"center",opacity:h?.5:1,whiteSpace:"nowrap",flexShrink:0},className:"ghost",disabled:h,children:r.label||u})}return y.jsxs("div",{style:{position:"absolute",left:`${r.left}px`,top:`${r.top}px`,width:`${r.width}px`,height:`${r.height}px`,border:"2px solid #3b82f6",borderRadius:"4px",background:r.enabled?"rgba(59, 130, 246, 0.05)":"rgba(156, 163, 175, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",zIndex:100,pointerEvents:"auto",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)",transition:r.enabled?"box-shadow 0.2s":"none",boxSizing:"border-box",overflow:"visible"},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"move")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.35)")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.2)")},children:[a&&y.jsx("button",{className:"style-edit-handle",onClick:b=>{b.stopPropagation(),a(t,r.id)},style:{position:"absolute",top:"-8px",right:"-8px",transform:"none",width:"10px",height:"10px",borderRadius:"0",background:"transparent",color:"#3b82f6",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:0,fontWeight:600,boxShadow:"none",zIndex:150,padding:0},title:yb.t1,children:y.jsxs("svg",{width:"8",height:"8",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[y.jsx("path",{d:"M12 20h9"}),y.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),y.jsx("div",{style:{flex:1,fontSize:`${f.fontSize}px`,color:r.enabled?f.color:"#9ca3af",fontWeight:f.fontWeight,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none",padding:"0 8px",display:"flex",alignItems:"center",justifyContent:f.textAlign==="left"?"flex-start":f.textAlign==="right"?"flex-end":"center",textAlign:f.textAlign||"center"},children:r.label||u}),y.jsx("div",{style:{position:"absolute",right:-4,top:0,width:"8px",height:"100%",cursor:"ew-resize",background:"linear-gradient(90deg, transparent, #3b82f6)",opacity:0,transition:"opacity 0.2s",zIndex:110},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"resize-e")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0.8")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0")}}),y.jsx("div",{style:{position:"absolute",bottom:-4,left:0,height:"8px",width:"100%",cursor:"ns-resize",background:"linear-gradient(180deg, transparent, #3b82f6)",opacity:0,transition:"opacity 0.2s",zIndex:110},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"resize-s")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0.8")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0")}}),y.jsx("div",{style:{position:"absolute",right:-4,bottom:-4,width:"12px",height:"12px",cursor:"nwse-resize",background:"linear-gradient(135deg, transparent 50%, #3b82f6 50%)",borderRadius:"0 0 4px 0",opacity:0,transition:"opacity 0.2s",zIndex:120},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"resize-se")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.opacity="1")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0")}})]})}function vb({panelId:r,buttons:e,isEditing:t,onButtonMouseDown:o,onStyleEdit:a,onClick:s,style:u={}}){const l={position:"relative",width:"100%",height:"40px",marginBottom:"8px",background:t?"rgba(59, 130, 246, 0.02)":"transparent",borderRadius:t?"4px":"0",border:t?"1px dashed #3b82f6":"none",padding:t?"4px":"0"};return y.jsx("div",{style:{...l,...u},children:e&&e.map(f=>y.jsx(Cu,{button:f,isEditing:t,panelId:r,onMouseDown:o,onStyleEdit:a,onClick:s,children:f.label},f.id))})}const Ic={t1:" ",t2:' "',t3:'" ',t4:"",t5:"",t6:"",t7:"",t8:"  - ",t9:""};function Sl({panelId:r,panelName:e,isEditing:t,position:o,onPositionChange:a,children:s,className:u="",style:l={},hidePanelHeader:f=!1,dragHandleSelector:d="h2",onTitleEdit:h,titleStyle:S={},headerActions:b,editHeaderActions:p,bounds:j}){const N=Qe.useRef(null),[A,w]=Qe.useState(!1),[I,R]=Qe.useState(null),[k,G]=Qe.useState(null),re=200,Q=150,ie=(le,oe="move")=>{if(t){if(oe==="move"){const B=le.target,te=B.tagName.toLowerCase();if(te!=="h2"&&!B.closest(d)&&(["input","textarea","button","select","label","a","option"].includes(te)||B.isContentEditable||B.closest("button")||B.closest("a")||B.closest(".no-drag")))return}le.preventDefault(),w(!0),R(oe),G({x:le.clientX,y:le.clientY,startPos:o})}};if(Qe.useEffect(()=>{if(!A||!k)return;const le=j&&Number.isFinite(j.width)&&Number.isFinite(j.height)?{width:j.width,height:j.height}:null,oe=te=>{const P=te.clientX-k.x,be=te.clientY-k.y;if(I==="move"){const Ae=k.startPos.left+P,ge=k.startPos.top+be,xe=(le?le.width:window.innerWidth)-100,ke=(le?le.height:window.innerHeight)-100;a({...o,left:Math.max(0,Math.min(Ae,Math.max(0,xe))),top:Math.max(0,Math.min(ge,Math.max(0,ke)))})}else if(I&&I.startsWith("resize")){let{left:Ae,top:ge,width:xe,height:ke}=k.startPos;if(I.includes("e"))xe=Math.max(re,xe+P);else if(I.includes("w")){const Fe=Math.max(re,xe-P);Ae+=xe-Fe,xe=Fe}if(I.includes("s"))ke=Math.max(Q,ke+be);else if(I.includes("n")){const Fe=Math.max(Q,ke-be);ge+=ke-Fe,ke=Fe}le&&(Ae=Math.max(0,Math.min(Ae,le.width-re)),ge=Math.max(0,Math.min(ge,le.height-Q)),xe=Math.min(xe,Math.max(re,le.width-Ae)),ke=Math.min(ke,Math.max(Q,le.height-ge))),a({left:Ae,top:ge,width:xe,height:ke})}},B=()=>{w(!1),R(null),G(null)};return document.addEventListener("mousemove",oe),document.addEventListener("mouseup",B),()=>{document.removeEventListener("mousemove",oe),document.removeEventListener("mouseup",B)}},[A,k,I,o,a,t]),!t)return y.jsxs("div",{className:`editable-panel-view ${u}`,style:{...l,position:o?"absolute":"relative",left:o?`${o.left}px`:void 0,top:o?`${o.top}px`:void 0,width:o?`${o.width}px`:"100%",height:o?`${o.height}px`:"100%",background:"white",border:"1px solid #dadce0",borderRadius:"12px",boxShadow:"0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15)",padding:"12px",display:"flex",flexDirection:"column",overflow:"auto",zIndex:l.zIndex||1},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 0 12px 0",paddingBottom:"8px",borderBottom:"2px solid #e5e7eb"},children:[y.jsx("h2",{style:{margin:0,fontSize:"14px",fontWeight:600,color:"#1f2937",...S},children:e}),b&&y.jsx("div",{className:"panel-header-actions",style:{display:"flex",alignItems:"center",gap:"8px",zIndex:10,position:"relative",pointerEvents:"auto"},children:b})]}),s]});if(!o||o.left===void 0||o.top===void 0||o.width===void 0||o.height===void 0)return console.warn(`[EditableLayoutPanel] Panel "${e}" (${r}) has invalid position:`,o),y.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",padding:"20px",background:"#fff3cd",border:"2px dashed #ff6b6b",borderRadius:"8px",textAlign:"center",zIndex:9999},children:[y.jsx("h3",{style:{margin:"0 0 8px 0",color:"#856404"},children:Ic.t1}),y.jsxs("p",{style:{margin:0},children:[Ic.t2,e,Ic.t3]}),y.jsx("p",{style:{fontSize:"12px",margin:"8px 0 0 0",color:"#666"},children:Ic.t4})]});const U={...l,position:"absolute",left:`${o.left}px`,top:`${o.top}px`,width:`${o.width}px`,height:`${o.height}px`,border:"2px solid #3b82f6",background:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.2)",borderRadius:"8px",padding:"12px",display:"flex",flexDirection:"column",zIndex:A?1e3:10,cursor:A?"grabbing":"grab",overflow:"visible"};return y.jsxs("div",{ref:N,className:`editable-panel ${u}`,style:U,onMouseDown:le=>{(t||d&&le.target.closest(d))&&ie(le,"move")},children:[!f&&y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0 0 8px 0",paddingBottom:"6px",borderBottom:"2px solid #e5e7eb",position:"relative",zIndex:10},children:[y.jsx("h2",{style:{margin:0,cursor:t?"pointer":"grab",userSelect:"none",fontSize:"14px",fontWeight:600,...S},onMouseDown:le=>!t&&ie(le,"move"),children:y.jsxs("span",{onClick:le=>{t&&h&&(le.stopPropagation(),h(r))},onMouseDown:le=>t&&le.stopPropagation(),style:{cursor:t?"pointer":"inherit",display:"inline-block",border:t?"1px dashed #cbd5e1":"none",borderRadius:"4px",padding:t?"2px 6px":"0",margin:t?"-2px -6px":"0",transition:"all 0.2s",backgroundColor:t?"rgba(255, 255, 255, 0.5)":"transparent"},title:t?Ic.t9:"",children:[e,t&&y.jsx("span",{style:{marginLeft:"4px",fontSize:"14px",color:"#3b82f6"},children:""})]})}),p&&y.jsx("div",{className:"panel-header-actions",style:{display:"flex",alignItems:"center",gap:"8px",zIndex:11,pointerEvents:"auto"},onMouseDown:le=>le.stopPropagation(),children:p})]}),y.jsx("div",{style:{flex:1,overflow:"auto",minHeight:0,position:"relative",zIndex:1},children:s}),t&&y.jsx("div",{style:{position:"absolute",left:0,right:0,top:-6,height:"12px",cursor:"ns-resize",zIndex:100,background:"rgba(59, 130, 246, 0.3)"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-n")}}),t&&y.jsx("div",{style:{position:"absolute",left:-6,top:0,bottom:0,width:"12px",cursor:"ew-resize",zIndex:100,background:"rgba(59, 130, 246, 0.3)"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-w")}}),t&&y.jsx("div",{style:{position:"absolute",left:-6,top:-6,width:"16px",height:"16px",cursor:"nwse-resize",zIndex:101,background:"rgba(59, 130, 246, 0.5)",borderRadius:"4px"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-nw")}}),t&&y.jsx("div",{style:{position:"absolute",right:-6,top:-6,width:"16px",height:"16px",cursor:"nesw-resize",zIndex:101,background:"rgba(59, 130, 246, 0.5)",borderRadius:"4px"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-ne")}}),t&&y.jsx("div",{style:{position:"absolute",left:-6,bottom:-6,width:"16px",height:"16px",cursor:"nesw-resize",zIndex:101,background:"rgba(59, 130, 246, 0.5)",borderRadius:"4px"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-sw")}}),t&&y.jsx("div",{style:{position:"absolute",right:-6,top:0,bottom:0,width:"12px",cursor:"ew-resize",zIndex:100,background:"rgba(59, 130, 246, 0.4)",opacity:.7,transition:"opacity 0.2s"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-e")},onMouseEnter:le=>le.target.style.opacity="1",onMouseLeave:le=>le.target.style.opacity="0.7",title:Ic.t5}),t&&y.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:-6,height:"12px",cursor:"ns-resize",zIndex:100,background:"rgba(59, 130, 246, 0.4)",opacity:.7,transition:"opacity 0.2s"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-s")},onMouseEnter:le=>le.target.style.opacity="1",onMouseLeave:le=>le.target.style.opacity="0.7",title:Ic.t6}),t&&y.jsx("div",{style:{position:"absolute",right:-6,bottom:-6,width:"24px",height:"24px",cursor:"nwse-resize",zIndex:101,background:"#3b82f6",borderRadius:"4px",opacity:.8,transition:"opacity 0.2s"},onMouseDown:le=>{le.stopPropagation(),ie(le,"resize-se")},onMouseEnter:le=>le.target.style.opacity="1",onMouseLeave:le=>le.target.style.opacity="0.8",title:Ic.t7})]})}function Jv({isEditing:r,children:e,style:t={},size:o,onSizeChange:a,minWidth:s=400,minHeight:u=300}){const l=Qe.useRef(null),f=Qe.useRef(null);Qe.useEffect(()=>{if(!r||!a)return;const b=j=>{const N=f.current;if(!N)return;const A=j.clientX-N.startX,w=j.clientY-N.startY,I={width:N.startWidth,height:N.startHeight};(N.type==="e"||N.type==="se")&&(I.width=Math.max(s,N.startWidth+A)),(N.type==="s"||N.type==="se")&&(I.height=Math.max(u,N.startHeight+w)),a(I)},p=()=>{f.current=null};return document.addEventListener("mousemove",b),document.addEventListener("mouseup",p),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",p)}},[r,a,s,u]);const d=(b,p)=>{if(!r||!a||!l.current)return;const j=l.current.getBoundingClientRect();f.current={type:p,startX:b.clientX,startY:b.clientY,startWidth:j.width,startHeight:j.height},b.preventDefault()},h=o||{};if(!r)return y.jsx("div",{className:"layout-static-container",style:{...t,position:"relative",width:h.width?`${h.width}px`:"100%",height:h.height?`${h.height}px`:"100%",overflow:"hidden"},children:e});const S={...t,position:"relative",width:h.width?`${h.width}px`:"100%",height:h.height?`${h.height}px`:"auto",background:"rgba(59, 130, 246, 0.02)",border:"2px dashed #3b82f6",borderRadius:"8px",padding:"20px",marginBottom:"30px",overflow:"visible"};return y.jsxs("div",{ref:l,className:"layout-edit-container",style:S,children:[y.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",background:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:600,zIndex:999},children:Ic.t8}),y.jsx("div",{style:{position:"absolute",right:-6,top:0,bottom:0,width:"16px",cursor:"ew-resize",zIndex:1e3,background:"rgba(59, 130, 246, 0.4)"},onMouseDown:b=>d(b,"e")}),y.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:-6,height:"16px",cursor:"ns-resize",zIndex:1e3,background:"rgba(59, 130, 246, 0.4)"},onMouseDown:b=>d(b,"s")}),y.jsx("div",{style:{position:"absolute",right:-6,bottom:-6,width:"28px",height:"28px",cursor:"nwse-resize",background:"#3b82f6",borderRadius:"4px",zIndex:1001},onMouseDown:b=>d(b,"se")}),e]})}const sp={t1:"",t2:"",t3:""};function sg({buttons:r,isEditing:e,onMouseDown:t,onStyleEdit:o,onClick:a,onDelete:s}){return!r||r.length===0?null:y.jsx(y.Fragment,{children:r.map(u=>y.jsx(wb,{button:u,isEditing:e,onMouseDown:t,onStyleEdit:o,onClick:a,onDelete:s},u.id))})}function wb({button:r,isEditing:e,onMouseDown:t,onStyleEdit:o,onClick:a,onDelete:s}){const l={...{fontSize:14,color:"#1e293b",backgroundColor:"transparent",fontWeight:500,borderColor:"#e2e8f0",borderWidth:1,borderRadius:6},...r.style||{}},f=d=>d==="left"?"flex-start":d==="right"?"flex-end":"center";if(!e){const d=h=>{if(console.log("[GlobalButton handleClick] Event triggered for:",r.label),console.log("[GlobalButton handleClick] button:",r),console.log("[GlobalButton handleClick] onClick typeof:",typeof a),console.log("[GlobalButton handleClick] onClick exists:",!!a),a){console.log("[GlobalButton handleClick] Calling onClick with button:",r);try{a(r),console.log("[GlobalButton handleClick] onClick call completed")}catch(S){console.error("[GlobalButton handleClick] onClick threw error:",S)}}else console.warn("[GlobalButton] No onClick handler provided")};return y.jsx("button",{onClick:d,style:{position:"absolute",left:`${r.x}px`,top:`${r.y}px`,width:`${r.width}px`,height:`${r.height}px`,minWidth:"auto",minHeight:"24px",display:r.enabled?"inline-flex":"none",alignItems:"center",justifyContent:f(l.textAlign),zIndex:r.zIndex||9e3,fontSize:`${l.fontSize}px`,color:l.color,backgroundColor:l.backgroundColor,fontWeight:l.fontWeight,border:`${l.borderWidth}px solid ${l.borderColor}`,borderRadius:`${l.borderRadius}px`,cursor:"pointer",transition:"all 0.2s",padding:"0 8px",pointerEvents:"auto",textAlign:l.textAlign||"center"},className:"ghost",disabled:!r.enabled,children:r.label})}return y.jsxs("div",{style:{position:"absolute",left:`${r.x}px`,top:`${r.y}px`,width:`${r.width}px`,height:`${r.height}px`,border:"2px solid #3b82f6",borderRadius:"4px",background:r.enabled?"rgba(59, 130, 246, 0.05)":"rgba(156, 163, 175, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",zIndex:r.zIndex||9100,pointerEvents:"auto",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)",transition:r.enabled?"box-shadow 0.2s":"none"},onMouseDown:d=>{d.stopPropagation(),t(d,r.id,"move")},onMouseEnter:d=>{d.currentTarget&&(d.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.35)")},onMouseLeave:d=>{d.currentTarget&&(d.currentTarget.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.2)")},children:[o&&y.jsx("button",{onClick:d=>{d.stopPropagation(),o(r.id)},style:{position:"absolute",top:"-12px",right:"-12px",width:"24px",height:"24px",borderRadius:"50%",background:"#3b82f6",color:"#fff",border:"2px solid #fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",zIndex:150,padding:0},title:sp.t1,children:""}),y.jsx("div",{style:{flex:1,fontSize:`${l.fontSize}px`,color:r.enabled?l.color:"#9ca3af",fontWeight:l.fontWeight,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none",padding:"0 8px",display:"flex",alignItems:"center",justifyContent:f(l.textAlign),textAlign:l.textAlign||"center"},children:r.label}),y.jsx("div",{onMouseDown:d=>{d.stopPropagation(),t(d,r.id,"resize")},style:{position:"absolute",right:"-6px",bottom:"-6px",width:"16px",height:"16px",background:"#3b82f6",border:"2px solid #fff",borderRadius:"50%",cursor:"nwse-resize",zIndex:120,boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"}}),s&&y.jsx("button",{onClick:d=>{d.stopPropagation(),confirm(sp.t3)&&s(r.id)},style:{position:"absolute",top:"-12px",left:"-12px",width:"24px",height:"24px",borderRadius:"50%",background:"#ef4444",color:"#fff",border:"2px solid #fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 6px rgba(239, 68, 68, 0.4)",zIndex:150,padding:0},title:sp.t2,children:""})]})}const La={t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:" (",t9:"",t10:"",t11:"",t12:""};function xb({deletedButtons:r,deletedBlocks:e=[],onRestore:t,onPermanentDelete:o,onRestoreBlock:a,onPermanentDeleteBlock:s,onClearAll:u,onClose:l,onSave:f,onCancel:d,onReset:h}){const S={"input-form-panel":"","document-list-panel":"","preview-textarea":"","preview-toolbar":"","processing-panel":"","operations-panel":""};return y.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"300px",height:"100vh",backgroundColor:"#fff",boxShadow:"-4px 0 12px rgba(0, 0, 0, 0.1)",zIndex:1e4,display:"flex",flexDirection:"column",borderLeft:"1px solid #e2e8f0",transition:"transform 0.3s ease-in-out"},children:[y.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#f8fafc"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:"#1e293b"},children:La.t1}),y.jsx("span",{style:{backgroundColor:"#e2e8f0",padding:"2px 6px",borderRadius:"99px",fontSize:"12px",color:"#64748b",fontWeight:600},children:r.length+e.length})]}),y.jsx("button",{onClick:l,className:"ghost small",style:{padding:"4px"},title:La.t2,children:y.jsx(nd,{size:20})})]}),y.jsx("div",{style:{padding:"16px",borderBottom:"1px solid #e2e8f0",display:"flex",gap:"8px",flexDirection:"column"},children:y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsxs("button",{onClick:d,className:"secondary",style:{flex:1,justifyContent:"center",gap:"8px"},children:[y.jsx(Gx,{size:16}),La.t3]}),y.jsxs("button",{onClick:h,className:"ghost danger-text",style:{flex:1,justifyContent:"center",gap:"8px",border:"1px solid #fee2e2"},children:[y.jsx(Yv,{size:16}),La.t4]})]})}),y.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[r.length===0&&e.length===0?y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"12px"},children:[y.jsx(Cx,{size:48,strokeWidth:1}),y.jsx("p",{children:La.t5})]}):r.map(b=>y.jsxs("div",{style:{padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",backgroundColor:"#fff",display:"flex",flexDirection:"column",gap:"8px",transition:"all 0.2s"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[y.jsx("span",{style:{fontWeight:500,color:"#334155",fontSize:"14px"},children:b.label||La.t10}),y.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:new Date(b.deletedAt||Date.now()).toLocaleTimeString()})]}),y.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:[y.jsxs("button",{onClick:()=>t(b.id),className:"secondary small",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[y.jsx(rg,{size:14}),La.t6]}),y.jsxs("button",{onClick:()=>{confirm(La.t11)&&o(b.id)},className:"danger small",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[y.jsx(gf,{size:14}),La.t7]})]})]},b.id)),e.length>0&&y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:r.length>0?"8px":"0"},children:[y.jsxs("div",{style:{fontSize:"12px",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.05em"},children:[La.t8,e.length,")"]}),e.map(b=>y.jsxs("div",{style:{padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",backgroundColor:"#fff",display:"flex",flexDirection:"column",gap:"8px"},children:[y.jsx("div",{style:{fontWeight:500,color:"#334155",fontSize:"14px"},children:S[b]||b}),y.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:y.jsxs("button",{onClick:()=>a(b),className:"secondary small",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[y.jsx(rg,{size:14}),La.t6]})})]},b))]})]}),r.length>0&&y.jsx("div",{style:{padding:"16px",borderTop:"1px solid #e2e8f0",backgroundColor:"#f8fafc"},children:y.jsxs("button",{onClick:()=>{confirm(La.t12)&&u()},className:"danger full-width",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(gf,{size:16}),La.t9]})})]})}const ag={t4:"",t5:""};function lg({docs:r,setDocs:e,selectedDocId:t,setSelectedDocId:o,deleteDoc:a,uploadInputRef:s,handleFilePick:u,replayDirConfig:l,setReplayDirConfig:f,saveReplayDirConfig:d,replayDirConfigSaving:h}){const[S,b]=Qe.useState(null),[p,j]=Qe.useState(null),[N,A]=Qe.useState(!1),w=(Q,ie)=>{b(ie),A(!0),Q.dataTransfer.effectAllowed="move",Q.dataTransfer.setData("text/plain",ie),Q.target&&Q.dataTransfer.setDragImage(Q.target,20,20)},I=(Q,ie)=>{Q.preventDefault(),Q.stopPropagation(),Q.dataTransfer.dropEffect="move",ie!==S&&j(ie)},R=Q=>{Q.preventDefault(),j(null)},k=(Q,ie)=>{if(Q.preventDefault(),Q.stopPropagation(),!S||S===ie){b(null),j(null),A(!1);return}e&&e(U=>{const le=[...U],oe=le.findIndex(P=>P.id===S),B=le.findIndex(P=>P.id===ie);if(oe===-1||B===-1)return U;const[te]=le.splice(oe,1);return le.splice(B,0,te),le}),b(null),j(null),A(!1)},G=()=>{b(null),j(null),A(!1)},re=Q=>{N||o(Q)};return y.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[y.jsxs("div",{className:"list",style:{flex:1,overflowY:"auto"},children:[r.length===0&&y.jsxs("div",{className:"hint",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"8px"},children:[y.jsx(ed,{size:32,opacity:.2}),y.jsx("span",{children:ag.t4})]}),r.map(Q=>y.jsxs("div",{className:`list-item ${t===Q.id?"active":""} ${S===Q.id?"dragging":""} ${p===Q.id?"drag-over":""}`,onClick:()=>re(Q.id),draggable:"true",onDragStart:ie=>w(ie,Q.id),onDragOver:ie=>I(ie,Q.id),onDragLeave:R,onDrop:ie=>k(ie,Q.id),onDragEnd:G,style:{cursor:"grab",opacity:S===Q.id?.5:1,borderTop:p===Q.id?"2px solid #3b82f6":"none",background:p===Q.id?"#f0f9ff":void 0,transition:"border-top 0.15s ease, background 0.15s ease"},children:[y.jsx("div",{className:"drag-handle",style:{cursor:"grab",marginRight:"8px",color:"#9ca3af",display:"flex",alignItems:"center"},children:y.jsx(w1,{size:14})}),y.jsx("div",{style:{fontWeight:500,flex:1,cursor:"pointer"},children:Q.name}),y.jsx("div",{className:"section-actions",style:{justifyContent:"flex-end"},children:y.jsx("button",{type:"button",className:"ghost icon-btn",title:ag.t5,onClick:ie=>{ie.stopPropagation(),a(Q.id)},style:{width:"24px",height:"24px",padding:"4px"},children:y.jsx(gf,{size:14})})})]},Q.id))]}),y.jsxs("div",{style:{padding:"8px 10px",background:"#f8fafc",borderTop:"1px solid #e2e8f0",borderRadius:"0 0 6px 6px",flexShrink:0},children:[y.jsxs("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[y.jsx(zx,{size:12}),y.jsx("span",{children:""}),y.jsx("span",{style:{fontSize:"10px",color:"#94a3b8"},children:"/"})]}),y.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[y.jsx("input",{type:"text",value:(l==null?void 0:l.dirPath)||"",onChange:Q=>f&&f(ie=>({...ie,dirPath:Q.target.value})),placeholder:" C:\\docs  /home/docs",style:{flex:1,padding:"5px 8px",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"12px",background:"#fff"}}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:d,disabled:h,style:{padding:"4px 10px",fontSize:"11px",whiteSpace:"nowrap"},children:h?"...":""})]})]}),y.jsx("input",{type:"file",accept:".txt,.md,.pdf,.docx",multiple:!0,ref:s,style:{display:"none"},onChange:Q=>void u(Q)})]})}const bb={t1:""};function Ra({blockId:r,panelId:e,isEditing:t,position:o,onPositionChange:a,onDelete:s,hidden:u,children:l,allowChildPointerEvents:f=!1,minWidth:d=50,minHeight:h=30}){const[S,b]=Qe.useState(!1),[p,j]=Qe.useState(null),[N,A]=Qe.useState(null),w=(R,k="move")=>{t&&(R.stopPropagation(),R.preventDefault(),b(!0),j(k),A({x:R.clientX,y:R.clientY,startPos:o}))};if(Qe.useEffect(()=>{if(!S||!N)return;const R=G=>{const re=G.clientX-N.x,Q=G.clientY-N.y;if(p==="move"){const ie=N.startPos.left+re,U=N.startPos.top+Q;a({...o,left:Math.max(0,ie),top:Math.max(0,U)})}else if(p&&p.startsWith("resize")){let{left:ie,top:U,width:le,height:oe}=N.startPos;if(p.includes("e"))le=Math.max(d,le+re);else if(p.includes("w")){const B=Math.max(d,le-re);ie+=le-B,le=B}if(p.includes("s"))oe=Math.max(h,oe+Q);else if(p.includes("n")){const B=Math.max(h,oe-Q);U+=oe-B,oe=B}a({left:ie,top:U,width:le,height:oe})}},k=()=>{b(!1),j(null),A(null)};return document.addEventListener("mousemove",R),document.addEventListener("mouseup",k),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",k)}},[S,N,p,o,a,d,h]),u)return null;if(!t)return y.jsx("div",{style:{position:"absolute",left:`${(o==null?void 0:o.left)||0}px`,top:`${(o==null?void 0:o.top)||0}px`,width:`${(o==null?void 0:o.width)||"100%"}px`,height:`${(o==null?void 0:o.height)||"100%"}px`,overflow:"auto"},children:l});const I={position:"absolute",left:`${o.left}px`,top:`${o.top}px`,width:`${o.width}px`,height:`${o.height}px`,border:"2px dashed #10b981",background:"rgba(16, 185, 129, 0.05)",borderRadius:"6px",zIndex:S?100:5,cursor:S?"grabbing":"grab",overflow:"auto"};return y.jsxs("div",{style:I,onMouseDown:R=>w(R,"move"),children:[y.jsx("div",{style:{width:"100%",height:"100%",pointerEvents:f?"auto":"none"},children:l}),["e","s","se","w","n","nw","ne","sw"].map(R=>{R.length>1;const k={position:"absolute",zIndex:10,cursor:R.includes("n")||R.includes("s")?R.includes("e")||R.includes("w")?`${R.includes("n")?"ne":"se"}sw-resize`:"ns-resize":"ew-resize"};return R==="e"?Object.assign(k,{right:0,top:0,bottom:0,width:"10px"}):R==="s"?Object.assign(k,{bottom:0,left:0,right:0,height:"10px"}):R==="w"?Object.assign(k,{left:0,top:0,bottom:0,width:"10px"}):R==="n"?Object.assign(k,{top:0,left:0,right:0,height:"10px"}):R==="se"?Object.assign(k,{right:0,bottom:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"0 0 6px 0"}):R==="sw"?Object.assign(k,{left:0,bottom:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"0 0 0 6px"}):R==="ne"?Object.assign(k,{right:0,top:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"0 6px 0 0"}):R==="nw"&&Object.assign(k,{left:0,top:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"6px 0 0 0"}),y.jsx("div",{style:k,onMouseDown:G=>{G.stopPropagation(),w(G,`resize-${R}`)}},R)}),s&&y.jsx("div",{style:{position:"absolute",top:-10,right:-10,width:20,height:20,background:"#ef4444",color:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:101,boxShadow:"0 2px 4px rgba(0,0,0,0.2)",fontSize:"14px",fontWeight:"bold"},onMouseDown:R=>{R.stopPropagation(),R.preventDefault()},onClick:R=>{R.stopPropagation(),s()},title:bb.t1,children:""})]})}const _b="modulepreload",Sb=function(r){return"/"+r},cg={},lf=function(e,t,o){let a=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=u(t.map(d=>{if(d=Sb(d),d in cg)return;cg[d]=!0;const h=d.endsWith(".css"),S=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${S}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":_b,h||(b.as="script"),b.crossOrigin="",b.href=d,f&&b.setAttribute("nonce",f),document.head.appendChild(b),h)return new Promise((p,j)=>{b.addEventListener("load",p),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(u){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=u,window.dispatchEvent(l),!l.defaultPrevented)throw u}return a.then(u=>{for(const l of u||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var kb=Object.defineProperty,Ab=Object.defineProperties,Nb=Object.getOwnPropertyDescriptors,ug=Object.getOwnPropertySymbols,Eb=Object.prototype.hasOwnProperty,Tb=Object.prototype.propertyIsEnumerable,x1=(r,e,t)=>e in r?kb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zr=(r,e)=>{for(var t in e||(e={}))Eb.call(e,t)&&x1(r,t,e[t]);if(ug)for(var t of ug(e))Tb.call(e,t)&&x1(r,t,e[t]);return r},yf=(r,e)=>Ab(r,Nb(e)),kt=(r,e,t)=>x1(r,typeof e!="symbol"?e+"":e,t),Cb=(r,e,t)=>new Promise((o,a)=>{var s=f=>{try{l(t.next(f))}catch(d){a(d)}},u=f=>{try{l(t.throw(f))}catch(d){a(d)}},l=f=>f.done?o(f.value):Promise.resolve(f.value).then(s,u);l((t=t.apply(r,e)).next())});class dh{constructor(e){kt(this,"rootKey"),this.rootKey=e}}const Lb=Object.seal({});class Rt extends dh{constructor(e){super(e),kt(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const o=this.root.map(a=>a instanceof dh?a.prepForXml(e):a).filter(a=>a!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((t=o[0])!=null&&t._attr)?o[0]:o:Lb}}addChildElement(e){return this.root.push(e),this}}class vh extends Rt{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class dr extends dh{constructor(e){super("_attr"),kt(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([o,a])=>{if(a!==void 0){const s=this.xmlKeys&&this.xmlKeys[o]||o;t[s]=a}}),{_attr:t}}}class wh extends dh{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:a,value:s})=>yf(Zr({},o),{[a]:s}),{})}}}class _o extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ap={},Id={exports:{}},fg;function U1(){if(fg)return Id.exports;fg=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(G,re,Q){return Function.prototype.apply.call(G,re,Q)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(G){return Object.getOwnPropertyNames(G).concat(Object.getOwnPropertySymbols(G))}:t=function(G){return Object.getOwnPropertyNames(G)};function o(k){console&&console.warn&&console.warn(k)}var a=Number.isNaN||function(G){return G!==G};function s(){s.init.call(this)}Id.exports=s,Id.exports.once=w,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(k){if(typeof k!="number"||k<0||a(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");u=k}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(G){if(typeof G!="number"||G<0||a(G))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+G+".");return this._maxListeners=G,this};function f(k){return k._maxListeners===void 0?s.defaultMaxListeners:k._maxListeners}s.prototype.getMaxListeners=function(){return f(this)},s.prototype.emit=function(G){for(var re=[],Q=1;Q<arguments.length;Q++)re.push(arguments[Q]);var ie=G==="error",U=this._events;if(U!==void 0)ie=ie&&U.error===void 0;else if(!ie)return!1;if(ie){var le;if(re.length>0&&(le=re[0]),le instanceof Error)throw le;var oe=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw oe.context=le,oe}var B=U[G];if(B===void 0)return!1;if(typeof B=="function")e(B,this,re);else for(var te=B.length,P=j(B,te),Q=0;Q<te;++Q)e(P[Q],this,re);return!0};function d(k,G,re,Q){var ie,U,le;if(l(re),U=k._events,U===void 0?(U=k._events=Object.create(null),k._eventsCount=0):(U.newListener!==void 0&&(k.emit("newListener",G,re.listener?re.listener:re),U=k._events),le=U[G]),le===void 0)le=U[G]=re,++k._eventsCount;else if(typeof le=="function"?le=U[G]=Q?[re,le]:[le,re]:Q?le.unshift(re):le.push(re),ie=f(k),ie>0&&le.length>ie&&!le.warned){le.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(G)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=k,oe.type=G,oe.count=le.length,o(oe)}return k}s.prototype.addListener=function(G,re){return d(this,G,re,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(G,re){return d(this,G,re,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(k,G,re){var Q={fired:!1,wrapFn:void 0,target:k,type:G,listener:re},ie=h.bind(Q);return ie.listener=re,Q.wrapFn=ie,ie}s.prototype.once=function(G,re){return l(re),this.on(G,S(this,G,re)),this},s.prototype.prependOnceListener=function(G,re){return l(re),this.prependListener(G,S(this,G,re)),this},s.prototype.removeListener=function(G,re){var Q,ie,U,le,oe;if(l(re),ie=this._events,ie===void 0)return this;if(Q=ie[G],Q===void 0)return this;if(Q===re||Q.listener===re)--this._eventsCount===0?this._events=Object.create(null):(delete ie[G],ie.removeListener&&this.emit("removeListener",G,Q.listener||re));else if(typeof Q!="function"){for(U=-1,le=Q.length-1;le>=0;le--)if(Q[le]===re||Q[le].listener===re){oe=Q[le].listener,U=le;break}if(U<0)return this;U===0?Q.shift():N(Q,U),Q.length===1&&(ie[G]=Q[0]),ie.removeListener!==void 0&&this.emit("removeListener",G,oe||re)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(G){var re,Q,ie;if(Q=this._events,Q===void 0)return this;if(Q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Q[G]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Q[G]),this;if(arguments.length===0){var U=Object.keys(Q),le;for(ie=0;ie<U.length;++ie)le=U[ie],le!=="removeListener"&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(re=Q[G],typeof re=="function")this.removeListener(G,re);else if(re!==void 0)for(ie=re.length-1;ie>=0;ie--)this.removeListener(G,re[ie]);return this};function b(k,G,re){var Q=k._events;if(Q===void 0)return[];var ie=Q[G];return ie===void 0?[]:typeof ie=="function"?re?[ie.listener||ie]:[ie]:re?A(ie):j(ie,ie.length)}s.prototype.listeners=function(G){return b(this,G,!0)},s.prototype.rawListeners=function(G){return b(this,G,!1)},s.listenerCount=function(k,G){return typeof k.listenerCount=="function"?k.listenerCount(G):p.call(k,G)},s.prototype.listenerCount=p;function p(k){var G=this._events;if(G!==void 0){var re=G[k];if(typeof re=="function")return 1;if(re!==void 0)return re.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function j(k,G){for(var re=new Array(G),Q=0;Q<G;++Q)re[Q]=k[Q];return re}function N(k,G){for(;G+1<k.length;G++)k[G]=k[G+1];k.pop()}function A(k){for(var G=new Array(k.length),re=0;re<G.length;++re)G[re]=k[re].listener||k[re];return G}function w(k,G){return new Promise(function(re,Q){function ie(le){k.removeListener(G,U),Q(le)}function U(){typeof k.removeListener=="function"&&k.removeListener("error",ie),re([].slice.call(arguments))}R(k,G,U,{once:!0}),G!=="error"&&I(k,ie,{once:!0})})}function I(k,G,re){typeof k.on=="function"&&R(k,"error",G,re)}function R(k,G,re,Q){if(typeof k.on=="function")Q.once?k.once(G,re):k.on(G,re);else if(typeof k.addEventListener=="function")k.addEventListener(G,function ie(U){Q.once&&k.removeEventListener(G,ie),re(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return Id.exports}var jd={exports:{}},dg;function cu(){return dg||(dg=1,typeof Object.create=="function"?jd.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:jd.exports=function(e,t){if(t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}}),jd.exports}function Rb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qv={exports:{}},So=Qv.exports={},Zl,Ql;function b1(){throw new Error("setTimeout has not been defined")}function _1(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Zl=setTimeout:Zl=b1}catch{Zl=b1}try{typeof clearTimeout=="function"?Ql=clearTimeout:Ql=_1}catch{Ql=_1}})();function e5(r){if(Zl===setTimeout)return setTimeout(r,0);if((Zl===b1||!Zl)&&setTimeout)return Zl=setTimeout,setTimeout(r,0);try{return Zl(r,0)}catch{try{return Zl.call(null,r,0)}catch{return Zl.call(this,r,0)}}}function Ib(r){if(Ql===clearTimeout)return clearTimeout(r);if((Ql===_1||!Ql)&&clearTimeout)return Ql=clearTimeout,clearTimeout(r);try{return Ql(r)}catch{try{return Ql.call(null,r)}catch{return Ql.call(this,r)}}}var Oc=[],cf=!1,ju,rh=-1;function jb(){!cf||!ju||(cf=!1,ju.length?Oc=ju.concat(Oc):rh=-1,Oc.length&&t5())}function t5(){if(!cf){var r=e5(jb);cf=!0;for(var e=Oc.length;e;){for(ju=Oc,Oc=[];++rh<e;)ju&&ju[rh].run();rh=-1,e=Oc.length}ju=null,cf=!1,Ib(r)}}So.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Oc.push(new n5(r,e)),Oc.length===1&&!cf&&e5(t5)};function n5(r,e){this.fun=r,this.array=e}n5.prototype.run=function(){this.fun.apply(null,this.array)};So.title="browser";So.browser=!0;So.env={};So.argv=[];So.version="";So.versions={};function Fc(){}So.on=Fc;So.addListener=Fc;So.once=Fc;So.off=Fc;So.removeListener=Fc;So.removeAllListeners=Fc;So.emit=Fc;So.prependListener=Fc;So.prependOnceListener=Fc;So.listeners=function(r){return[]};So.binding=function(r){throw new Error("process.binding is not supported")};So.cwd=function(){return"/"};So.chdir=function(r){throw new Error("process.chdir is not supported")};So.umask=function(){return 0};var Pb=Qv.exports;const Mr=Rb(Pb);var lp,hg;function r5(){return hg||(hg=1,lp=U1().EventEmitter),lp}var cp={},Mf={},pg;function Db(){if(pg)return Mf;pg=1,Mf.byteLength=l,Mf.toByteArray=d,Mf.fromByteArray=b;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],e[o.charCodeAt(a)]=a;e[45]=62,e[95]=63;function u(p){var j=p.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=p.indexOf("=");N===-1&&(N=j);var A=N===j?0:4-N%4;return[N,A]}function l(p){var j=u(p),N=j[0],A=j[1];return(N+A)*3/4-A}function f(p,j,N){return(j+N)*3/4-N}function d(p){var j,N=u(p),A=N[0],w=N[1],I=new t(f(p,A,w)),R=0,k=w>0?A-4:A,G;for(G=0;G<k;G+=4)j=e[p.charCodeAt(G)]<<18|e[p.charCodeAt(G+1)]<<12|e[p.charCodeAt(G+2)]<<6|e[p.charCodeAt(G+3)],I[R++]=j>>16&255,I[R++]=j>>8&255,I[R++]=j&255;return w===2&&(j=e[p.charCodeAt(G)]<<2|e[p.charCodeAt(G+1)]>>4,I[R++]=j&255),w===1&&(j=e[p.charCodeAt(G)]<<10|e[p.charCodeAt(G+1)]<<4|e[p.charCodeAt(G+2)]>>2,I[R++]=j>>8&255,I[R++]=j&255),I}function h(p){return r[p>>18&63]+r[p>>12&63]+r[p>>6&63]+r[p&63]}function S(p,j,N){for(var A,w=[],I=j;I<N;I+=3)A=(p[I]<<16&16711680)+(p[I+1]<<8&65280)+(p[I+2]&255),w.push(h(A));return w.join("")}function b(p){for(var j,N=p.length,A=N%3,w=[],I=16383,R=0,k=N-A;R<k;R+=I)w.push(S(p,R,R+I>k?k:R+I));return A===1?(j=p[N-1],w.push(r[j>>2]+r[j<<4&63]+"==")):A===2&&(j=(p[N-2]<<8)+p[N-1],w.push(r[j>>10]+r[j>>4&63]+r[j<<2&63]+"=")),w.join("")}return Mf}var Pd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var mg;function Ob(){return mg||(mg=1,Pd.read=function(r,e,t,o,a){var s,u,l=a*8-o-1,f=(1<<l)-1,d=f>>1,h=-7,S=t?a-1:0,b=t?-1:1,p=r[e+S];for(S+=b,s=p&(1<<-h)-1,p>>=-h,h+=l;h>0;s=s*256+r[e+S],S+=b,h-=8);for(u=s&(1<<-h)-1,s>>=-h,h+=o;h>0;u=u*256+r[e+S],S+=b,h-=8);if(s===0)s=1-d;else{if(s===f)return u?NaN:(p?-1:1)*(1/0);u=u+Math.pow(2,o),s=s-d}return(p?-1:1)*u*Math.pow(2,s-o)},Pd.write=function(r,e,t,o,a,s){var u,l,f,d=s*8-a-1,h=(1<<d)-1,S=h>>1,b=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=o?0:s-1,j=o?1:-1,N=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,u=h):(u=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+S>=1?e+=b/f:e+=b*Math.pow(2,1-S),e*f>=2&&(u++,f/=2),u+S>=h?(l=0,u=h):u+S>=1?(l=(e*f-1)*Math.pow(2,a),u=u+S):(l=e*Math.pow(2,S-1)*Math.pow(2,a),u=0));a>=8;r[t+p]=l&255,p+=j,l/=256,a-=8);for(u=u<<a|l,d+=a;d>0;r[t+p]=u&255,p+=j,u/=256,d-=8);r[t+p-j]|=N*128}),Pd}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var gg;function xh(){return gg||(gg=1,(function(r){var e=Db(),t=Ob(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=I,r.INSPECT_MAX_BYTES=50;var a=2147483647;r.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var X=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(X,T),X.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(X){if(X>a)throw new RangeError('The value "'+X+'" is invalid for option "size"');var T=new Uint8Array(X);return Object.setPrototypeOf(T,l.prototype),T}function l(X,T,L){if(typeof X=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(X)}return f(X,T,L)}l.poolSize=8192;function f(X,T,L){if(typeof X=="string")return b(X,T);if(ArrayBuffer.isView(X))return j(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(Be(X,ArrayBuffer)||X&&Be(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(X,SharedArrayBuffer)||X&&Be(X.buffer,SharedArrayBuffer)))return N(X,T,L);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var q=X.valueOf&&X.valueOf();if(q!=null&&q!==X)return l.from(q,T,L);var Se=A(X);if(Se)return Se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return l.from(X[Symbol.toPrimitive]("string"),T,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}l.from=function(X,T,L){return f(X,T,L)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function h(X,T,L){return d(X),X<=0?u(X):T!==void 0?typeof L=="string"?u(X).fill(T,L):u(X).fill(T):u(X)}l.alloc=function(X,T,L){return h(X,T,L)};function S(X){return d(X),u(X<0?0:w(X)|0)}l.allocUnsafe=function(X){return S(X)},l.allocUnsafeSlow=function(X){return S(X)};function b(X,T){if((typeof T!="string"||T==="")&&(T="utf8"),!l.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var L=R(X,T)|0,q=u(L),Se=q.write(X,T);return Se!==L&&(q=q.slice(0,Se)),q}function p(X){for(var T=X.length<0?0:w(X.length)|0,L=u(T),q=0;q<T;q+=1)L[q]=X[q]&255;return L}function j(X){if(Be(X,Uint8Array)){var T=new Uint8Array(X);return N(T.buffer,T.byteOffset,T.byteLength)}return p(X)}function N(X,T,L){if(T<0||X.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<T+(L||0))throw new RangeError('"length" is outside of buffer bounds');var q;return T===void 0&&L===void 0?q=new Uint8Array(X):L===void 0?q=new Uint8Array(X,T):q=new Uint8Array(X,T,L),Object.setPrototypeOf(q,l.prototype),q}function A(X){if(l.isBuffer(X)){var T=w(X.length)|0,L=u(T);return L.length===0||X.copy(L,0,0,T),L}if(X.length!==void 0)return typeof X.length!="number"||H(X.length)?u(0):p(X);if(X.type==="Buffer"&&Array.isArray(X.data))return p(X.data)}function w(X){if(X>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return X|0}function I(X){return+X!=X&&(X=0),l.alloc(+X)}l.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==l.prototype},l.compare=function(T,L){if(Be(T,Uint8Array)&&(T=l.from(T,T.offset,T.byteLength)),Be(L,Uint8Array)&&(L=l.from(L,L.offset,L.byteLength)),!l.isBuffer(T)||!l.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===L)return 0;for(var q=T.length,Se=L.length,Ce=0,Ee=Math.min(q,Se);Ce<Ee;++Ce)if(T[Ce]!==L[Ce]){q=T[Ce],Se=L[Ce];break}return q<Se?-1:Se<q?1:0},l.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(T,L){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return l.alloc(0);var q;if(L===void 0)for(L=0,q=0;q<T.length;++q)L+=T[q].length;var Se=l.allocUnsafe(L),Ce=0;for(q=0;q<T.length;++q){var Ee=T[q];if(Be(Ee,Uint8Array))Ce+Ee.length>Se.length?l.from(Ee).copy(Se,Ce):Uint8Array.prototype.set.call(Se,Ee,Ce);else if(l.isBuffer(Ee))Ee.copy(Se,Ce);else throw new TypeError('"list" argument must be an Array of Buffers');Ce+=Ee.length}return Se};function R(X,T){if(l.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||Be(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);var L=X.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&L===0)return 0;for(var Se=!1;;)switch(T){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return z(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return se(X).length;default:if(Se)return q?-1:z(X).length;T=(""+T).toLowerCase(),Se=!0}}l.byteLength=R;function k(X,T,L){var q=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,T>>>=0,L<=T))return"";for(X||(X="utf8");;)switch(X){case"hex":return ke(this,T,L);case"utf8":case"utf-8":return P(this,T,L);case"ascii":return ge(this,T,L);case"latin1":case"binary":return xe(this,T,L);case"base64":return te(this,T,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,T,L);default:if(q)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),q=!0}}l.prototype._isBuffer=!0;function G(X,T,L){var q=X[T];X[T]=X[L],X[L]=q}l.prototype.swap16=function(){var T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<T;L+=2)G(this,L,L+1);return this},l.prototype.swap32=function(){var T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<T;L+=4)G(this,L,L+3),G(this,L+1,L+2);return this},l.prototype.swap64=function(){var T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<T;L+=8)G(this,L,L+7),G(this,L+1,L+6),G(this,L+2,L+5),G(this,L+3,L+4);return this},l.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?P(this,0,T):k.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(T){if(!l.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:l.compare(this,T)===0},l.prototype.inspect=function(){var T="",L=r.INSPECT_MAX_BYTES;return T=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(T+=" ... "),"<Buffer "+T+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(T,L,q,Se,Ce){if(Be(T,Uint8Array)&&(T=l.from(T,T.offset,T.byteLength)),!l.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(L===void 0&&(L=0),q===void 0&&(q=T?T.length:0),Se===void 0&&(Se=0),Ce===void 0&&(Ce=this.length),L<0||q>T.length||Se<0||Ce>this.length)throw new RangeError("out of range index");if(Se>=Ce&&L>=q)return 0;if(Se>=Ce)return-1;if(L>=q)return 1;if(L>>>=0,q>>>=0,Se>>>=0,Ce>>>=0,this===T)return 0;for(var Ee=Ce-Se,Ue=q-L,ft=Math.min(Ee,Ue),ot=this.slice(Se,Ce),lt=T.slice(L,q),Nt=0;Nt<ft;++Nt)if(ot[Nt]!==lt[Nt]){Ee=ot[Nt],Ue=lt[Nt];break}return Ee<Ue?-1:Ue<Ee?1:0};function re(X,T,L,q,Se){if(X.length===0)return-1;if(typeof L=="string"?(q=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,H(L)&&(L=Se?0:X.length-1),L<0&&(L=X.length+L),L>=X.length){if(Se)return-1;L=X.length-1}else if(L<0)if(Se)L=0;else return-1;if(typeof T=="string"&&(T=l.from(T,q)),l.isBuffer(T))return T.length===0?-1:Q(X,T,L,q,Se);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?Se?Uint8Array.prototype.indexOf.call(X,T,L):Uint8Array.prototype.lastIndexOf.call(X,T,L):Q(X,[T],L,q,Se);throw new TypeError("val must be string, number or Buffer")}function Q(X,T,L,q,Se){var Ce=1,Ee=X.length,Ue=T.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(X.length<2||T.length<2)return-1;Ce=2,Ee/=2,Ue/=2,L/=2}function ft(Kt,xn){return Ce===1?Kt[xn]:Kt.readUInt16BE(xn*Ce)}var ot;if(Se){var lt=-1;for(ot=L;ot<Ee;ot++)if(ft(X,ot)===ft(T,lt===-1?0:ot-lt)){if(lt===-1&&(lt=ot),ot-lt+1===Ue)return lt*Ce}else lt!==-1&&(ot-=ot-lt),lt=-1}else for(L+Ue>Ee&&(L=Ee-Ue),ot=L;ot>=0;ot--){for(var Nt=!0,Ot=0;Ot<Ue;Ot++)if(ft(X,ot+Ot)!==ft(T,Ot)){Nt=!1;break}if(Nt)return ot}return-1}l.prototype.includes=function(T,L,q){return this.indexOf(T,L,q)!==-1},l.prototype.indexOf=function(T,L,q){return re(this,T,L,q,!0)},l.prototype.lastIndexOf=function(T,L,q){return re(this,T,L,q,!1)};function ie(X,T,L,q){L=Number(L)||0;var Se=X.length-L;q?(q=Number(q),q>Se&&(q=Se)):q=Se;var Ce=T.length;q>Ce/2&&(q=Ce/2);for(var Ee=0;Ee<q;++Ee){var Ue=parseInt(T.substr(Ee*2,2),16);if(H(Ue))return Ee;X[L+Ee]=Ue}return Ee}function U(X,T,L,q){return pe(z(T,X.length-L),X,L,q)}function le(X,T,L,q){return pe(fe(T),X,L,q)}function oe(X,T,L,q){return pe(se(T),X,L,q)}function B(X,T,L,q){return pe(de(T,X.length-L),X,L,q)}l.prototype.write=function(T,L,q,Se){if(L===void 0)Se="utf8",q=this.length,L=0;else if(q===void 0&&typeof L=="string")Se=L,q=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(q)?(q=q>>>0,Se===void 0&&(Se="utf8")):(Se=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ce=this.length-L;if((q===void 0||q>Ce)&&(q=Ce),T.length>0&&(q<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");Se||(Se="utf8");for(var Ee=!1;;)switch(Se){case"hex":return ie(this,T,L,q);case"utf8":case"utf-8":return U(this,T,L,q);case"ascii":case"latin1":case"binary":return le(this,T,L,q);case"base64":return oe(this,T,L,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,T,L,q);default:if(Ee)throw new TypeError("Unknown encoding: "+Se);Se=(""+Se).toLowerCase(),Ee=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(X,T,L){return T===0&&L===X.length?e.fromByteArray(X):e.fromByteArray(X.slice(T,L))}function P(X,T,L){L=Math.min(X.length,L);for(var q=[],Se=T;Se<L;){var Ce=X[Se],Ee=null,Ue=Ce>239?4:Ce>223?3:Ce>191?2:1;if(Se+Ue<=L){var ft,ot,lt,Nt;switch(Ue){case 1:Ce<128&&(Ee=Ce);break;case 2:ft=X[Se+1],(ft&192)===128&&(Nt=(Ce&31)<<6|ft&63,Nt>127&&(Ee=Nt));break;case 3:ft=X[Se+1],ot=X[Se+2],(ft&192)===128&&(ot&192)===128&&(Nt=(Ce&15)<<12|(ft&63)<<6|ot&63,Nt>2047&&(Nt<55296||Nt>57343)&&(Ee=Nt));break;case 4:ft=X[Se+1],ot=X[Se+2],lt=X[Se+3],(ft&192)===128&&(ot&192)===128&&(lt&192)===128&&(Nt=(Ce&15)<<18|(ft&63)<<12|(ot&63)<<6|lt&63,Nt>65535&&Nt<1114112&&(Ee=Nt))}}Ee===null?(Ee=65533,Ue=1):Ee>65535&&(Ee-=65536,q.push(Ee>>>10&1023|55296),Ee=56320|Ee&1023),q.push(Ee),Se+=Ue}return Ae(q)}var be=4096;function Ae(X){var T=X.length;if(T<=be)return String.fromCharCode.apply(String,X);for(var L="",q=0;q<T;)L+=String.fromCharCode.apply(String,X.slice(q,q+=be));return L}function ge(X,T,L){var q="";L=Math.min(X.length,L);for(var Se=T;Se<L;++Se)q+=String.fromCharCode(X[Se]&127);return q}function xe(X,T,L){var q="";L=Math.min(X.length,L);for(var Se=T;Se<L;++Se)q+=String.fromCharCode(X[Se]);return q}function ke(X,T,L){var q=X.length;(!T||T<0)&&(T=0),(!L||L<0||L>q)&&(L=q);for(var Se="",Ce=T;Ce<L;++Ce)Se+=ee[X[Ce]];return Se}function Fe(X,T,L){for(var q=X.slice(T,L),Se="",Ce=0;Ce<q.length-1;Ce+=2)Se+=String.fromCharCode(q[Ce]+q[Ce+1]*256);return Se}l.prototype.slice=function(T,L){var q=this.length;T=~~T,L=L===void 0?q:~~L,T<0?(T+=q,T<0&&(T=0)):T>q&&(T=q),L<0?(L+=q,L<0&&(L=0)):L>q&&(L=q),L<T&&(L=T);var Se=this.subarray(T,L);return Object.setPrototypeOf(Se,l.prototype),Se};function J(X,T,L){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+T>L)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(T,L,q){T=T>>>0,L=L>>>0,q||J(T,L,this.length);for(var Se=this[T],Ce=1,Ee=0;++Ee<L&&(Ce*=256);)Se+=this[T+Ee]*Ce;return Se},l.prototype.readUintBE=l.prototype.readUIntBE=function(T,L,q){T=T>>>0,L=L>>>0,q||J(T,L,this.length);for(var Se=this[T+--L],Ce=1;L>0&&(Ce*=256);)Se+=this[T+--L]*Ce;return Se},l.prototype.readUint8=l.prototype.readUInt8=function(T,L){return T=T>>>0,L||J(T,1,this.length),this[T]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(T,L){return T=T>>>0,L||J(T,2,this.length),this[T]|this[T+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(T,L){return T=T>>>0,L||J(T,2,this.length),this[T]<<8|this[T+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(T,L){return T=T>>>0,L||J(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(T,L){return T=T>>>0,L||J(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},l.prototype.readIntLE=function(T,L,q){T=T>>>0,L=L>>>0,q||J(T,L,this.length);for(var Se=this[T],Ce=1,Ee=0;++Ee<L&&(Ce*=256);)Se+=this[T+Ee]*Ce;return Ce*=128,Se>=Ce&&(Se-=Math.pow(2,8*L)),Se},l.prototype.readIntBE=function(T,L,q){T=T>>>0,L=L>>>0,q||J(T,L,this.length);for(var Se=L,Ce=1,Ee=this[T+--Se];Se>0&&(Ce*=256);)Ee+=this[T+--Se]*Ce;return Ce*=128,Ee>=Ce&&(Ee-=Math.pow(2,8*L)),Ee},l.prototype.readInt8=function(T,L){return T=T>>>0,L||J(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},l.prototype.readInt16LE=function(T,L){T=T>>>0,L||J(T,2,this.length);var q=this[T]|this[T+1]<<8;return q&32768?q|4294901760:q},l.prototype.readInt16BE=function(T,L){T=T>>>0,L||J(T,2,this.length);var q=this[T+1]|this[T]<<8;return q&32768?q|4294901760:q},l.prototype.readInt32LE=function(T,L){return T=T>>>0,L||J(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},l.prototype.readInt32BE=function(T,L){return T=T>>>0,L||J(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},l.prototype.readFloatLE=function(T,L){return T=T>>>0,L||J(T,4,this.length),t.read(this,T,!0,23,4)},l.prototype.readFloatBE=function(T,L){return T=T>>>0,L||J(T,4,this.length),t.read(this,T,!1,23,4)},l.prototype.readDoubleLE=function(T,L){return T=T>>>0,L||J(T,8,this.length),t.read(this,T,!0,52,8)},l.prototype.readDoubleBE=function(T,L){return T=T>>>0,L||J(T,8,this.length),t.read(this,T,!1,52,8)};function C(X,T,L,q,Se,Ce){if(!l.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>Se||T<Ce)throw new RangeError('"value" argument is out of bounds');if(L+q>X.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(T,L,q,Se){if(T=+T,L=L>>>0,q=q>>>0,!Se){var Ce=Math.pow(2,8*q)-1;C(this,T,L,q,Ce,0)}var Ee=1,Ue=0;for(this[L]=T&255;++Ue<q&&(Ee*=256);)this[L+Ue]=T/Ee&255;return L+q},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(T,L,q,Se){if(T=+T,L=L>>>0,q=q>>>0,!Se){var Ce=Math.pow(2,8*q)-1;C(this,T,L,q,Ce,0)}var Ee=q-1,Ue=1;for(this[L+Ee]=T&255;--Ee>=0&&(Ue*=256);)this[L+Ee]=T/Ue&255;return L+q},l.prototype.writeUint8=l.prototype.writeUInt8=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,1,255,0),this[L]=T&255,L+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,2,65535,0),this[L]=T&255,this[L+1]=T>>>8,L+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,2,65535,0),this[L]=T>>>8,this[L+1]=T&255,L+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,4,4294967295,0),this[L+3]=T>>>24,this[L+2]=T>>>16,this[L+1]=T>>>8,this[L]=T&255,L+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,4,4294967295,0),this[L]=T>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=T&255,L+4},l.prototype.writeIntLE=function(T,L,q,Se){if(T=+T,L=L>>>0,!Se){var Ce=Math.pow(2,8*q-1);C(this,T,L,q,Ce-1,-Ce)}var Ee=0,Ue=1,ft=0;for(this[L]=T&255;++Ee<q&&(Ue*=256);)T<0&&ft===0&&this[L+Ee-1]!==0&&(ft=1),this[L+Ee]=(T/Ue>>0)-ft&255;return L+q},l.prototype.writeIntBE=function(T,L,q,Se){if(T=+T,L=L>>>0,!Se){var Ce=Math.pow(2,8*q-1);C(this,T,L,q,Ce-1,-Ce)}var Ee=q-1,Ue=1,ft=0;for(this[L+Ee]=T&255;--Ee>=0&&(Ue*=256);)T<0&&ft===0&&this[L+Ee+1]!==0&&(ft=1),this[L+Ee]=(T/Ue>>0)-ft&255;return L+q},l.prototype.writeInt8=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,1,127,-128),T<0&&(T=255+T+1),this[L]=T&255,L+1},l.prototype.writeInt16LE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,2,32767,-32768),this[L]=T&255,this[L+1]=T>>>8,L+2},l.prototype.writeInt16BE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,2,32767,-32768),this[L]=T>>>8,this[L+1]=T&255,L+2},l.prototype.writeInt32LE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,4,2147483647,-2147483648),this[L]=T&255,this[L+1]=T>>>8,this[L+2]=T>>>16,this[L+3]=T>>>24,L+4},l.prototype.writeInt32BE=function(T,L,q){return T=+T,L=L>>>0,q||C(this,T,L,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[L]=T>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=T&255,L+4};function Z(X,T,L,q,Se,Ce){if(L+q>X.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function ne(X,T,L,q,Se){return T=+T,L=L>>>0,Se||Z(X,T,L,4),t.write(X,T,L,q,23,4),L+4}l.prototype.writeFloatLE=function(T,L,q){return ne(this,T,L,!0,q)},l.prototype.writeFloatBE=function(T,L,q){return ne(this,T,L,!1,q)};function ye(X,T,L,q,Se){return T=+T,L=L>>>0,Se||Z(X,T,L,8),t.write(X,T,L,q,52,8),L+8}l.prototype.writeDoubleLE=function(T,L,q){return ye(this,T,L,!0,q)},l.prototype.writeDoubleBE=function(T,L,q){return ye(this,T,L,!1,q)},l.prototype.copy=function(T,L,q,Se){if(!l.isBuffer(T))throw new TypeError("argument should be a Buffer");if(q||(q=0),!Se&&Se!==0&&(Se=this.length),L>=T.length&&(L=T.length),L||(L=0),Se>0&&Se<q&&(Se=q),Se===q||T.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("sourceEnd out of bounds");Se>this.length&&(Se=this.length),T.length-L<Se-q&&(Se=T.length-L+q);var Ce=Se-q;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,q,Se):Uint8Array.prototype.set.call(T,this.subarray(q,Se),L),Ce},l.prototype.fill=function(T,L,q,Se){if(typeof T=="string"){if(typeof L=="string"?(Se=L,L=0,q=this.length):typeof q=="string"&&(Se=q,q=this.length),Se!==void 0&&typeof Se!="string")throw new TypeError("encoding must be a string");if(typeof Se=="string"&&!l.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);if(T.length===1){var Ce=T.charCodeAt(0);(Se==="utf8"&&Ce<128||Se==="latin1")&&(T=Ce)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(L<0||this.length<L||this.length<q)throw new RangeError("Out of range index");if(q<=L)return this;L=L>>>0,q=q===void 0?this.length:q>>>0,T||(T=0);var Ee;if(typeof T=="number")for(Ee=L;Ee<q;++Ee)this[Ee]=T;else{var Ue=l.isBuffer(T)?T:l.from(T,Se),ft=Ue.length;if(ft===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(Ee=0;Ee<q-L;++Ee)this[Ee+L]=Ue[Ee%ft]}return this};var ae=/[^+/0-9A-Za-z-_]/g;function M(X){if(X=X.split("=")[0],X=X.trim().replace(ae,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function z(X,T){T=T||1/0;for(var L,q=X.length,Se=null,Ce=[],Ee=0;Ee<q;++Ee){if(L=X.charCodeAt(Ee),L>55295&&L<57344){if(!Se){if(L>56319){(T-=3)>-1&&Ce.push(239,191,189);continue}else if(Ee+1===q){(T-=3)>-1&&Ce.push(239,191,189);continue}Se=L;continue}if(L<56320){(T-=3)>-1&&Ce.push(239,191,189),Se=L;continue}L=(Se-55296<<10|L-56320)+65536}else Se&&(T-=3)>-1&&Ce.push(239,191,189);if(Se=null,L<128){if((T-=1)<0)break;Ce.push(L)}else if(L<2048){if((T-=2)<0)break;Ce.push(L>>6|192,L&63|128)}else if(L<65536){if((T-=3)<0)break;Ce.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((T-=4)<0)break;Ce.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Ce}function fe(X){for(var T=[],L=0;L<X.length;++L)T.push(X.charCodeAt(L)&255);return T}function de(X,T){for(var L,q,Se,Ce=[],Ee=0;Ee<X.length&&!((T-=2)<0);++Ee)L=X.charCodeAt(Ee),q=L>>8,Se=L%256,Ce.push(Se),Ce.push(q);return Ce}function se(X){return e.toByteArray(M(X))}function pe(X,T,L,q){for(var Se=0;Se<q&&!(Se+L>=T.length||Se>=X.length);++Se)T[Se+L]=X[Se];return Se}function Be(X,T){return X instanceof T||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===T.name}function H(X){return X!==X}var ee=(function(){for(var X="0123456789abcdef",T=new Array(256),L=0;L<16;++L)for(var q=L*16,Se=0;Se<16;++Se)T[q+Se]=X[L]+X[Se];return T})()})(cp)),cp}var up={},fp={},dp,yg;function i5(){return yg||(yg=1,dp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),o=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;e[t]=a;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==a||l.enumerable!==!0)return!1}return!0}),dp}var hp,vg;function q1(){if(vg)return hp;vg=1;var r=i5();return hp=function(){return r()&&!!Symbol.toStringTag},hp}var pp,wg;function o5(){return wg||(wg=1,pp=Object),pp}var mp,xg;function Fb(){return xg||(xg=1,mp=Error),mp}var gp,bg;function Bb(){return bg||(bg=1,gp=EvalError),gp}var yp,_g;function Mb(){return _g||(_g=1,yp=RangeError),yp}var vp,Sg;function zb(){return Sg||(Sg=1,vp=ReferenceError),vp}var wp,kg;function s5(){return kg||(kg=1,wp=SyntaxError),wp}var xp,Ag;function rd(){return Ag||(Ag=1,xp=TypeError),xp}var bp,Ng;function $b(){return Ng||(Ng=1,bp=URIError),bp}var _p,Eg;function Ub(){return Eg||(Eg=1,_p=Math.abs),_p}var Sp,Tg;function qb(){return Tg||(Tg=1,Sp=Math.floor),Sp}var kp,Cg;function Wb(){return Cg||(Cg=1,kp=Math.max),kp}var Ap,Lg;function Hb(){return Lg||(Lg=1,Ap=Math.min),Ap}var Np,Rg;function Gb(){return Rg||(Rg=1,Np=Math.pow),Np}var Ep,Ig;function Kb(){return Ig||(Ig=1,Ep=Math.round),Ep}var Tp,jg;function Vb(){return jg||(jg=1,Tp=Number.isNaN||function(e){return e!==e}),Tp}var Cp,Pg;function Xb(){if(Pg)return Cp;Pg=1;var r=Vb();return Cp=function(t){return r(t)||t===0?t:t<0?-1:1},Cp}var Lp,Dg;function Yb(){return Dg||(Dg=1,Lp=Object.getOwnPropertyDescriptor),Lp}var Rp,Og;function id(){if(Og)return Rp;Og=1;var r=Yb();if(r)try{r([],"length")}catch{r=null}return Rp=r,Rp}var Ip,Fg;function bh(){if(Fg)return Ip;Fg=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Ip=r,Ip}var jp,Bg;function Jb(){if(Bg)return jp;Bg=1;var r=typeof Symbol<"u"&&Symbol,e=i5();return jp=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},jp}var Pp,Mg;function a5(){return Mg||(Mg=1,Pp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Pp}var Dp,zg;function l5(){if(zg)return Dp;zg=1;var r=o5();return Dp=r.getPrototypeOf||null,Dp}var Op,$g;function Zb(){if($g)return Op;$g=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,o="[object Function]",a=function(f,d){for(var h=[],S=0;S<f.length;S+=1)h[S]=f[S];for(var b=0;b<d.length;b+=1)h[b+f.length]=d[b];return h},s=function(f,d){for(var h=[],S=d,b=0;S<f.length;S+=1,b+=1)h[b]=f[S];return h},u=function(l,f){for(var d="",h=0;h<l.length;h+=1)d+=l[h],h+1<l.length&&(d+=f);return d};return Op=function(f){var d=this;if(typeof d!="function"||e.apply(d)!==o)throw new TypeError(r+d);for(var h=s(arguments,1),S,b=function(){if(this instanceof S){var w=d.apply(this,a(h,arguments));return Object(w)===w?w:this}return d.apply(f,a(h,arguments))},p=t(0,d.length-h.length),j=[],N=0;N<p;N++)j[N]="$"+N;if(S=Function("binder","return function ("+u(j,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var A=function(){};A.prototype=d.prototype,S.prototype=new A,A.prototype=null}return S},Op}var Fp,Ug;function od(){if(Ug)return Fp;Ug=1;var r=Zb();return Fp=Function.prototype.bind||r,Fp}var Bp,qg;function W1(){return qg||(qg=1,Bp=Function.prototype.call),Bp}var Mp,Wg;function c5(){return Wg||(Wg=1,Mp=Function.prototype.apply),Mp}var zp,Hg;function Qb(){return Hg||(Hg=1,zp=typeof Reflect<"u"&&Reflect&&Reflect.apply),zp}var $p,Gg;function e4(){if(Gg)return $p;Gg=1;var r=od(),e=c5(),t=W1(),o=Qb();return $p=o||r.call(t,e),$p}var Up,Kg;function t4(){if(Kg)return Up;Kg=1;var r=od(),e=rd(),t=W1(),o=e4();return Up=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return o(r,t,s)},Up}var qp,Vg;function n4(){if(Vg)return qp;Vg=1;var r=t4(),e=id(),t;try{t=[].__proto__===Array.prototype}catch(u){if(!u||typeof u!="object"||!("code"in u)||u.code!=="ERR_PROTO_ACCESS")throw u}var o=!!t&&e&&e(Object.prototype,"__proto__"),a=Object,s=a.getPrototypeOf;return qp=o&&typeof o.get=="function"?r([o.get]):typeof s=="function"?(function(l){return s(l==null?l:a(l))}):!1,qp}var Wp,Xg;function r4(){if(Xg)return Wp;Xg=1;var r=a5(),e=l5(),t=n4();return Wp=r?function(a){return r(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:t?function(a){return t(a)}:null,Wp}var Hp,Yg;function i4(){if(Yg)return Hp;Yg=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=od();return Hp=t.call(r,e),Hp}var Gp,Jg;function H1(){if(Jg)return Gp;Jg=1;var r,e=o5(),t=Fb(),o=Bb(),a=Mb(),s=zb(),u=s5(),l=rd(),f=$b(),d=Ub(),h=qb(),S=Wb(),b=Hb(),p=Gb(),j=Kb(),N=Xb(),A=Function,w=function(fe){try{return A('"use strict"; return ('+fe+").constructor;")()}catch{}},I=id(),R=bh(),k=function(){throw new l},G=I?(function(){try{return arguments.callee,k}catch{try{return I(arguments,"callee").get}catch{return k}}})():k,re=Jb()(),Q=r4(),ie=l5(),U=a5(),le=c5(),oe=W1(),B={},te=typeof Uint8Array>"u"||!Q?r:Q(Uint8Array),P={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":re&&Q?Q([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":o,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":B,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":re&&Q?Q(Q([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!re||!Q?r:Q(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!re||!Q?r:Q(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":re&&Q?Q(""[Symbol.iterator]()):r,"%Symbol%":re?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":G,"%TypedArray%":te,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":oe,"%Function.prototype.apply%":le,"%Object.defineProperty%":R,"%Object.getPrototypeOf%":ie,"%Math.abs%":d,"%Math.floor%":h,"%Math.max%":S,"%Math.min%":b,"%Math.pow%":p,"%Math.round%":j,"%Math.sign%":N,"%Reflect.getPrototypeOf%":U};if(Q)try{null.error}catch(fe){var be=Q(Q(fe));P["%Error.prototype%"]=be}var Ae=function fe(de){var se;if(de==="%AsyncFunction%")se=w("async function () {}");else if(de==="%GeneratorFunction%")se=w("function* () {}");else if(de==="%AsyncGeneratorFunction%")se=w("async function* () {}");else if(de==="%AsyncGenerator%"){var pe=fe("%AsyncGeneratorFunction%");pe&&(se=pe.prototype)}else if(de==="%AsyncIteratorPrototype%"){var Be=fe("%AsyncGenerator%");Be&&Q&&(se=Q(Be.prototype))}return P[de]=se,se},ge={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=od(),ke=i4(),Fe=xe.call(oe,Array.prototype.concat),J=xe.call(le,Array.prototype.splice),C=xe.call(oe,String.prototype.replace),Z=xe.call(oe,String.prototype.slice),ne=xe.call(oe,RegExp.prototype.exec),ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ae=/\\(\\)?/g,M=function(de){var se=Z(de,0,1),pe=Z(de,-1);if(se==="%"&&pe!=="%")throw new u("invalid intrinsic syntax, expected closing `%`");if(pe==="%"&&se!=="%")throw new u("invalid intrinsic syntax, expected opening `%`");var Be=[];return C(de,ye,function(H,ee,X,T){Be[Be.length]=X?C(T,ae,"$1"):ee||H}),Be},z=function(de,se){var pe=de,Be;if(ke(ge,pe)&&(Be=ge[pe],pe="%"+Be[0]+"%"),ke(P,pe)){var H=P[pe];if(H===B&&(H=Ae(pe)),typeof H>"u"&&!se)throw new l("intrinsic "+de+" exists, but is not available. Please file an issue!");return{alias:Be,name:pe,value:H}}throw new u("intrinsic "+de+" does not exist!")};return Gp=function(de,se){if(typeof de!="string"||de.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof se!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ne(/^%?[^%]*%?$/,de)===null)throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var pe=M(de),Be=pe.length>0?pe[0]:"",H=z("%"+Be+"%",se),ee=H.name,X=H.value,T=!1,L=H.alias;L&&(Be=L[0],J(pe,Fe([0,1],L)));for(var q=1,Se=!0;q<pe.length;q+=1){var Ce=pe[q],Ee=Z(Ce,0,1),Ue=Z(Ce,-1);if((Ee==='"'||Ee==="'"||Ee==="`"||Ue==='"'||Ue==="'"||Ue==="`")&&Ee!==Ue)throw new u("property names with quotes must have matching quotes");if((Ce==="constructor"||!Se)&&(T=!0),Be+="."+Ce,ee="%"+Be+"%",ke(P,ee))X=P[ee];else if(X!=null){if(!(Ce in X)){if(!se)throw new l("base intrinsic for "+de+" exists, but the property is not available.");return}if(I&&q+1>=pe.length){var ft=I(X,Ce);Se=!!ft,Se&&"get"in ft&&!("originalValue"in ft.get)?X=ft.get:X=X[Ce]}else Se=ke(X,Ce),X=X[Ce];Se&&!T&&(P[ee]=X)}}return X},Gp}var Kp={exports:{}},Vp,Zg;function o4(){if(Zg)return Vp;Zg=1;var r=bh(),e=s5(),t=rd(),o=id();return Vp=function(s,u,l){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof u!="string"&&typeof u!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var f=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,S=arguments.length>6?arguments[6]:!1,b=!!o&&o(s,u);if(r)r(s,u,{configurable:h===null&&b?b.configurable:!h,enumerable:f===null&&b?b.enumerable:!f,value:l,writable:d===null&&b?b.writable:!d});else if(S||!f&&!d&&!h)s[u]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Vp}var Xp,Qg;function s4(){if(Qg)return Xp;Qg=1;var r=bh(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},Xp=e,Xp}var Yp,ey;function a4(){if(ey)return Yp;ey=1;var r=H1(),e=o4(),t=s4()(),o=id(),a=rd(),s=r("%Math.floor%");return Yp=function(l,f){if(typeof l!="function")throw new a("`fn` is not a function");if(typeof f!="number"||f<0||f>4294967295||s(f)!==f)throw new a("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],h=!0,S=!0;if("length"in l&&o){var b=o(l,"length");b&&!b.configurable&&(h=!1),b&&!b.writable&&(S=!1)}return(h||S||!d)&&(t?e(l,"length",f,!0,!0):e(l,"length",f)),l},Yp}var ty;function u5(){return ty||(ty=1,(function(r){var e=od(),t=H1(),o=a4(),a=rd(),s=t("%Function.prototype.apply%"),u=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(u,s),f=bh(),d=t("%Math.max%");r.exports=function(b){if(typeof b!="function")throw new a("a function is required");var p=l(e,u,arguments);return o(p,1+d(0,b.length-(arguments.length-1)),!0)};var h=function(){return l(e,s,arguments)};f?f(r.exports,"apply",{value:h}):r.exports.apply=h})(Kp)),Kp.exports}var Jp,ny;function f5(){if(ny)return Jp;ny=1;var r=H1(),e=u5(),t=e(r("String.prototype.indexOf"));return Jp=function(a,s){var u=r(a,!!s);return typeof u=="function"&&t(a,".prototype.")>-1?e(u):u},Jp}var Zp,ry;function l4(){if(ry)return Zp;ry=1;var r=q1()(),e=f5(),t=e("Object.prototype.toString"),o=function(l){return r&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},a=function(l){return o(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},s=(function(){return o(arguments)})();return o.isLegacyArguments=a,Zp=s?o:a,Zp}var Qp,iy;function c4(){if(iy)return Qp;iy=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,o=q1()(),a=Object.getPrototypeOf,s=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},u;return Qp=function(f){if(typeof f!="function")return!1;if(t.test(e.call(f)))return!0;if(!o){var d=r.call(f);return d==="[object GeneratorFunction]"}if(!a)return!1;if(typeof u>"u"){var h=s();u=h?a(h):!1}return a(f)===u},Qp}var em,oy;function u4(){if(oy)return em;oy=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,t)}catch(I){I!==o&&(e=null)}else e=null;var a=/^\s*class\b/,s=function(R){try{var k=r.call(R);return a.test(k)}catch{return!1}},u=function(R){try{return s(R)?!1:(r.call(R),!0)}catch{return!1}},l=Object.prototype.toString,f="[object Object]",d="[object Function]",h="[object GeneratorFunction]",S="[object HTMLAllCollection]",b="[object HTML document.all class]",p="[object HTMLCollection]",j=typeof Symbol=="function"&&!!Symbol.toStringTag,N=!(0 in[,]),A=function(){return!1};if(typeof document=="object"){var w=document.all;l.call(w)===l.call(document.all)&&(A=function(R){if((N||!R)&&(typeof R>"u"||typeof R=="object"))try{var k=l.call(R);return(k===S||k===b||k===p||k===f)&&R("")==null}catch{}return!1})}return em=e?function(R){if(A(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;try{e(R,null,t)}catch(k){if(k!==o)return!1}return!s(R)&&u(R)}:function(R){if(A(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;if(j)return u(R);if(s(R))return!1;var k=l.call(R);return k!==d&&k!==h&&!/^\[object HTML/.test(k)?!1:u(R)},em}var tm,sy;function f4(){if(sy)return tm;sy=1;var r=u4(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,o=function(f,d,h){for(var S=0,b=f.length;S<b;S++)t.call(f,S)&&(h==null?d(f[S],S,f):d.call(h,f[S],S,f))},a=function(f,d,h){for(var S=0,b=f.length;S<b;S++)h==null?d(f.charAt(S),S,f):d.call(h,f.charAt(S),S,f)},s=function(f,d,h){for(var S in f)t.call(f,S)&&(h==null?d(f[S],S,f):d.call(h,f[S],S,f))},u=function(f,d,h){if(!r(d))throw new TypeError("iterator must be a function");var S;arguments.length>=3&&(S=h),e.call(f)==="[object Array]"?o(f,d,S):typeof f=="string"?a(f,d,S):s(f,d,S)};return tm=u,tm}var nm,ay;function d4(){return ay||(ay=1,nm=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),nm}var rm,ly;function h4(){if(ly)return rm;ly=1;var r=d4(),e=typeof globalThis>"u"?ec:globalThis;return rm=function(){for(var o=[],a=0;a<r.length;a++)typeof e[r[a]]=="function"&&(o[o.length]=r[a]);return o},rm}var im,cy;function d5(){if(cy)return im;cy=1;var r=f4(),e=h4(),t=u5(),o=f5(),a=id(),s=o("Object.prototype.toString"),u=q1()(),l=typeof globalThis>"u"?ec:globalThis,f=e(),d=o("String.prototype.slice"),h=Object.getPrototypeOf,S=o("Array.prototype.indexOf",!0)||function(A,w){for(var I=0;I<A.length;I+=1)if(A[I]===w)return I;return-1},b={__proto__:null};u&&a&&h?r(f,function(N){var A=new l[N];if(Symbol.toStringTag in A){var w=h(A),I=a(w,Symbol.toStringTag);if(!I){var R=h(w);I=a(R,Symbol.toStringTag)}b["$"+N]=t(I.get)}}):r(f,function(N){var A=new l[N],w=A.slice||A.set;w&&(b["$"+N]=t(w))});var p=function(A){var w=!1;return r(b,function(I,R){if(!w)try{"$"+I(A)===R&&(w=d(R,1))}catch{}}),w},j=function(A){var w=!1;return r(b,function(I,R){if(!w)try{I(A),w=d(R,1)}catch{}}),w};return im=function(A){if(!A||typeof A!="object")return!1;if(!u){var w=d(s(A),8,-1);return S(f,w)>-1?w:w!=="Object"?!1:j(A)}return a?p(A):null},im}var om,uy;function p4(){if(uy)return om;uy=1;var r=d5();return om=function(t){return!!r(t)},om}var fy;function m4(){return fy||(fy=1,(function(r){var e=l4(),t=c4(),o=d5(),a=p4();function s(q){return q.call.bind(q)}var u=typeof BigInt<"u",l=typeof Symbol<"u",f=s(Object.prototype.toString),d=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),S=s(Boolean.prototype.valueOf);if(u)var b=s(BigInt.prototype.valueOf);if(l)var p=s(Symbol.prototype.valueOf);function j(q,Se){if(typeof q!="object")return!1;try{return Se(q),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=a;function N(q){return typeof Promise<"u"&&q instanceof Promise||q!==null&&typeof q=="object"&&typeof q.then=="function"&&typeof q.catch=="function"}r.isPromise=N;function A(q){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(q):a(q)||Z(q)}r.isArrayBufferView=A;function w(q){return o(q)==="Uint8Array"}r.isUint8Array=w;function I(q){return o(q)==="Uint8ClampedArray"}r.isUint8ClampedArray=I;function R(q){return o(q)==="Uint16Array"}r.isUint16Array=R;function k(q){return o(q)==="Uint32Array"}r.isUint32Array=k;function G(q){return o(q)==="Int8Array"}r.isInt8Array=G;function re(q){return o(q)==="Int16Array"}r.isInt16Array=re;function Q(q){return o(q)==="Int32Array"}r.isInt32Array=Q;function ie(q){return o(q)==="Float32Array"}r.isFloat32Array=ie;function U(q){return o(q)==="Float64Array"}r.isFloat64Array=U;function le(q){return o(q)==="BigInt64Array"}r.isBigInt64Array=le;function oe(q){return o(q)==="BigUint64Array"}r.isBigUint64Array=oe;function B(q){return f(q)==="[object Map]"}B.working=typeof Map<"u"&&B(new Map);function te(q){return typeof Map>"u"?!1:B.working?B(q):q instanceof Map}r.isMap=te;function P(q){return f(q)==="[object Set]"}P.working=typeof Set<"u"&&P(new Set);function be(q){return typeof Set>"u"?!1:P.working?P(q):q instanceof Set}r.isSet=be;function Ae(q){return f(q)==="[object WeakMap]"}Ae.working=typeof WeakMap<"u"&&Ae(new WeakMap);function ge(q){return typeof WeakMap>"u"?!1:Ae.working?Ae(q):q instanceof WeakMap}r.isWeakMap=ge;function xe(q){return f(q)==="[object WeakSet]"}xe.working=typeof WeakSet<"u"&&xe(new WeakSet);function ke(q){return xe(q)}r.isWeakSet=ke;function Fe(q){return f(q)==="[object ArrayBuffer]"}Fe.working=typeof ArrayBuffer<"u"&&Fe(new ArrayBuffer);function J(q){return typeof ArrayBuffer>"u"?!1:Fe.working?Fe(q):q instanceof ArrayBuffer}r.isArrayBuffer=J;function C(q){return f(q)==="[object DataView]"}C.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&C(new DataView(new ArrayBuffer(1),0,1));function Z(q){return typeof DataView>"u"?!1:C.working?C(q):q instanceof DataView}r.isDataView=Z;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ye(q){return f(q)==="[object SharedArrayBuffer]"}function ae(q){return typeof ne>"u"?!1:(typeof ye.working>"u"&&(ye.working=ye(new ne)),ye.working?ye(q):q instanceof ne)}r.isSharedArrayBuffer=ae;function M(q){return f(q)==="[object AsyncFunction]"}r.isAsyncFunction=M;function z(q){return f(q)==="[object Map Iterator]"}r.isMapIterator=z;function fe(q){return f(q)==="[object Set Iterator]"}r.isSetIterator=fe;function de(q){return f(q)==="[object Generator]"}r.isGeneratorObject=de;function se(q){return f(q)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=se;function pe(q){return j(q,d)}r.isNumberObject=pe;function Be(q){return j(q,h)}r.isStringObject=Be;function H(q){return j(q,S)}r.isBooleanObject=H;function ee(q){return u&&j(q,b)}r.isBigIntObject=ee;function X(q){return l&&j(q,p)}r.isSymbolObject=X;function T(q){return pe(q)||Be(q)||H(q)||ee(q)||X(q)}r.isBoxedPrimitive=T;function L(q){return typeof Uint8Array<"u"&&(J(q)||ae(q))}r.isAnyArrayBuffer=L,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(q){Object.defineProperty(r,q,{enumerable:!1,value:function(){throw new Error(q+" is not supported in userland")}})})})(fp)),fp}var sm,dy;function g4(){return dy||(dy=1,sm=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),sm}var hy;function h5(){return hy||(hy=1,(function(r){var e=Object.getOwnPropertyDescriptors||function(Z){for(var ne=Object.keys(Z),ye={},ae=0;ae<ne.length;ae++)ye[ne[ae]]=Object.getOwnPropertyDescriptor(Z,ne[ae]);return ye},t=/%[sdj%]/g;r.format=function(C){if(!G(C)){for(var Z=[],ne=0;ne<arguments.length;ne++)Z.push(u(arguments[ne]));return Z.join(" ")}for(var ne=1,ye=arguments,ae=ye.length,M=String(C).replace(t,function(fe){if(fe==="%%")return"%";if(ne>=ae)return fe;switch(fe){case"%s":return String(ye[ne++]);case"%d":return Number(ye[ne++]);case"%j":try{return JSON.stringify(ye[ne++])}catch{return"[Circular]"}default:return fe}}),z=ye[ne];ne<ae;z=ye[++ne])I(z)||!U(z)?M+=" "+z:M+=" "+u(z);return M},r.deprecate=function(C,Z){if(typeof Mr<"u"&&Mr.noDeprecation===!0)return C;if(typeof Mr>"u")return function(){return r.deprecate(C,Z).apply(this,arguments)};var ne=!1;function ye(){if(!ne){if(Mr.throwDeprecation)throw new Error(Z);Mr.traceDeprecation?console.trace(Z):console.error(Z),ne=!0}return C.apply(this,arguments)}return ye};var o={},a=/^$/;if(Mr.env.NODE_DEBUG){var s=Mr.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+s+"$","i")}r.debuglog=function(C){if(C=C.toUpperCase(),!o[C])if(a.test(C)){var Z=Mr.pid;o[C]=function(){var ne=r.format.apply(r,arguments);console.error("%s %d: %s",C,Z,ne)}}else o[C]=function(){};return o[C]};function u(C,Z){var ne={seen:[],stylize:f};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),w(Z)?ne.showHidden=Z:Z&&r._extend(ne,Z),Q(ne.showHidden)&&(ne.showHidden=!1),Q(ne.depth)&&(ne.depth=2),Q(ne.colors)&&(ne.colors=!1),Q(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=l),h(ne,C,ne.depth)}r.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(C,Z){var ne=u.styles[Z];return ne?"\x1B["+u.colors[ne][0]+"m"+C+"\x1B["+u.colors[ne][1]+"m":C}function f(C,Z){return C}function d(C){var Z={};return C.forEach(function(ne,ye){Z[ne]=!0}),Z}function h(C,Z,ne){if(C.customInspect&&Z&&B(Z.inspect)&&Z.inspect!==r.inspect&&!(Z.constructor&&Z.constructor.prototype===Z)){var ye=Z.inspect(ne,C);return G(ye)||(ye=h(C,ye,ne)),ye}var ae=S(C,Z);if(ae)return ae;var M=Object.keys(Z),z=d(M);if(C.showHidden&&(M=Object.getOwnPropertyNames(Z)),oe(Z)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return b(Z);if(M.length===0){if(B(Z)){var fe=Z.name?": "+Z.name:"";return C.stylize("[Function"+fe+"]","special")}if(ie(Z))return C.stylize(RegExp.prototype.toString.call(Z),"regexp");if(le(Z))return C.stylize(Date.prototype.toString.call(Z),"date");if(oe(Z))return b(Z)}var de="",se=!1,pe=["{","}"];if(A(Z)&&(se=!0,pe=["[","]"]),B(Z)){var Be=Z.name?": "+Z.name:"";de=" [Function"+Be+"]"}if(ie(Z)&&(de=" "+RegExp.prototype.toString.call(Z)),le(Z)&&(de=" "+Date.prototype.toUTCString.call(Z)),oe(Z)&&(de=" "+b(Z)),M.length===0&&(!se||Z.length==0))return pe[0]+de+pe[1];if(ne<0)return ie(Z)?C.stylize(RegExp.prototype.toString.call(Z),"regexp"):C.stylize("[Object]","special");C.seen.push(Z);var H;return se?H=p(C,Z,ne,z,M):H=M.map(function(ee){return j(C,Z,ne,z,ee,se)}),C.seen.pop(),N(H,de,pe)}function S(C,Z){if(Q(Z))return C.stylize("undefined","undefined");if(G(Z)){var ne="'"+JSON.stringify(Z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize(ne,"string")}if(k(Z))return C.stylize(""+Z,"number");if(w(Z))return C.stylize(""+Z,"boolean");if(I(Z))return C.stylize("null","null")}function b(C){return"["+Error.prototype.toString.call(C)+"]"}function p(C,Z,ne,ye,ae){for(var M=[],z=0,fe=Z.length;z<fe;++z)xe(Z,String(z))?M.push(j(C,Z,ne,ye,String(z),!0)):M.push("");return ae.forEach(function(de){de.match(/^\d+$/)||M.push(j(C,Z,ne,ye,de,!0))}),M}function j(C,Z,ne,ye,ae,M){var z,fe,de;if(de=Object.getOwnPropertyDescriptor(Z,ae)||{value:Z[ae]},de.get?de.set?fe=C.stylize("[Getter/Setter]","special"):fe=C.stylize("[Getter]","special"):de.set&&(fe=C.stylize("[Setter]","special")),xe(ye,ae)||(z="["+ae+"]"),fe||(C.seen.indexOf(de.value)<0?(I(ne)?fe=h(C,de.value,null):fe=h(C,de.value,ne-1),fe.indexOf(`
`)>-1&&(M?fe=fe.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):fe=`
`+fe.split(`
`).map(function(se){return"   "+se}).join(`
`))):fe=C.stylize("[Circular]","special")),Q(z)){if(M&&ae.match(/^\d+$/))return fe;z=JSON.stringify(""+ae),z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(z=z.slice(1,-1),z=C.stylize(z,"name")):(z=z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),z=C.stylize(z,"string"))}return z+": "+fe}function N(C,Z,ne){var ye=C.reduce(function(ae,M){return M.indexOf(`
`)>=0,ae+M.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ye>60?ne[0]+(Z===""?"":Z+`
 `)+" "+C.join(`,
  `)+" "+ne[1]:ne[0]+Z+" "+C.join(", ")+" "+ne[1]}r.types=m4();function A(C){return Array.isArray(C)}r.isArray=A;function w(C){return typeof C=="boolean"}r.isBoolean=w;function I(C){return C===null}r.isNull=I;function R(C){return C==null}r.isNullOrUndefined=R;function k(C){return typeof C=="number"}r.isNumber=k;function G(C){return typeof C=="string"}r.isString=G;function re(C){return typeof C=="symbol"}r.isSymbol=re;function Q(C){return C===void 0}r.isUndefined=Q;function ie(C){return U(C)&&P(C)==="[object RegExp]"}r.isRegExp=ie,r.types.isRegExp=ie;function U(C){return typeof C=="object"&&C!==null}r.isObject=U;function le(C){return U(C)&&P(C)==="[object Date]"}r.isDate=le,r.types.isDate=le;function oe(C){return U(C)&&(P(C)==="[object Error]"||C instanceof Error)}r.isError=oe,r.types.isNativeError=oe;function B(C){return typeof C=="function"}r.isFunction=B;function te(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}r.isPrimitive=te,r.isBuffer=g4();function P(C){return Object.prototype.toString.call(C)}function be(C){return C<10?"0"+C.toString(10):C.toString(10)}var Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ge(){var C=new Date,Z=[be(C.getHours()),be(C.getMinutes()),be(C.getSeconds())].join(":");return[C.getDate(),Ae[C.getMonth()],Z].join(" ")}r.log=function(){console.log("%s - %s",ge(),r.format.apply(r,arguments))},r.inherits=cu(),r._extend=function(C,Z){if(!Z||!U(Z))return C;for(var ne=Object.keys(Z),ye=ne.length;ye--;)C[ne[ye]]=Z[ne[ye]];return C};function xe(C,Z){return Object.prototype.hasOwnProperty.call(C,Z)}var ke=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');if(ke&&Z[ke]){var ne=Z[ke];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,ke,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var ye,ae,M=new Promise(function(de,se){ye=de,ae=se}),z=[],fe=0;fe<arguments.length;fe++)z.push(arguments[fe]);z.push(function(de,se){de?ae(de):ye(se)});try{Z.apply(this,z)}catch(de){ae(de)}return M}return Object.setPrototypeOf(ne,Object.getPrototypeOf(Z)),ke&&Object.defineProperty(ne,ke,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,e(Z))},r.promisify.custom=ke;function Fe(C,Z){if(!C){var ne=new Error("Promise was rejected with a falsy value");ne.reason=C,C=ne}return Z(C)}function J(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');function Z(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne.push(arguments[ye]);var ae=ne.pop();if(typeof ae!="function")throw new TypeError("The last argument must be of type Function");var M=this,z=function(){return ae.apply(M,arguments)};C.apply(this,ne).then(function(fe){Mr.nextTick(z.bind(null,null,fe))},function(fe){Mr.nextTick(Fe.bind(null,fe,z))})}return Object.setPrototypeOf(Z,Object.getPrototypeOf(C)),Object.defineProperties(Z,e(C)),Z}r.callbackify=J})(up)),up}var am,py;function y4(){if(py)return am;py=1;function r(b,p){var j=Object.keys(b);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(b);p&&(N=N.filter(function(A){return Object.getOwnPropertyDescriptor(b,A).enumerable})),j.push.apply(j,N)}return j}function e(b){for(var p=1;p<arguments.length;p++){var j=arguments[p]!=null?arguments[p]:{};p%2?r(Object(j),!0).forEach(function(N){t(b,N,j[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(j)):r(Object(j)).forEach(function(N){Object.defineProperty(b,N,Object.getOwnPropertyDescriptor(j,N))})}return b}function t(b,p,j){return p in b?Object.defineProperty(b,p,{value:j,enumerable:!0,configurable:!0,writable:!0}):b[p]=j,b}function o(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function a(b,p){for(var j=0;j<p.length;j++){var N=p[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}function s(b,p,j){return p&&a(b.prototype,p),b}var u=xh(),l=u.Buffer,f=h5(),d=f.inspect,h=d&&d.custom||"inspect";function S(b,p,j){l.prototype.copy.call(b,p,j)}return am=(function(){function b(){o(this,b),this.head=null,this.tail=null,this.length=0}return s(b,[{key:"push",value:function(j){var N={data:j,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}},{key:"unshift",value:function(j){var N={data:j,next:this.head};this.length===0&&(this.tail=N),this.head=N,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var N=this.head,A=""+N.data;N=N.next;)A+=j+N.data;return A}},{key:"concat",value:function(j){if(this.length===0)return l.alloc(0);for(var N=l.allocUnsafe(j>>>0),A=this.head,w=0;A;)S(A.data,N,w),w+=A.data.length,A=A.next;return N}},{key:"consume",value:function(j,N){var A;return j<this.head.data.length?(A=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?A=this.shift():A=N?this._getString(j):this._getBuffer(j),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var N=this.head,A=1,w=N.data;for(j-=w.length;N=N.next;){var I=N.data,R=j>I.length?I.length:j;if(R===I.length?w+=I:w+=I.slice(0,j),j-=R,j===0){R===I.length?(++A,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=I.slice(R));break}++A}return this.length-=A,w}},{key:"_getBuffer",value:function(j){var N=l.allocUnsafe(j),A=this.head,w=1;for(A.data.copy(N),j-=A.data.length;A=A.next;){var I=A.data,R=j>I.length?I.length:j;if(I.copy(N,N.length-j,0,R),j-=R,j===0){R===I.length?(++w,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=I.slice(R));break}++w}return this.length-=w,N}},{key:h,value:function(j,N){return d(this,e({},N,{depth:0,customInspect:!1}))}}]),b})(),am}var lm,my;function p5(){if(my)return lm;my=1;function r(u,l){var f=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(l?l(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Mr.nextTick(a,this,u)):Mr.nextTick(a,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(S){!l&&S?f._writableState?f._writableState.errorEmitted?Mr.nextTick(t,f):(f._writableState.errorEmitted=!0,Mr.nextTick(e,f,S)):Mr.nextTick(e,f,S):l?(Mr.nextTick(t,f),l(S)):Mr.nextTick(t,f)}),this)}function e(u,l){a(u,l),t(u)}function t(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(u,l){u.emit("error",l)}function s(u,l){var f=u._readableState,d=u._writableState;f&&f.autoDestroy||d&&d.autoDestroy?u.destroy(l):u.emit("error",l)}return lm={destroy:r,undestroy:o,errorOrDestroy:s},lm}var cm={},gy;function Sf(){if(gy)return cm;gy=1;function r(l,f){l.prototype=Object.create(f.prototype),l.prototype.constructor=l,l.__proto__=f}var e={};function t(l,f,d){d||(d=Error);function h(b,p,j){return typeof f=="string"?f:f(b,p,j)}var S=(function(b){r(p,b);function p(j,N,A){return b.call(this,h(j,N,A))||this}return p})(d);S.prototype.name=d.name,S.prototype.code=l,e[l]=S}function o(l,f){if(Array.isArray(l)){var d=l.length;return l=l.map(function(h){return String(h)}),d>2?"one of ".concat(f," ").concat(l.slice(0,d-1).join(", "),", or ")+l[d-1]:d===2?"one of ".concat(f," ").concat(l[0]," or ").concat(l[1]):"of ".concat(f," ").concat(l[0])}else return"of ".concat(f," ").concat(String(l))}function a(l,f,d){return l.substr(0,f.length)===f}function s(l,f,d){return(d===void 0||d>l.length)&&(d=l.length),l.substring(d-f.length,d)===f}function u(l,f,d){return typeof d!="number"&&(d=0),d+f.length>l.length?!1:l.indexOf(f,d)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,f){return'The value "'+f+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,f,d){var h;typeof f=="string"&&a(f,"not ")?(h="must not be",f=f.replace(/^not /,"")):h="must be";var S;if(s(l," argument"))S="The ".concat(l," ").concat(h," ").concat(o(f,"type"));else{var b=u(l,".")?"property":"argument";S='The "'.concat(l,'" ').concat(b," ").concat(h," ").concat(o(f,"type"))}return S+=". Received type ".concat(typeof d),S},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),cm.codes=e,cm}var um,yy;function m5(){if(yy)return um;yy=1;var r=Sf().codes.ERR_INVALID_OPT_VALUE;function e(o,a,s){return o.highWaterMark!=null?o.highWaterMark:a?o[s]:null}function t(o,a,s,u){var l=e(a,u,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var f=u?s:"highWaterMark";throw new r(f,l)}return Math.floor(l)}return o.objectMode?16:16*1024}return um={getHighWaterMark:t},um}var fm,vy;function v4(){if(vy)return fm;vy=1,fm=r;function r(t,o){if(e("noDeprecation"))return t;var a=!1;function s(){if(!a){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!ec.localStorage)return!1}catch{return!1}var o=ec.localStorage[t];return o==null?!1:String(o).toLowerCase()==="true"}return fm}var dm,wy;function g5(){if(wy)return dm;wy=1,dm=ie;function r(ae){var M=this;this.next=null,this.entry=null,this.finish=function(){ye(M,ae)}}var e;ie.WritableState=re;var t={deprecate:v4()},o=r5(),a=xh().Buffer,s=ec.Uint8Array||function(){};function u(ae){return a.from(ae)}function l(ae){return a.isBuffer(ae)||ae instanceof s}var f=p5(),d=m5(),h=d.getHighWaterMark,S=Sf().codes,b=S.ERR_INVALID_ARG_TYPE,p=S.ERR_METHOD_NOT_IMPLEMENTED,j=S.ERR_MULTIPLE_CALLBACK,N=S.ERR_STREAM_CANNOT_PIPE,A=S.ERR_STREAM_DESTROYED,w=S.ERR_STREAM_NULL_VALUES,I=S.ERR_STREAM_WRITE_AFTER_END,R=S.ERR_UNKNOWN_ENCODING,k=f.errorOrDestroy;cu()(ie,o);function G(){}function re(ae,M,z){e=e||vf(),ae=ae||{},typeof z!="boolean"&&(z=M instanceof e),this.objectMode=!!ae.objectMode,z&&(this.objectMode=this.objectMode||!!ae.writableObjectMode),this.highWaterMark=h(this,ae,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=ae.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(de){Ae(M,de)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ae.emitClose!==!1,this.autoDestroy=!!ae.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}re.prototype.getBuffer=function(){for(var M=this.bufferedRequest,z=[];M;)z.push(M),M=M.next;return z},(function(){try{Object.defineProperty(re.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(M){return Q.call(this,M)?!0:this!==ie?!1:M&&M._writableState instanceof re}})):Q=function(M){return M instanceof this};function ie(ae){e=e||vf();var M=this instanceof e;if(!M&&!Q.call(ie,this))return new ie(ae);this._writableState=new re(ae,this,M),this.writable=!0,ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final)),o.call(this)}ie.prototype.pipe=function(){k(this,new N)};function U(ae,M){var z=new I;k(ae,z),Mr.nextTick(M,z)}function le(ae,M,z,fe){var de;return z===null?de=new w:typeof z!="string"&&!M.objectMode&&(de=new b("chunk",["string","Buffer"],z)),de?(k(ae,de),Mr.nextTick(fe,de),!1):!0}ie.prototype.write=function(ae,M,z){var fe=this._writableState,de=!1,se=!fe.objectMode&&l(ae);return se&&!a.isBuffer(ae)&&(ae=u(ae)),typeof M=="function"&&(z=M,M=null),se?M="buffer":M||(M=fe.defaultEncoding),typeof z!="function"&&(z=G),fe.ending?U(this,z):(se||le(this,fe,ae,z))&&(fe.pendingcb++,de=B(this,fe,se,ae,M,z)),de},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&ke(this,ae))},ie.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new R(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(ae,M,z){return!ae.objectMode&&ae.decodeStrings!==!1&&typeof M=="string"&&(M=a.from(M,z)),M}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(ae,M,z,fe,de,se){if(!z){var pe=oe(M,fe,de);fe!==pe&&(z=!0,de="buffer",fe=pe)}var Be=M.objectMode?1:fe.length;M.length+=Be;var H=M.length<M.highWaterMark;if(H||(M.needDrain=!0),M.writing||M.corked){var ee=M.lastBufferedRequest;M.lastBufferedRequest={chunk:fe,encoding:de,isBuf:z,callback:se,next:null},ee?ee.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else te(ae,M,!1,Be,fe,de,se);return H}function te(ae,M,z,fe,de,se,pe){M.writelen=fe,M.writecb=pe,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new A("write")):z?ae._writev(de,M.onwrite):ae._write(de,se,M.onwrite),M.sync=!1}function P(ae,M,z,fe,de){--M.pendingcb,z?(Mr.nextTick(de,fe),Mr.nextTick(Z,ae,M),ae._writableState.errorEmitted=!0,k(ae,fe)):(de(fe),ae._writableState.errorEmitted=!0,k(ae,fe),Z(ae,M))}function be(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}function Ae(ae,M){var z=ae._writableState,fe=z.sync,de=z.writecb;if(typeof de!="function")throw new j;if(be(z),M)P(ae,z,fe,M,de);else{var se=Fe(z)||ae.destroyed;!se&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&ke(ae,z),fe?Mr.nextTick(ge,ae,z,se,de):ge(ae,z,se,de)}}function ge(ae,M,z,fe){z||xe(ae,M),M.pendingcb--,fe(),Z(ae,M)}function xe(ae,M){M.length===0&&M.needDrain&&(M.needDrain=!1,ae.emit("drain"))}function ke(ae,M){M.bufferProcessing=!0;var z=M.bufferedRequest;if(ae._writev&&z&&z.next){var fe=M.bufferedRequestCount,de=new Array(fe),se=M.corkedRequestsFree;se.entry=z;for(var pe=0,Be=!0;z;)de[pe]=z,z.isBuf||(Be=!1),z=z.next,pe+=1;de.allBuffers=Be,te(ae,M,!0,M.length,de,"",se.finish),M.pendingcb++,M.lastBufferedRequest=null,se.next?(M.corkedRequestsFree=se.next,se.next=null):M.corkedRequestsFree=new r(M),M.bufferedRequestCount=0}else{for(;z;){var H=z.chunk,ee=z.encoding,X=z.callback,T=M.objectMode?1:H.length;if(te(ae,M,!1,T,H,ee,X),z=z.next,M.bufferedRequestCount--,M.writing)break}z===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=z,M.bufferProcessing=!1}ie.prototype._write=function(ae,M,z){z(new p("_write()"))},ie.prototype._writev=null,ie.prototype.end=function(ae,M,z){var fe=this._writableState;return typeof ae=="function"?(z=ae,ae=null,M=null):typeof M=="function"&&(z=M,M=null),ae!=null&&this.write(ae,M),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||ne(this,fe,z),this},Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Fe(ae){return ae.ending&&ae.length===0&&ae.bufferedRequest===null&&!ae.finished&&!ae.writing}function J(ae,M){ae._final(function(z){M.pendingcb--,z&&k(ae,z),M.prefinished=!0,ae.emit("prefinish"),Z(ae,M)})}function C(ae,M){!M.prefinished&&!M.finalCalled&&(typeof ae._final=="function"&&!M.destroyed?(M.pendingcb++,M.finalCalled=!0,Mr.nextTick(J,ae,M)):(M.prefinished=!0,ae.emit("prefinish")))}function Z(ae,M){var z=Fe(M);if(z&&(C(ae,M),M.pendingcb===0&&(M.finished=!0,ae.emit("finish"),M.autoDestroy))){var fe=ae._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&ae.destroy()}return z}function ne(ae,M,z){M.ending=!0,Z(ae,M),z&&(M.finished?Mr.nextTick(z):ae.once("finish",z)),M.ended=!0,ae.writable=!1}function ye(ae,M,z){var fe=ae.entry;for(ae.entry=null;fe;){var de=fe.callback;M.pendingcb--,de(z),fe=fe.next}M.corkedRequestsFree.next=ae}return Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),ie.prototype.destroy=f.destroy,ie.prototype._undestroy=f.undestroy,ie.prototype._destroy=function(ae,M){M(ae)},dm}var hm,xy;function vf(){if(xy)return hm;xy=1;var r=Object.keys||function(d){var h=[];for(var S in d)h.push(S);return h};hm=u;var e=y5(),t=g5();cu()(u,e);for(var o=r(t.prototype),a=0;a<o.length;a++){var s=o[a];u.prototype[s]||(u.prototype[s]=t.prototype[s])}function u(d){if(!(this instanceof u))return new u(d);e.call(this,d),t.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Mr.nextTick(f,this)}function f(d){d.end()}return Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),hm}var pm={},Dd={exports:{}},by;function w4(){return by||(by=1,(function(r,e){var t=xh(),o=t.Buffer;function a(u,l){for(var f in u)l[f]=u[f]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?r.exports=t:(a(t,e),e.Buffer=s);function s(u,l,f){return o(u,l,f)}a(o,s),s.from=function(u,l,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return o(u,l,f)},s.alloc=function(u,l,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var d=o(u);return l!==void 0?typeof f=="string"?d.fill(l,f):d.fill(l):d.fill(0),d},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}})(Dd,Dd.exports)),Dd.exports}var _y;function S1(){if(_y)return pm;_y=1;var r=w4().Buffer,e=r.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(w){if(!w)return"utf8";for(var I;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(I)return;w=(""+w).toLowerCase(),I=!0}}function o(w){var I=t(w);if(typeof I!="string"&&(r.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return I||w}pm.StringDecoder=a;function a(w){this.encoding=o(w);var I;switch(this.encoding){case"utf16le":this.text=S,this.end=b,I=4;break;case"utf8":this.fillLast=f,I=4;break;case"base64":this.text=p,this.end=j,I=3;break;default:this.write=N,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(I)}a.prototype.write=function(w){if(w.length===0)return"";var I,R;if(this.lastNeed){if(I=this.fillLast(w),I===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<w.length?I?I+this.text(w,R):this.text(w,R):I||""},a.prototype.end=h,a.prototype.text=d,a.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function s(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function u(w,I,R){var k=I.length-1;if(k<R)return 0;var G=s(I[k]);return G>=0?(G>0&&(w.lastNeed=G-1),G):--k<R||G===-2?0:(G=s(I[k]),G>=0?(G>0&&(w.lastNeed=G-2),G):--k<R||G===-2?0:(G=s(I[k]),G>=0?(G>0&&(G===2?G=0:w.lastNeed=G-3),G):0))}function l(w,I,R){if((I[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return w.lastNeed=2,""}}function f(w){var I=this.lastTotal-this.lastNeed,R=l(this,w);if(R!==void 0)return R;if(this.lastNeed<=w.length)return w.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,I,0,w.length),this.lastNeed-=w.length}function d(w,I){var R=u(this,w,I);if(!this.lastNeed)return w.toString("utf8",I);this.lastTotal=R;var k=w.length-(R-this.lastNeed);return w.copy(this.lastChar,0,k),w.toString("utf8",I,k)}function h(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+"":I}function S(w,I){if((w.length-I)%2===0){var R=w.toString("utf16le",I);if(R){var k=R.charCodeAt(R.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",I,w.length-1)}function b(w){var I=w&&w.length?this.write(w):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,R)}return I}function p(w,I){var R=(w.length-I)%3;return R===0?w.toString("base64",I):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",I,w.length-R))}function j(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function N(w){return w.toString(this.encoding)}function A(w){return w&&w.length?this.write(w):""}return pm}var mm,Sy;function G1(){if(Sy)return mm;Sy=1;var r=Sf().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var u=!1;return function(){if(!u){u=!0;for(var l=arguments.length,f=new Array(l),d=0;d<l;d++)f[d]=arguments[d];s.apply(this,f)}}}function t(){}function o(s){return s.setHeader&&typeof s.abort=="function"}function a(s,u,l){if(typeof u=="function")return a(s,null,u);u||(u={}),l=e(l||t);var f=u.readable||u.readable!==!1&&s.readable,d=u.writable||u.writable!==!1&&s.writable,h=function(){s.writable||b()},S=s._writableState&&s._writableState.finished,b=function(){d=!1,S=!0,f||l.call(s)},p=s._readableState&&s._readableState.endEmitted,j=function(){f=!1,p=!0,d||l.call(s)},N=function(R){l.call(s,R)},A=function(){var R;if(f&&!p)return(!s._readableState||!s._readableState.ended)&&(R=new r),l.call(s,R);if(d&&!S)return(!s._writableState||!s._writableState.ended)&&(R=new r),l.call(s,R)},w=function(){s.req.on("finish",b)};return o(s)?(s.on("complete",b),s.on("abort",A),s.req?w():s.on("request",w)):d&&!s._writableState&&(s.on("end",h),s.on("close",h)),s.on("end",j),s.on("finish",b),u.error!==!1&&s.on("error",N),s.on("close",A),function(){s.removeListener("complete",b),s.removeListener("abort",A),s.removeListener("request",w),s.req&&s.req.removeListener("finish",b),s.removeListener("end",h),s.removeListener("close",h),s.removeListener("finish",b),s.removeListener("end",j),s.removeListener("error",N),s.removeListener("close",A)}}return mm=a,mm}var gm,ky;function x4(){if(ky)return gm;ky=1;var r;function e(w,I,R){return I in w?Object.defineProperty(w,I,{value:R,enumerable:!0,configurable:!0,writable:!0}):w[I]=R,w}var t=G1(),o=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(w,I){return{value:w,done:I}}function S(w){var I=w[o];if(I!==null){var R=w[d].read();R!==null&&(w[l]=null,w[o]=null,w[a]=null,I(h(R,!1)))}}function b(w){Mr.nextTick(S,w)}function p(w,I){return function(R,k){w.then(function(){if(I[u]){R(h(void 0,!0));return}I[f](R,k)},k)}}var j=Object.getPrototypeOf(function(){}),N=Object.setPrototypeOf((r={get stream(){return this[d]},next:function(){var I=this,R=this[s];if(R!==null)return Promise.reject(R);if(this[u])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise(function(Q,ie){Mr.nextTick(function(){I[s]?ie(I[s]):Q(h(void 0,!0))})});var k=this[l],G;if(k)G=new Promise(p(k,this));else{var re=this[d].read();if(re!==null)return Promise.resolve(h(re,!1));G=new Promise(this[f])}return this[l]=G,G}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var I=this;return new Promise(function(R,k){I[d].destroy(null,function(G){if(G){k(G);return}R(h(void 0,!0))})})}),r),j),A=function(I){var R,k=Object.create(N,(R={},e(R,d,{value:I,writable:!0}),e(R,o,{value:null,writable:!0}),e(R,a,{value:null,writable:!0}),e(R,s,{value:null,writable:!0}),e(R,u,{value:I._readableState.endEmitted,writable:!0}),e(R,f,{value:function(re,Q){var ie=k[d].read();ie?(k[l]=null,k[o]=null,k[a]=null,re(h(ie,!1))):(k[o]=re,k[a]=Q)},writable:!0}),R));return k[l]=null,t(I,function(G){if(G&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"){var re=k[a];re!==null&&(k[l]=null,k[o]=null,k[a]=null,re(G)),k[s]=G;return}var Q=k[o];Q!==null&&(k[l]=null,k[o]=null,k[a]=null,Q(h(void 0,!0))),k[u]=!0}),I.on("readable",b.bind(null,k)),k};return gm=A,gm}var ym,Ay;function b4(){return Ay||(Ay=1,ym=function(){throw new Error("Readable.from is not available in the browser")}),ym}var vm,Ny;function y5(){if(Ny)return vm;Ny=1,vm=U;var r;U.ReadableState=ie,U1().EventEmitter;var e=function(pe,Be){return pe.listeners(Be).length},t=r5(),o=xh().Buffer,a=ec.Uint8Array||function(){};function s(se){return o.from(se)}function u(se){return o.isBuffer(se)||se instanceof a}var l=h5(),f;l&&l.debuglog?f=l.debuglog("stream"):f=function(){};var d=y4(),h=p5(),S=m5(),b=S.getHighWaterMark,p=Sf().codes,j=p.ERR_INVALID_ARG_TYPE,N=p.ERR_STREAM_PUSH_AFTER_EOF,A=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,R,k;cu()(U,t);var G=h.errorOrDestroy,re=["error","close","destroy","pause","resume"];function Q(se,pe,Be){if(typeof se.prependListener=="function")return se.prependListener(pe,Be);!se._events||!se._events[pe]?se.on(pe,Be):Array.isArray(se._events[pe])?se._events[pe].unshift(Be):se._events[pe]=[Be,se._events[pe]]}function ie(se,pe,Be){r=r||vf(),se=se||{},typeof Be!="boolean"&&(Be=pe instanceof r),this.objectMode=!!se.objectMode,Be&&(this.objectMode=this.objectMode||!!se.readableObjectMode),this.highWaterMark=b(this,se,"readableHighWaterMark",Be),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=se.emitClose!==!1,this.autoDestroy=!!se.autoDestroy,this.destroyed=!1,this.defaultEncoding=se.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,se.encoding&&(I||(I=S1().StringDecoder),this.decoder=new I(se.encoding),this.encoding=se.encoding)}function U(se){if(r=r||vf(),!(this instanceof U))return new U(se);var pe=this instanceof r;this._readableState=new ie(se,this,pe),this.readable=!0,se&&(typeof se.read=="function"&&(this._read=se.read),typeof se.destroy=="function"&&(this._destroy=se.destroy)),t.call(this)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(pe){this._readableState&&(this._readableState.destroyed=pe)}}),U.prototype.destroy=h.destroy,U.prototype._undestroy=h.undestroy,U.prototype._destroy=function(se,pe){pe(se)},U.prototype.push=function(se,pe){var Be=this._readableState,H;return Be.objectMode?H=!0:typeof se=="string"&&(pe=pe||Be.defaultEncoding,pe!==Be.encoding&&(se=o.from(se,pe),pe=""),H=!0),le(this,se,pe,!1,H)},U.prototype.unshift=function(se){return le(this,se,null,!0,!1)};function le(se,pe,Be,H,ee){f("readableAddChunk",pe);var X=se._readableState;if(pe===null)X.reading=!1,Ae(se,X);else{var T;if(ee||(T=B(X,pe)),T)G(se,T);else if(X.objectMode||pe&&pe.length>0)if(typeof pe!="string"&&!X.objectMode&&Object.getPrototypeOf(pe)!==o.prototype&&(pe=s(pe)),H)X.endEmitted?G(se,new w):oe(se,X,pe,!0);else if(X.ended)G(se,new N);else{if(X.destroyed)return!1;X.reading=!1,X.decoder&&!Be?(pe=X.decoder.write(pe),X.objectMode||pe.length!==0?oe(se,X,pe,!1):ke(se,X)):oe(se,X,pe,!1)}else H||(X.reading=!1,ke(se,X))}return!X.ended&&(X.length<X.highWaterMark||X.length===0)}function oe(se,pe,Be,H){pe.flowing&&pe.length===0&&!pe.sync?(pe.awaitDrain=0,se.emit("data",Be)):(pe.length+=pe.objectMode?1:Be.length,H?pe.buffer.unshift(Be):pe.buffer.push(Be),pe.needReadable&&ge(se)),ke(se,pe)}function B(se,pe){var Be;return!u(pe)&&typeof pe!="string"&&pe!==void 0&&!se.objectMode&&(Be=new j("chunk",["string","Buffer","Uint8Array"],pe)),Be}U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(se){I||(I=S1().StringDecoder);var pe=new I(se);this._readableState.decoder=pe,this._readableState.encoding=this._readableState.decoder.encoding;for(var Be=this._readableState.buffer.head,H="";Be!==null;)H+=pe.write(Be.data),Be=Be.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var te=1073741824;function P(se){return se>=te?se=te:(se--,se|=se>>>1,se|=se>>>2,se|=se>>>4,se|=se>>>8,se|=se>>>16,se++),se}function be(se,pe){return se<=0||pe.length===0&&pe.ended?0:pe.objectMode?1:se!==se?pe.flowing&&pe.length?pe.buffer.head.data.length:pe.length:(se>pe.highWaterMark&&(pe.highWaterMark=P(se)),se<=pe.length?se:pe.ended?pe.length:(pe.needReadable=!0,0))}U.prototype.read=function(se){f("read",se),se=parseInt(se,10);var pe=this._readableState,Be=se;if(se!==0&&(pe.emittedReadable=!1),se===0&&pe.needReadable&&((pe.highWaterMark!==0?pe.length>=pe.highWaterMark:pe.length>0)||pe.ended))return f("read: emitReadable",pe.length,pe.ended),pe.length===0&&pe.ended?z(this):ge(this),null;if(se=be(se,pe),se===0&&pe.ended)return pe.length===0&&z(this),null;var H=pe.needReadable;f("need readable",H),(pe.length===0||pe.length-se<pe.highWaterMark)&&(H=!0,f("length less than watermark",H)),pe.ended||pe.reading?(H=!1,f("reading or ended",H)):H&&(f("do read"),pe.reading=!0,pe.sync=!0,pe.length===0&&(pe.needReadable=!0),this._read(pe.highWaterMark),pe.sync=!1,pe.reading||(se=be(Be,pe)));var ee;return se>0?ee=M(se,pe):ee=null,ee===null?(pe.needReadable=pe.length<=pe.highWaterMark,se=0):(pe.length-=se,pe.awaitDrain=0),pe.length===0&&(pe.ended||(pe.needReadable=!0),Be!==se&&pe.ended&&z(this)),ee!==null&&this.emit("data",ee),ee};function Ae(se,pe){if(f("onEofChunk"),!pe.ended){if(pe.decoder){var Be=pe.decoder.end();Be&&Be.length&&(pe.buffer.push(Be),pe.length+=pe.objectMode?1:Be.length)}pe.ended=!0,pe.sync?ge(se):(pe.needReadable=!1,pe.emittedReadable||(pe.emittedReadable=!0,xe(se)))}}function ge(se){var pe=se._readableState;f("emitReadable",pe.needReadable,pe.emittedReadable),pe.needReadable=!1,pe.emittedReadable||(f("emitReadable",pe.flowing),pe.emittedReadable=!0,Mr.nextTick(xe,se))}function xe(se){var pe=se._readableState;f("emitReadable_",pe.destroyed,pe.length,pe.ended),!pe.destroyed&&(pe.length||pe.ended)&&(se.emit("readable"),pe.emittedReadable=!1),pe.needReadable=!pe.flowing&&!pe.ended&&pe.length<=pe.highWaterMark,ae(se)}function ke(se,pe){pe.readingMore||(pe.readingMore=!0,Mr.nextTick(Fe,se,pe))}function Fe(se,pe){for(;!pe.reading&&!pe.ended&&(pe.length<pe.highWaterMark||pe.flowing&&pe.length===0);){var Be=pe.length;if(f("maybeReadMore read 0"),se.read(0),Be===pe.length)break}pe.readingMore=!1}U.prototype._read=function(se){G(this,new A("_read()"))},U.prototype.pipe=function(se,pe){var Be=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=se;break;case 1:H.pipes=[H.pipes,se];break;default:H.pipes.push(se);break}H.pipesCount+=1,f("pipe count=%d opts=%j",H.pipesCount,pe);var ee=(!pe||pe.end!==!1)&&se!==Mr.stdout&&se!==Mr.stderr,X=ee?L:lt;H.endEmitted?Mr.nextTick(X):Be.once("end",X),se.on("unpipe",T);function T(Nt,Ot){f("onunpipe"),Nt===Be&&Ot&&Ot.hasUnpiped===!1&&(Ot.hasUnpiped=!0,Ce())}function L(){f("onend"),se.end()}var q=J(Be);se.on("drain",q);var Se=!1;function Ce(){f("cleanup"),se.removeListener("close",ft),se.removeListener("finish",ot),se.removeListener("drain",q),se.removeListener("error",Ue),se.removeListener("unpipe",T),Be.removeListener("end",L),Be.removeListener("end",lt),Be.removeListener("data",Ee),Se=!0,H.awaitDrain&&(!se._writableState||se._writableState.needDrain)&&q()}Be.on("data",Ee);function Ee(Nt){f("ondata");var Ot=se.write(Nt);f("dest.write",Ot),Ot===!1&&((H.pipesCount===1&&H.pipes===se||H.pipesCount>1&&de(H.pipes,se)!==-1)&&!Se&&(f("false write response, pause",H.awaitDrain),H.awaitDrain++),Be.pause())}function Ue(Nt){f("onerror",Nt),lt(),se.removeListener("error",Ue),e(se,"error")===0&&G(se,Nt)}Q(se,"error",Ue);function ft(){se.removeListener("finish",ot),lt()}se.once("close",ft);function ot(){f("onfinish"),se.removeListener("close",ft),lt()}se.once("finish",ot);function lt(){f("unpipe"),Be.unpipe(se)}return se.emit("pipe",Be),H.flowing||(f("pipe resume"),Be.resume()),se};function J(se){return function(){var Be=se._readableState;f("pipeOnDrain",Be.awaitDrain),Be.awaitDrain&&Be.awaitDrain--,Be.awaitDrain===0&&e(se,"data")&&(Be.flowing=!0,ae(se))}}U.prototype.unpipe=function(se){var pe=this._readableState,Be={hasUnpiped:!1};if(pe.pipesCount===0)return this;if(pe.pipesCount===1)return se&&se!==pe.pipes?this:(se||(se=pe.pipes),pe.pipes=null,pe.pipesCount=0,pe.flowing=!1,se&&se.emit("unpipe",this,Be),this);if(!se){var H=pe.pipes,ee=pe.pipesCount;pe.pipes=null,pe.pipesCount=0,pe.flowing=!1;for(var X=0;X<ee;X++)H[X].emit("unpipe",this,{hasUnpiped:!1});return this}var T=de(pe.pipes,se);return T===-1?this:(pe.pipes.splice(T,1),pe.pipesCount-=1,pe.pipesCount===1&&(pe.pipes=pe.pipes[0]),se.emit("unpipe",this,Be),this)},U.prototype.on=function(se,pe){var Be=t.prototype.on.call(this,se,pe),H=this._readableState;return se==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):se==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,f("on readable",H.length,H.reading),H.length?ge(this):H.reading||Mr.nextTick(Z,this)),Be},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(se,pe){var Be=t.prototype.removeListener.call(this,se,pe);return se==="readable"&&Mr.nextTick(C,this),Be},U.prototype.removeAllListeners=function(se){var pe=t.prototype.removeAllListeners.apply(this,arguments);return(se==="readable"||se===void 0)&&Mr.nextTick(C,this),pe};function C(se){var pe=se._readableState;pe.readableListening=se.listenerCount("readable")>0,pe.resumeScheduled&&!pe.paused?pe.flowing=!0:se.listenerCount("data")>0&&se.resume()}function Z(se){f("readable nexttick read 0"),se.read(0)}U.prototype.resume=function(){var se=this._readableState;return se.flowing||(f("resume"),se.flowing=!se.readableListening,ne(this,se)),se.paused=!1,this};function ne(se,pe){pe.resumeScheduled||(pe.resumeScheduled=!0,Mr.nextTick(ye,se,pe))}function ye(se,pe){f("resume",pe.reading),pe.reading||se.read(0),pe.resumeScheduled=!1,se.emit("resume"),ae(se),pe.flowing&&!pe.reading&&se.read(0)}U.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ae(se){var pe=se._readableState;for(f("flow",pe.flowing);pe.flowing&&se.read()!==null;);}U.prototype.wrap=function(se){var pe=this,Be=this._readableState,H=!1;se.on("end",function(){if(f("wrapped end"),Be.decoder&&!Be.ended){var T=Be.decoder.end();T&&T.length&&pe.push(T)}pe.push(null)}),se.on("data",function(T){if(f("wrapped data"),Be.decoder&&(T=Be.decoder.write(T)),!(Be.objectMode&&T==null)&&!(!Be.objectMode&&(!T||!T.length))){var L=pe.push(T);L||(H=!0,se.pause())}});for(var ee in se)this[ee]===void 0&&typeof se[ee]=="function"&&(this[ee]=(function(L){return function(){return se[L].apply(se,arguments)}})(ee));for(var X=0;X<re.length;X++)se.on(re[X],this.emit.bind(this,re[X]));return this._read=function(T){f("wrapped _read",T),H&&(H=!1,se.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=x4()),R(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(pe){this._readableState&&(this._readableState.flowing=pe)}}),U._fromList=M,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M(se,pe){if(pe.length===0)return null;var Be;return pe.objectMode?Be=pe.buffer.shift():!se||se>=pe.length?(pe.decoder?Be=pe.buffer.join(""):pe.buffer.length===1?Be=pe.buffer.first():Be=pe.buffer.concat(pe.length),pe.buffer.clear()):Be=pe.buffer.consume(se,pe.decoder),Be}function z(se){var pe=se._readableState;f("endReadable",pe.endEmitted),pe.endEmitted||(pe.ended=!0,Mr.nextTick(fe,pe,se))}function fe(se,pe){if(f("endReadableNT",se.endEmitted,se.length),!se.endEmitted&&se.length===0&&(se.endEmitted=!0,pe.readable=!1,pe.emit("end"),se.autoDestroy)){var Be=pe._writableState;(!Be||Be.autoDestroy&&Be.finished)&&pe.destroy()}}typeof Symbol=="function"&&(U.from=function(se,pe){return k===void 0&&(k=b4()),k(U,se,pe)});function de(se,pe){for(var Be=0,H=se.length;Be<H;Be++)if(se[Be]===pe)return Be;return-1}return vm}var wm,Ey;function v5(){if(Ey)return wm;Ey=1,wm=l;var r=Sf().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,s=vf();cu()(l,s);function u(h,S){var b=this._transformState;b.transforming=!1;var p=b.writecb;if(p===null)return this.emit("error",new t);b.writechunk=null,b.writecb=null,S!=null&&this.push(S),p(h);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);s.call(this,h),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",f)}function f(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,b){d(h,S,b)}):d(this,null,null)}l.prototype.push=function(h,S){return this._transformState.needTransform=!1,s.prototype.push.call(this,h,S)},l.prototype._transform=function(h,S,b){b(new e("_transform()"))},l.prototype._write=function(h,S,b){var p=this._transformState;if(p.writecb=b,p.writechunk=h,p.writeencoding=S,!p.transforming){var j=this._readableState;(p.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},l.prototype._read=function(h){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},l.prototype._destroy=function(h,S){s.prototype._destroy.call(this,h,function(b){S(b)})};function d(h,S,b){if(S)return h.emit("error",S);if(b!=null&&h.push(b),h._writableState.length)throw new a;if(h._transformState.transforming)throw new o;return h.push(null)}return wm}var xm,Ty;function _4(){if(Ty)return xm;Ty=1,xm=e;var r=v5();cu()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,o,a){a(null,t)},xm}var bm,Cy;function S4(){if(Cy)return bm;Cy=1;var r;function e(b){var p=!1;return function(){p||(p=!0,b.apply(void 0,arguments))}}var t=Sf().codes,o=t.ERR_MISSING_ARGS,a=t.ERR_STREAM_DESTROYED;function s(b){if(b)throw b}function u(b){return b.setHeader&&typeof b.abort=="function"}function l(b,p,j,N){N=e(N);var A=!1;b.on("close",function(){A=!0}),r===void 0&&(r=G1()),r(b,{readable:p,writable:j},function(I){if(I)return N(I);A=!0,N()});var w=!1;return function(I){if(!A&&!w){if(w=!0,u(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();N(I||new a("pipe"))}}}function f(b){b()}function d(b,p){return b.pipe(p)}function h(b){return!b.length||typeof b[b.length-1]!="function"?s:b.pop()}function S(){for(var b=arguments.length,p=new Array(b),j=0;j<b;j++)p[j]=arguments[j];var N=h(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new o("streams");var A,w=p.map(function(I,R){var k=R<p.length-1,G=R>0;return l(I,k,G,function(re){A||(A=re),re&&w.forEach(f),!k&&(w.forEach(f),N(A))})});return p.reduce(d)}return bm=S,bm}var _m,Ly;function K1(){if(Ly)return _m;Ly=1,_m=t;var r=U1().EventEmitter,e=cu();e(t,r),t.Readable=y5(),t.Writable=g5(),t.Duplex=vf(),t.Transform=v5(),t.PassThrough=_4(),t.finished=G1(),t.pipeline=S4(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(o,a){var s=this;function u(p){o.writable&&o.write(p)===!1&&s.pause&&s.pause()}s.on("data",u);function l(){s.readable&&s.resume&&s.resume()}o.on("drain",l),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",d),s.on("close",h));var f=!1;function d(){f||(f=!0,o.end())}function h(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function S(p){if(b(),r.listenerCount(this,"error")===0)throw p}s.on("error",S),o.on("error",S);function b(){s.removeListener("data",u),o.removeListener("drain",l),s.removeListener("end",d),s.removeListener("close",h),s.removeListener("error",S),o.removeListener("error",S),s.removeListener("end",b),s.removeListener("close",b),o.removeListener("close",b)}return s.on("end",b),s.on("close",b),o.on("close",b),o.emit("pipe",s),o},_m}var Ry;function k4(){return Ry||(Ry=1,(function(r){(function(e){e.parser=function(M,z){return new o(M,z)},e.SAXParser=o,e.SAXStream=h,e.createStream=d,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(M,z){if(!(this instanceof o))return new o(M,z);var fe=this;s(fe),fe.q=fe.c="",fe.bufferCheckPosition=e.MAX_BUFFER_LENGTH,fe.opt=z||{},fe.opt.lowercase=fe.opt.lowercase||fe.opt.lowercasetags,fe.looseCase=fe.opt.lowercase?"toLowerCase":"toUpperCase",fe.tags=[],fe.closed=fe.closedRoot=fe.sawRoot=!1,fe.tag=fe.error=null,fe.strict=!!M,fe.noscript=!!(M||fe.opt.noscript),fe.state=U.BEGIN,fe.strictEntities=fe.opt.strictEntities,fe.ENTITIES=fe.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),fe.attribList=[],fe.opt.xmlns&&(fe.ns=Object.create(N)),fe.trackPosition=fe.opt.position!==!1,fe.trackPosition&&(fe.position=fe.line=fe.column=0),oe(fe,"onready")}Object.create||(Object.create=function(M){function z(){}z.prototype=M;var fe=new z;return fe}),Object.keys||(Object.keys=function(M){var z=[];for(var fe in M)M.hasOwnProperty(fe)&&z.push(fe);return z});function a(M){for(var z=Math.max(e.MAX_BUFFER_LENGTH,10),fe=0,de=0,se=t.length;de<se;de++){var pe=M[t[de]].length;if(pe>z)switch(t[de]){case"textNode":te(M);break;case"cdata":B(M,"oncdata",M.cdata),M.cdata="";break;case"script":B(M,"onscript",M.script),M.script="";break;default:be(M,"Max buffer length exceeded: "+t[de])}fe=Math.max(fe,pe)}var Be=e.MAX_BUFFER_LENGTH-fe;M.bufferCheckPosition=Be+M.position}function s(M){for(var z=0,fe=t.length;z<fe;z++)M[t[z]]=""}function u(M){te(M),M.cdata!==""&&(B(M,"oncdata",M.cdata),M.cdata=""),M.script!==""&&(B(M,"onscript",M.script),M.script="")}o.prototype={end:function(){Ae(this)},write:ae,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var l;try{l=K1().Stream}catch{l=function(){}}var f=e.EVENTS.filter(function(M){return M!=="error"&&M!=="end"});function d(M,z){return new h(M,z)}function h(M,z){if(!(this instanceof h))return new h(M,z);l.apply(this),this._parser=new o(M,z),this.writable=!0,this.readable=!0;var fe=this;this._parser.onend=function(){fe.emit("end")},this._parser.onerror=function(de){fe.emit("error",de),fe._parser.error=null},this._decoder=null,f.forEach(function(de){Object.defineProperty(fe,"on"+de,{get:function(){return fe._parser["on"+de]},set:function(se){if(!se)return fe.removeAllListeners(de),fe._parser["on"+de]=se,se;fe.on(de,se)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(l.prototype,{constructor:{value:h}}),h.prototype.write=function(M){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(M)){if(!this._decoder){var z=S1().StringDecoder;this._decoder=new z("utf8")}M=this._decoder.write(M)}return this._parser.write(M.toString()),this.emit("data",M),!0},h.prototype.end=function(M){return M&&M.length&&this.write(M),this._parser.end(),!0},h.prototype.on=function(M,z){var fe=this;return!fe._parser["on"+M]&&f.indexOf(M)!==-1&&(fe._parser["on"+M]=function(){var de=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);de.splice(0,0,M),fe.emit.apply(fe,de)}),l.prototype.on.call(fe,M,z)};var S="[CDATA[",b="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",N={xml:p,xmlns:j},A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(M){return M===" "||M===`
`||M==="\r"||M==="	"}function G(M){return M==='"'||M==="'"}function re(M){return M===">"||k(M)}function Q(M,z){return M.test(z)}function ie(M,z){return!Q(M,z)}var U=0;e.STATE={BEGIN:U++,BEGIN_WHITESPACE:U++,TEXT:U++,TEXT_ENTITY:U++,OPEN_WAKA:U++,SGML_DECL:U++,SGML_DECL_QUOTED:U++,DOCTYPE:U++,DOCTYPE_QUOTED:U++,DOCTYPE_DTD:U++,DOCTYPE_DTD_QUOTED:U++,COMMENT_STARTING:U++,COMMENT:U++,COMMENT_ENDING:U++,COMMENT_ENDED:U++,CDATA:U++,CDATA_ENDING:U++,CDATA_ENDING_2:U++,PROC_INST:U++,PROC_INST_BODY:U++,PROC_INST_ENDING:U++,OPEN_TAG:U++,OPEN_TAG_SLASH:U++,ATTRIB:U++,ATTRIB_NAME:U++,ATTRIB_NAME_SAW_WHITE:U++,ATTRIB_VALUE:U++,ATTRIB_VALUE_QUOTED:U++,ATTRIB_VALUE_CLOSED:U++,ATTRIB_VALUE_UNQUOTED:U++,ATTRIB_VALUE_ENTITY_Q:U++,ATTRIB_VALUE_ENTITY_U:U++,CLOSE_TAG:U++,CLOSE_TAG_SAW_WHITE:U++,SCRIPT:U++,SCRIPT_ENDING:U++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(M){var z=e.ENTITIES[M],fe=typeof z=="number"?String.fromCharCode(z):z;e.ENTITIES[M]=fe});for(var le in e.STATE)e.STATE[e.STATE[le]]=le;U=e.STATE;function oe(M,z,fe){M[z]&&M[z](fe)}function B(M,z,fe){M.textNode&&te(M),oe(M,z,fe)}function te(M){M.textNode=P(M.opt,M.textNode),M.textNode&&oe(M,"ontext",M.textNode),M.textNode=""}function P(M,z){return M.trim&&(z=z.trim()),M.normalize&&(z=z.replace(/\s+/g," ")),z}function be(M,z){return te(M),M.trackPosition&&(z+=`
Line: `+M.line+`
Column: `+M.column+`
Char: `+M.c),z=new Error(z),M.error=z,oe(M,"onerror",z),M}function Ae(M){return M.sawRoot&&!M.closedRoot&&ge(M,"Unclosed root tag"),M.state!==U.BEGIN&&M.state!==U.BEGIN_WHITESPACE&&M.state!==U.TEXT&&be(M,"Unexpected end"),te(M),M.c="",M.closed=!0,oe(M,"onend"),o.call(M,M.strict,M.opt),M}function ge(M,z){if(typeof M!="object"||!(M instanceof o))throw new Error("bad call to strictFail");M.strict&&be(M,z)}function xe(M){M.strict||(M.tagName=M.tagName[M.looseCase]());var z=M.tags[M.tags.length-1]||M,fe=M.tag={name:M.tagName,attributes:{}};M.opt.xmlns&&(fe.ns=z.ns),M.attribList.length=0,B(M,"onopentagstart",fe)}function ke(M,z){var fe=M.indexOf(":"),de=fe<0?["",M]:M.split(":"),se=de[0],pe=de[1];return z&&M==="xmlns"&&(se="xmlns",pe=""),{prefix:se,local:pe}}function Fe(M){if(M.strict||(M.attribName=M.attribName[M.looseCase]()),M.attribList.indexOf(M.attribName)!==-1||M.tag.attributes.hasOwnProperty(M.attribName)){M.attribName=M.attribValue="";return}if(M.opt.xmlns){var z=ke(M.attribName,!0),fe=z.prefix,de=z.local;if(fe==="xmlns")if(de==="xml"&&M.attribValue!==p)ge(M,"xml: prefix must be bound to "+p+`
Actual: `+M.attribValue);else if(de==="xmlns"&&M.attribValue!==j)ge(M,"xmlns: prefix must be bound to "+j+`
Actual: `+M.attribValue);else{var se=M.tag,pe=M.tags[M.tags.length-1]||M;se.ns===pe.ns&&(se.ns=Object.create(pe.ns)),se.ns[de]=M.attribValue}M.attribList.push([M.attribName,M.attribValue])}else M.tag.attributes[M.attribName]=M.attribValue,B(M,"onattribute",{name:M.attribName,value:M.attribValue});M.attribName=M.attribValue=""}function J(M,z){if(M.opt.xmlns){var fe=M.tag,de=ke(M.tagName);fe.prefix=de.prefix,fe.local=de.local,fe.uri=fe.ns[de.prefix]||"",fe.prefix&&!fe.uri&&(ge(M,"Unbound namespace prefix: "+JSON.stringify(M.tagName)),fe.uri=de.prefix);var se=M.tags[M.tags.length-1]||M;fe.ns&&se.ns!==fe.ns&&Object.keys(fe.ns).forEach(function(Ee){B(M,"onopennamespace",{prefix:Ee,uri:fe.ns[Ee]})});for(var pe=0,Be=M.attribList.length;pe<Be;pe++){var H=M.attribList[pe],ee=H[0],X=H[1],T=ke(ee,!0),L=T.prefix,q=T.local,Se=L===""?"":fe.ns[L]||"",Ce={name:ee,value:X,prefix:L,local:q,uri:Se};L&&L!=="xmlns"&&!Se&&(ge(M,"Unbound namespace prefix: "+JSON.stringify(L)),Ce.uri=L),M.tag.attributes[ee]=Ce,B(M,"onattribute",Ce)}M.attribList.length=0}M.tag.isSelfClosing=!!z,M.sawRoot=!0,M.tags.push(M.tag),B(M,"onopentag",M.tag),z||(!M.noscript&&M.tagName.toLowerCase()==="script"?M.state=U.SCRIPT:M.state=U.TEXT,M.tag=null,M.tagName=""),M.attribName=M.attribValue="",M.attribList.length=0}function C(M){if(!M.tagName){ge(M,"Weird empty close tag."),M.textNode+="</>",M.state=U.TEXT;return}if(M.script){if(M.tagName!=="script"){M.script+="</"+M.tagName+">",M.tagName="",M.state=U.SCRIPT;return}B(M,"onscript",M.script),M.script=""}var z=M.tags.length,fe=M.tagName;M.strict||(fe=fe[M.looseCase]());for(var de=fe;z--;){var se=M.tags[z];if(se.name!==de)ge(M,"Unexpected close tag");else break}if(z<0){ge(M,"Unmatched closing tag: "+M.tagName),M.textNode+="</"+M.tagName+">",M.state=U.TEXT;return}M.tagName=fe;for(var pe=M.tags.length;pe-- >z;){var Be=M.tag=M.tags.pop();M.tagName=M.tag.name,B(M,"onclosetag",M.tagName);var H={};for(var ee in Be.ns)H[ee]=Be.ns[ee];var X=M.tags[M.tags.length-1]||M;M.opt.xmlns&&Be.ns!==X.ns&&Object.keys(Be.ns).forEach(function(T){var L=Be.ns[T];B(M,"onclosenamespace",{prefix:T,uri:L})})}z===0&&(M.closedRoot=!0),M.tagName=M.attribValue=M.attribName="",M.attribList.length=0,M.state=U.TEXT}function Z(M){var z=M.entity,fe=z.toLowerCase(),de,se="";return M.ENTITIES[z]?M.ENTITIES[z]:M.ENTITIES[fe]?M.ENTITIES[fe]:(z=fe,z.charAt(0)==="#"&&(z.charAt(1)==="x"?(z=z.slice(2),de=parseInt(z,16),se=de.toString(16)):(z=z.slice(1),de=parseInt(z,10),se=de.toString(10))),z=z.replace(/^0+/,""),isNaN(de)||se.toLowerCase()!==z?(ge(M,"Invalid character entity"),"&"+M.entity+";"):String.fromCodePoint(de))}function ne(M,z){z==="<"?(M.state=U.OPEN_WAKA,M.startTagPosition=M.position):k(z)||(ge(M,"Non-whitespace before first tag."),M.textNode=z,M.state=U.TEXT)}function ye(M,z){var fe="";return z<M.length&&(fe=M.charAt(z)),fe}function ae(M){var z=this;if(this.error)throw this.error;if(z.closed)return be(z,"Cannot write after close. Assign an onready handler.");if(M===null)return Ae(z);typeof M=="object"&&(M=M.toString());for(var fe=0,de="";de=ye(M,fe++),z.c=de,!!de;)switch(z.trackPosition&&(z.position++,de===`
`?(z.line++,z.column=0):z.column++),z.state){case U.BEGIN:if(z.state=U.BEGIN_WHITESPACE,de==="\uFEFF")continue;ne(z,de);continue;case U.BEGIN_WHITESPACE:ne(z,de);continue;case U.TEXT:if(z.sawRoot&&!z.closedRoot){for(var se=fe-1;de&&de!=="<"&&de!=="&";)de=ye(M,fe++),de&&z.trackPosition&&(z.position++,de===`
`?(z.line++,z.column=0):z.column++);z.textNode+=M.substring(se,fe-1)}de==="<"&&!(z.sawRoot&&z.closedRoot&&!z.strict)?(z.state=U.OPEN_WAKA,z.startTagPosition=z.position):(!k(de)&&(!z.sawRoot||z.closedRoot)&&ge(z,"Text data outside of root node."),de==="&"?z.state=U.TEXT_ENTITY:z.textNode+=de);continue;case U.SCRIPT:de==="<"?z.state=U.SCRIPT_ENDING:z.script+=de;continue;case U.SCRIPT_ENDING:de==="/"?z.state=U.CLOSE_TAG:(z.script+="<"+de,z.state=U.SCRIPT);continue;case U.OPEN_WAKA:if(de==="!")z.state=U.SGML_DECL,z.sgmlDecl="";else if(!k(de))if(Q(A,de))z.state=U.OPEN_TAG,z.tagName=de;else if(de==="/")z.state=U.CLOSE_TAG,z.tagName="";else if(de==="?")z.state=U.PROC_INST,z.procInstName=z.procInstBody="";else{if(ge(z,"Unencoded <"),z.startTagPosition+1<z.position){var pe=z.position-z.startTagPosition;de=new Array(pe).join(" ")+de}z.textNode+="<"+de,z.state=U.TEXT}continue;case U.SGML_DECL:(z.sgmlDecl+de).toUpperCase()===S?(B(z,"onopencdata"),z.state=U.CDATA,z.sgmlDecl="",z.cdata=""):z.sgmlDecl+de==="--"?(z.state=U.COMMENT,z.comment="",z.sgmlDecl=""):(z.sgmlDecl+de).toUpperCase()===b?(z.state=U.DOCTYPE,(z.doctype||z.sawRoot)&&ge(z,"Inappropriately located doctype declaration"),z.doctype="",z.sgmlDecl=""):de===">"?(B(z,"onsgmldeclaration",z.sgmlDecl),z.sgmlDecl="",z.state=U.TEXT):(G(de)&&(z.state=U.SGML_DECL_QUOTED),z.sgmlDecl+=de);continue;case U.SGML_DECL_QUOTED:de===z.q&&(z.state=U.SGML_DECL,z.q=""),z.sgmlDecl+=de;continue;case U.DOCTYPE:de===">"?(z.state=U.TEXT,B(z,"ondoctype",z.doctype),z.doctype=!0):(z.doctype+=de,de==="["?z.state=U.DOCTYPE_DTD:G(de)&&(z.state=U.DOCTYPE_QUOTED,z.q=de));continue;case U.DOCTYPE_QUOTED:z.doctype+=de,de===z.q&&(z.q="",z.state=U.DOCTYPE);continue;case U.DOCTYPE_DTD:z.doctype+=de,de==="]"?z.state=U.DOCTYPE:G(de)&&(z.state=U.DOCTYPE_DTD_QUOTED,z.q=de);continue;case U.DOCTYPE_DTD_QUOTED:z.doctype+=de,de===z.q&&(z.state=U.DOCTYPE_DTD,z.q="");continue;case U.COMMENT:de==="-"?z.state=U.COMMENT_ENDING:z.comment+=de;continue;case U.COMMENT_ENDING:de==="-"?(z.state=U.COMMENT_ENDED,z.comment=P(z.opt,z.comment),z.comment&&B(z,"oncomment",z.comment),z.comment=""):(z.comment+="-"+de,z.state=U.COMMENT);continue;case U.COMMENT_ENDED:de!==">"?(ge(z,"Malformed comment"),z.comment+="--"+de,z.state=U.COMMENT):z.state=U.TEXT;continue;case U.CDATA:de==="]"?z.state=U.CDATA_ENDING:z.cdata+=de;continue;case U.CDATA_ENDING:de==="]"?z.state=U.CDATA_ENDING_2:(z.cdata+="]"+de,z.state=U.CDATA);continue;case U.CDATA_ENDING_2:de===">"?(z.cdata&&B(z,"oncdata",z.cdata),B(z,"onclosecdata"),z.cdata="",z.state=U.TEXT):de==="]"?z.cdata+="]":(z.cdata+="]]"+de,z.state=U.CDATA);continue;case U.PROC_INST:de==="?"?z.state=U.PROC_INST_ENDING:k(de)?z.state=U.PROC_INST_BODY:z.procInstName+=de;continue;case U.PROC_INST_BODY:if(!z.procInstBody&&k(de))continue;de==="?"?z.state=U.PROC_INST_ENDING:z.procInstBody+=de;continue;case U.PROC_INST_ENDING:de===">"?(B(z,"onprocessinginstruction",{name:z.procInstName,body:z.procInstBody}),z.procInstName=z.procInstBody="",z.state=U.TEXT):(z.procInstBody+="?"+de,z.state=U.PROC_INST_BODY);continue;case U.OPEN_TAG:Q(w,de)?z.tagName+=de:(xe(z),de===">"?J(z):de==="/"?z.state=U.OPEN_TAG_SLASH:(k(de)||ge(z,"Invalid character in tag name"),z.state=U.ATTRIB));continue;case U.OPEN_TAG_SLASH:de===">"?(J(z,!0),C(z)):(ge(z,"Forward-slash in opening tag not followed by >"),z.state=U.ATTRIB);continue;case U.ATTRIB:if(k(de))continue;de===">"?J(z):de==="/"?z.state=U.OPEN_TAG_SLASH:Q(A,de)?(z.attribName=de,z.attribValue="",z.state=U.ATTRIB_NAME):ge(z,"Invalid attribute name");continue;case U.ATTRIB_NAME:de==="="?z.state=U.ATTRIB_VALUE:de===">"?(ge(z,"Attribute without value"),z.attribValue=z.attribName,Fe(z),J(z)):k(de)?z.state=U.ATTRIB_NAME_SAW_WHITE:Q(w,de)?z.attribName+=de:ge(z,"Invalid attribute name");continue;case U.ATTRIB_NAME_SAW_WHITE:if(de==="=")z.state=U.ATTRIB_VALUE;else{if(k(de))continue;ge(z,"Attribute without value"),z.tag.attributes[z.attribName]="",z.attribValue="",B(z,"onattribute",{name:z.attribName,value:""}),z.attribName="",de===">"?J(z):Q(A,de)?(z.attribName=de,z.state=U.ATTRIB_NAME):(ge(z,"Invalid attribute name"),z.state=U.ATTRIB)}continue;case U.ATTRIB_VALUE:if(k(de))continue;G(de)?(z.q=de,z.state=U.ATTRIB_VALUE_QUOTED):(ge(z,"Unquoted attribute value"),z.state=U.ATTRIB_VALUE_UNQUOTED,z.attribValue=de);continue;case U.ATTRIB_VALUE_QUOTED:if(de!==z.q){de==="&"?z.state=U.ATTRIB_VALUE_ENTITY_Q:z.attribValue+=de;continue}Fe(z),z.q="",z.state=U.ATTRIB_VALUE_CLOSED;continue;case U.ATTRIB_VALUE_CLOSED:k(de)?z.state=U.ATTRIB:de===">"?J(z):de==="/"?z.state=U.OPEN_TAG_SLASH:Q(A,de)?(ge(z,"No whitespace between attributes"),z.attribName=de,z.attribValue="",z.state=U.ATTRIB_NAME):ge(z,"Invalid attribute name");continue;case U.ATTRIB_VALUE_UNQUOTED:if(!re(de)){de==="&"?z.state=U.ATTRIB_VALUE_ENTITY_U:z.attribValue+=de;continue}Fe(z),de===">"?J(z):z.state=U.ATTRIB;continue;case U.CLOSE_TAG:if(z.tagName)de===">"?C(z):Q(w,de)?z.tagName+=de:z.script?(z.script+="</"+z.tagName,z.tagName="",z.state=U.SCRIPT):(k(de)||ge(z,"Invalid tagname in closing tag"),z.state=U.CLOSE_TAG_SAW_WHITE);else{if(k(de))continue;ie(A,de)?z.script?(z.script+="</"+de,z.state=U.SCRIPT):ge(z,"Invalid tagname in closing tag."):z.tagName=de}continue;case U.CLOSE_TAG_SAW_WHITE:if(k(de))continue;de===">"?C(z):ge(z,"Invalid characters in closing tag");continue;case U.TEXT_ENTITY:case U.ATTRIB_VALUE_ENTITY_Q:case U.ATTRIB_VALUE_ENTITY_U:var Be,H;switch(z.state){case U.TEXT_ENTITY:Be=U.TEXT,H="textNode";break;case U.ATTRIB_VALUE_ENTITY_Q:Be=U.ATTRIB_VALUE_QUOTED,H="attribValue";break;case U.ATTRIB_VALUE_ENTITY_U:Be=U.ATTRIB_VALUE_UNQUOTED,H="attribValue";break}de===";"?(z[H]+=Z(z),z.entity="",z.state=Be):Q(z.entity.length?R:I,de)?z.entity+=de:(ge(z,"Invalid character in entity name"),z[H]+="&"+z.entity+de,z.entity="",z.state=Be);continue;default:throw new Error(z,"Unknown state: "+z.state)}return z.position>=z.bufferCheckPosition&&a(z),z}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var M=String.fromCharCode,z=Math.floor,fe=function(){var de=16384,se=[],pe,Be,H=-1,ee=arguments.length;if(!ee)return"";for(var X="";++H<ee;){var T=Number(arguments[H]);if(!isFinite(T)||T<0||T>1114111||z(T)!==T)throw RangeError("Invalid code point: "+T);T<=65535?se.push(T):(T-=65536,pe=(T>>10)+55296,Be=T%1024+56320,se.push(pe,Be)),(H+1===ee||se.length>de)&&(X+=M.apply(null,se),se.length=0)}return X};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:fe,configurable:!0,writable:!0}):String.fromCodePoint=fe})()})(r)})(ap)),ap}var Sm,Iy;function V1(){return Iy||(Iy=1,Sm={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),Sm}var km,jy;function X1(){if(jy)return km;jy=1;var r=V1().isArray;return km={copyOptions:function(e){var t,o={};for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},km}var Am,Py;function w5(){if(Py)return Am;Py=1;var r=k4(),e=X1(),t=V1().isArray,o,a;function s(w){return o=e.copyOptions(w),e.ensureFlagExists("ignoreDeclaration",o),e.ensureFlagExists("ignoreInstruction",o),e.ensureFlagExists("ignoreAttributes",o),e.ensureFlagExists("ignoreText",o),e.ensureFlagExists("ignoreComment",o),e.ensureFlagExists("ignoreCdata",o),e.ensureFlagExists("ignoreDoctype",o),e.ensureFlagExists("compact",o),e.ensureFlagExists("alwaysChildren",o),e.ensureFlagExists("addParent",o),e.ensureFlagExists("trim",o),e.ensureFlagExists("nativeType",o),e.ensureFlagExists("nativeTypeAttributes",o),e.ensureFlagExists("sanitize",o),e.ensureFlagExists("instructionHasAttributes",o),e.ensureFlagExists("captureSpacesBetweenElements",o),e.ensureAlwaysArrayExists(o),e.ensureKeyExists("declaration",o),e.ensureKeyExists("instruction",o),e.ensureKeyExists("attributes",o),e.ensureKeyExists("text",o),e.ensureKeyExists("comment",o),e.ensureKeyExists("cdata",o),e.ensureKeyExists("doctype",o),e.ensureKeyExists("type",o),e.ensureKeyExists("name",o),e.ensureKeyExists("elements",o),e.ensureKeyExists("parent",o),e.checkFnExists("doctype",o),e.checkFnExists("instruction",o),e.checkFnExists("cdata",o),e.checkFnExists("comment",o),e.checkFnExists("text",o),e.checkFnExists("instructionName",o),e.checkFnExists("elementName",o),e.checkFnExists("attributeName",o),e.checkFnExists("attributeValue",o),e.checkFnExists("attributes",o),o}function u(w){var I=Number(w);if(!isNaN(I))return I;var R=w.toLowerCase();return R==="true"?!0:R==="false"?!1:w}function l(w,I){var R;if(o.compact){if(!a[o[w+"Key"]]&&(t(o.alwaysArray)?o.alwaysArray.indexOf(o[w+"Key"])!==-1:o.alwaysArray)&&(a[o[w+"Key"]]=[]),a[o[w+"Key"]]&&!t(a[o[w+"Key"]])&&(a[o[w+"Key"]]=[a[o[w+"Key"]]]),w+"Fn"in o&&typeof I=="string"&&(I=o[w+"Fn"](I,a)),w==="instruction"&&("instructionFn"in o||"instructionNameFn"in o)){for(R in I)if(I.hasOwnProperty(R))if("instructionFn"in o)I[R]=o.instructionFn(I[R],R,a);else{var k=I[R];delete I[R],I[o.instructionNameFn(R,k,a)]=k}}t(a[o[w+"Key"]])?a[o[w+"Key"]].push(I):a[o[w+"Key"]]=I}else{a[o.elementsKey]||(a[o.elementsKey]=[]);var G={};if(G[o.typeKey]=w,w==="instruction"){for(R in I)if(I.hasOwnProperty(R))break;G[o.nameKey]="instructionNameFn"in o?o.instructionNameFn(R,I,a):R,o.instructionHasAttributes?(G[o.attributesKey]=I[R][o.attributesKey],"instructionFn"in o&&(G[o.attributesKey]=o.instructionFn(G[o.attributesKey],R,a))):("instructionFn"in o&&(I[R]=o.instructionFn(I[R],R,a)),G[o.instructionKey]=I[R])}else w+"Fn"in o&&(I=o[w+"Fn"](I,a)),G[o[w+"Key"]]=I;o.addParent&&(G[o.parentKey]=a),a[o.elementsKey].push(G)}}function f(w){if("attributesFn"in o&&w&&(w=o.attributesFn(w,a)),(o.trim||"attributeValueFn"in o||"attributeNameFn"in o||o.nativeTypeAttributes)&&w){var I;for(I in w)if(w.hasOwnProperty(I)&&(o.trim&&(w[I]=w[I].trim()),o.nativeTypeAttributes&&(w[I]=u(w[I])),"attributeValueFn"in o&&(w[I]=o.attributeValueFn(w[I],I,a)),"attributeNameFn"in o)){var R=w[I];delete w[I],w[o.attributeNameFn(I,w[I],a)]=R}}return w}function d(w){var I={};if(w.body&&(w.name.toLowerCase()==="xml"||o.instructionHasAttributes)){for(var R=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,k;(k=R.exec(w.body))!==null;)I[k[1]]=k[2]||k[3]||k[4];I=f(I)}if(w.name.toLowerCase()==="xml"){if(o.ignoreDeclaration)return;a[o.declarationKey]={},Object.keys(I).length&&(a[o.declarationKey][o.attributesKey]=I),o.addParent&&(a[o.declarationKey][o.parentKey]=a)}else{if(o.ignoreInstruction)return;o.trim&&(w.body=w.body.trim());var G={};o.instructionHasAttributes&&Object.keys(I).length?(G[w.name]={},G[w.name][o.attributesKey]=I):G[w.name]=w.body,l("instruction",G)}}function h(w,I){var R;if(typeof w=="object"&&(I=w.attributes,w=w.name),I=f(I),"elementNameFn"in o&&(w=o.elementNameFn(w,a)),o.compact){if(R={},!o.ignoreAttributes&&I&&Object.keys(I).length){R[o.attributesKey]={};var k;for(k in I)I.hasOwnProperty(k)&&(R[o.attributesKey][k]=I[k])}!(w in a)&&(t(o.alwaysArray)?o.alwaysArray.indexOf(w)!==-1:o.alwaysArray)&&(a[w]=[]),a[w]&&!t(a[w])&&(a[w]=[a[w]]),t(a[w])?a[w].push(R):a[w]=R}else a[o.elementsKey]||(a[o.elementsKey]=[]),R={},R[o.typeKey]="element",R[o.nameKey]=w,!o.ignoreAttributes&&I&&Object.keys(I).length&&(R[o.attributesKey]=I),o.alwaysChildren&&(R[o.elementsKey]=[]),a[o.elementsKey].push(R);R[o.parentKey]=a,a=R}function S(w){o.ignoreText||!w.trim()&&!o.captureSpacesBetweenElements||(o.trim&&(w=w.trim()),o.nativeType&&(w=u(w)),o.sanitize&&(w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",w))}function b(w){o.ignoreComment||(o.trim&&(w=w.trim()),l("comment",w))}function p(w){var I=a[o.parentKey];o.addParent||delete a[o.parentKey],a=I}function j(w){o.ignoreCdata||(o.trim&&(w=w.trim()),l("cdata",w))}function N(w){o.ignoreDoctype||(w=w.replace(/^ /,""),o.trim&&(w=w.trim()),l("doctype",w))}function A(w){w.note=w}return Am=function(w,I){var R=r.parser(!0,{}),k={};if(a=k,o=s(I),R.opt={strictEntities:!0},R.onopentag=h,R.ontext=S,R.oncomment=b,R.onclosetag=p,R.onerror=A,R.oncdata=j,R.ondoctype=N,R.onprocessinginstruction=d,R.write(w).close(),k[o.elementsKey]){var G=k[o.elementsKey];delete k[o.elementsKey],k[o.elementsKey]=G,delete k.text}return k},Am}var Nm,Dy;function A4(){if(Dy)return Nm;Dy=1;var r=X1(),e=w5();function t(o){var a=r.copyOptions(o);return r.ensureSpacesExists(a),a}return Nm=function(o,a){var s,u,l,f;return s=t(a),u=e(o,s),f="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?l=JSON.stringify(u,function(d,h){return d===f?"_":h},s.spaces):l=JSON.stringify(u,null,s.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Nm}var Em,Oy;function x5(){if(Oy)return Em;Oy=1;var r=X1(),e=V1().isArray,t,o;function a(R){var k=r.copyOptions(R);return r.ensureFlagExists("ignoreDeclaration",k),r.ensureFlagExists("ignoreInstruction",k),r.ensureFlagExists("ignoreAttributes",k),r.ensureFlagExists("ignoreText",k),r.ensureFlagExists("ignoreComment",k),r.ensureFlagExists("ignoreCdata",k),r.ensureFlagExists("ignoreDoctype",k),r.ensureFlagExists("compact",k),r.ensureFlagExists("indentText",k),r.ensureFlagExists("indentCdata",k),r.ensureFlagExists("indentAttributes",k),r.ensureFlagExists("indentInstruction",k),r.ensureFlagExists("fullTagEmptyElement",k),r.ensureFlagExists("noQuotesForNativeAttributes",k),r.ensureSpacesExists(k),typeof k.spaces=="number"&&(k.spaces=Array(k.spaces+1).join(" ")),r.ensureKeyExists("declaration",k),r.ensureKeyExists("instruction",k),r.ensureKeyExists("attributes",k),r.ensureKeyExists("text",k),r.ensureKeyExists("comment",k),r.ensureKeyExists("cdata",k),r.ensureKeyExists("doctype",k),r.ensureKeyExists("type",k),r.ensureKeyExists("name",k),r.ensureKeyExists("elements",k),r.checkFnExists("doctype",k),r.checkFnExists("instruction",k),r.checkFnExists("cdata",k),r.checkFnExists("comment",k),r.checkFnExists("text",k),r.checkFnExists("instructionName",k),r.checkFnExists("elementName",k),r.checkFnExists("attributeName",k),r.checkFnExists("attributeValue",k),r.checkFnExists("attributes",k),r.checkFnExists("fullTagEmptyElement",k),k}function s(R,k,G){return(!G&&R.spaces?`
`:"")+Array(k+1).join(R.spaces)}function u(R,k,G){if(k.ignoreAttributes)return"";"attributesFn"in k&&(R=k.attributesFn(R,o,t));var re,Q,ie,U,le=[];for(re in R)R.hasOwnProperty(re)&&R[re]!==null&&R[re]!==void 0&&(U=k.noQuotesForNativeAttributes&&typeof R[re]!="string"?"":'"',Q=""+R[re],Q=Q.replace(/"/g,"&quot;"),ie="attributeNameFn"in k?k.attributeNameFn(re,Q,o,t):re,le.push(k.spaces&&k.indentAttributes?s(k,G+1,!1):" "),le.push(ie+"="+U+("attributeValueFn"in k?k.attributeValueFn(Q,re,o,t):Q)+U));return R&&Object.keys(R).length&&k.spaces&&k.indentAttributes&&le.push(s(k,G,!1)),le.join("")}function l(R,k,G){return t=R,o="xml",k.ignoreDeclaration?"":"<?xml"+u(R[k.attributesKey],k,G)+"?>"}function f(R,k,G){if(k.ignoreInstruction)return"";var re;for(re in R)if(R.hasOwnProperty(re))break;var Q="instructionNameFn"in k?k.instructionNameFn(re,R[re],o,t):re;if(typeof R[re]=="object")return t=R,o=Q,"<?"+Q+u(R[re][k.attributesKey],k,G)+"?>";var ie=R[re]?R[re]:"";return"instructionFn"in k&&(ie=k.instructionFn(ie,re,o,t)),"<?"+Q+(ie?" "+ie:"")+"?>"}function d(R,k){return k.ignoreComment?"":"<!--"+("commentFn"in k?k.commentFn(R,o,t):R)+"-->"}function h(R,k){return k.ignoreCdata?"":"<![CDATA["+("cdataFn"in k?k.cdataFn(R,o,t):R.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function S(R,k){return k.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in k?k.doctypeFn(R,o,t):R)+">"}function b(R,k){return k.ignoreText?"":(R=""+R,R=R.replace(/&amp;/g,"&"),R=R.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in k?k.textFn(R,o,t):R)}function p(R,k){var G;if(R.elements&&R.elements.length)for(G=0;G<R.elements.length;++G)switch(R.elements[G][k.typeKey]){case"text":if(k.indentText)return!0;break;case"cdata":if(k.indentCdata)return!0;break;case"instruction":if(k.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function j(R,k,G){t=R,o=R.name;var re=[],Q="elementNameFn"in k?k.elementNameFn(R.name,R):R.name;re.push("<"+Q),R[k.attributesKey]&&re.push(u(R[k.attributesKey],k,G));var ie=R[k.elementsKey]&&R[k.elementsKey].length||R[k.attributesKey]&&R[k.attributesKey]["xml:space"]==="preserve";return ie||("fullTagEmptyElementFn"in k?ie=k.fullTagEmptyElementFn(R.name,R):ie=k.fullTagEmptyElement),ie?(re.push(">"),R[k.elementsKey]&&R[k.elementsKey].length&&(re.push(N(R[k.elementsKey],k,G+1)),t=R,o=R.name),re.push(k.spaces&&p(R,k)?`
`+Array(G+1).join(k.spaces):""),re.push("</"+Q+">")):re.push("/>"),re.join("")}function N(R,k,G,re){return R.reduce(function(Q,ie){var U=s(k,G,re&&!Q);switch(ie.type){case"element":return Q+U+j(ie,k,G);case"comment":return Q+U+d(ie[k.commentKey],k);case"doctype":return Q+U+S(ie[k.doctypeKey],k);case"cdata":return Q+(k.indentCdata?U:"")+h(ie[k.cdataKey],k);case"text":return Q+(k.indentText?U:"")+b(ie[k.textKey],k);case"instruction":var le={};return le[ie[k.nameKey]]=ie[k.attributesKey]?ie:ie[k.instructionKey],Q+(k.indentInstruction?U:"")+f(le,k,G)}},"")}function A(R,k,G){var re;for(re in R)if(R.hasOwnProperty(re))switch(re){case k.parentKey:case k.attributesKey:break;case k.textKey:if(k.indentText||G)return!0;break;case k.cdataKey:if(k.indentCdata||G)return!0;break;case k.instructionKey:if(k.indentInstruction||G)return!0;break;case k.doctypeKey:case k.commentKey:return!0;default:return!0}return!1}function w(R,k,G,re,Q){t=R,o=k;var ie="elementNameFn"in G?G.elementNameFn(k,R):k;if(typeof R>"u"||R===null||R==="")return"fullTagEmptyElementFn"in G&&G.fullTagEmptyElementFn(k,R)||G.fullTagEmptyElement?"<"+ie+"></"+ie+">":"<"+ie+"/>";var U=[];if(k){if(U.push("<"+ie),typeof R!="object")return U.push(">"+b(R,G)+"</"+ie+">"),U.join("");R[G.attributesKey]&&U.push(u(R[G.attributesKey],G,re));var le=A(R,G,!0)||R[G.attributesKey]&&R[G.attributesKey]["xml:space"]==="preserve";if(le||("fullTagEmptyElementFn"in G?le=G.fullTagEmptyElementFn(k,R):le=G.fullTagEmptyElement),le)U.push(">");else return U.push("/>"),U.join("")}return U.push(I(R,G,re+1,!1)),t=R,o=k,k&&U.push((Q?s(G,re,!1):"")+"</"+ie+">"),U.join("")}function I(R,k,G,re){var Q,ie,U,le=[];for(ie in R)if(R.hasOwnProperty(ie))for(U=e(R[ie])?R[ie]:[R[ie]],Q=0;Q<U.length;++Q){switch(ie){case k.declarationKey:le.push(l(U[Q],k,G));break;case k.instructionKey:le.push((k.indentInstruction?s(k,G,re):"")+f(U[Q],k,G));break;case k.attributesKey:case k.parentKey:break;case k.textKey:le.push((k.indentText?s(k,G,re):"")+b(U[Q],k));break;case k.cdataKey:le.push((k.indentCdata?s(k,G,re):"")+h(U[Q],k));break;case k.doctypeKey:le.push(s(k,G,re)+S(U[Q],k));break;case k.commentKey:le.push(s(k,G,re)+d(U[Q],k));break;default:le.push(s(k,G,re)+w(U[Q],ie,k,G,A(U[Q],k)))}re=re&&!le.length}return le.join("")}return Em=function(R,k){k=a(k);var G=[];return t=R,o="_root_",k.compact?G.push(I(R,k,0,!0)):(R[k.declarationKey]&&G.push(l(R[k.declarationKey],k,0)),R[k.elementsKey]&&R[k.elementsKey].length&&G.push(N(R[k.elementsKey],k,0,!G.length))),G.join("")},Em}var Tm,Fy;function N4(){if(Fy)return Tm;Fy=1;var r=x5();return Tm=function(e,t){e instanceof Buffer&&(e=e.toString());var o=null;if(typeof e=="string")try{o=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else o=e;return r(o,t)},Tm}var Cm,By;function E4(){if(By)return Cm;By=1;var r=w5(),e=A4(),t=x5(),o=N4();return Cm={xml2js:r,xml2json:e,js2xml:t,json2xml:o},Cm}var b5=E4();const Y1=r=>{switch(r.type){case void 0:case"element":const e=new C4(r.name,r.attributes),t=r.elements||[];for(const o of t){const a=Y1(o);a!==void 0&&e.push(a)}return e;case"text":return r.text;default:return}};class T4 extends dr{}class C4 extends Rt{static fromXmlString(e){const t=b5.xml2js(e,{compact:!1});return Y1(t)}constructor(e,t){super(e),t&&this.root.push(new T4(t))}push(e){this.root.push(e)}}class L4 extends Rt{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class _5 extends Rt{constructor(e,t){super(e),t&&(this.root=t.root)}}const ua=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},_h=r=>{const e=ua(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},S5=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},My=r=>S5(r,1),k5=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},A5=r=>{const e=k5(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},wf=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return S5(e,3)},Pu=r=>typeof r=="string"?k5(r):ua(r),R4=r=>typeof r=="string"?A5(r):_h(r),kl=r=>typeof r=="string"?A5(r):_h(r),I4=_h,j4=_h,P4=r=>r.toISOString();class jt extends Rt{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new _o({val:t}))}}class Lm extends Rt{constructor(e,t){super(e),this.root.push(new _o({val:R4(t)}))}}class uf extends Rt{constructor(e,t){super(e),this.root.push(new _o({val:t}))}}const zf=(r,e)=>new nc({name:r,attributes:{value:{key:"w:val",value:e}}});class Kf extends Rt{constructor(e,t){super(e),this.root.push(new _o({val:t}))}}class Nu extends Rt{constructor(e,t){super(e),this.root.push(t)}}class nc extends Rt{constructor({name:e,attributes:t,children:o}){super(e),t&&this.root.push(new wh(t)),o&&this.root.push(...o)}}const Yl={START:"start",LEFT:"left"};class D4 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val"})}}class O4 extends Rt{constructor(e){super("w:jc"),this.root.push(new D4({val:e}))}}class po extends Rt{constructor(e,{color:t,size:o,space:a,style:s}){super(e),this.root.push(new F4({style:s,color:t===void 0?void 0:wf(t),size:o===void 0?void 0:I4(o),space:a===void 0?void 0:j4(a)}))}}class F4 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const J1={SINGLE:"single",NONE:"none"};class B4 extends vh{constructor(e){super("w:pBdr"),e.top&&this.root.push(new po("w:top",e.top)),e.bottom&&this.root.push(new po("w:bottom",e.bottom)),e.left&&this.root.push(new po("w:left",e.left)),e.right&&this.root.push(new po("w:right",e.right))}}class M4 extends Rt{constructor(){super("w:pBdr");const e=new po("w:bottom",{color:"auto",space:1,style:J1.SINGLE,size:6});this.root.push(e)}}class z4 extends Rt{constructor({start:e,end:t,left:o,right:a,hanging:s,firstLine:u}){super("w:ind"),this.root.push(new wh({start:{key:"w:start",value:e===void 0?void 0:Pu(e)},end:{key:"w:end",value:t===void 0?void 0:Pu(t)},left:{key:"w:left",value:o===void 0?void 0:Pu(o)},right:{key:"w:right",value:a===void 0?void 0:Pu(a)},hanging:{key:"w:hanging",value:s===void 0?void 0:kl(s)},firstLine:{key:"w:firstLine",value:u===void 0?void 0:kl(u)}}))}}let $4=class extends Rt{constructor(){super("w:br")}};const Z1={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Q1 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Od extends Rt{constructor(e){super("w:fldChar"),this.root.push(new Q1({type:Z1.BEGIN,dirty:e}))}}class Fd extends Rt{constructor(e){super("w:fldChar"),this.root.push(new Q1({type:Z1.SEPARATE,dirty:e}))}}class Bd extends Rt{constructor(e){super("w:fldChar"),this.root.push(new Q1({type:Z1.END,dirty:e}))}}const xf={DEFAULT:"default",PRESERVE:"preserve"};class bf extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{space:"xml:space"})}}class U4 extends Rt{constructor(){super("w:instrText"),this.root.push(new bf({space:xf.PRESERVE})),this.root.push("PAGE")}}class q4 extends Rt{constructor(){super("w:instrText"),this.root.push(new bf({space:xf.PRESERVE})),this.root.push("NUMPAGES")}}class W4 extends Rt{constructor(){super("w:instrText"),this.root.push(new bf({space:xf.PRESERVE})),this.root.push("SECTIONPAGES")}}class H4 extends Rt{constructor(){super("w:instrText"),this.root.push(new bf({space:xf.PRESERVE})),this.root.push("SECTION")}}class G4 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class N5 extends Rt{constructor({fill:e,color:t,type:o}){super("w:shd"),this.root.push(new G4({fill:e===void 0?void 0:wf(e),color:t===void 0?void 0:wf(t),type:o}))}}class K4 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const V4={DOT:"dot"};class X4 extends Rt{constructor(e){super("w:em"),this.root.push(new _o({val:e}))}}class Y4 extends X4{constructor(e=V4.DOT){super(e)}}class J4 extends Rt{constructor(e){super("w:spacing"),this.root.push(new _o({val:Pu(e)}))}}class Z4 extends Rt{constructor(e){super("w:color"),this.root.push(new _o({val:wf(e)}))}}class Q4 extends Rt{constructor(e){super("w:highlight"),this.root.push(new _o({val:e}))}}class e_ extends Rt{constructor(e){super("w:highlightCs"),this.root.push(new _o({val:e}))}}const t_=r=>new nc({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class zy extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Rm extends Rt{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new zy({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:t}))}else{const o=e;this.root.push(new zy(o))}}}let E5=class extends Rt{constructor(e){super("w:vertAlign"),this.root.push(new _o({val:e}))}};class n_ extends E5{constructor(){super("superscript")}}class r_ extends E5{constructor(){super("subscript")}}const T5={SINGLE:"single"};class i_ extends Rt{constructor(e=T5.SINGLE,t){super("w:u"),this.root.push(new _o({val:e,color:t===void 0?void 0:wf(t)}))}}class Bu extends vh{constructor(e){var t,o;if(super("w:rPr"),!e)return;e.style&&this.push(new uf("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Rm(e.font)):"name"in e.font?this.push(new Rm(e.font.name,e.font.hint)):this.push(new Rm(e.font))),e.bold!==void 0&&this.push(new jt("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new jt("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new jt("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new jt("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.smallCaps!==void 0?this.push(new jt("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new jt("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new jt("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new jt("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new jt("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new jt("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new jt("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new jt("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new jt("w:vanish",e.vanish)),e.color&&this.push(new Z4(e.color)),e.characterSpacing&&this.push(new J4(e.characterSpacing)),e.scale!==void 0&&this.push(new Kf("w:w",e.scale)),e.kern&&this.push(new Lm("w:kern",e.kern)),e.position&&this.push(new uf("w:position",e.position)),e.size!==void 0&&this.push(new Lm("w:sz",e.size));const a=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;a&&this.push(new Lm("w:szCs",a)),e.highlight&&this.push(new Q4(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new e_(s)),e.underline&&this.push(new i_(e.underline.type,e.underline.color)),e.effect&&this.push(new uf("w:effect",e.effect)),e.border&&this.push(new po("w:bdr",e.border)),e.shading&&this.push(new N5(e.shading)),e.subScript&&this.push(new r_),e.superScript&&this.push(new n_),e.rightToLeft!==void 0&&this.push(new jt("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new Y4(e.emphasisMark.type)),e.language&&this.push(t_(e.language)),e.specVanish&&this.push(new jt("w:specVanish",e.vanish)),e.math&&this.push(new jt("w:oMath",e.math)),e.revision&&this.push(new o_(e.revision))}push(e){this.root.push(e)}}class o_ extends Rt{constructor(e){super("w:rPrChange"),this.root.push(new K4({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Bu(e))}}class $y extends Rt{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new bf({space:xf.PRESERVE})),this.root.push(e)):(this.root.push(new bf({space:(t=e.space)!=null?t:xf.DEFAULT})),this.root.push(e.text))}}const Md={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Sh extends Rt{constructor(e){if(super("w:r"),kt(this,"properties"),this.properties=new Bu(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new $4);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case Md.CURRENT:this.root.push(new Od),this.root.push(new U4),this.root.push(new Fd),this.root.push(new Bd);break;case Md.TOTAL_PAGES:this.root.push(new Od),this.root.push(new q4),this.root.push(new Fd),this.root.push(new Bd);break;case Md.TOTAL_PAGES_IN_SECTION:this.root.push(new Od),this.root.push(new W4),this.root.push(new Fd),this.root.push(new Bd);break;case Md.CURRENT_SECTION:this.root.push(new Od),this.root.push(new H4),this.root.push(new Fd),this.root.push(new Bd);break;default:this.root.push(new $y(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new $y(e.text))}}class hh extends Sh{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Im={},Li={},jm,Uy;function sd(){if(Uy)return jm;Uy=1,jm=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,o,a){if(t!=o)throw new Error(a||"Assertion failed: "+t+" != "+o)},jm}var qy;function rc(){if(qy)return Li;qy=1;var r=sd(),e=cu();Li.inherits=e;function t(B,te){return(B.charCodeAt(te)&64512)!==55296||te<0||te+1>=B.length?!1:(B.charCodeAt(te+1)&64512)===56320}function o(B,te){if(Array.isArray(B))return B.slice();if(!B)return[];var P=[];if(typeof B=="string")if(te){if(te==="hex")for(B=B.replace(/[^a-z0-9]+/ig,""),B.length%2!==0&&(B="0"+B),Ae=0;Ae<B.length;Ae+=2)P.push(parseInt(B[Ae]+B[Ae+1],16))}else for(var be=0,Ae=0;Ae<B.length;Ae++){var ge=B.charCodeAt(Ae);ge<128?P[be++]=ge:ge<2048?(P[be++]=ge>>6|192,P[be++]=ge&63|128):t(B,Ae)?(ge=65536+((ge&1023)<<10)+(B.charCodeAt(++Ae)&1023),P[be++]=ge>>18|240,P[be++]=ge>>12&63|128,P[be++]=ge>>6&63|128,P[be++]=ge&63|128):(P[be++]=ge>>12|224,P[be++]=ge>>6&63|128,P[be++]=ge&63|128)}else for(Ae=0;Ae<B.length;Ae++)P[Ae]=B[Ae]|0;return P}Li.toArray=o;function a(B){for(var te="",P=0;P<B.length;P++)te+=l(B[P].toString(16));return te}Li.toHex=a;function s(B){var te=B>>>24|B>>>8&65280|B<<8&16711680|(B&255)<<24;return te>>>0}Li.htonl=s;function u(B,te){for(var P="",be=0;be<B.length;be++){var Ae=B[be];te==="little"&&(Ae=s(Ae)),P+=f(Ae.toString(16))}return P}Li.toHex32=u;function l(B){return B.length===1?"0"+B:B}Li.zero2=l;function f(B){return B.length===7?"0"+B:B.length===6?"00"+B:B.length===5?"000"+B:B.length===4?"0000"+B:B.length===3?"00000"+B:B.length===2?"000000"+B:B.length===1?"0000000"+B:B}Li.zero8=f;function d(B,te,P,be){var Ae=P-te;r(Ae%4===0);for(var ge=new Array(Ae/4),xe=0,ke=te;xe<ge.length;xe++,ke+=4){var Fe;be==="big"?Fe=B[ke]<<24|B[ke+1]<<16|B[ke+2]<<8|B[ke+3]:Fe=B[ke+3]<<24|B[ke+2]<<16|B[ke+1]<<8|B[ke],ge[xe]=Fe>>>0}return ge}Li.join32=d;function h(B,te){for(var P=new Array(B.length*4),be=0,Ae=0;be<B.length;be++,Ae+=4){var ge=B[be];te==="big"?(P[Ae]=ge>>>24,P[Ae+1]=ge>>>16&255,P[Ae+2]=ge>>>8&255,P[Ae+3]=ge&255):(P[Ae+3]=ge>>>24,P[Ae+2]=ge>>>16&255,P[Ae+1]=ge>>>8&255,P[Ae]=ge&255)}return P}Li.split32=h;function S(B,te){return B>>>te|B<<32-te}Li.rotr32=S;function b(B,te){return B<<te|B>>>32-te}Li.rotl32=b;function p(B,te){return B+te>>>0}Li.sum32=p;function j(B,te,P){return B+te+P>>>0}Li.sum32_3=j;function N(B,te,P,be){return B+te+P+be>>>0}Li.sum32_4=N;function A(B,te,P,be,Ae){return B+te+P+be+Ae>>>0}Li.sum32_5=A;function w(B,te,P,be){var Ae=B[te],ge=B[te+1],xe=be+ge>>>0,ke=(xe<be?1:0)+P+Ae;B[te]=ke>>>0,B[te+1]=xe}Li.sum64=w;function I(B,te,P,be){var Ae=te+be>>>0,ge=(Ae<te?1:0)+B+P;return ge>>>0}Li.sum64_hi=I;function R(B,te,P,be){var Ae=te+be;return Ae>>>0}Li.sum64_lo=R;function k(B,te,P,be,Ae,ge,xe,ke){var Fe=0,J=te;J=J+be>>>0,Fe+=J<te?1:0,J=J+ge>>>0,Fe+=J<ge?1:0,J=J+ke>>>0,Fe+=J<ke?1:0;var C=B+P+Ae+xe+Fe;return C>>>0}Li.sum64_4_hi=k;function G(B,te,P,be,Ae,ge,xe,ke){var Fe=te+be+ge+ke;return Fe>>>0}Li.sum64_4_lo=G;function re(B,te,P,be,Ae,ge,xe,ke,Fe,J){var C=0,Z=te;Z=Z+be>>>0,C+=Z<te?1:0,Z=Z+ge>>>0,C+=Z<ge?1:0,Z=Z+ke>>>0,C+=Z<ke?1:0,Z=Z+J>>>0,C+=Z<J?1:0;var ne=B+P+Ae+xe+Fe+C;return ne>>>0}Li.sum64_5_hi=re;function Q(B,te,P,be,Ae,ge,xe,ke,Fe,J){var C=te+be+ge+ke+J;return C>>>0}Li.sum64_5_lo=Q;function ie(B,te,P){var be=te<<32-P|B>>>P;return be>>>0}Li.rotr64_hi=ie;function U(B,te,P){var be=B<<32-P|te>>>P;return be>>>0}Li.rotr64_lo=U;function le(B,te,P){return B>>>P}Li.shr64_hi=le;function oe(B,te,P){var be=B<<32-P|te>>>P;return be>>>0}return Li.shr64_lo=oe,Li}var Pm={},Wy;function ad(){if(Wy)return Pm;Wy=1;var r=rc(),e=sd();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Pm.BlockHash=t,t.prototype.update=function(a,s){if(a=r.toArray(a,s),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var u=a.length%this._delta8;this.pending=a.slice(a.length-u,a.length),this.pending.length===0&&(this.pending=null),a=r.join32(a,0,a.length-u,this.endian);for(var l=0;l<a.length;l+=this._delta32)this._update(a,l,l+this._delta32)}return this},t.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},t.prototype._pad=function(){var a=this.pendingTotal,s=this._delta8,u=s-(a+this.padLength)%s,l=new Array(u+this.padLength);l[0]=128;for(var f=1;f<u;f++)l[f]=0;if(a<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)l[f++]=0;l[f++]=0,l[f++]=0,l[f++]=0,l[f++]=0,l[f++]=a>>>24&255,l[f++]=a>>>16&255,l[f++]=a>>>8&255,l[f++]=a&255}else for(l[f++]=a&255,l[f++]=a>>>8&255,l[f++]=a>>>16&255,l[f++]=a>>>24&255,l[f++]=0,l[f++]=0,l[f++]=0,l[f++]=0,d=8;d<this.padLength;d++)l[f++]=0;return l},Pm}var Eu={},Vl={},Hy;function C5(){if(Hy)return Vl;Hy=1;var r=rc(),e=r.rotr32;function t(h,S,b,p){if(h===0)return o(S,b,p);if(h===1||h===3)return s(S,b,p);if(h===2)return a(S,b,p)}Vl.ft_1=t;function o(h,S,b){return h&S^~h&b}Vl.ch32=o;function a(h,S,b){return h&S^h&b^S&b}Vl.maj32=a;function s(h,S,b){return h^S^b}Vl.p32=s;function u(h){return e(h,2)^e(h,13)^e(h,22)}Vl.s0_256=u;function l(h){return e(h,6)^e(h,11)^e(h,25)}Vl.s1_256=l;function f(h){return e(h,7)^e(h,18)^h>>>3}Vl.g0_256=f;function d(h){return e(h,17)^e(h,19)^h>>>10}return Vl.g1_256=d,Vl}var Dm,Gy;function s_(){if(Gy)return Dm;Gy=1;var r=rc(),e=ad(),t=C5(),o=r.rotl32,a=r.sum32,s=r.sum32_5,u=t.ft_1,l=e.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(d,l),Dm=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(S,b){for(var p=this.W,j=0;j<16;j++)p[j]=S[b+j];for(;j<p.length;j++)p[j]=o(p[j-3]^p[j-8]^p[j-14]^p[j-16],1);var N=this.h[0],A=this.h[1],w=this.h[2],I=this.h[3],R=this.h[4];for(j=0;j<p.length;j++){var k=~~(j/20),G=s(o(N,5),u(k,A,w,I),R,p[j],f[k]);R=I,I=w,w=o(A,30),A=N,N=G}this.h[0]=a(this.h[0],N),this.h[1]=a(this.h[1],A),this.h[2]=a(this.h[2],w),this.h[3]=a(this.h[3],I),this.h[4]=a(this.h[4],R)},d.prototype._digest=function(S){return S==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Dm}var Om,Ky;function L5(){if(Ky)return Om;Ky=1;var r=rc(),e=ad(),t=C5(),o=sd(),a=r.sum32,s=r.sum32_4,u=r.sum32_5,l=t.ch32,f=t.maj32,d=t.s0_256,h=t.s1_256,S=t.g0_256,b=t.g1_256,p=e.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function N(){if(!(this instanceof N))return new N;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}return r.inherits(N,p),Om=N,N.blockSize=512,N.outSize=256,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(w,I){for(var R=this.W,k=0;k<16;k++)R[k]=w[I+k];for(;k<R.length;k++)R[k]=s(b(R[k-2]),R[k-7],S(R[k-15]),R[k-16]);var G=this.h[0],re=this.h[1],Q=this.h[2],ie=this.h[3],U=this.h[4],le=this.h[5],oe=this.h[6],B=this.h[7];for(o(this.k.length===R.length),k=0;k<R.length;k++){var te=u(B,h(U),l(U,le,oe),this.k[k],R[k]),P=a(d(G),f(G,re,Q));B=oe,oe=le,le=U,U=a(ie,te),ie=Q,Q=re,re=G,G=a(te,P)}this.h[0]=a(this.h[0],G),this.h[1]=a(this.h[1],re),this.h[2]=a(this.h[2],Q),this.h[3]=a(this.h[3],ie),this.h[4]=a(this.h[4],U),this.h[5]=a(this.h[5],le),this.h[6]=a(this.h[6],oe),this.h[7]=a(this.h[7],B)},N.prototype._digest=function(w){return w==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Om}var Fm,Vy;function a_(){if(Vy)return Fm;Vy=1;var r=rc(),e=L5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),Fm=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(a){return a==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},Fm}var Bm,Xy;function R5(){if(Xy)return Bm;Xy=1;var r=rc(),e=ad(),t=sd(),o=r.rotr64_hi,a=r.rotr64_lo,s=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,S=r.sum64_4_lo,b=r.sum64_5_hi,p=r.sum64_5_lo,j=e.BlockHash,N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N,this.W=new Array(160)}r.inherits(A,j),Bm=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(P,be){for(var Ae=this.W,ge=0;ge<32;ge++)Ae[ge]=P[be+ge];for(;ge<Ae.length;ge+=2){var xe=oe(Ae[ge-4],Ae[ge-3]),ke=B(Ae[ge-4],Ae[ge-3]),Fe=Ae[ge-14],J=Ae[ge-13],C=U(Ae[ge-30],Ae[ge-29]),Z=le(Ae[ge-30],Ae[ge-29]),ne=Ae[ge-32],ye=Ae[ge-31];Ae[ge]=h(xe,ke,Fe,J,C,Z,ne,ye),Ae[ge+1]=S(xe,ke,Fe,J,C,Z,ne,ye)}},A.prototype._update=function(P,be){this._prepareBlock(P,be);var Ae=this.W,ge=this.h[0],xe=this.h[1],ke=this.h[2],Fe=this.h[3],J=this.h[4],C=this.h[5],Z=this.h[6],ne=this.h[7],ye=this.h[8],ae=this.h[9],M=this.h[10],z=this.h[11],fe=this.h[12],de=this.h[13],se=this.h[14],pe=this.h[15];t(this.k.length===Ae.length);for(var Be=0;Be<Ae.length;Be+=2){var H=se,ee=pe,X=Q(ye,ae),T=ie(ye,ae),L=w(ye,ae,M,z,fe),q=I(ye,ae,M,z,fe,de),Se=this.k[Be],Ce=this.k[Be+1],Ee=Ae[Be],Ue=Ae[Be+1],ft=b(H,ee,X,T,L,q,Se,Ce,Ee,Ue),ot=p(H,ee,X,T,L,q,Se,Ce,Ee,Ue);H=G(ge,xe),ee=re(ge,xe),X=R(ge,xe,ke,Fe,J),T=k(ge,xe,ke,Fe,J,C);var lt=f(H,ee,X,T),Nt=d(H,ee,X,T);se=fe,pe=de,fe=M,de=z,M=ye,z=ae,ye=f(Z,ne,ft,ot),ae=d(ne,ne,ft,ot),Z=J,ne=C,J=ke,C=Fe,ke=ge,Fe=xe,ge=f(ft,ot,lt,Nt),xe=d(ft,ot,lt,Nt)}l(this.h,0,ge,xe),l(this.h,2,ke,Fe),l(this.h,4,J,C),l(this.h,6,Z,ne),l(this.h,8,ye,ae),l(this.h,10,M,z),l(this.h,12,fe,de),l(this.h,14,se,pe)},A.prototype._digest=function(P){return P==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function w(te,P,be,Ae,ge){var xe=te&be^~te&ge;return xe<0&&(xe+=4294967296),xe}function I(te,P,be,Ae,ge,xe){var ke=P&Ae^~P&xe;return ke<0&&(ke+=4294967296),ke}function R(te,P,be,Ae,ge){var xe=te&be^te&ge^be&ge;return xe<0&&(xe+=4294967296),xe}function k(te,P,be,Ae,ge,xe){var ke=P&Ae^P&xe^Ae&xe;return ke<0&&(ke+=4294967296),ke}function G(te,P){var be=o(te,P,28),Ae=o(P,te,2),ge=o(P,te,7),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}function re(te,P){var be=a(te,P,28),Ae=a(P,te,2),ge=a(P,te,7),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}function Q(te,P){var be=o(te,P,14),Ae=o(te,P,18),ge=o(P,te,9),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}function ie(te,P){var be=a(te,P,14),Ae=a(te,P,18),ge=a(P,te,9),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}function U(te,P){var be=o(te,P,1),Ae=o(te,P,8),ge=s(te,P,7),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}function le(te,P){var be=a(te,P,1),Ae=a(te,P,8),ge=u(te,P,7),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}function oe(te,P){var be=o(te,P,19),Ae=o(P,te,29),ge=s(te,P,6),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}function B(te,P){var be=a(te,P,19),Ae=a(P,te,29),ge=u(te,P,6),xe=be^Ae^ge;return xe<0&&(xe+=4294967296),xe}return Bm}var Mm,Yy;function l_(){if(Yy)return Mm;Yy=1;var r=rc(),e=R5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),Mm=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(a){return a==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},Mm}var Jy;function c_(){return Jy||(Jy=1,Eu.sha1=s_(),Eu.sha224=a_(),Eu.sha256=L5(),Eu.sha384=l_(),Eu.sha512=R5()),Eu}var zm={},Zy;function u_(){if(Zy)return zm;Zy=1;var r=rc(),e=ad(),t=r.rotl32,o=r.sum32,a=r.sum32_3,s=r.sum32_4,u=e.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(l,u),zm.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(A,w){for(var I=this.h[0],R=this.h[1],k=this.h[2],G=this.h[3],re=this.h[4],Q=I,ie=R,U=k,le=G,oe=re,B=0;B<80;B++){var te=o(t(s(I,f(B,R,k,G),A[S[B]+w],d(B)),p[B]),re);I=re,re=G,G=t(k,10),k=R,R=te,te=o(t(s(Q,f(79-B,ie,U,le),A[b[B]+w],h(B)),j[B]),oe),Q=oe,oe=le,le=t(U,10),U=ie,ie=te}te=a(this.h[1],k,le),this.h[1]=a(this.h[2],G,oe),this.h[2]=a(this.h[3],re,Q),this.h[3]=a(this.h[4],I,ie),this.h[4]=a(this.h[0],R,U),this.h[0]=te},l.prototype._digest=function(A){return A==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function f(N,A,w,I){return N<=15?A^w^I:N<=31?A&w|~A&I:N<=47?(A|~w)^I:N<=63?A&I|w&~I:A^(w|~I)}function d(N){return N<=15?0:N<=31?1518500249:N<=47?1859775393:N<=63?2400959708:2840853838}function h(N){return N<=15?1352829926:N<=31?1548603684:N<=47?1836072691:N<=63?2053994217:0}var S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return zm}var $m,Qy;function f_(){if(Qy)return $m;Qy=1;var r=rc(),e=sd();function t(o,a,s){if(!(this instanceof t))return new t(o,a,s);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,s))}return $m=t,t.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var s=a.length;s<this.blockSize;s++)a.push(0);for(s=0;s<a.length;s++)a[s]^=54;for(this.inner=new this.Hash().update(a),s=0;s<a.length;s++)a[s]^=106;this.outer=new this.Hash().update(a)},t.prototype.update=function(a,s){return this.inner.update(a,s),this},t.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},$m}var e2;function d_(){return e2||(e2=1,(function(r){var e=r;e.utils=rc(),e.common=ad(),e.sha=c_(),e.ripemd=u_(),e.hmac=f_(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Im)),Im}d_();let h_="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",p_=(r,e=21)=>(t=e)=>{let o="",a=t|0;for(;a--;)o+=r[Math.random()*r.length|0];return o},m_=(r=21)=>{let e="",t=r|0;for(;t--;)e+=h_[Math.random()*64|0];return e};const bl=r=>Math.floor(r*72*20),e0=(r=0)=>{let e=r;return()=>++e},g_=()=>e0(),y_=()=>e0(1),v_=()=>e0(),w_=()=>m_().toLowerCase(),$f=r=>p_("1234567890abcdef",r)(),x_=()=>`${$f(8)}-${$f(4)}-${$f(4)}-${$f(4)}-${$f(12)}`;class b_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{xmlns:"xmlns"})}}class __ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const S_={EXTERNAL:"External"};class k_ extends Rt{constructor(e,t,o,a){super("Relationship"),this.root.push(new __({id:e,type:t,target:o,targetMode:a}))}}class Mu extends Rt{constructor(){super("Relationships"),this.root.push(new b_({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,o,a){const s=new k_(`rId${e}`,t,o,a);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class A_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class N_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class E_ extends Rt{constructor({id:e,initials:t,author:o,date:a=new Date,children:s}){super("w:comment"),this.root.push(new A_({id:e,initials:t,author:o,date:a.toISOString()}));for(const u of s)this.root.push(u)}}class T_ extends Rt{constructor({children:e}){super("w:comments"),kt(this,"relationships"),this.root.push(new N_({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new E_(t));this.relationships=new Mu}get Relationships(){return this.relationships}}class C_ extends Rt{constructor(){super("w:pageBreakBefore")}}const k1={AUTO:"auto"};class L_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class R_ extends Rt{constructor(e){super("w:spacing"),this.root.push(new L_(e))}}const Gf={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let zd=class extends Rt{constructor(e){super("w:pStyle"),this.root.push(new _o({val:e}))}};class I_ extends Rt{constructor(e){super("w:tabs");for(const t of e)this.root.push(new P_(t))}}const t2={LEFT:"left",RIGHT:"right"};class j_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class P_ extends Rt{constructor({type:e,position:t,leader:o}){super("w:tab"),this.root.push(new j_({val:e,pos:t,leader:o}))}}class Um extends Rt{constructor(e,t){super("w:numPr"),this.root.push(new D_(t)),this.root.push(new O_(e))}}class D_ extends Rt{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new _o({val:e}))}}class O_ extends Rt{constructor(e){super("w:numId"),this.root.push(new _o({val:typeof e=="string"?`{${e}}`:e}))}}class F_ extends Rt{constructor(){super(...arguments),kt(this,"fileChild",Symbol())}}class B_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class M_ extends Rt{constructor(e,t,o){super("w:hyperlink"),kt(this,"linkId"),this.linkId=t;const a={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},s=new B_(a);this.root.push(s),e.forEach(u=>{this.root.push(u)})}}class z_ extends Rt{constructor(e){super("w:externalHyperlink"),this.options=e}}class $_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class U_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{id:"w:id"})}}class q_{constructor(e){kt(this,"bookmarkUniqueNumericId",v_()),kt(this,"start"),kt(this,"children"),kt(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new W_(e.id,t),this.children=e.children,this.end=new H_(t)}}class W_ extends Rt{constructor(e,t){super("w:bookmarkStart");const o=new $_({name:e,id:t});this.root.push(o)}}class H_ extends Rt{constructor(e){super("w:bookmarkEnd");const t=new U_({id:e});this.root.push(t)}}class G_ extends Rt{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new _o({val:e}))}}const K_={TOP:"top",CENTER:"center",BOTTOM:"bottom"};yf(Zr({},K_),{BOTH:"both"});class V_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{verticalAlign:"w:val"})}}class X_ extends Rt{constructor(e){super("w:vAlign"),this.root.push(new V_({verticalAlign:e}))}}class Y_ extends Rt{constructor({space:e,count:t,separate:o,equalWidth:a,children:s}){super("w:cols"),this.root.push(new wh({space:{key:"w:space",value:e===void 0?void 0:kl(e)},count:{key:"w:num",value:t===void 0?void 0:ua(t)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:a}})),!a&&s&&s.forEach(u=>this.addChildElement(u))}}const J_=({type:r,linePitch:e,charSpace:t})=>new nc({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:ua(e)},charSpace:{key:"w:charSpace",value:t?ua(t):void 0}}}),ff={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Z_ extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const n2={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class qm extends Rt{constructor(e,t){super(e),this.root.push(new Z_({type:t.type||ff.DEFAULT,id:`rId${t.id}`}))}}const Q_=({countBy:r,start:e,restart:t,distance:o})=>new nc({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:ua(r)},start:{key:"w:start",value:e===void 0?void 0:ua(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:o===void 0?void 0:kl(o)}}});class r2 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class e3 extends vh{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new r2({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new r2({})),e.pageBorderTop&&this.root.push(new po("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new po("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new po("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new po("w:right",e.pageBorderRight))}}class t3 extends Rt{constructor(e,t,o,a,s,u,l){super("w:pgMar"),this.root.push(new wh({top:{key:"w:top",value:Pu(e)},right:{key:"w:right",value:kl(t)},bottom:{key:"w:bottom",value:Pu(o)},left:{key:"w:left",value:kl(a)},header:{key:"w:header",value:kl(s)},footer:{key:"w:footer",value:kl(u)},gutter:{key:"w:gutter",value:kl(l)}}))}}class n3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class r3 extends Rt{constructor({start:e,formatType:t,separator:o}){super("w:pgNumType"),this.root.push(new n3({start:e===void 0?void 0:ua(e),formatType:t,separator:o}))}}const A1={PORTRAIT:"portrait",LANDSCAPE:"landscape"},i3=({width:r,height:e,orientation:t,code:o})=>{const a=kl(r),s=kl(e);return new nc({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===A1.LANDSCAPE?s:a},height:{key:"w:h",value:t===A1.LANDSCAPE?a:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:o}}})};class o3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val"})}}class s3 extends Rt{constructor(e){super("w:textDirection"),this.root.push(new o3({val:e}))}}class a3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val"})}}class l3 extends Rt{constructor(e){super("w:type"),this.root.push(new a3({val:e}))}}const Tu={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Wm={WIDTH:11906,HEIGHT:16838,ORIENTATION:A1.PORTRAIT};class c3 extends Rt{constructor({page:{size:{width:e=Wm.WIDTH,height:t=Wm.HEIGHT,orientation:o=Wm.ORIENTATION}={},margin:{top:a=Tu.TOP,right:s=Tu.RIGHT,bottom:u=Tu.BOTTOM,left:l=Tu.LEFT,header:f=Tu.HEADER,footer:d=Tu.FOOTER,gutter:h=Tu.GUTTER}={},pageNumbers:S={},borders:b,textDirection:p}={},grid:{linePitch:j=360,charSpace:N,type:A}={},headerWrapperGroup:w={},footerWrapperGroup:I={},lineNumbers:R,titlePage:k,verticalAlign:G,column:re,type:Q}={}){super("w:sectPr"),this.addHeaderFooterGroup(n2.HEADER,w),this.addHeaderFooterGroup(n2.FOOTER,I),Q&&this.root.push(new l3(Q)),this.root.push(i3({width:e,height:t,orientation:o})),this.root.push(new t3(a,s,u,l,f,d,h)),b&&this.root.push(new e3(b)),R&&this.root.push(Q_(R)),this.root.push(new r3(S)),re&&this.root.push(new Y_(re)),G&&this.root.push(new X_(G)),k!==void 0&&this.root.push(new jt("w:titlePg",k)),p&&this.root.push(new s3(p)),this.root.push(J_({linePitch:j,charSpace:N,type:A}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new qm(e,{type:ff.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new qm(e,{type:ff.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new qm(e,{type:ff.EVEN,id:t.even.View.ReferenceId}))}}class u3 extends Rt{constructor(){super("w:body"),kt(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new c3(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new ou({}),o=new _f({});return o.push(e),t.addChildElement(o),t}}const i2={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class kh extends dr{constructor(e,t){super(Zr({Ignorable:t},Object.fromEntries(e.map(o=>[o,i2[o]])))),kt(this,"xmlKeys",Zr({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(i2).map(o=>[o,`xmlns:${o}`]))))}}class f3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class d3 extends Rt{constructor(e){super("w:background"),this.root.push(new f3({color:e.color===void 0?void 0:wf(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:My(e.themeShade),themeTint:e.themeTint===void 0?void 0:My(e.themeTint)}))}}class h3 extends Rt{constructor(e){super("w:document"),kt(this,"body"),this.root.push(new kh(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new u3,e.background&&this.root.push(new d3(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class I5{constructor(e){kt(this,"document"),kt(this,"relationships"),this.document=new h3(e),this.relationships=new Mu}get View(){return this.document}get Relationships(){return this.relationships}}class p3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val"})}}class m3 extends Rt{constructor(){super("w:wordWrap"),this.root.push(new p3({val:0}))}}const g3=r=>{var e,t;return new nc({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class _f extends vh{constructor(e){var t,o;if(super("w:pPr"),kt(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new zd(e.heading)),e.bullet&&this.push(new zd("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new zd("ListParagraph"))),e.style&&this.push(new zd(e.style)),e.keepNext!==void 0&&this.push(new jt("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new jt("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new C_),e.frame&&this.push(g3(e.frame)),e.widowControl!==void 0&&this.push(new jt("w:widowControl",e.widowControl)),e.bullet&&this.push(new Um(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new Um(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))):e.numbering===!1&&this.push(new Um(0,0)),e.border&&this.push(new B4(e.border)),e.thematicBreak&&this.push(new M4),e.shading&&this.push(new N5(e.shading)),e.wordWrap&&this.push(new m3),e.overflowPunctuation&&this.push(new jt("w:overflowPunct",e.overflowPunctuation));const a=[...e.rightTabStop!==void 0?[{type:t2.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:t2.LEFT,position:e.leftTabStop}]:[]];a.length>0&&this.push(new I_(a)),e.bidirectional!==void 0&&this.push(new jt("w:bidi",e.bidirectional)),e.spacing&&this.push(new R_(e.spacing)),e.indent&&this.push(new z4(e.indent)),e.contextualSpacing!==void 0&&this.push(new jt("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new O4(e.alignment)),e.outlineLevel!==void 0&&this.push(new G_(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new jt("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new jt("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Bu(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof I5)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class ou extends F_{constructor(e){if(super("w:p"),kt(this,"properties"),typeof e=="string")return this.properties=new _f({}),this.root.push(this.properties),this.root.push(new hh(e)),this;if(this.properties=new _f(e),this.root.push(this.properties),e.text&&this.root.push(new hh(e.text)),e.children)for(const t of e.children){if(t instanceof q_){this.root.push(t.start);for(const o of t.children)this.root.push(o);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof z_){const o=this.root.indexOf(t),a=new M_(t.options.children,w_());e.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,S_.EXTERNAL),this.root[o]=a}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const Vu={style:J1.NONE,size:0,color:"auto"},Xu={style:J1.SINGLE,size:4,color:"auto"};class y3 extends Rt{constructor(e){super("w:tblBorders"),e.top?this.root.push(new po("w:top",e.top)):this.root.push(new po("w:top",Xu)),e.left?this.root.push(new po("w:left",e.left)):this.root.push(new po("w:left",Xu)),e.bottom?this.root.push(new po("w:bottom",e.bottom)):this.root.push(new po("w:bottom",Xu)),e.right?this.root.push(new po("w:right",e.right)):this.root.push(new po("w:right",Xu)),e.insideHorizontal?this.root.push(new po("w:insideH",e.insideHorizontal)):this.root.push(new po("w:insideH",Xu)),e.insideVertical?this.root.push(new po("w:insideV",e.insideVertical)):this.root.push(new po("w:insideV",Xu))}}kt(y3,"NONE",{top:Vu,bottom:Vu,left:Vu,right:Vu,insideHorizontal:Vu,insideVertical:Vu});class v3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class w3 extends Rt{constructor(){super("Properties"),this.root.push(new v3({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class x3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{xmlns:"xmlns"})}}class b3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Tc extends Rt{constructor(e,t){super("Default"),this.root.push(new b3({contentType:e,extension:t}))}}class _3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class el extends Rt{constructor(e,t){super("Override"),this.root.push(new _3({contentType:e,partName:t}))}}class S3 extends Rt{constructor(){super("Types"),this.root.push(new x3({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Tc("image/png","png")),this.root.push(new Tc("image/jpeg","jpeg")),this.root.push(new Tc("image/jpeg","jpg")),this.root.push(new Tc("image/bmp","bmp")),this.root.push(new Tc("image/gif","gif")),this.root.push(new Tc("image/svg+xml","svg")),this.root.push(new Tc("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Tc("application/xml","xml")),this.root.push(new Tc("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new el("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new el("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class k3 extends Rt{constructor(e){super("cp:coreProperties"),this.root.push(new kh(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Nu("dc:title",e.title)),e.subject&&this.root.push(new Nu("dc:subject",e.subject)),e.creator&&this.root.push(new Nu("dc:creator",e.creator)),e.keywords&&this.root.push(new Nu("cp:keywords",e.keywords)),e.description&&this.root.push(new Nu("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Nu("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Nu("cp:revision",String(e.revision))),this.root.push(new o2("dcterms:created")),this.root.push(new o2("dcterms:modified"))}}class A3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{type:"xsi:type"})}}class o2 extends Rt{constructor(e){super(e),this.root.push(new A3({type:"dcterms:W3CDTF"})),this.root.push(P4(new Date))}}class N3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class E3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class T3 extends Rt{constructor(e,t){super("property"),this.root.push(new E3({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new C3(t.value))}}class C3 extends Rt{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class L3 extends Rt{constructor(e){super("Properties"),kt(this,"nextId"),kt(this,"properties",[]),this.root.push(new N3({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new T3(this.nextId++,e))}}const $d=({id:r,fontKey:e,subsetted:t},o)=>new nc({name:o,attributes:Zr({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new jt("w:subsetted",t)]:[]]}),R3=({name:r,altName:e,panose1:t,charset:o,family:a,notTrueType:s,pitch:u,sig:l,embedRegular:f,embedBold:d,embedItalic:h,embedBoldItalic:S})=>new nc({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[zf("w:altName",e)]:[],...t?[zf("w:panose1",t)]:[],...o?[zf("w:charset",o)]:[],zf("w:family",a),...s?[new jt("w:notTrueType",s)]:[],zf("w:pitch",u),...l?[new nc({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...f?[$d(f,"w:embedRegular")]:[],...d?[$d(d,"w:embedBold")]:[],...h?[$d(h,"w:embedItalic")]:[],...S?[$d(S,"w:embedBoldItalic")]:[]]}),I3=({name:r,index:e,fontKey:t,characterSet:o})=>R3({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),j3=r=>new nc({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>I3({name:e.name,index:t+1,fontKey:e.fontKey}))});class P3{constructor(e){kt(this,"fontTable"),kt(this,"relationships"),kt(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>yf(Zr({},t),{fontKey:x_()})),this.fontTable=j3(this.fontOptionsWithKey),this.relationships=new Mu;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class D3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let O3=class extends _5{constructor(e,t){super("w:ftr",t),kt(this,"refId"),this.refId=e,t||this.root.push(new D3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class F3{constructor(e,t,o){kt(this,"footer"),kt(this,"relationships"),this.media=e,this.footer=new O3(t,o),this.relationships=new Mu}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class B3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class M3 extends Rt{constructor(){super("w:footnoteRef")}}class z3 extends Sh{constructor(){super({style:"FootnoteReference"}),this.root.push(new M3)}}const s2={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Hm extends Rt{constructor(e){super("w:footnote"),this.root.push(new B3({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const o=e.children[t];t===0&&o.addRunToFront(new z3),this.root.push(o)}}}class $3 extends Rt{constructor(){super("w:continuationSeparator")}}class U3 extends Sh{constructor(){super({}),this.root.push(new $3)}}class q3 extends Rt{constructor(){super("w:separator")}}class W3 extends Sh{constructor(){super({}),this.root.push(new q3)}}class H3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class G3 extends Rt{constructor(){super("w:footnotes"),this.root.push(new H3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Hm({id:-1,type:s2.SEPERATOR,children:[new ou({spacing:{after:0,line:240,lineRule:k1.AUTO},children:[new W3]})]});this.root.push(e);const t=new Hm({id:0,type:s2.CONTINUATION_SEPERATOR,children:[new ou({spacing:{after:0,line:240,lineRule:k1.AUTO},children:[new U3]})]});this.root.push(t)}createFootNote(e,t){const o=new Hm({id:e,children:t});this.root.push(o)}}class K3{constructor(){kt(this,"footnotess"),kt(this,"relationships"),this.footnotess=new G3,this.relationships=new Mu}get View(){return this.footnotess}get Relationships(){return this.relationships}}class V3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let X3=class extends _5{constructor(e,t){super("w:hdr",t),kt(this,"refId"),this.refId=e,t||this.root.push(new V3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Y3{constructor(e,t,o){kt(this,"header"),kt(this,"relationships"),this.media=e,this.header=new X3(t,o),this.relationships=new Mu}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class J3{constructor(){kt(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const Cc={BULLET:"bullet"};class Z3 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Q3 extends Rt{constructor(e){super("w:numFmt"),this.root.push(new _o({val:e}))}}class e6 extends Rt{constructor(e){super("w:lvlText"),this.root.push(new _o({val:e}))}}class t6 extends Rt{constructor(e){super("w:lvlJc"),this.root.push(new _o({val:e}))}}class n6 extends Rt{constructor(e){super("w:suff"),this.root.push(new _o({val:e}))}}class r6 extends Rt{constructor(){super("w:isLgl")}}class i6 extends Rt{constructor({level:e,format:t,text:o,alignment:a=Yl.START,start:s=1,style:u,suffix:l,isLegalNumberingStyle:f}){if(super("w:lvl"),kt(this,"paragraphProperties"),kt(this,"runProperties"),this.root.push(new Kf("w:start",ua(s))),t&&this.root.push(new Q3(t)),l&&this.root.push(new n6(l)),f&&this.root.push(new r6),o&&this.root.push(new e6(o)),this.root.push(new t6(a)),this.paragraphProperties=new _f(u&&u.paragraph),this.runProperties=new Bu(u&&u.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Z3({ilvl:ua(e),tentative:1}))}}class o6 extends i6{}class s6 extends Rt{constructor(e){super("w:multiLevelType"),this.root.push(new _o({val:e}))}}class a6 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class a2 extends Rt{constructor(e,t){super("w:abstractNum"),kt(this,"id"),this.root.push(new a6({abstractNumId:ua(e),restartNumberingAfterBreak:0})),this.root.push(new s6("hybridMultilevel")),this.id=e;for(const o of t)this.root.push(new o6(o))}}class l6 extends Rt{constructor(e){super("w:abstractNumId"),this.root.push(new _o({val:e}))}}class c6 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{numId:"w:numId"})}}class l2 extends Rt{constructor(e){if(super("w:num"),kt(this,"numId"),kt(this,"reference"),kt(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new c6({numId:ua(e.numId)})),this.root.push(new l6(ua(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new f6(t.num,t.start))}}class u6 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class f6 extends Rt{constructor(e,t){super("w:lvlOverride"),this.root.push(new u6({ilvl:e})),t!==void 0&&this.root.push(new h6(t))}}class d6 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val"})}}class h6 extends Rt{constructor(e){super("w:startOverride"),this.root.push(new d6({val:e}))}}class p6 extends Rt{constructor(e){super("w:numbering"),kt(this,"abstractNumberingMap",new Map),kt(this,"concreteNumberingMap",new Map),kt(this,"referenceConfigMap",new Map),kt(this,"abstractNumUniqueNumericId",g_()),kt(this,"concreteNumUniqueNumericId",y_()),this.root.push(new kh(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new a2(this.abstractNumUniqueNumericId(),[{level:0,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:bl(.5),hanging:bl(.25)}}}},{level:1,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:bl(1),hanging:bl(.25)}}}},{level:2,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:2160,hanging:bl(.25)}}}},{level:3,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:2880,hanging:bl(.25)}}}},{level:4,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:3600,hanging:bl(.25)}}}},{level:5,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:4320,hanging:bl(.25)}}}},{level:6,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:5040,hanging:bl(.25)}}}},{level:7,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:5760,hanging:bl(.25)}}}},{level:8,format:Cc.BULLET,text:"",alignment:Yl.LEFT,style:{paragraph:{indent:{left:6480,hanging:bl(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new l2({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new a2(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const o=this.abstractNumberingMap.get(e);if(!o)return;const a=`${e}-${t}`;if(this.concreteNumberingMap.has(a))return;const s=this.referenceConfigMap.get(e),u=s&&s[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:t,overrideLevels:[u&&Number.isInteger(u)?{num:0,start:u}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new l2(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class m6 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class g6 extends Rt{constructor(e){super("w:compatSetting"),this.root.push(new m6({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class y6 extends Rt{constructor(e){super("w:compat"),e.version&&this.root.push(new g6(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new jt("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new jt("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new jt("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new jt("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new jt("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new jt("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new jt("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new jt("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new jt("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new jt("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new jt("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new jt("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new jt("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new jt("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new jt("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new jt("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new jt("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new jt("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new jt("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new jt("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new jt("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new jt("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new jt("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new jt("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new jt("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new jt("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new jt("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new jt("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new jt("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new jt("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new jt("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new jt("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new jt("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new jt("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new jt("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new jt("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new jt("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new jt("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new jt("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new jt("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new jt("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new jt("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new jt("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new jt("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new jt("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new jt("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new jt("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new jt("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new jt("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new jt("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new jt("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new jt("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new jt("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new jt("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new jt("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new jt("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new jt("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new jt("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new jt("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new jt("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new jt("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new jt("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new jt("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new jt("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new jt("w:cachedColBalance",e.cachedColumnBalance))}}class v6 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class w6 extends Rt{constructor(e){var t,o,a,s,u,l,f,d;super("w:settings"),this.root.push(new v6({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new jt("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new jt("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new jt("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new jt("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Kf("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new jt("w:autoHyphenation",e.hyphenation.autoHyphenation)),((o=e.hyphenation)==null?void 0:o.hyphenationZone)!==void 0&&this.root.push(new Kf("w:hyphenationZone",e.hyphenation.hyphenationZone)),((a=e.hyphenation)==null?void 0:a.consecutiveHyphenLimit)!==void 0&&this.root.push(new Kf("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new jt("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new y6(yf(Zr({},(u=e.compatibility)!=null?u:{}),{version:(d=(f=(l=e.compatibility)==null?void 0:l.version)!=null?f:e.compatibilityModeVersion)!=null?d:15})))}}class j5 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{val:"w:val"})}}class x6 extends Rt{constructor(e){super("w:name"),this.root.push(new j5({val:e}))}}class b6 extends Rt{constructor(e){super("w:uiPriority"),this.root.push(new j5({val:ua(e)}))}}class _6 extends dr{constructor(){super(...arguments),kt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class P5 extends Rt{constructor(e,t){super("w:style"),this.root.push(new _6(e)),t.name&&this.root.push(new x6(t.name)),t.basedOn&&this.root.push(new uf("w:basedOn",t.basedOn)),t.next&&this.root.push(new uf("w:next",t.next)),t.link&&this.root.push(new uf("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new b6(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new jt("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new jt("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new jt("w:qFormat",t.quickFormat))}}class Ah extends P5{constructor(e){super({type:"paragraph",styleId:e.id},e),kt(this,"paragraphProperties"),kt(this,"runProperties"),this.paragraphProperties=new _f(e.paragraph),this.runProperties=new Bu(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Nh extends P5{constructor(e){super({type:"character",styleId:e.id},Zr({uiPriority:99,unhideWhenUsed:!0},e)),kt(this,"runProperties"),this.runProperties=new Bu(e.run),this.root.push(this.runProperties)}}class uu extends Ah{constructor(e){super(Zr({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class S6 extends uu{constructor(e){super(Zr({id:"Title",name:"Title"},e))}}class k6 extends uu{constructor(e){super(Zr({id:"Heading1",name:"Heading 1"},e))}}class A6 extends uu{constructor(e){super(Zr({id:"Heading2",name:"Heading 2"},e))}}class N6 extends uu{constructor(e){super(Zr({id:"Heading3",name:"Heading 3"},e))}}class E6 extends uu{constructor(e){super(Zr({id:"Heading4",name:"Heading 4"},e))}}class T6 extends uu{constructor(e){super(Zr({id:"Heading5",name:"Heading 5"},e))}}class C6 extends uu{constructor(e){super(Zr({id:"Heading6",name:"Heading 6"},e))}}class L6 extends uu{constructor(e){super(Zr({id:"Strong",name:"Strong"},e))}}class R6 extends Ah{constructor(e){super(Zr({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class I6 extends Ah{constructor(e){super(Zr({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:k1.AUTO}},run:{size:20}},e))}}class j6 extends Nh{constructor(e){super(Zr({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class P6 extends Nh{constructor(e){super(Zr({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class D6 extends Nh{constructor(e){super(Zr({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:T5.SINGLE}}},e))}}class N1 extends Rt{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new Ah(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new Nh(t))}}class O6 extends Rt{constructor(e){super("w:pPrDefault"),this.root.push(new _f(e))}}class F6 extends Rt{constructor(e){super("w:rPrDefault"),this.root.push(new Bu(e))}}class B6 extends Rt{constructor(e){super("w:docDefaults"),kt(this,"runPropertiesDefaults"),kt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new F6(e.run),this.paragraphPropertiesDefaults=new O6(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class M6{newInstance(e){const t=b5.xml2js(e,{compact:!1});let o;for(const u of t.elements||[])u.name==="w:styles"&&(o=u);if(o===void 0)throw new Error("can not find styles element");const a=o.elements||[];return new N1({initialStyles:new L4(o.attributes),importedStyles:a.map(u=>Y1(u))})}}class c2{newInstance(e={}){var t;return{initialStyles:new kh(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new B6((t=e.document)!=null?t:{}),new S6(Zr({run:{size:56}},e.title)),new k6(Zr({run:{color:"2E74B5",size:32}},e.heading1)),new A6(Zr({run:{color:"2E74B5",size:26}},e.heading2)),new N6(Zr({run:{color:"1F4D78",size:24}},e.heading3)),new E6(Zr({run:{color:"2E74B5",italics:!0}},e.heading4)),new T6(Zr({run:{color:"2E74B5"}},e.heading5)),new C6(Zr({run:{color:"1F4D78"}},e.heading6)),new L6(Zr({run:{bold:!0}},e.strong)),new R6(e.listParagraph||{}),new D6(e.hyperlink||{}),new j6(e.footnoteReference||{}),new I6(e.footnoteText||{}),new P6(e.footnoteTextChar||{})]}}}let z6=class{constructor(e){kt(this,"currentRelationshipId",1),kt(this,"documentWrapper"),kt(this,"headers",[]),kt(this,"footers",[]),kt(this,"coreProperties"),kt(this,"numbering"),kt(this,"media"),kt(this,"fileRelationships"),kt(this,"footnotesWrapper"),kt(this,"settings"),kt(this,"contentTypes"),kt(this,"customProperties"),kt(this,"appProperties"),kt(this,"styles"),kt(this,"comments"),kt(this,"fontWrapper");var t,o,a,s,u,l,f,d,h,S,b,p;if(this.coreProperties=new k3(yf(Zr({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(a=e.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new p6(e.numbering?e.numbering:{config:[]}),this.comments=new T_((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Mu,this.customProperties=new L3((u=e.customProperties)!=null?u:[]),this.appProperties=new w3,this.footnotesWrapper=new K3,this.contentTypes=new S3,this.documentWrapper=new I5({background:e.background}),this.settings=new w6({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(f=e.features)==null?void 0:f.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(d=e.hyphenation)==null?void 0:d.autoHyphenation,hyphenationZone:(h=e.hyphenation)==null?void 0:h.hyphenationZone,consecutiveHyphenLimit:(S=e.hyphenation)==null?void 0:S.consecutiveHyphenLimit,doNotHyphenateCaps:(b=e.hyphenation)==null?void 0:b.doNotHyphenateCaps}}),this.media=new J3,e.externalStyles!==void 0){const j=new M6;this.styles=j.newInstance(e.externalStyles)}else if(e.styles){const N=new c2().newInstance(e.styles.default);this.styles=new N1(Zr(Zr({},N),e.styles))}else{const j=new c2;this.styles=new N1(j.newInstance())}this.addDefaultRelationships();for(const j of e.sections)this.addSection(j);if(e.footnotes)for(const j in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(j),e.footnotes[j].children);this.fontWrapper=new P3((p=e.fonts)!=null?p:[])}addSection({headers:e={},footers:t={},children:o,properties:a}){this.documentWrapper.View.Body.addSection(yf(Zr({},a),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of o)this.documentWrapper.View.add(s)}createHeader(e){const t=new Y3(this.media,this.currentRelationshipId++);for(const o of e.options.children)t.add(o);return this.addHeaderToDocument(t),t}createFooter(e){const t=new F3(this.media,this.currentRelationshipId++);for(const o of e.options.children)t.add(o);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=ff.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=ff.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var $6=K1();function Ud(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gm={exports:{}},u2;function U6(){return u2||(u2=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(o,a,s){function u(d,h){if(!a[d]){if(!o[d]){var S=typeof Ud=="function"&&Ud;if(!h&&S)return S(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var p=a[d]={exports:{}};o[d][0].call(p.exports,function(j){var N=o[d][1][j];return u(N||j)},p,p.exports,t,o,a,s)}return a[d].exports}for(var l=typeof Ud=="function"&&Ud,f=0;f<s.length;f++)u(s[f]);return u})({1:[function(t,o,a){var s=t("./utils"),u=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var d,h,S,b,p,j,N,A=[],w=0,I=f.length,R=I,k=s.getTypeOf(f)!=="string";w<f.length;)R=I-w,S=k?(d=f[w++],h=w<I?f[w++]:0,w<I?f[w++]:0):(d=f.charCodeAt(w++),h=w<I?f.charCodeAt(w++):0,w<I?f.charCodeAt(w++):0),b=d>>2,p=(3&d)<<4|h>>4,j=1<R?(15&h)<<2|S>>6:64,N=2<R?63&S:64,A.push(l.charAt(b)+l.charAt(p)+l.charAt(j)+l.charAt(N));return A.join("")},a.decode=function(f){var d,h,S,b,p,j,N=0,A=0,w="data:";if(f.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var I,R=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===l.charAt(64)&&R--,f.charAt(f.length-2)===l.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=u.uint8array?new Uint8Array(0|R):new Array(0|R);N<f.length;)d=l.indexOf(f.charAt(N++))<<2|(b=l.indexOf(f.charAt(N++)))>>4,h=(15&b)<<4|(p=l.indexOf(f.charAt(N++)))>>2,S=(3&p)<<6|(j=l.indexOf(f.charAt(N++))),I[A++]=d,p!==64&&(I[A++]=h),j!==64&&(I[A++]=S);return I}},{"./support":30,"./utils":32}],2:[function(t,o,a){var s=t("./external"),u=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),f=t("./stream/DataLengthProbe");function d(h,S,b,p,j){this.compressedSize=h,this.uncompressedSize=S,this.crc32=b,this.compression=p,this.compressedContent=j}d.prototype={getContentWorker:function(){var h=new u(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),S=this;return h.on("end",function(){if(this.streamInfo.data_length!==S.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new u(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,S,b){return h.pipe(new l).pipe(new f("uncompressedSize")).pipe(S.compressWorker(b)).pipe(new f("compressedSize")).withStreamInfo("compression",S)},o.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,a){var s=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,a){var s=t("./utils"),u=(function(){for(var l,f=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;f[d]=l}return f})();o.exports=function(l,f){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?(function(d,h,S,b){var p=u,j=b+S;d^=-1;for(var N=b;N<j;N++)d=d>>>8^p[255&(d^h[N])];return-1^d})(0|f,l,l.length,0):(function(d,h,S,b){var p=u,j=b+S;d^=-1;for(var N=b;N<j;N++)d=d>>>8^p[255&(d^h.charCodeAt(N))];return-1^d})(0|f,l,l.length,0):0}},{"./utils":32}],5:[function(t,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,o,a){var s=null;s=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:s}},{lie:37}],7:[function(t,o,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=t("pako"),l=t("./utils"),f=t("./stream/GenericWorker"),d=s?"uint8array":"array";function h(S,b){f.call(this,"FlateWorker/"+S),this._pako=null,this._pakoAction=S,this._pakoOptions=b,this.meta={}}a.magic="\b\0",l.inherits(h,f),h.prototype.processChunk=function(S){this.meta=S.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,S.data),!1)},h.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var S=this;this._pako.onData=function(b){S.push({data:b,meta:S.meta})}},a.compressWorker=function(S){return new h("Deflate",S)},a.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,a){function s(p,j){var N,A="";for(N=0;N<j;N++)A+=String.fromCharCode(255&p),p>>>=8;return A}function u(p,j,N,A,w,I){var R,k,G=p.file,re=p.compression,Q=I!==d.utf8encode,ie=l.transformTo("string",I(G.name)),U=l.transformTo("string",d.utf8encode(G.name)),le=G.comment,oe=l.transformTo("string",I(le)),B=l.transformTo("string",d.utf8encode(le)),te=U.length!==G.name.length,P=B.length!==le.length,be="",Ae="",ge="",xe=G.dir,ke=G.date,Fe={crc32:0,compressedSize:0,uncompressedSize:0};j&&!N||(Fe.crc32=p.crc32,Fe.compressedSize=p.compressedSize,Fe.uncompressedSize=p.uncompressedSize);var J=0;j&&(J|=8),Q||!te&&!P||(J|=2048);var C=0,Z=0;xe&&(C|=16),w==="UNIX"?(Z=798,C|=(function(ye,ae){var M=ye;return ye||(M=ae?16893:33204),(65535&M)<<16})(G.unixPermissions,xe)):(Z=20,C|=(function(ye){return 63&(ye||0)})(G.dosPermissions)),R=ke.getUTCHours(),R<<=6,R|=ke.getUTCMinutes(),R<<=5,R|=ke.getUTCSeconds()/2,k=ke.getUTCFullYear()-1980,k<<=4,k|=ke.getUTCMonth()+1,k<<=5,k|=ke.getUTCDate(),te&&(Ae=s(1,1)+s(h(ie),4)+U,be+="up"+s(Ae.length,2)+Ae),P&&(ge=s(1,1)+s(h(oe),4)+B,be+="uc"+s(ge.length,2)+ge);var ne="";return ne+=`
\0`,ne+=s(J,2),ne+=re.magic,ne+=s(R,2),ne+=s(k,2),ne+=s(Fe.crc32,4),ne+=s(Fe.compressedSize,4),ne+=s(Fe.uncompressedSize,4),ne+=s(ie.length,2),ne+=s(be.length,2),{fileRecord:S.LOCAL_FILE_HEADER+ne+ie+be,dirRecord:S.CENTRAL_FILE_HEADER+s(Z,2)+ne+s(oe.length,2)+"\0\0\0\0"+s(C,4)+s(A,4)+ie+be+oe}}var l=t("../utils"),f=t("../stream/GenericWorker"),d=t("../utf8"),h=t("../crc32"),S=t("../signature");function b(p,j,N,A){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=N,this.encodeFileName=A,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,f),b.prototype.push=function(p){var j=p.meta.percent||0,N=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,f.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:N?(j+100*(N-A-1))/N:100}}))},b.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var j=this.streamFiles&&!p.file.dir;if(j){var N=u(p,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(p){this.accumulate=!1;var j=this.streamFiles&&!p.file.dir,N=u(p,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),j)this.push({data:(function(A){return S.DATA_DESCRIPTOR+s(A.crc32,4)+s(A.compressedSize,4)+s(A.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var p=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var N=this.bytesWritten-p,A=(function(w,I,R,k,G){var re=l.transformTo("string",G(k));return S.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(w,2)+s(w,2)+s(I,4)+s(R,4)+s(re.length,2)+re})(this.dirRecords.length,N,p,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(p){this._sources.push(p);var j=this;return p.on("data",function(N){j.processChunk(N)}),p.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),p.on("error",function(N){j.error(N)}),this},b.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(p){var j=this._sources;if(!f.prototype.error.call(this,p))return!1;for(var N=0;N<j.length;N++)try{j[N].error(p)}catch{}return!0},b.prototype.lock=function(){f.prototype.lock.call(this);for(var p=this._sources,j=0;j<p.length;j++)p[j].lock()},o.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,a){var s=t("../compressions"),u=t("./ZipFileWorker");a.generateWorker=function(l,f,d){var h=new u(f.streamFiles,d,f.platform,f.encodeFileName),S=0;try{l.forEach(function(b,p){S++;var j=(function(I,R){var k=I||R,G=s[k];if(!G)throw new Error(k+" is not a valid compression method !");return G})(p.options.compression,f.compression),N=p.options.compressionOptions||f.compressionOptions||{},A=p.dir,w=p.date;p._compressWorker(j,N).withStreamInfo("file",{name:b,dir:A,date:w,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(h)}),h.entriesCount=S}catch(b){h.error(b)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new s;for(var l in this)typeof this[l]!="function"&&(u[l]=this[l]);return u}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(u,l){return new s().loadAsync(u,l)},s.external=t("./external"),o.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,a){var s=t("./utils"),u=t("./external"),l=t("./utf8"),f=t("./zipEntries"),d=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function S(b){return new u.Promise(function(p,j){var N=b.decompressed.getContentWorker().pipe(new d);N.on("error",function(A){j(A)}).on("end",function(){N.streamInfo.crc32!==b.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}o.exports=function(b,p){var j=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(b)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,p.optimizedBinaryString,p.base64).then(function(N){var A=new f(p);return A.load(N),A}).then(function(N){var A=[u.Promise.resolve(N)],w=N.files;if(p.checkCRC32)for(var I=0;I<w.length;I++)A.push(S(w[I]));return u.Promise.all(A)}).then(function(N){for(var A=N.shift(),w=A.files,I=0;I<w.length;I++){var R=w[I],k=R.fileNameStr,G=s.resolve(R.fileNameStr);j.file(G,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:p.createFolders}),R.dir||(j.file(G).unsafeOriginalName=k)}return A.zipComment.length&&(j.comment=A.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,a){var s=t("../utils"),u=t("../stream/GenericWorker");function l(f,d){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(l,u),l.prototype._bindStream=function(f){var d=this;(this._stream=f).pause(),f.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,a){var s=t("readable-stream").Readable;function u(l,f,d){s.call(this,f),this._helper=l;var h=this;l.on("data",function(S,b){h.push(S)||h._helper.pause(),d&&d(b)}).on("error",function(S){h.emit("error",S)}).on("end",function(){h.push(null)})}t("../utils").inherits(u,s),u.prototype._read=function(){this._helper.resume()},o.exports=u},{"../utils":32,"readable-stream":16}],14:[function(t,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,u);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,u)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var u=new Buffer(s);return u.fill(0),u},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,o,a){function s(G,re,Q){var ie,U=l.getTypeOf(re),le=l.extend(Q||{},h);le.date=le.date||new Date,le.compression!==null&&(le.compression=le.compression.toUpperCase()),typeof le.unixPermissions=="string"&&(le.unixPermissions=parseInt(le.unixPermissions,8)),le.unixPermissions&&16384&le.unixPermissions&&(le.dir=!0),le.dosPermissions&&16&le.dosPermissions&&(le.dir=!0),le.dir&&(G=w(G)),le.createFolders&&(ie=A(G))&&I.call(this,ie,!0);var oe=U==="string"&&le.binary===!1&&le.base64===!1;Q&&Q.binary!==void 0||(le.binary=!oe),(re instanceof S&&re.uncompressedSize===0||le.dir||!re||re.length===0)&&(le.base64=!1,le.binary=!0,re="",le.compression="STORE",U="string");var B=null;B=re instanceof S||re instanceof f?re:j.isNode&&j.isStream(re)?new N(G,re):l.prepareContent(G,re,le.binary,le.optimizedBinaryString,le.base64);var te=new b(G,B,le);this.files[G]=te}var u=t("./utf8"),l=t("./utils"),f=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),h=t("./defaults"),S=t("./compressedObject"),b=t("./zipObject"),p=t("./generate"),j=t("./nodejsUtils"),N=t("./nodejs/NodejsStreamInputAdapter"),A=function(G){G.slice(-1)==="/"&&(G=G.substring(0,G.length-1));var re=G.lastIndexOf("/");return 0<re?G.substring(0,re):""},w=function(G){return G.slice(-1)!=="/"&&(G+="/"),G},I=function(G,re){return re=re!==void 0?re:h.createFolders,G=w(G),this.files[G]||s.call(this,G,null,{dir:!0,createFolders:re}),this.files[G]};function R(G){return Object.prototype.toString.call(G)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(G){var re,Q,ie;for(re in this.files)ie=this.files[re],(Q=re.slice(this.root.length,re.length))&&re.slice(0,this.root.length)===this.root&&G(Q,ie)},filter:function(G){var re=[];return this.forEach(function(Q,ie){G(Q,ie)&&re.push(ie)}),re},file:function(G,re,Q){if(arguments.length!==1)return G=this.root+G,s.call(this,G,re,Q),this;if(R(G)){var ie=G;return this.filter(function(le,oe){return!oe.dir&&ie.test(le)})}var U=this.files[this.root+G];return U&&!U.dir?U:null},folder:function(G){if(!G)return this;if(R(G))return this.filter(function(U,le){return le.dir&&G.test(U)});var re=this.root+G,Q=I.call(this,re),ie=this.clone();return ie.root=Q.name,ie},remove:function(G){G=this.root+G;var re=this.files[G];if(re||(G.slice(-1)!=="/"&&(G+="/"),re=this.files[G]),re&&!re.dir)delete this.files[G];else for(var Q=this.filter(function(U,le){return le.name.slice(0,G.length)===G}),ie=0;ie<Q.length;ie++)delete this.files[Q[ie].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(G){var re,Q={};try{if((Q=l.extend(G||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");l.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var ie=Q.comment||this.comment||"";re=p.generateWorker(this,Q,ie)}catch(U){(re=new f("error")).error(U)}return new d(re,Q.type||"string",Q.mimeType)},generateAsync:function(G,re){return this.generateInternalStream(G).accumulate(re)},generateNodeStream:function(G,re){return(G=G||{}).type||(G.type="nodebuffer"),this.generateInternalStream(G).toNodejsStream(re)}};o.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,a){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,a){var s=t("./DataReader");function u(l){s.call(this,l);for(var f=0;f<this.data.length;f++)l[f]=255&l[f]}t("../utils").inherits(u,s),u.prototype.byteAt=function(l){return this.data[this.zero+l]},u.prototype.lastIndexOfSignature=function(l){for(var f=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),S=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===f&&this.data[b+1]===d&&this.data[b+2]===h&&this.data[b+3]===S)return b-this.zero;return-1},u.prototype.readAndCheckSignature=function(l){var f=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),S=l.charCodeAt(3),b=this.readData(4);return f===b[0]&&d===b[1]&&h===b[2]&&S===b[3]},u.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./DataReader":18}],18:[function(t,o,a){var s=t("../utils");function u(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var f,d=0;for(this.checkOffset(l),f=this.index+l-1;f>=this.index;f--)d=(d<<8)+this.byteAt(f);return this.index+=l,d},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},o.exports=u},{"../utils":32}],19:[function(t,o,a){var s=t("./Uint8ArrayReader");function u(l){s.call(this,l)}t("../utils").inherits(u,s),u.prototype.readData=function(l){this.checkOffset(l);var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,a){var s=t("./DataReader");function u(l){s.call(this,l)}t("../utils").inherits(u,s),u.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},u.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},u.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},u.prototype.readData=function(l){this.checkOffset(l);var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./DataReader":18}],21:[function(t,o,a){var s=t("./ArrayReader");function u(l){s.call(this,l)}t("../utils").inherits(u,s),u.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,a){var s=t("../utils"),u=t("../support"),l=t("./ArrayReader"),f=t("./StringReader"),d=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");o.exports=function(S){var b=s.getTypeOf(S);return s.checkSupport(b),b!=="string"||u.uint8array?b==="nodebuffer"?new d(S):u.uint8array?new h(s.transformTo("uint8array",S)):new l(s.transformTo("array",S)):new f(S)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,a){var s=t("./GenericWorker"),u=t("../utils");function l(f){s.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(l,s),l.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},o.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,a){var s=t("./GenericWorker"),u=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},o.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,a){var s=t("../utils"),u=t("./GenericWorker");function l(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}s.inherits(l,u),l.prototype.processChunk=function(f){if(f){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+f.data.length}u.prototype.processChunk.call(this,f)},o.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,a){var s=t("../utils"),u=t("./GenericWorker");function l(f){u.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=s.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}s.inherits(l,u),l.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,d);break;case"uint8array":f=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":f=this.data.slice(this.index,d)}return this.index=d,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,a){function s(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,l){return this._listeners[u].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,l){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,l)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var l=this;return u.on("data",function(f){l.processChunk(f)}),u.on("end",function(){l.end()}),u.on("error",function(f){l.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,l){return this.extraStreamInfo[u]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},o.exports=s},{}],29:[function(t,o,a){var s=t("../utils"),u=t("./ConvertWorker"),l=t("./GenericWorker"),f=t("../base64"),d=t("../support"),h=t("../external"),S=null;if(d.nodestream)try{S=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(j,N){return new h.Promise(function(A,w){var I=[],R=j._internalType,k=j._outputType,G=j._mimeType;j.on("data",function(re,Q){I.push(re),N&&N(Q)}).on("error",function(re){I=[],w(re)}).on("end",function(){try{var re=(function(Q,ie,U){switch(Q){case"blob":return s.newBlob(s.transformTo("arraybuffer",ie),U);case"base64":return f.encode(ie);default:return s.transformTo(Q,ie)}})(k,(function(Q,ie){var U,le=0,oe=null,B=0;for(U=0;U<ie.length;U++)B+=ie[U].length;switch(Q){case"string":return ie.join("");case"array":return Array.prototype.concat.apply([],ie);case"uint8array":for(oe=new Uint8Array(B),U=0;U<ie.length;U++)oe.set(ie[U],le),le+=ie[U].length;return oe;case"nodebuffer":return Buffer.concat(ie);default:throw new Error("concat : unsupported type '"+Q+"'")}})(R,I),G);A(re)}catch(Q){w(Q)}I=[]}).resume()})}function p(j,N,A){var w=N;switch(N){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=N,this._mimeType=A,s.checkSupport(w),this._worker=j.pipe(new u(w)),j.lock()}catch(I){this._worker=new l("error"),this._worker.error(I)}}p.prototype={accumulate:function(j){return b(this,j)},on:function(j,N){var A=this;return j==="data"?this._worker.on(j,function(w){N.call(A,w.data,w.meta)}):this._worker.on(j,function(){s.delay(N,arguments,A)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new S(this,{objectMode:this._outputType!=="nodebuffer"},j)}},o.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(s),a.blob=u.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,a){for(var s=t("./utils"),u=t("./support"),l=t("./nodejsUtils"),f=t("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function S(){f.call(this,"utf-8 decode"),this.leftOver=null}function b(){f.call(this,"utf-8 encode")}a.utf8encode=function(p){return u.nodebuffer?l.newBufferFrom(p,"utf-8"):(function(j){var N,A,w,I,R,k=j.length,G=0;for(I=0;I<k;I++)(64512&(A=j.charCodeAt(I)))==55296&&I+1<k&&(64512&(w=j.charCodeAt(I+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),I++),G+=A<128?1:A<2048?2:A<65536?3:4;for(N=u.uint8array?new Uint8Array(G):new Array(G),I=R=0;R<G;I++)(64512&(A=j.charCodeAt(I)))==55296&&I+1<k&&(64512&(w=j.charCodeAt(I+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),I++),A<128?N[R++]=A:(A<2048?N[R++]=192|A>>>6:(A<65536?N[R++]=224|A>>>12:(N[R++]=240|A>>>18,N[R++]=128|A>>>12&63),N[R++]=128|A>>>6&63),N[R++]=128|63&A);return N})(p)},a.utf8decode=function(p){return u.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(j){var N,A,w,I,R=j.length,k=new Array(2*R);for(N=A=0;N<R;)if((w=j[N++])<128)k[A++]=w;else if(4<(I=d[w]))k[A++]=65533,N+=I-1;else{for(w&=I===2?31:I===3?15:7;1<I&&N<R;)w=w<<6|63&j[N++],I--;1<I?k[A++]=65533:w<65536?k[A++]=w:(w-=65536,k[A++]=55296|w>>10&1023,k[A++]=56320|1023&w)}return k.length!==A&&(k.subarray?k=k.subarray(0,A):k.length=A),s.applyFromCharCode(k)})(p=s.transformTo(u.uint8array?"uint8array":"array",p))},s.inherits(S,f),S.prototype.processChunk=function(p){var j=s.transformTo(u.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var N=j;(j=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),j.set(N,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var A=(function(I,R){var k;for((R=R||I.length)>I.length&&(R=I.length),k=R-1;0<=k&&(192&I[k])==128;)k--;return k<0||k===0?R:k+d[I[k]]>R?k:R})(j),w=j;A!==j.length&&(u.uint8array?(w=j.subarray(0,A),this.leftOver=j.subarray(A,j.length)):(w=j.slice(0,A),this.leftOver=j.slice(A,j.length))),this.push({data:a.utf8decode(w),meta:p.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=S,s.inherits(b,f),b.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,a){var s=t("./support"),u=t("./base64"),l=t("./nodejsUtils"),f=t("./external");function d(N){return N}function h(N,A){for(var w=0;w<N.length;++w)A[w]=255&N.charCodeAt(w);return A}t("setimmediate"),a.newBlob=function(N,A){a.checkSupport("blob");try{return new Blob([N],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(N),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var S={stringifyByChunk:function(N,A,w){var I=[],R=0,k=N.length;if(k<=w)return String.fromCharCode.apply(null,N);for(;R<k;)A==="array"||A==="nodebuffer"?I.push(String.fromCharCode.apply(null,N.slice(R,Math.min(R+w,k)))):I.push(String.fromCharCode.apply(null,N.subarray(R,Math.min(R+w,k)))),R+=w;return I.join("")},stringifyByChar:function(N){for(var A="",w=0;w<N.length;w++)A+=String.fromCharCode(N[w]);return A},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function b(N){var A=65536,w=a.getTypeOf(N),I=!0;if(w==="uint8array"?I=S.applyCanBeUsed.uint8array:w==="nodebuffer"&&(I=S.applyCanBeUsed.nodebuffer),I)for(;1<A;)try{return S.stringifyByChunk(N,w,A)}catch{A=Math.floor(A/2)}return S.stringifyByChar(N)}function p(N,A){for(var w=0;w<N.length;w++)A[w]=N[w];return A}a.applyFromCharCode=b;var j={};j.string={string:d,array:function(N){return h(N,new Array(N.length))},arraybuffer:function(N){return j.string.uint8array(N).buffer},uint8array:function(N){return h(N,new Uint8Array(N.length))},nodebuffer:function(N){return h(N,l.allocBuffer(N.length))}},j.array={string:b,array:d,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return l.newBufferFrom(N)}},j.arraybuffer={string:function(N){return b(new Uint8Array(N))},array:function(N){return p(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:d,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return l.newBufferFrom(new Uint8Array(N))}},j.uint8array={string:b,array:function(N){return p(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:d,nodebuffer:function(N){return l.newBufferFrom(N)}},j.nodebuffer={string:b,array:function(N){return p(N,new Array(N.length))},arraybuffer:function(N){return j.nodebuffer.uint8array(N).buffer},uint8array:function(N){return p(N,new Uint8Array(N.length))},nodebuffer:d},a.transformTo=function(N,A){if(A=A||"",!N)return A;a.checkSupport(N);var w=a.getTypeOf(A);return j[w][N](A)},a.resolve=function(N){for(var A=N.split("/"),w=[],I=0;I<A.length;I++){var R=A[I];R==="."||R===""&&I!==0&&I!==A.length-1||(R===".."?w.pop():w.push(R))}return w.join("/")},a.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(N)?"nodebuffer":s.uint8array&&N instanceof Uint8Array?"uint8array":s.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(N){if(!s[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(N){var A,w,I="";for(w=0;w<(N||"").length;w++)I+="\\x"+((A=N.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return I},a.delay=function(N,A,w){setImmediate(function(){N.apply(w||null,A||[])})},a.inherits=function(N,A){function w(){}w.prototype=A.prototype,N.prototype=new w},a.extend=function(){var N,A,w={};for(N=0;N<arguments.length;N++)for(A in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],A)&&w[A]===void 0&&(w[A]=arguments[N][A]);return w},a.prepareContent=function(N,A,w,I,R){return f.Promise.resolve(A).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new f.Promise(function(G,re){var Q=new FileReader;Q.onload=function(ie){G(ie.target.result)},Q.onerror=function(ie){re(ie.target.error)},Q.readAsArrayBuffer(k)}):k}).then(function(k){var G=a.getTypeOf(k);return G?(G==="arraybuffer"?k=a.transformTo("uint8array",k):G==="string"&&(R?k=u.decode(k):w&&I!==!0&&(k=(function(re){return h(re,s.uint8array?new Uint8Array(re.length):new Array(re.length))})(k))),k):f.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,a){var s=t("./reader/readerFor"),u=t("./utils"),l=t("./signature"),f=t("./zipEntry"),d=t("./support");function h(S){this.files=[],this.loadOptions=S}h.prototype={checkSignature:function(S){if(!this.reader.readAndCheckSignature(S)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(b)+", expected "+u.pretty(S)+")")}},isSignature:function(S,b){var p=this.reader.index;this.reader.setIndex(S);var j=this.reader.readString(4)===b;return this.reader.setIndex(p),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var S=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",p=u.transformTo(b,S);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var S,b,p,j=this.zip64EndOfCentralSize-44;0<j;)S=this.reader.readInt(2),b=this.reader.readInt(4),p=this.reader.readData(b),this.zip64ExtensibleData[S]={id:S,length:b,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var S,b;for(S=0;S<this.files.length;S++)b=this.files[S],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var S;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(S=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(S);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var S=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(S<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(S);var b=S;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(S=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(S),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var j=b-p;if(0<j)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(S){this.reader=s(S)},load:function(S){this.prepareReader(S),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,a){var s=t("./reader/readerFor"),u=t("./utils"),l=t("./compressedObject"),f=t("./crc32"),d=t("./utf8"),h=t("./compressions"),S=t("./support");function b(p,j){this.options=p,this.loadOptions=j}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var j,N;if(p.skip(22),this.fileNameLength=p.readInt(2),N=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(A){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)&&h[w].magic===A)return h[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,j,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var j=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(j),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var j,N,A,w=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<w;)j=p.readInt(2),N=p.readInt(2),A=p.readData(N),this.extraFields[j]={id:j,length:N,value:A};p.setIndex(w)},handleUTF8:function(){var p=S.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var N=u.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=u.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var j=s(p.value);return j.readInt(1)!==1||f(this.fileName)!==j.readInt(4)?null:d.utf8decode(j.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var j=s(p.value);return j.readInt(1)!==1||f(this.fileComment)!==j.readInt(4)?null:d.utf8decode(j.readData(p.length-5))}return null}},o.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,a){function s(j,N,A){this.name=j,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=N,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var u=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),f=t("./utf8"),d=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(j){var N=null,A="string";try{if(!j)throw new Error("No output type specified.");var w=(A=j.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),N=this._decompressWorker();var I=!this._dataBinary;I&&!w&&(N=N.pipe(new f.Utf8EncodeWorker)),!I&&w&&(N=N.pipe(new f.Utf8DecodeWorker))}catch(R){(N=new h("error")).error(R)}return new u(N,A,"")},async:function(j,N){return this.internalStream(j).accumulate(N)},nodeStream:function(j,N){return this.internalStream(j||"nodebuffer").toNodejsStream(N)},_compressWorker:function(j,N){if(this._data instanceof d&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new f.Utf8EncodeWorker)),d.createWorkerFrom(A,j,N)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var S=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<S.length;p++)s.prototype[S[p]]=b;o.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,a){(function(s){var u,l,f=s.MutationObserver||s.WebKitMutationObserver;if(f){var d=0,h=new f(j),S=s.document.createTextNode("");h.observe(S,{characterData:!0}),u=function(){S.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)u="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var N=s.document.createElement("script");N.onreadystatechange=function(){j(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},s.document.documentElement.appendChild(N)}:function(){setTimeout(j,0)};else{var b=new s.MessageChannel;b.port1.onmessage=j,u=function(){b.port2.postMessage(0)}}var p=[];function j(){var N,A;l=!0;for(var w=p.length;w;){for(A=p,p=[],N=-1;++N<w;)A[N]();w=p.length}l=!1}o.exports=function(N){p.push(N)!==1||l||u()}}).call(this,typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,a){var s=t("immediate");function u(){}var l={},f=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function S(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==u&&N(this,w)}function b(w,I,R){this.promise=w,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function p(w,I,R){s(function(){var k;try{k=I(R)}catch(G){return l.reject(w,G)}k===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,k)})}function j(w){var I=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof I=="function")return function(){I.apply(w,arguments)}}function N(w,I){var R=!1;function k(Q){R||(R=!0,l.reject(w,Q))}function G(Q){R||(R=!0,l.resolve(w,Q))}var re=A(function(){I(G,k)});re.status==="error"&&k(re.value)}function A(w,I){var R={};try{R.value=w(I),R.status="success"}catch(k){R.status="error",R.value=k}return R}(o.exports=S).prototype.finally=function(w){if(typeof w!="function")return this;var I=this.constructor;return this.then(function(R){return I.resolve(w()).then(function(){return R})},function(R){return I.resolve(w()).then(function(){throw R})})},S.prototype.catch=function(w){return this.then(null,w)},S.prototype.then=function(w,I){if(typeof w!="function"&&this.state===d||typeof I!="function"&&this.state===f)return this;var R=new this.constructor(u);return this.state!==h?p(R,this.state===d?w:I,this.outcome):this.queue.push(new b(R,w,I)),R},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){p(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){p(this.promise,this.onRejected,w)},l.resolve=function(w,I){var R=A(j,I);if(R.status==="error")return l.reject(w,R.value);var k=R.value;if(k)N(w,k);else{w.state=d,w.outcome=I;for(var G=-1,re=w.queue.length;++G<re;)w.queue[G].callFulfilled(I)}return w},l.reject=function(w,I){w.state=f,w.outcome=I;for(var R=-1,k=w.queue.length;++R<k;)w.queue[R].callRejected(I);return w},S.resolve=function(w){return w instanceof this?w:l.resolve(new this(u),w)},S.reject=function(w){var I=new this(u);return l.reject(I,w)},S.all=function(w){var I=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=w.length,k=!1;if(!R)return this.resolve([]);for(var G=new Array(R),re=0,Q=-1,ie=new this(u);++Q<R;)U(w[Q],Q);return ie;function U(le,oe){I.resolve(le).then(function(B){G[oe]=B,++re!==R||k||(k=!0,l.resolve(ie,G))},function(B){k||(k=!0,l.reject(ie,B))})}},S.race=function(w){var I=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=w.length,k=!1;if(!R)return this.resolve([]);for(var G=-1,re=new this(u);++G<R;)Q=w[G],I.resolve(Q).then(function(ie){k||(k=!0,l.resolve(re,ie))},function(ie){k||(k=!0,l.reject(re,ie))});var Q;return re}},{immediate:36}],38:[function(t,o,a){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,a){var s=t("./zlib/deflate"),u=t("./utils/common"),l=t("./utils/strings"),f=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,S=0,b=-1,p=0,j=8;function N(w){if(!(this instanceof N))return new N(w);this.options=u.assign({level:b,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},w||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var R=s.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(R!==S)throw new Error(f[R]);if(I.header&&s.deflateSetHeader(this.strm,I.header),I.dictionary){var k;if(k=typeof I.dictionary=="string"?l.string2buf(I.dictionary):h.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(R=s.deflateSetDictionary(this.strm,k))!==S)throw new Error(f[R]);this._dict_set=!0}}function A(w,I){var R=new N(I);if(R.push(w,!0),R.err)throw R.msg||f[R.err];return R.result}N.prototype.push=function(w,I){var R,k,G=this.strm,re=this.options.chunkSize;if(this.ended)return!1;k=I===~~I?I:I===!0?4:0,typeof w=="string"?G.input=l.string2buf(w):h.call(w)==="[object ArrayBuffer]"?G.input=new Uint8Array(w):G.input=w,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new u.Buf8(re),G.next_out=0,G.avail_out=re),(R=s.deflate(G,k))!==1&&R!==S)return this.onEnd(R),!(this.ended=!0);G.avail_out!==0&&(G.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(u.shrinkBuf(G.output,G.next_out))):this.onData(u.shrinkBuf(G.output,G.next_out)))}while((0<G.avail_in||G.avail_out===0)&&R!==1);return k===4?(R=s.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===S):k!==2||(this.onEnd(S),!(G.avail_out=0))},N.prototype.onData=function(w){this.chunks.push(w)},N.prototype.onEnd=function(w){w===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Deflate=N,a.deflate=A,a.deflateRaw=function(w,I){return(I=I||{}).raw=!0,A(w,I)},a.gzip=function(w,I){return(I=I||{}).gzip=!0,A(w,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,a){var s=t("./zlib/inflate"),u=t("./utils/common"),l=t("./utils/strings"),f=t("./zlib/constants"),d=t("./zlib/messages"),h=t("./zlib/zstream"),S=t("./zlib/gzheader"),b=Object.prototype.toString;function p(N){if(!(this instanceof p))return new p(N);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},N||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||N&&N.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=s.inflateInit2(this.strm,A.windowBits);if(w!==f.Z_OK)throw new Error(d[w]);this.header=new S,s.inflateGetHeader(this.strm,this.header)}function j(N,A){var w=new p(A);if(w.push(N,!0),w.err)throw w.msg||d[w.err];return w.result}p.prototype.push=function(N,A){var w,I,R,k,G,re,Q=this.strm,ie=this.options.chunkSize,U=this.options.dictionary,le=!1;if(this.ended)return!1;I=A===~~A?A:A===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof N=="string"?Q.input=l.binstring2buf(N):b.call(N)==="[object ArrayBuffer]"?Q.input=new Uint8Array(N):Q.input=N,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new u.Buf8(ie),Q.next_out=0,Q.avail_out=ie),(w=s.inflate(Q,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&U&&(re=typeof U=="string"?l.string2buf(U):b.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,w=s.inflateSetDictionary(this.strm,re)),w===f.Z_BUF_ERROR&&le===!0&&(w=f.Z_OK,le=!1),w!==f.Z_STREAM_END&&w!==f.Z_OK)return this.onEnd(w),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&w!==f.Z_STREAM_END&&(Q.avail_in!==0||I!==f.Z_FINISH&&I!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=l.utf8border(Q.output,Q.next_out),k=Q.next_out-R,G=l.buf2string(Q.output,R),Q.next_out=k,Q.avail_out=ie-k,k&&u.arraySet(Q.output,Q.output,R,k,0),this.onData(G)):this.onData(u.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&(le=!0)}while((0<Q.avail_in||Q.avail_out===0)&&w!==f.Z_STREAM_END);return w===f.Z_STREAM_END&&(I=f.Z_FINISH),I===f.Z_FINISH?(w=s.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f.Z_OK):I!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(Q.avail_out=0))},p.prototype.onData=function(N){this.chunks.push(N)},p.prototype.onEnd=function(N){N===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},a.Inflate=p,a.inflate=j,a.inflateRaw=function(N,A){return(A=A||{}).raw=!0,j(N,A)},a.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(f){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var S in h)h.hasOwnProperty(S)&&(f[S]=h[S])}}return f},a.shrinkBuf=function(f,d){return f.length===d?f:f.subarray?f.subarray(0,d):(f.length=d,f)};var u={arraySet:function(f,d,h,S,b){if(d.subarray&&f.subarray)f.set(d.subarray(h,h+S),b);else for(var p=0;p<S;p++)f[b+p]=d[h+p]},flattenChunks:function(f){var d,h,S,b,p,j;for(d=S=0,h=f.length;d<h;d++)S+=f[d].length;for(j=new Uint8Array(S),d=b=0,h=f.length;d<h;d++)p=f[d],j.set(p,b),b+=p.length;return j}},l={arraySet:function(f,d,h,S,b){for(var p=0;p<S;p++)f[b+p]=d[h+p]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,u)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(s)},{}],42:[function(t,o,a){var s=t("./common"),u=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var f=new s.Buf8(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(S,b){if(b<65537&&(S.subarray&&l||!S.subarray&&u))return String.fromCharCode.apply(null,s.shrinkBuf(S,b));for(var p="",j=0;j<b;j++)p+=String.fromCharCode(S[j]);return p}f[254]=f[254]=1,a.string2buf=function(S){var b,p,j,N,A,w=S.length,I=0;for(N=0;N<w;N++)(64512&(p=S.charCodeAt(N)))==55296&&N+1<w&&(64512&(j=S.charCodeAt(N+1)))==56320&&(p=65536+(p-55296<<10)+(j-56320),N++),I+=p<128?1:p<2048?2:p<65536?3:4;for(b=new s.Buf8(I),N=A=0;A<I;N++)(64512&(p=S.charCodeAt(N)))==55296&&N+1<w&&(64512&(j=S.charCodeAt(N+1)))==56320&&(p=65536+(p-55296<<10)+(j-56320),N++),p<128?b[A++]=p:(p<2048?b[A++]=192|p>>>6:(p<65536?b[A++]=224|p>>>12:(b[A++]=240|p>>>18,b[A++]=128|p>>>12&63),b[A++]=128|p>>>6&63),b[A++]=128|63&p);return b},a.buf2binstring=function(S){return h(S,S.length)},a.binstring2buf=function(S){for(var b=new s.Buf8(S.length),p=0,j=b.length;p<j;p++)b[p]=S.charCodeAt(p);return b},a.buf2string=function(S,b){var p,j,N,A,w=b||S.length,I=new Array(2*w);for(p=j=0;p<w;)if((N=S[p++])<128)I[j++]=N;else if(4<(A=f[N]))I[j++]=65533,p+=A-1;else{for(N&=A===2?31:A===3?15:7;1<A&&p<w;)N=N<<6|63&S[p++],A--;1<A?I[j++]=65533:N<65536?I[j++]=N:(N-=65536,I[j++]=55296|N>>10&1023,I[j++]=56320|1023&N)}return h(I,j)},a.utf8border=function(S,b){var p;for((b=b||S.length)>S.length&&(b=S.length),p=b-1;0<=p&&(192&S[p])==128;)p--;return p<0||p===0?b:p+f[S[p]]>b?p:b}},{"./common":41}],43:[function(t,o,a){o.exports=function(s,u,l,f){for(var d=65535&s|0,h=s>>>16&65535|0,S=0;l!==0;){for(l-=S=2e3<l?2e3:l;h=h+(d=d+u[f++]|0)|0,--S;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(t,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,a){var s=(function(){for(var u,l=[],f=0;f<256;f++){u=f;for(var d=0;d<8;d++)u=1&u?3988292384^u>>>1:u>>>1;l[f]=u}return l})();o.exports=function(u,l,f,d){var h=s,S=d+f;u^=-1;for(var b=d;b<S;b++)u=u>>>8^h[255&(u^l[b])];return-1^u}},{}],46:[function(t,o,a){var s,u=t("../utils/common"),l=t("./trees"),f=t("./adler32"),d=t("./crc32"),h=t("./messages"),S=0,b=4,p=0,j=-2,N=-1,A=4,w=2,I=8,R=9,k=286,G=30,re=19,Q=2*k+1,ie=15,U=3,le=258,oe=le+U+1,B=42,te=113,P=1,be=2,Ae=3,ge=4;function xe(H,ee){return H.msg=h[ee],ee}function ke(H){return(H<<1)-(4<H?9:0)}function Fe(H){for(var ee=H.length;0<=--ee;)H[ee]=0}function J(H){var ee=H.state,X=ee.pending;X>H.avail_out&&(X=H.avail_out),X!==0&&(u.arraySet(H.output,ee.pending_buf,ee.pending_out,X,H.next_out),H.next_out+=X,ee.pending_out+=X,H.total_out+=X,H.avail_out-=X,ee.pending-=X,ee.pending===0&&(ee.pending_out=0))}function C(H,ee){l._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,ee),H.block_start=H.strstart,J(H.strm)}function Z(H,ee){H.pending_buf[H.pending++]=ee}function ne(H,ee){H.pending_buf[H.pending++]=ee>>>8&255,H.pending_buf[H.pending++]=255&ee}function ye(H,ee){var X,T,L=H.max_chain_length,q=H.strstart,Se=H.prev_length,Ce=H.nice_match,Ee=H.strstart>H.w_size-oe?H.strstart-(H.w_size-oe):0,Ue=H.window,ft=H.w_mask,ot=H.prev,lt=H.strstart+le,Nt=Ue[q+Se-1],Ot=Ue[q+Se];H.prev_length>=H.good_match&&(L>>=2),Ce>H.lookahead&&(Ce=H.lookahead);do if(Ue[(X=ee)+Se]===Ot&&Ue[X+Se-1]===Nt&&Ue[X]===Ue[q]&&Ue[++X]===Ue[q+1]){q+=2,X++;do;while(Ue[++q]===Ue[++X]&&Ue[++q]===Ue[++X]&&Ue[++q]===Ue[++X]&&Ue[++q]===Ue[++X]&&Ue[++q]===Ue[++X]&&Ue[++q]===Ue[++X]&&Ue[++q]===Ue[++X]&&Ue[++q]===Ue[++X]&&q<lt);if(T=le-(lt-q),q=lt-le,Se<T){if(H.match_start=ee,Ce<=(Se=T))break;Nt=Ue[q+Se-1],Ot=Ue[q+Se]}}while((ee=ot[ee&ft])>Ee&&--L!=0);return Se<=H.lookahead?Se:H.lookahead}function ae(H){var ee,X,T,L,q,Se,Ce,Ee,Ue,ft,ot=H.w_size;do{if(L=H.window_size-H.lookahead-H.strstart,H.strstart>=ot+(ot-oe)){for(u.arraySet(H.window,H.window,ot,ot,0),H.match_start-=ot,H.strstart-=ot,H.block_start-=ot,ee=X=H.hash_size;T=H.head[--ee],H.head[ee]=ot<=T?T-ot:0,--X;);for(ee=X=ot;T=H.prev[--ee],H.prev[ee]=ot<=T?T-ot:0,--X;);L+=ot}if(H.strm.avail_in===0)break;if(Se=H.strm,Ce=H.window,Ee=H.strstart+H.lookahead,Ue=L,ft=void 0,ft=Se.avail_in,Ue<ft&&(ft=Ue),X=ft===0?0:(Se.avail_in-=ft,u.arraySet(Ce,Se.input,Se.next_in,ft,Ee),Se.state.wrap===1?Se.adler=f(Se.adler,Ce,ft,Ee):Se.state.wrap===2&&(Se.adler=d(Se.adler,Ce,ft,Ee)),Se.next_in+=ft,Se.total_in+=ft,ft),H.lookahead+=X,H.lookahead+H.insert>=U)for(q=H.strstart-H.insert,H.ins_h=H.window[q],H.ins_h=(H.ins_h<<H.hash_shift^H.window[q+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[q+U-1])&H.hash_mask,H.prev[q&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=q,q++,H.insert--,!(H.lookahead+H.insert<U)););}while(H.lookahead<oe&&H.strm.avail_in!==0)}function M(H,ee){for(var X,T;;){if(H.lookahead<oe){if(ae(H),H.lookahead<oe&&ee===S)return P;if(H.lookahead===0)break}if(X=0,H.lookahead>=U&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+U-1])&H.hash_mask,X=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),X!==0&&H.strstart-X<=H.w_size-oe&&(H.match_length=ye(H,X)),H.match_length>=U)if(T=l._tr_tally(H,H.strstart-H.match_start,H.match_length-U),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=U){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+U-1])&H.hash_mask,X=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else T=l._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(T&&(C(H,!1),H.strm.avail_out===0))return P}return H.insert=H.strstart<U-1?H.strstart:U-1,ee===b?(C(H,!0),H.strm.avail_out===0?Ae:ge):H.last_lit&&(C(H,!1),H.strm.avail_out===0)?P:be}function z(H,ee){for(var X,T,L;;){if(H.lookahead<oe){if(ae(H),H.lookahead<oe&&ee===S)return P;if(H.lookahead===0)break}if(X=0,H.lookahead>=U&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+U-1])&H.hash_mask,X=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=U-1,X!==0&&H.prev_length<H.max_lazy_match&&H.strstart-X<=H.w_size-oe&&(H.match_length=ye(H,X),H.match_length<=5&&(H.strategy===1||H.match_length===U&&4096<H.strstart-H.match_start)&&(H.match_length=U-1)),H.prev_length>=U&&H.match_length<=H.prev_length){for(L=H.strstart+H.lookahead-U,T=l._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-U),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=L&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+U-1])&H.hash_mask,X=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=U-1,H.strstart++,T&&(C(H,!1),H.strm.avail_out===0))return P}else if(H.match_available){if((T=l._tr_tally(H,0,H.window[H.strstart-1]))&&C(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return P}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(T=l._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<U-1?H.strstart:U-1,ee===b?(C(H,!0),H.strm.avail_out===0?Ae:ge):H.last_lit&&(C(H,!1),H.strm.avail_out===0)?P:be}function fe(H,ee,X,T,L){this.good_length=H,this.max_lazy=ee,this.nice_length=X,this.max_chain=T,this.func=L}function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*Q),this.dyn_dtree=new u.Buf16(2*(2*G+1)),this.bl_tree=new u.Buf16(2*(2*re+1)),Fe(this.dyn_ltree),Fe(this.dyn_dtree),Fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(ie+1),this.heap=new u.Buf16(2*k+1),Fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*k+1),Fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(H){var ee;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=w,(ee=H.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?B:te,H.adler=ee.wrap===2?0:1,ee.last_flush=S,l._tr_init(ee),p):xe(H,j)}function pe(H){var ee=se(H);return ee===p&&(function(X){X.window_size=2*X.w_size,Fe(X.head),X.max_lazy_match=s[X.level].max_lazy,X.good_match=s[X.level].good_length,X.nice_match=s[X.level].nice_length,X.max_chain_length=s[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=U-1,X.match_available=0,X.ins_h=0})(H.state),ee}function Be(H,ee,X,T,L,q){if(!H)return j;var Se=1;if(ee===N&&(ee=6),T<0?(Se=0,T=-T):15<T&&(Se=2,T-=16),L<1||R<L||X!==I||T<8||15<T||ee<0||9<ee||q<0||A<q)return xe(H,j);T===8&&(T=9);var Ce=new de;return(H.state=Ce).strm=H,Ce.wrap=Se,Ce.gzhead=null,Ce.w_bits=T,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=L+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+U-1)/U),Ce.window=new u.Buf8(2*Ce.w_size),Ce.head=new u.Buf16(Ce.hash_size),Ce.prev=new u.Buf16(Ce.w_size),Ce.lit_bufsize=1<<L+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new u.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=ee,Ce.strategy=q,Ce.method=X,pe(H)}s=[new fe(0,0,0,0,function(H,ee){var X=65535;for(X>H.pending_buf_size-5&&(X=H.pending_buf_size-5);;){if(H.lookahead<=1){if(ae(H),H.lookahead===0&&ee===S)return P;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var T=H.block_start+X;if((H.strstart===0||H.strstart>=T)&&(H.lookahead=H.strstart-T,H.strstart=T,C(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-oe&&(C(H,!1),H.strm.avail_out===0))return P}return H.insert=0,ee===b?(C(H,!0),H.strm.avail_out===0?Ae:ge):(H.strstart>H.block_start&&(C(H,!1),H.strm.avail_out),P)}),new fe(4,4,8,4,M),new fe(4,5,16,8,M),new fe(4,6,32,32,M),new fe(4,4,16,16,z),new fe(8,16,32,32,z),new fe(8,16,128,128,z),new fe(8,32,128,256,z),new fe(32,128,258,1024,z),new fe(32,258,258,4096,z)],a.deflateInit=function(H,ee){return Be(H,ee,I,15,8,0)},a.deflateInit2=Be,a.deflateReset=pe,a.deflateResetKeep=se,a.deflateSetHeader=function(H,ee){return H&&H.state?H.state.wrap!==2?j:(H.state.gzhead=ee,p):j},a.deflate=function(H,ee){var X,T,L,q;if(!H||!H.state||5<ee||ee<0)return H?xe(H,j):j;if(T=H.state,!H.output||!H.input&&H.avail_in!==0||T.status===666&&ee!==b)return xe(H,H.avail_out===0?-5:j);if(T.strm=H,X=T.last_flush,T.last_flush=ee,T.status===B)if(T.wrap===2)H.adler=0,Z(T,31),Z(T,139),Z(T,8),T.gzhead?(Z(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),Z(T,255&T.gzhead.time),Z(T,T.gzhead.time>>8&255),Z(T,T.gzhead.time>>16&255),Z(T,T.gzhead.time>>24&255),Z(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),Z(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(Z(T,255&T.gzhead.extra.length),Z(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(H.adler=d(H.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(Z(T,0),Z(T,0),Z(T,0),Z(T,0),Z(T,0),Z(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),Z(T,3),T.status=te);else{var Se=I+(T.w_bits-8<<4)<<8;Se|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Se|=32),Se+=31-Se%31,T.status=te,ne(T,Se),T.strstart!==0&&(ne(T,H.adler>>>16),ne(T,65535&H.adler)),H.adler=1}if(T.status===69)if(T.gzhead.extra){for(L=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>L&&(H.adler=d(H.adler,T.pending_buf,T.pending-L,L)),J(H),L=T.pending,T.pending!==T.pending_buf_size));)Z(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>L&&(H.adler=d(H.adler,T.pending_buf,T.pending-L,L)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){L=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>L&&(H.adler=d(H.adler,T.pending_buf,T.pending-L,L)),J(H),L=T.pending,T.pending===T.pending_buf_size)){q=1;break}q=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,Z(T,q)}while(q!==0);T.gzhead.hcrc&&T.pending>L&&(H.adler=d(H.adler,T.pending_buf,T.pending-L,L)),q===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){L=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>L&&(H.adler=d(H.adler,T.pending_buf,T.pending-L,L)),J(H),L=T.pending,T.pending===T.pending_buf_size)){q=1;break}q=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,Z(T,q)}while(q!==0);T.gzhead.hcrc&&T.pending>L&&(H.adler=d(H.adler,T.pending_buf,T.pending-L,L)),q===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&J(H),T.pending+2<=T.pending_buf_size&&(Z(T,255&H.adler),Z(T,H.adler>>8&255),H.adler=0,T.status=te)):T.status=te),T.pending!==0){if(J(H),H.avail_out===0)return T.last_flush=-1,p}else if(H.avail_in===0&&ke(ee)<=ke(X)&&ee!==b)return xe(H,-5);if(T.status===666&&H.avail_in!==0)return xe(H,-5);if(H.avail_in!==0||T.lookahead!==0||ee!==S&&T.status!==666){var Ce=T.strategy===2?(function(Ee,Ue){for(var ft;;){if(Ee.lookahead===0&&(ae(Ee),Ee.lookahead===0)){if(Ue===S)return P;break}if(Ee.match_length=0,ft=l._tr_tally(Ee,0,Ee.window[Ee.strstart]),Ee.lookahead--,Ee.strstart++,ft&&(C(Ee,!1),Ee.strm.avail_out===0))return P}return Ee.insert=0,Ue===b?(C(Ee,!0),Ee.strm.avail_out===0?Ae:ge):Ee.last_lit&&(C(Ee,!1),Ee.strm.avail_out===0)?P:be})(T,ee):T.strategy===3?(function(Ee,Ue){for(var ft,ot,lt,Nt,Ot=Ee.window;;){if(Ee.lookahead<=le){if(ae(Ee),Ee.lookahead<=le&&Ue===S)return P;if(Ee.lookahead===0)break}if(Ee.match_length=0,Ee.lookahead>=U&&0<Ee.strstart&&(ot=Ot[lt=Ee.strstart-1])===Ot[++lt]&&ot===Ot[++lt]&&ot===Ot[++lt]){Nt=Ee.strstart+le;do;while(ot===Ot[++lt]&&ot===Ot[++lt]&&ot===Ot[++lt]&&ot===Ot[++lt]&&ot===Ot[++lt]&&ot===Ot[++lt]&&ot===Ot[++lt]&&ot===Ot[++lt]&&lt<Nt);Ee.match_length=le-(Nt-lt),Ee.match_length>Ee.lookahead&&(Ee.match_length=Ee.lookahead)}if(Ee.match_length>=U?(ft=l._tr_tally(Ee,1,Ee.match_length-U),Ee.lookahead-=Ee.match_length,Ee.strstart+=Ee.match_length,Ee.match_length=0):(ft=l._tr_tally(Ee,0,Ee.window[Ee.strstart]),Ee.lookahead--,Ee.strstart++),ft&&(C(Ee,!1),Ee.strm.avail_out===0))return P}return Ee.insert=0,Ue===b?(C(Ee,!0),Ee.strm.avail_out===0?Ae:ge):Ee.last_lit&&(C(Ee,!1),Ee.strm.avail_out===0)?P:be})(T,ee):s[T.level].func(T,ee);if(Ce!==Ae&&Ce!==ge||(T.status=666),Ce===P||Ce===Ae)return H.avail_out===0&&(T.last_flush=-1),p;if(Ce===be&&(ee===1?l._tr_align(T):ee!==5&&(l._tr_stored_block(T,0,0,!1),ee===3&&(Fe(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),J(H),H.avail_out===0))return T.last_flush=-1,p}return ee!==b?p:T.wrap<=0?1:(T.wrap===2?(Z(T,255&H.adler),Z(T,H.adler>>8&255),Z(T,H.adler>>16&255),Z(T,H.adler>>24&255),Z(T,255&H.total_in),Z(T,H.total_in>>8&255),Z(T,H.total_in>>16&255),Z(T,H.total_in>>24&255)):(ne(T,H.adler>>>16),ne(T,65535&H.adler)),J(H),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?p:1)},a.deflateEnd=function(H){var ee;return H&&H.state?(ee=H.state.status)!==B&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==te&&ee!==666?xe(H,j):(H.state=null,ee===te?xe(H,-3):p):j},a.deflateSetDictionary=function(H,ee){var X,T,L,q,Se,Ce,Ee,Ue,ft=ee.length;if(!H||!H.state||(q=(X=H.state).wrap)===2||q===1&&X.status!==B||X.lookahead)return j;for(q===1&&(H.adler=f(H.adler,ee,ft,0)),X.wrap=0,ft>=X.w_size&&(q===0&&(Fe(X.head),X.strstart=0,X.block_start=0,X.insert=0),Ue=new u.Buf8(X.w_size),u.arraySet(Ue,ee,ft-X.w_size,X.w_size,0),ee=Ue,ft=X.w_size),Se=H.avail_in,Ce=H.next_in,Ee=H.input,H.avail_in=ft,H.next_in=0,H.input=ee,ae(X);X.lookahead>=U;){for(T=X.strstart,L=X.lookahead-(U-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[T+U-1])&X.hash_mask,X.prev[T&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=T,T++,--L;);X.strstart=T,X.lookahead=U-1,ae(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=U-1,X.match_available=0,H.next_in=Ce,H.input=Ee,H.avail_in=Se,X.wrap=q,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,a){o.exports=function(s,u){var l,f,d,h,S,b,p,j,N,A,w,I,R,k,G,re,Q,ie,U,le,oe,B,te,P,be;l=s.state,f=s.next_in,P=s.input,d=f+(s.avail_in-5),h=s.next_out,be=s.output,S=h-(u-s.avail_out),b=h+(s.avail_out-257),p=l.dmax,j=l.wsize,N=l.whave,A=l.wnext,w=l.window,I=l.hold,R=l.bits,k=l.lencode,G=l.distcode,re=(1<<l.lenbits)-1,Q=(1<<l.distbits)-1;e:do{R<15&&(I+=P[f++]<<R,R+=8,I+=P[f++]<<R,R+=8),ie=k[I&re];t:for(;;){if(I>>>=U=ie>>>24,R-=U,(U=ie>>>16&255)===0)be[h++]=65535&ie;else{if(!(16&U)){if((64&U)==0){ie=k[(65535&ie)+(I&(1<<U)-1)];continue t}if(32&U){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}le=65535&ie,(U&=15)&&(R<U&&(I+=P[f++]<<R,R+=8),le+=I&(1<<U)-1,I>>>=U,R-=U),R<15&&(I+=P[f++]<<R,R+=8,I+=P[f++]<<R,R+=8),ie=G[I&Q];n:for(;;){if(I>>>=U=ie>>>24,R-=U,!(16&(U=ie>>>16&255))){if((64&U)==0){ie=G[(65535&ie)+(I&(1<<U)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(oe=65535&ie,R<(U&=15)&&(I+=P[f++]<<R,(R+=8)<U&&(I+=P[f++]<<R,R+=8)),p<(oe+=I&(1<<U)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(I>>>=U,R-=U,(U=h-S)<oe){if(N<(U=oe-U)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(te=w,(B=0)===A){if(B+=j-U,U<le){for(le-=U;be[h++]=w[B++],--U;);B=h-oe,te=be}}else if(A<U){if(B+=j+A-U,(U-=A)<le){for(le-=U;be[h++]=w[B++],--U;);if(B=0,A<le){for(le-=U=A;be[h++]=w[B++],--U;);B=h-oe,te=be}}}else if(B+=A-U,U<le){for(le-=U;be[h++]=w[B++],--U;);B=h-oe,te=be}for(;2<le;)be[h++]=te[B++],be[h++]=te[B++],be[h++]=te[B++],le-=3;le&&(be[h++]=te[B++],1<le&&(be[h++]=te[B++]))}else{for(B=h-oe;be[h++]=be[B++],be[h++]=be[B++],be[h++]=be[B++],2<(le-=3););le&&(be[h++]=be[B++],1<le&&(be[h++]=be[B++]))}break}}break}}while(f<d&&h<b);f-=le=R>>3,I&=(1<<(R-=le<<3))-1,s.next_in=f,s.next_out=h,s.avail_in=f<d?d-f+5:5-(f-d),s.avail_out=h<b?b-h+257:257-(h-b),l.hold=I,l.bits=R}},{}],49:[function(t,o,a){var s=t("../utils/common"),u=t("./adler32"),l=t("./crc32"),f=t("./inffast"),d=t("./inftrees"),h=1,S=2,b=0,p=-2,j=1,N=852,A=592;function w(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(B){var te;return B&&B.state?(te=B.state,B.total_in=B.total_out=te.total=0,B.msg="",te.wrap&&(B.adler=1&te.wrap),te.mode=j,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new s.Buf32(N),te.distcode=te.distdyn=new s.Buf32(A),te.sane=1,te.back=-1,b):p}function k(B){var te;return B&&B.state?((te=B.state).wsize=0,te.whave=0,te.wnext=0,R(B)):p}function G(B,te){var P,be;return B&&B.state?(be=B.state,te<0?(P=0,te=-te):(P=1+(te>>4),te<48&&(te&=15)),te&&(te<8||15<te)?p:(be.window!==null&&be.wbits!==te&&(be.window=null),be.wrap=P,be.wbits=te,k(B))):p}function re(B,te){var P,be;return B?(be=new I,(B.state=be).window=null,(P=G(B,te))!==b&&(B.state=null),P):p}var Q,ie,U=!0;function le(B){if(U){var te;for(Q=new s.Buf32(512),ie=new s.Buf32(32),te=0;te<144;)B.lens[te++]=8;for(;te<256;)B.lens[te++]=9;for(;te<280;)B.lens[te++]=7;for(;te<288;)B.lens[te++]=8;for(d(h,B.lens,0,288,Q,0,B.work,{bits:9}),te=0;te<32;)B.lens[te++]=5;d(S,B.lens,0,32,ie,0,B.work,{bits:5}),U=!1}B.lencode=Q,B.lenbits=9,B.distcode=ie,B.distbits=5}function oe(B,te,P,be){var Ae,ge=B.state;return ge.window===null&&(ge.wsize=1<<ge.wbits,ge.wnext=0,ge.whave=0,ge.window=new s.Buf8(ge.wsize)),be>=ge.wsize?(s.arraySet(ge.window,te,P-ge.wsize,ge.wsize,0),ge.wnext=0,ge.whave=ge.wsize):(be<(Ae=ge.wsize-ge.wnext)&&(Ae=be),s.arraySet(ge.window,te,P-be,Ae,ge.wnext),(be-=Ae)?(s.arraySet(ge.window,te,P-be,be,0),ge.wnext=be,ge.whave=ge.wsize):(ge.wnext+=Ae,ge.wnext===ge.wsize&&(ge.wnext=0),ge.whave<ge.wsize&&(ge.whave+=Ae))),0}a.inflateReset=k,a.inflateReset2=G,a.inflateResetKeep=R,a.inflateInit=function(B){return re(B,15)},a.inflateInit2=re,a.inflate=function(B,te){var P,be,Ae,ge,xe,ke,Fe,J,C,Z,ne,ye,ae,M,z,fe,de,se,pe,Be,H,ee,X,T,L=0,q=new s.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return p;(P=B.state).mode===12&&(P.mode=13),xe=B.next_out,Ae=B.output,Fe=B.avail_out,ge=B.next_in,be=B.input,ke=B.avail_in,J=P.hold,C=P.bits,Z=ke,ne=Fe,ee=b;e:for(;;)switch(P.mode){case j:if(P.wrap===0){P.mode=13;break}for(;C<16;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(2&P.wrap&&J===35615){q[P.check=0]=255&J,q[1]=J>>>8&255,P.check=l(P.check,q,2,0),C=J=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&J)<<8)+(J>>8))%31){B.msg="incorrect header check",P.mode=30;break}if((15&J)!=8){B.msg="unknown compression method",P.mode=30;break}if(C-=4,H=8+(15&(J>>>=4)),P.wbits===0)P.wbits=H;else if(H>P.wbits){B.msg="invalid window size",P.mode=30;break}P.dmax=1<<H,B.adler=P.check=1,P.mode=512&J?10:12,C=J=0;break;case 2:for(;C<16;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(P.flags=J,(255&P.flags)!=8){B.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){B.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=J>>8&1),512&P.flags&&(q[0]=255&J,q[1]=J>>>8&255,P.check=l(P.check,q,2,0)),C=J=0,P.mode=3;case 3:for(;C<32;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}P.head&&(P.head.time=J),512&P.flags&&(q[0]=255&J,q[1]=J>>>8&255,q[2]=J>>>16&255,q[3]=J>>>24&255,P.check=l(P.check,q,4,0)),C=J=0,P.mode=4;case 4:for(;C<16;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}P.head&&(P.head.xflags=255&J,P.head.os=J>>8),512&P.flags&&(q[0]=255&J,q[1]=J>>>8&255,P.check=l(P.check,q,2,0)),C=J=0,P.mode=5;case 5:if(1024&P.flags){for(;C<16;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}P.length=J,P.head&&(P.head.extra_len=J),512&P.flags&&(q[0]=255&J,q[1]=J>>>8&255,P.check=l(P.check,q,2,0)),C=J=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(ke<(ye=P.length)&&(ye=ke),ye&&(P.head&&(H=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),s.arraySet(P.head.extra,be,ge,ye,H)),512&P.flags&&(P.check=l(P.check,be,ye,ge)),ke-=ye,ge+=ye,P.length-=ye),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(ke===0)break e;for(ye=0;H=be[ge+ye++],P.head&&H&&P.length<65536&&(P.head.name+=String.fromCharCode(H)),H&&ye<ke;);if(512&P.flags&&(P.check=l(P.check,be,ye,ge)),ke-=ye,ge+=ye,H)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(ke===0)break e;for(ye=0;H=be[ge+ye++],P.head&&H&&P.length<65536&&(P.head.comment+=String.fromCharCode(H)),H&&ye<ke;);if(512&P.flags&&(P.check=l(P.check,be,ye,ge)),ke-=ye,ge+=ye,H)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;C<16;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(J!==(65535&P.check)){B.msg="header crc mismatch",P.mode=30;break}C=J=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),B.adler=P.check=0,P.mode=12;break;case 10:for(;C<32;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}B.adler=P.check=w(J),C=J=0,P.mode=11;case 11:if(P.havedict===0)return B.next_out=xe,B.avail_out=Fe,B.next_in=ge,B.avail_in=ke,P.hold=J,P.bits=C,2;B.adler=P.check=1,P.mode=12;case 12:if(te===5||te===6)break e;case 13:if(P.last){J>>>=7&C,C-=7&C,P.mode=27;break}for(;C<3;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}switch(P.last=1&J,C-=1,3&(J>>>=1)){case 0:P.mode=14;break;case 1:if(le(P),P.mode=20,te!==6)break;J>>>=2,C-=2;break e;case 2:P.mode=17;break;case 3:B.msg="invalid block type",P.mode=30}J>>>=2,C-=2;break;case 14:for(J>>>=7&C,C-=7&C;C<32;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if((65535&J)!=(J>>>16^65535)){B.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&J,C=J=0,P.mode=15,te===6)break e;case 15:P.mode=16;case 16:if(ye=P.length){if(ke<ye&&(ye=ke),Fe<ye&&(ye=Fe),ye===0)break e;s.arraySet(Ae,be,ge,ye,xe),ke-=ye,ge+=ye,Fe-=ye,xe+=ye,P.length-=ye;break}P.mode=12;break;case 17:for(;C<14;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(P.nlen=257+(31&J),J>>>=5,C-=5,P.ndist=1+(31&J),J>>>=5,C-=5,P.ncode=4+(15&J),J>>>=4,C-=4,286<P.nlen||30<P.ndist){B.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;C<3;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}P.lens[Se[P.have++]]=7&J,J>>>=3,C-=3}for(;P.have<19;)P.lens[Se[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,X={bits:P.lenbits},ee=d(0,P.lens,0,19,P.lencode,0,P.work,X),P.lenbits=X.bits,ee){B.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;fe=(L=P.lencode[J&(1<<P.lenbits)-1])>>>16&255,de=65535&L,!((z=L>>>24)<=C);){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(de<16)J>>>=z,C-=z,P.lens[P.have++]=de;else{if(de===16){for(T=z+2;C<T;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(J>>>=z,C-=z,P.have===0){B.msg="invalid bit length repeat",P.mode=30;break}H=P.lens[P.have-1],ye=3+(3&J),J>>>=2,C-=2}else if(de===17){for(T=z+3;C<T;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}C-=z,H=0,ye=3+(7&(J>>>=z)),J>>>=3,C-=3}else{for(T=z+7;C<T;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}C-=z,H=0,ye=11+(127&(J>>>=z)),J>>>=7,C-=7}if(P.have+ye>P.nlen+P.ndist){B.msg="invalid bit length repeat",P.mode=30;break}for(;ye--;)P.lens[P.have++]=H}}if(P.mode===30)break;if(P.lens[256]===0){B.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,X={bits:P.lenbits},ee=d(h,P.lens,0,P.nlen,P.lencode,0,P.work,X),P.lenbits=X.bits,ee){B.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,X={bits:P.distbits},ee=d(S,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,X),P.distbits=X.bits,ee){B.msg="invalid distances set",P.mode=30;break}if(P.mode=20,te===6)break e;case 20:P.mode=21;case 21:if(6<=ke&&258<=Fe){B.next_out=xe,B.avail_out=Fe,B.next_in=ge,B.avail_in=ke,P.hold=J,P.bits=C,f(B,ne),xe=B.next_out,Ae=B.output,Fe=B.avail_out,ge=B.next_in,be=B.input,ke=B.avail_in,J=P.hold,C=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;fe=(L=P.lencode[J&(1<<P.lenbits)-1])>>>16&255,de=65535&L,!((z=L>>>24)<=C);){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(fe&&(240&fe)==0){for(se=z,pe=fe,Be=de;fe=(L=P.lencode[Be+((J&(1<<se+pe)-1)>>se)])>>>16&255,de=65535&L,!(se+(z=L>>>24)<=C);){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}J>>>=se,C-=se,P.back+=se}if(J>>>=z,C-=z,P.back+=z,P.length=de,fe===0){P.mode=26;break}if(32&fe){P.back=-1,P.mode=12;break}if(64&fe){B.msg="invalid literal/length code",P.mode=30;break}P.extra=15&fe,P.mode=22;case 22:if(P.extra){for(T=P.extra;C<T;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}P.length+=J&(1<<P.extra)-1,J>>>=P.extra,C-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;fe=(L=P.distcode[J&(1<<P.distbits)-1])>>>16&255,de=65535&L,!((z=L>>>24)<=C);){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if((240&fe)==0){for(se=z,pe=fe,Be=de;fe=(L=P.distcode[Be+((J&(1<<se+pe)-1)>>se)])>>>16&255,de=65535&L,!(se+(z=L>>>24)<=C);){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}J>>>=se,C-=se,P.back+=se}if(J>>>=z,C-=z,P.back+=z,64&fe){B.msg="invalid distance code",P.mode=30;break}P.offset=de,P.extra=15&fe,P.mode=24;case 24:if(P.extra){for(T=P.extra;C<T;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}P.offset+=J&(1<<P.extra)-1,J>>>=P.extra,C-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){B.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(Fe===0)break e;if(ye=ne-Fe,P.offset>ye){if((ye=P.offset-ye)>P.whave&&P.sane){B.msg="invalid distance too far back",P.mode=30;break}ae=ye>P.wnext?(ye-=P.wnext,P.wsize-ye):P.wnext-ye,ye>P.length&&(ye=P.length),M=P.window}else M=Ae,ae=xe-P.offset,ye=P.length;for(Fe<ye&&(ye=Fe),Fe-=ye,P.length-=ye;Ae[xe++]=M[ae++],--ye;);P.length===0&&(P.mode=21);break;case 26:if(Fe===0)break e;Ae[xe++]=P.length,Fe--,P.mode=21;break;case 27:if(P.wrap){for(;C<32;){if(ke===0)break e;ke--,J|=be[ge++]<<C,C+=8}if(ne-=Fe,B.total_out+=ne,P.total+=ne,ne&&(B.adler=P.check=P.flags?l(P.check,Ae,ne,xe-ne):u(P.check,Ae,ne,xe-ne)),ne=Fe,(P.flags?J:w(J))!==P.check){B.msg="incorrect data check",P.mode=30;break}C=J=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;C<32;){if(ke===0)break e;ke--,J+=be[ge++]<<C,C+=8}if(J!==(4294967295&P.total)){B.msg="incorrect length check",P.mode=30;break}C=J=0}P.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return p}return B.next_out=xe,B.avail_out=Fe,B.next_in=ge,B.avail_in=ke,P.hold=J,P.bits=C,(P.wsize||ne!==B.avail_out&&P.mode<30&&(P.mode<27||te!==4))&&oe(B,B.output,B.next_out,ne-B.avail_out)?(P.mode=31,-4):(Z-=B.avail_in,ne-=B.avail_out,B.total_in+=Z,B.total_out+=ne,P.total+=ne,P.wrap&&ne&&(B.adler=P.check=P.flags?l(P.check,Ae,ne,B.next_out-ne):u(P.check,Ae,ne,B.next_out-ne)),B.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(Z==0&&ne===0||te===4)&&ee===b&&(ee=-5),ee)},a.inflateEnd=function(B){if(!B||!B.state)return p;var te=B.state;return te.window&&(te.window=null),B.state=null,b},a.inflateGetHeader=function(B,te){var P;return B&&B.state?(2&(P=B.state).wrap)==0?p:((P.head=te).done=!1,b):p},a.inflateSetDictionary=function(B,te){var P,be=te.length;return B&&B.state?(P=B.state).wrap!==0&&P.mode!==11?p:P.mode===11&&u(1,te,be,0)!==P.check?-3:oe(B,te,be,be)?(P.mode=31,-4):(P.havedict=1,b):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,a){var s=t("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(h,S,b,p,j,N,A,w){var I,R,k,G,re,Q,ie,U,le,oe=w.bits,B=0,te=0,P=0,be=0,Ae=0,ge=0,xe=0,ke=0,Fe=0,J=0,C=null,Z=0,ne=new s.Buf16(16),ye=new s.Buf16(16),ae=null,M=0;for(B=0;B<=15;B++)ne[B]=0;for(te=0;te<p;te++)ne[S[b+te]]++;for(Ae=oe,be=15;1<=be&&ne[be]===0;be--);if(be<Ae&&(Ae=be),be===0)return j[N++]=20971520,j[N++]=20971520,w.bits=1,0;for(P=1;P<be&&ne[P]===0;P++);for(Ae<P&&(Ae=P),B=ke=1;B<=15;B++)if(ke<<=1,(ke-=ne[B])<0)return-1;if(0<ke&&(h===0||be!==1))return-1;for(ye[1]=0,B=1;B<15;B++)ye[B+1]=ye[B]+ne[B];for(te=0;te<p;te++)S[b+te]!==0&&(A[ye[S[b+te]]++]=te);if(Q=h===0?(C=ae=A,19):h===1?(C=u,Z-=257,ae=l,M-=257,256):(C=f,ae=d,-1),B=P,re=N,xe=te=J=0,k=-1,G=(Fe=1<<(ge=Ae))-1,h===1&&852<Fe||h===2&&592<Fe)return 1;for(;;){for(ie=B-xe,le=A[te]<Q?(U=0,A[te]):A[te]>Q?(U=ae[M+A[te]],C[Z+A[te]]):(U=96,0),I=1<<B-xe,P=R=1<<ge;j[re+(J>>xe)+(R-=I)]=ie<<24|U<<16|le|0,R!==0;);for(I=1<<B-1;J&I;)I>>=1;if(I!==0?(J&=I-1,J+=I):J=0,te++,--ne[B]==0){if(B===be)break;B=S[b+A[te]]}if(Ae<B&&(J&G)!==k){for(xe===0&&(xe=Ae),re+=P,ke=1<<(ge=B-xe);ge+xe<be&&!((ke-=ne[ge+xe])<=0);)ge++,ke<<=1;if(Fe+=1<<ge,h===1&&852<Fe||h===2&&592<Fe)return 1;j[k=J&G]=Ae<<24|ge<<16|re-N|0}}return J!==0&&(j[re+J]=B-xe<<24|64<<16|0),w.bits=Ae,0}},{"../utils/common":41}],51:[function(t,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,a){var s=t("../utils/common"),u=0,l=1;function f(L){for(var q=L.length;0<=--q;)L[q]=0}var d=0,h=29,S=256,b=S+1+h,p=30,j=19,N=2*b+1,A=15,w=16,I=7,R=256,k=16,G=17,re=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(2*(b+2));f(oe);var B=new Array(2*p);f(B);var te=new Array(512);f(te);var P=new Array(256);f(P);var be=new Array(h);f(be);var Ae,ge,xe,ke=new Array(p);function Fe(L,q,Se,Ce,Ee){this.static_tree=L,this.extra_bits=q,this.extra_base=Se,this.elems=Ce,this.max_length=Ee,this.has_stree=L&&L.length}function J(L,q){this.dyn_tree=L,this.max_code=0,this.stat_desc=q}function C(L){return L<256?te[L]:te[256+(L>>>7)]}function Z(L,q){L.pending_buf[L.pending++]=255&q,L.pending_buf[L.pending++]=q>>>8&255}function ne(L,q,Se){L.bi_valid>w-Se?(L.bi_buf|=q<<L.bi_valid&65535,Z(L,L.bi_buf),L.bi_buf=q>>w-L.bi_valid,L.bi_valid+=Se-w):(L.bi_buf|=q<<L.bi_valid&65535,L.bi_valid+=Se)}function ye(L,q,Se){ne(L,Se[2*q],Se[2*q+1])}function ae(L,q){for(var Se=0;Se|=1&L,L>>>=1,Se<<=1,0<--q;);return Se>>>1}function M(L,q,Se){var Ce,Ee,Ue=new Array(A+1),ft=0;for(Ce=1;Ce<=A;Ce++)Ue[Ce]=ft=ft+Se[Ce-1]<<1;for(Ee=0;Ee<=q;Ee++){var ot=L[2*Ee+1];ot!==0&&(L[2*Ee]=ae(Ue[ot]++,ot))}}function z(L){var q;for(q=0;q<b;q++)L.dyn_ltree[2*q]=0;for(q=0;q<p;q++)L.dyn_dtree[2*q]=0;for(q=0;q<j;q++)L.bl_tree[2*q]=0;L.dyn_ltree[2*R]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function fe(L){8<L.bi_valid?Z(L,L.bi_buf):0<L.bi_valid&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function de(L,q,Se,Ce){var Ee=2*q,Ue=2*Se;return L[Ee]<L[Ue]||L[Ee]===L[Ue]&&Ce[q]<=Ce[Se]}function se(L,q,Se){for(var Ce=L.heap[Se],Ee=Se<<1;Ee<=L.heap_len&&(Ee<L.heap_len&&de(q,L.heap[Ee+1],L.heap[Ee],L.depth)&&Ee++,!de(q,Ce,L.heap[Ee],L.depth));)L.heap[Se]=L.heap[Ee],Se=Ee,Ee<<=1;L.heap[Se]=Ce}function pe(L,q,Se){var Ce,Ee,Ue,ft,ot=0;if(L.last_lit!==0)for(;Ce=L.pending_buf[L.d_buf+2*ot]<<8|L.pending_buf[L.d_buf+2*ot+1],Ee=L.pending_buf[L.l_buf+ot],ot++,Ce===0?ye(L,Ee,q):(ye(L,(Ue=P[Ee])+S+1,q),(ft=Q[Ue])!==0&&ne(L,Ee-=be[Ue],ft),ye(L,Ue=C(--Ce),Se),(ft=ie[Ue])!==0&&ne(L,Ce-=ke[Ue],ft)),ot<L.last_lit;);ye(L,R,q)}function Be(L,q){var Se,Ce,Ee,Ue=q.dyn_tree,ft=q.stat_desc.static_tree,ot=q.stat_desc.has_stree,lt=q.stat_desc.elems,Nt=-1;for(L.heap_len=0,L.heap_max=N,Se=0;Se<lt;Se++)Ue[2*Se]!==0?(L.heap[++L.heap_len]=Nt=Se,L.depth[Se]=0):Ue[2*Se+1]=0;for(;L.heap_len<2;)Ue[2*(Ee=L.heap[++L.heap_len]=Nt<2?++Nt:0)]=1,L.depth[Ee]=0,L.opt_len--,ot&&(L.static_len-=ft[2*Ee+1]);for(q.max_code=Nt,Se=L.heap_len>>1;1<=Se;Se--)se(L,Ue,Se);for(Ee=lt;Se=L.heap[1],L.heap[1]=L.heap[L.heap_len--],se(L,Ue,1),Ce=L.heap[1],L.heap[--L.heap_max]=Se,L.heap[--L.heap_max]=Ce,Ue[2*Ee]=Ue[2*Se]+Ue[2*Ce],L.depth[Ee]=(L.depth[Se]>=L.depth[Ce]?L.depth[Se]:L.depth[Ce])+1,Ue[2*Se+1]=Ue[2*Ce+1]=Ee,L.heap[1]=Ee++,se(L,Ue,1),2<=L.heap_len;);L.heap[--L.heap_max]=L.heap[1],(function(Ot,Kt){var xn,Bt,pr,mn,Un,Vn,bn=Kt.dyn_tree,en=Kt.max_code,Hr=Kt.stat_desc.static_tree,jn=Kt.stat_desc.has_stree,Ln=Kt.stat_desc.extra_bits,kr=Kt.stat_desc.extra_base,on=Kt.stat_desc.max_length,pn=0;for(mn=0;mn<=A;mn++)Ot.bl_count[mn]=0;for(bn[2*Ot.heap[Ot.heap_max]+1]=0,xn=Ot.heap_max+1;xn<N;xn++)on<(mn=bn[2*bn[2*(Bt=Ot.heap[xn])+1]+1]+1)&&(mn=on,pn++),bn[2*Bt+1]=mn,en<Bt||(Ot.bl_count[mn]++,Un=0,kr<=Bt&&(Un=Ln[Bt-kr]),Vn=bn[2*Bt],Ot.opt_len+=Vn*(mn+Un),jn&&(Ot.static_len+=Vn*(Hr[2*Bt+1]+Un)));if(pn!==0){do{for(mn=on-1;Ot.bl_count[mn]===0;)mn--;Ot.bl_count[mn]--,Ot.bl_count[mn+1]+=2,Ot.bl_count[on]--,pn-=2}while(0<pn);for(mn=on;mn!==0;mn--)for(Bt=Ot.bl_count[mn];Bt!==0;)en<(pr=Ot.heap[--xn])||(bn[2*pr+1]!==mn&&(Ot.opt_len+=(mn-bn[2*pr+1])*bn[2*pr],bn[2*pr+1]=mn),Bt--)}})(L,q),M(Ue,Nt,L.bl_count)}function H(L,q,Se){var Ce,Ee,Ue=-1,ft=q[1],ot=0,lt=7,Nt=4;for(ft===0&&(lt=138,Nt=3),q[2*(Se+1)+1]=65535,Ce=0;Ce<=Se;Ce++)Ee=ft,ft=q[2*(Ce+1)+1],++ot<lt&&Ee===ft||(ot<Nt?L.bl_tree[2*Ee]+=ot:Ee!==0?(Ee!==Ue&&L.bl_tree[2*Ee]++,L.bl_tree[2*k]++):ot<=10?L.bl_tree[2*G]++:L.bl_tree[2*re]++,Ue=Ee,Nt=(ot=0)===ft?(lt=138,3):Ee===ft?(lt=6,3):(lt=7,4))}function ee(L,q,Se){var Ce,Ee,Ue=-1,ft=q[1],ot=0,lt=7,Nt=4;for(ft===0&&(lt=138,Nt=3),Ce=0;Ce<=Se;Ce++)if(Ee=ft,ft=q[2*(Ce+1)+1],!(++ot<lt&&Ee===ft)){if(ot<Nt)for(;ye(L,Ee,L.bl_tree),--ot!=0;);else Ee!==0?(Ee!==Ue&&(ye(L,Ee,L.bl_tree),ot--),ye(L,k,L.bl_tree),ne(L,ot-3,2)):ot<=10?(ye(L,G,L.bl_tree),ne(L,ot-3,3)):(ye(L,re,L.bl_tree),ne(L,ot-11,7));Ue=Ee,Nt=(ot=0)===ft?(lt=138,3):Ee===ft?(lt=6,3):(lt=7,4)}}f(ke);var X=!1;function T(L,q,Se,Ce){ne(L,(d<<1)+(Ce?1:0),3),(function(Ee,Ue,ft,ot){fe(Ee),Z(Ee,ft),Z(Ee,~ft),s.arraySet(Ee.pending_buf,Ee.window,Ue,ft,Ee.pending),Ee.pending+=ft})(L,q,Se)}a._tr_init=function(L){X||((function(){var q,Se,Ce,Ee,Ue,ft=new Array(A+1);for(Ee=Ce=0;Ee<h-1;Ee++)for(be[Ee]=Ce,q=0;q<1<<Q[Ee];q++)P[Ce++]=Ee;for(P[Ce-1]=Ee,Ee=Ue=0;Ee<16;Ee++)for(ke[Ee]=Ue,q=0;q<1<<ie[Ee];q++)te[Ue++]=Ee;for(Ue>>=7;Ee<p;Ee++)for(ke[Ee]=Ue<<7,q=0;q<1<<ie[Ee]-7;q++)te[256+Ue++]=Ee;for(Se=0;Se<=A;Se++)ft[Se]=0;for(q=0;q<=143;)oe[2*q+1]=8,q++,ft[8]++;for(;q<=255;)oe[2*q+1]=9,q++,ft[9]++;for(;q<=279;)oe[2*q+1]=7,q++,ft[7]++;for(;q<=287;)oe[2*q+1]=8,q++,ft[8]++;for(M(oe,b+1,ft),q=0;q<p;q++)B[2*q+1]=5,B[2*q]=ae(q,5);Ae=new Fe(oe,Q,S+1,b,A),ge=new Fe(B,ie,0,p,A),xe=new Fe(new Array(0),U,0,j,I)})(),X=!0),L.l_desc=new J(L.dyn_ltree,Ae),L.d_desc=new J(L.dyn_dtree,ge),L.bl_desc=new J(L.bl_tree,xe),L.bi_buf=0,L.bi_valid=0,z(L)},a._tr_stored_block=T,a._tr_flush_block=function(L,q,Se,Ce){var Ee,Ue,ft=0;0<L.level?(L.strm.data_type===2&&(L.strm.data_type=(function(ot){var lt,Nt=4093624447;for(lt=0;lt<=31;lt++,Nt>>>=1)if(1&Nt&&ot.dyn_ltree[2*lt]!==0)return u;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return l;for(lt=32;lt<S;lt++)if(ot.dyn_ltree[2*lt]!==0)return l;return u})(L)),Be(L,L.l_desc),Be(L,L.d_desc),ft=(function(ot){var lt;for(H(ot,ot.dyn_ltree,ot.l_desc.max_code),H(ot,ot.dyn_dtree,ot.d_desc.max_code),Be(ot,ot.bl_desc),lt=j-1;3<=lt&&ot.bl_tree[2*le[lt]+1]===0;lt--);return ot.opt_len+=3*(lt+1)+5+5+4,lt})(L),Ee=L.opt_len+3+7>>>3,(Ue=L.static_len+3+7>>>3)<=Ee&&(Ee=Ue)):Ee=Ue=Se+5,Se+4<=Ee&&q!==-1?T(L,q,Se,Ce):L.strategy===4||Ue===Ee?(ne(L,2+(Ce?1:0),3),pe(L,oe,B)):(ne(L,4+(Ce?1:0),3),(function(ot,lt,Nt,Ot){var Kt;for(ne(ot,lt-257,5),ne(ot,Nt-1,5),ne(ot,Ot-4,4),Kt=0;Kt<Ot;Kt++)ne(ot,ot.bl_tree[2*le[Kt]+1],3);ee(ot,ot.dyn_ltree,lt-1),ee(ot,ot.dyn_dtree,Nt-1)})(L,L.l_desc.max_code+1,L.d_desc.max_code+1,ft+1),pe(L,L.dyn_ltree,L.dyn_dtree)),z(L),Ce&&fe(L)},a._tr_tally=function(L,q,Se){return L.pending_buf[L.d_buf+2*L.last_lit]=q>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&q,L.pending_buf[L.l_buf+L.last_lit]=255&Se,L.last_lit++,q===0?L.dyn_ltree[2*Se]++:(L.matches++,q--,L.dyn_ltree[2*(P[Se]+S+1)]++,L.dyn_dtree[2*C(q)]++),L.last_lit===L.lit_bufsize-1},a._tr_align=function(L){ne(L,2,3),ye(L,R,oe),(function(q){q.bi_valid===16?(Z(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)})(L)}},{"../utils/common":41}],53:[function(t,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,a){(function(s){(function(u,l){if(!u.setImmediate){var f,d,h,S,b=1,p={},j=!1,N=u.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(u);A=A&&A.setTimeout?A:u,f={}.toString.call(u.process)==="[object process]"?function(k){Mr.nextTick(function(){I(k)})}:(function(){if(u.postMessage&&!u.importScripts){var k=!0,G=u.onmessage;return u.onmessage=function(){k=!1},u.postMessage("","*"),u.onmessage=G,k}})()?(S="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",R,!1):u.attachEvent("onmessage",R),function(k){u.postMessage(S+k,"*")}):u.MessageChannel?((h=new MessageChannel).port1.onmessage=function(k){I(k.data)},function(k){h.port2.postMessage(k)}):N&&"onreadystatechange"in N.createElement("script")?(d=N.documentElement,function(k){var G=N.createElement("script");G.onreadystatechange=function(){I(k),G.onreadystatechange=null,d.removeChild(G),G=null},d.appendChild(G)}):function(k){setTimeout(I,0,k)},A.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var G=new Array(arguments.length-1),re=0;re<G.length;re++)G[re]=arguments[re+1];var Q={callback:k,args:G};return p[b]=Q,f(b),b++},A.clearImmediate=w}function w(k){delete p[k]}function I(k){if(j)setTimeout(I,0,k);else{var G=p[k];if(G){j=!0;try{(function(re){var Q=re.callback,ie=re.args;switch(ie.length){case 0:Q();break;case 1:Q(ie[0]);break;case 2:Q(ie[0],ie[1]);break;case 3:Q(ie[0],ie[1],ie[2]);break;default:Q.apply(l,ie)}})(G)}finally{w(k),j=!1}}}}function R(k){k.source===u&&typeof k.data=="string"&&k.data.indexOf(S)===0&&I(+k.data.slice(S.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Gm)),Gm.exports}var q6=U6();const W6=Zv(q6);var Uf={exports:{}},Km,f2;function H6(){if(f2)return Km;f2=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(o,a){return r[a]}):t}return Km=e,Km}var d2;function G6(){if(d2)return Uf.exports;d2=1;var r=H6(),e=K1().Stream,t="    ";function o(d,h){typeof h!="object"&&(h={indent:h});var S=h.stream?new e:null,b="",p=!1,j=h.indent?h.indent===!0?t:h.indent:"",N=!0;function A(G){N?Mr.nextTick(G):G()}function w(G,re){if(re!==void 0&&(b+=re),G&&!p&&(S=S||new e,p=!0),G&&p){var Q=b;A(function(){S.emit("data",Q)}),b=""}}function I(G,re){l(w,u(G,j,j?1:0),re)}function R(){if(S){var G=b;A(function(){S.emit("data",G),S.emit("end"),S.readable=!1,S.emit("close")})}}function k(G){var re=G.encoding||"UTF-8",Q={version:"1.0",encoding:re};G.standalone&&(Q.standalone=G.standalone),I({"?xml":{_attr:Q}}),b=b.replace("/>","?>")}return A(function(){N=!1}),h.declaration&&k(h.declaration),d&&d.forEach?d.forEach(function(G,re){var Q;re+1===d.length&&(Q=R),I(G,Q)}):I(d,R),S?(S.readable=!0,S):b}function a(){var d=Array.prototype.slice.call(arguments),h={_elem:u(d)};return h.push=function(S){if(!this.append)throw new Error("not assigned to a parent!");var b=this,p=this._elem.indent;l(this.append,u(S,p,this._elem.icount+(p?1:0)),function(){b.append(!0)})},h.close=function(S){S!==void 0&&this.push(S),this.end&&this.end()},h}function s(d,h){return new Array(h||0).join(d||"")}function u(d,h,S){S=S||0;var b=s(h,S),p,j=d,N=!1;if(typeof d=="object"){var A=Object.keys(d);if(p=A[0],j=d[p],j&&j._elem)return j._elem.name=p,j._elem.icount=S,j._elem.indent=h,j._elem.indents=b,j._elem.interrupt=j,j._elem}var w=[],I=[],R;function k(G){var re=Object.keys(G);re.forEach(function(Q){w.push(f(Q,G[Q]))})}switch(typeof j){case"object":if(j===null)break;j._attr&&k(j._attr),j._cdata&&I.push(("<![CDATA["+j._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),j.forEach&&(R=!1,I.push(""),j.forEach(function(G){if(typeof G=="object"){var re=Object.keys(G)[0];re=="_attr"?k(G._attr):I.push(u(G,h,S+1))}else I.pop(),R=!0,I.push(r(G))}),R||I.push(""));break;default:I.push(r(j))}return{name:p,interrupt:N,attributes:w,content:I,icount:S,indents:b,indent:h}}function l(d,h,S){if(typeof h!="object")return d(!1,h);var b=h.interrupt?1:h.content.length;function p(){for(;h.content.length;){var N=h.content.shift();if(N!==void 0){if(j(N))return;l(d,N)}}d(!1,(b>1?h.indents:"")+(h.name?"</"+h.name+">":"")+(h.indent&&!S?`
`:"")),S&&S()}function j(N){return N.interrupt?(N.interrupt.append=d,N.interrupt.end=p,N.interrupt=!1,d(!0),!0):!1}if(d(!1,h.indents+(h.name?"<"+h.name:"")+(h.attributes.length?" "+h.attributes.join(" "):"")+(b?h.name?">":"":h.name?"/>":"")+(h.indent&&b>1?`
`:"")),!b)return d(!1,h.indent?`
`:"");j(h)||p()}function f(d,h){return d+'="'+r(h)+'"'}return Uf.exports=o,Uf.exports.element=Uf.exports.Element=a,Uf.exports}var K6=G6();const ho=Zv(K6),qf=0,Vm=32,V6=32,X6=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==V6)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const a=t.replace(/(..)/g,"$1 ").trim().split(" ").map(f=>parseInt(f,16));a.reverse();const u=r.slice(qf,Vm).map((f,d)=>f^a[d%a.length]),l=new Uint8Array(qf+u.length+Math.max(0,r.length-Vm));return l.set(r.slice(0,qf)),l.set(u,qf),l.set(r.slice(Vm),qf+u.length),l};class Y6{format(e,t={stack:[]}){const o=e.prepForXml(t);if(o)return o;throw Error("XMLComponent did not format correctly")}}class J6{replace(e,t,o){let a=e;return t.forEach((s,u)=>{a=a.replace(new RegExp(`{${s.fileName}}`,"g"),(o+u).toString())}),a}getMediaData(e,t){return t.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class Z6{replace(e,t){let o=e;for(const a of t)o=o.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return o}}class Q6{constructor(){kt(this,"formatter"),kt(this,"imageReplacer"),kt(this,"numberingReplacer"),this.formatter=new Y6,this.imageReplacer=new J6,this.numberingReplacer=new Z6}compile(e,t,o=[]){const a=new W6,s=this.xmlifyFile(e,t),u=new Map(Object.entries(s));for(const[,l]of u)if(Array.isArray(l))for(const f of l)a.file(f.path,f.data);else a.file(l.path,l.data);for(const l of o)a.file(l.path,l.data);for(const l of e.Media.Array)l.type!=="svg"?a.file(`word/media/${l.fileName}`,l.data):(a.file(`word/media/${l.fileName}`,l.data),a.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:f,fontKey:d}of e.FontTable.fontOptionsWithKey){const[h]=f.split(".");a.file(`word/fonts/${h}.odttf`,X6(l,d))}return a}xmlifyFile(e,t){const o=e.Document.Relationships.RelationshipCount+1,a=ho(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,u=ho(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(a,e.Media),f=this.imageReplacer.getMediaData(u,e.Media);return{Relationships:{data:(l.forEach((d,h)=>{e.Document.Relationships.createRelationship(o+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),ho(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(a,l,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=ho(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:ho(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:ho(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:ho(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,h)=>{const S=ho(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(S,e.Media).forEach((p,j)=>{d.Relationships.createRelationship(j,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:ho(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,h)=>{const S=ho(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(S,e.Media).forEach((p,j)=>{d.Relationships.createRelationship(j,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:ho(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((d,h)=>{const S=ho(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),b=this.imageReplacer.getMediaData(S,e.Media),p=this.imageReplacer.replace(S,b,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((d,h)=>{const S=ho(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),b=this.imageReplacer.getMediaData(S,e.Media),p=this.imageReplacer.replace(S,b,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:ho(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:ho(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:ho(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:ho(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:ho(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:ho(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const d=this.imageReplacer.replace(u,f,s);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(f.forEach((d,h)=>{e.Comments.Relationships.createRelationship(s+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),ho(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:ho(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:ho(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const eS={WITH_2_BLANKS:"  "},h2=r=>r===!0?eS.WITH_2_BLANKS:r===!1?void 0:r,D5=class ef{static pack(e,t,o){return Cb(this,arguments,function*(a,s,u,l=[]){return this.compiler.compile(a,h2(u),l).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,o=[]){return ef.pack(e,"string",t,o)}static toBuffer(e,t,o=[]){return ef.pack(e,"nodebuffer",t,o)}static toBase64String(e,t,o=[]){return ef.pack(e,"base64",t,o)}static toBlob(e,t,o=[]){return ef.pack(e,"blob",t,o)}static toArrayBuffer(e,t,o=[]){return ef.pack(e,"arraybuffer",t,o)}static toStream(e,t,o=[]){const a=new $6.Stream;return this.compiler.compile(e,h2(t),o).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(u=>{a.emit("data",u),a.emit("end")}),a}};kt(D5,"compiler",new Q6);let tS=D5;var ih={exports:{}},nS=ih.exports,p2;function rS(){return p2||(p2=1,(function(r,e){(function(t,o){o()})(nS,function(){function t(d,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function o(d,h,S){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){f(b.response,h,S)},b.onerror=function(){console.error("could not download file")},b.send()}function a(d){var h=new XMLHttpRequest;h.open("HEAD",d,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(h)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ld=="object"&&Ld.global===Ld?Ld:void 0,l=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,h,S){var b=u.URL||u.webkitURL,p=document.createElement("a");h=h||d.name||"download",p.download=h,p.rel="noopener",typeof d=="string"?(p.href=d,p.origin===location.origin?s(p):a(p.href)?o(d,h,S):s(p,p.target="_blank")):(p.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(d,h,S){if(h=h||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,S),h);else if(a(d))o(d,h,S);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,h,S,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return o(d,h,S);var p=d.type==="application/octet-stream",j=/constructor/i.test(u.HTMLElement)||u.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||p&&j||l)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var R=A.result;R=N?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=R:location=R,b=null},A.readAsDataURL(d)}else{var w=u.URL||u.webkitURL,I=w.createObjectURL(d);b?b.location=I:location.href=I,b=null,setTimeout(function(){w.revokeObjectURL(I)},4e4)}});u.saveAs=f.saveAs=f,r.exports=f})})(ih)),ih.exports}var iS=rS();function Si(r){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(r)}var Al=Uint8Array,ja=Uint16Array,t0=Int32Array,n0=new Al([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r0=new Al([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m2=new Al([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O5=function(r,e){for(var t=new ja(31),o=0;o<31;++o)t[o]=e+=1<<r[o-1];for(var a=new t0(t[30]),o=1;o<30;++o)for(var s=t[o];s<t[o+1];++s)a[s]=s-t[o]<<5|o;return{b:t,r:a}},F5=O5(n0,2),oS=F5.b,E1=F5.r;oS[28]=258,E1[258]=28;var sS=O5(r0,0),g2=sS.r,T1=new ja(32768);for(var Ki=0;Ki<32768;++Ki){var ru=(Ki&43690)>>1|(Ki&21845)<<1;ru=(ru&52428)>>2|(ru&13107)<<2,ru=(ru&61680)>>4|(ru&3855)<<4,T1[Ki]=((ru&65280)>>8|(ru&255)<<8)>>1}var Vf=(function(r,e,t){for(var o=r.length,a=0,s=new ja(e);a<o;++a)r[a]&&++s[r[a]-1];var u=new ja(e);for(a=1;a<e;++a)u[a]=u[a-1]+s[a-1]<<1;var l;if(t){l=new ja(1<<e);var f=15-e;for(a=0;a<o;++a)if(r[a])for(var d=a<<4|r[a],h=e-r[a],S=u[r[a]-1]++<<h,b=S|(1<<h)-1;S<=b;++S)l[T1[S]>>f]=d}else for(l=new ja(o),a=0;a<o;++a)r[a]&&(l[a]=T1[u[r[a]-1]++]>>15-r[a]);return l}),Ou=new Al(288);for(var Ki=0;Ki<144;++Ki)Ou[Ki]=8;for(var Ki=144;Ki<256;++Ki)Ou[Ki]=9;for(var Ki=256;Ki<280;++Ki)Ou[Ki]=7;for(var Ki=280;Ki<288;++Ki)Ou[Ki]=8;var ph=new Al(32);for(var Ki=0;Ki<32;++Ki)ph[Ki]=5;var aS=Vf(Ou,9,0),lS=Vf(ph,5,0),B5=function(r){return(r+7)/8|0},cS=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Al(r.subarray(e,t))},Lc=function(r,e,t){t<<=e&7;var o=e/8|0;r[o]|=t,r[o+1]|=t>>8},Wf=function(r,e,t){t<<=e&7;var o=e/8|0;r[o]|=t,r[o+1]|=t>>8,r[o+2]|=t>>16},Xm=function(r,e){for(var t=[],o=0;o<r.length;++o)r[o]&&t.push({s:o,f:r[o]});var a=t.length,s=t.slice();if(!a)return{t:z5,l:0};if(a==1){var u=new Al(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(G,re){return G.f-re.f}),t.push({s:-1,f:25001});var l=t[0],f=t[1],d=0,h=1,S=2;for(t[0]={s:-1,f:l.f+f.f,l,r:f};h!=a-1;)l=t[t[d].f<t[S].f?d++:S++],f=t[d!=h&&t[d].f<t[S].f?d++:S++],t[h++]={s:-1,f:l.f+f.f,l,r:f};for(var b=s[0].s,o=1;o<a;++o)s[o].s>b&&(b=s[o].s);var p=new ja(b+1),j=C1(t[h-1],p,0);if(j>e){var o=0,N=0,A=j-e,w=1<<A;for(s.sort(function(re,Q){return p[Q.s]-p[re.s]||re.f-Q.f});o<a;++o){var I=s[o].s;if(p[I]>e)N+=w-(1<<j-p[I]),p[I]=e;else break}for(N>>=A;N>0;){var R=s[o].s;p[R]<e?N-=1<<e-p[R]++-1:++o}for(;o>=0&&N;--o){var k=s[o].s;p[k]==e&&(--p[k],++N)}j=e}return{t:new Al(p),l:j}},C1=function(r,e,t){return r.s==-1?Math.max(C1(r.l,e,t+1),C1(r.r,e,t+1)):e[r.s]=t},y2=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ja(++e),o=0,a=r[0],s=1,u=function(f){t[o++]=f},l=1;l<=e;++l)if(r[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(a),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(a);s=1,a=r[l]}return{c:t.subarray(0,o),n:e}},Hf=function(r,e){for(var t=0,o=0;o<e.length;++o)t+=r[o]*e[o];return t},M5=function(r,e,t){var o=t.length,a=B5(e+2);r[a]=o&255,r[a+1]=o>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var s=0;s<o;++s)r[a+s+4]=t[s];return(a+4+o)*8},v2=function(r,e,t,o,a,s,u,l,f,d,h){Lc(e,h++,t),++a[256];for(var S=Xm(a,15),b=S.t,p=S.l,j=Xm(s,15),N=j.t,A=j.l,w=y2(b),I=w.c,R=w.n,k=y2(N),G=k.c,re=k.n,Q=new ja(19),ie=0;ie<I.length;++ie)++Q[I[ie]&31];for(var ie=0;ie<G.length;++ie)++Q[G[ie]&31];for(var U=Xm(Q,7),le=U.t,oe=U.l,B=19;B>4&&!le[m2[B-1]];--B);var te=d+5<<3,P=Hf(a,Ou)+Hf(s,ph)+u,be=Hf(a,b)+Hf(s,N)+u+14+3*B+Hf(Q,le)+2*Q[16]+3*Q[17]+7*Q[18];if(f>=0&&te<=P&&te<=be)return M5(e,h,r.subarray(f,f+d));var Ae,ge,xe,ke;if(Lc(e,h,1+(be<P)),h+=2,be<P){Ae=Vf(b,p,0),ge=b,xe=Vf(N,A,0),ke=N;var Fe=Vf(le,oe,0);Lc(e,h,R-257),Lc(e,h+5,re-1),Lc(e,h+10,B-4),h+=14;for(var ie=0;ie<B;++ie)Lc(e,h+3*ie,le[m2[ie]]);h+=3*B;for(var J=[I,G],C=0;C<2;++C)for(var Z=J[C],ie=0;ie<Z.length;++ie){var ne=Z[ie]&31;Lc(e,h,Fe[ne]),h+=le[ne],ne>15&&(Lc(e,h,Z[ie]>>5&127),h+=Z[ie]>>12)}}else Ae=aS,ge=Ou,xe=lS,ke=ph;for(var ie=0;ie<l;++ie){var ye=o[ie];if(ye>255){var ne=ye>>18&31;Wf(e,h,Ae[ne+257]),h+=ge[ne+257],ne>7&&(Lc(e,h,ye>>23&31),h+=n0[ne]);var ae=ye&31;Wf(e,h,xe[ae]),h+=ke[ae],ae>3&&(Wf(e,h,ye>>5&8191),h+=r0[ae])}else Wf(e,h,Ae[ye]),h+=ge[ye]}return Wf(e,h,Ae[256]),h+ge[256]},uS=new t0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z5=new Al(0),fS=function(r,e,t,o,a,s){var u=s.z||r.length,l=new Al(o+u+5*(1+Math.ceil(u/7e3))+a),f=l.subarray(o,l.length-a),d=s.l,h=(s.r||0)&7;if(e){h&&(f[0]=s.r>>3);for(var S=uS[e-1],b=S>>13,p=S&8191,j=(1<<t)-1,N=s.p||new ja(32768),A=s.h||new ja(j+1),w=Math.ceil(t/3),I=2*w,R=function(H){return(r[H]^r[H+1]<<w^r[H+2]<<I)&j},k=new t0(25e3),G=new ja(288),re=new ja(32),Q=0,ie=0,U=s.i||0,le=0,oe=s.w||0,B=0;U+2<u;++U){var te=R(U),P=U&32767,be=A[te];if(N[P]=be,A[te]=P,oe<=U){var Ae=u-U;if((Q>7e3||le>24576)&&(Ae>423||!d)){h=v2(r,f,0,k,G,re,ie,le,B,U-B,h),le=Q=ie=0,B=U;for(var ge=0;ge<286;++ge)G[ge]=0;for(var ge=0;ge<30;++ge)re[ge]=0}var xe=2,ke=0,Fe=p,J=P-be&32767;if(Ae>2&&te==R(U-J))for(var C=Math.min(b,Ae)-1,Z=Math.min(32767,U),ne=Math.min(258,Ae);J<=Z&&--Fe&&P!=be;){if(r[U+xe]==r[U+xe-J]){for(var ye=0;ye<ne&&r[U+ye]==r[U+ye-J];++ye);if(ye>xe){if(xe=ye,ke=J,ye>C)break;for(var ae=Math.min(J,ye-2),M=0,ge=0;ge<ae;++ge){var z=U-J+ge&32767,fe=N[z],de=z-fe&32767;de>M&&(M=de,be=z)}}}P=be,be=N[P],J+=P-be&32767}if(ke){k[le++]=268435456|E1[xe]<<18|g2[ke];var se=E1[xe]&31,pe=g2[ke]&31;ie+=n0[se]+r0[pe],++G[257+se],++re[pe],oe=U+xe,++Q}else k[le++]=r[U],++G[r[U]]}}for(U=Math.max(U,oe);U<u;++U)k[le++]=r[U],++G[r[U]];h=v2(r,f,d,k,G,re,ie,le,B,U-B,h),d||(s.r=h&7|f[h/8|0]<<3,h-=7,s.h=A,s.p=N,s.i=U,s.w=oe)}else{for(var U=s.w||0;U<u+d;U+=65535){var Be=U+65535;Be>=u&&(f[h/8|0]=d,Be=u),h=M5(f,h+1,r.subarray(U,Be))}s.i=u}return cS(l,0,o+B5(h)+a)},$5=function(){var r=1,e=0;return{p:function(t){for(var o=r,a=e,s=t.length|0,u=0;u!=s;){for(var l=Math.min(u+2655,s);u<l;++u)a+=o+=t[u];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}r=o,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},dS=function(r,e,t,o,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),u=new Al(s.length+r.length);u.set(s),u.set(r,s.length),r=u,a.w=s.length}return fS(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,o,a)},U5=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},hS=function(r,e){var t=e.level,o=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=o<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=$5();a.p(e.dictionary),U5(r,2,a.d())}};function L1(r,e){e||(e={});var t=$5();t.p(r);var o=dS(r,e,e.dictionary?6:2,4);return hS(o,e),U5(o,o.length-4,t.d()),o}var pS=typeof TextDecoder<"u"&&new TextDecoder,mS=0;try{pS.decode(z5,{stream:!0}),mS=1}catch{}function gS(r){if(Array.isArray(r))return r}function yS(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var o,a,s,u,l=[],f=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(f=(o=s.call(t)).done)&&(l.push(o.value),l.length!==e);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return l}}function w2(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=Array(e);t<e;t++)o[t]=r[t];return o}function vS(r,e){if(r){if(typeof r=="string")return w2(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w2(r,e):void 0}}function wS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2(r,e){return gS(r)||yS(r,e)||vS(r,e)||wS()}function b2(r,e="utf8"){return new TextDecoder(e).decode(r)}const xS=new TextEncoder;function bS(r){return xS.encode(r)}const _S=1024*8,SS=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),Ym={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class i0{constructor(e=_S,t={}){_i(this,"buffer");_i(this,"byteLength");_i(this,"byteOffset");_i(this,"length");_i(this,"offset");_i(this,"lastWrittenByte");_i(this,"littleEndian");_i(this,"_data");_i(this,"_mark");_i(this,"_marks");let o=!1;typeof e=="number"?e=new ArrayBuffer(e):(o=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,s=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof i0)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),o?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const o=(this.offset+e)*2,a=new Uint8Array(o);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=o,this.byteLength=o,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const o=Ym[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+o);if(this.littleEndian===SS&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+o));l.reverse();const f=new Ym[t](l.buffer);return this.offset+=o,f.reverse(),f}const u=new Ym[t](s);return this.offset+=o,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let o=0;o<e;o++)t+=this.readChar();return t}readUtf8(e=1){return b2(this.readBytes(e))}decodeText(e=1,t="utf8"){return b2(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(bS(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kf(r){let e=r.length;for(;--e>=0;)r[e]=0}const kS=3,AS=258,q5=29,NS=256,ES=NS+1+q5,W5=30,TS=512,CS=new Array((ES+2)*2);kf(CS);const LS=new Array(W5*2);kf(LS);const RS=new Array(TS);kf(RS);const IS=new Array(AS-kS+1);kf(IS);const jS=new Array(q5);kf(jS);const PS=new Array(W5);kf(PS);const DS=(r,e,t,o)=>{let a=r&65535|0,s=r>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[o++]|0,s=s+a|0;while(--u);a%=65521,s%=65521}return a|s<<16|0};var R1=DS;const OS=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},FS=new Uint32Array(OS()),BS=(r,e,t,o)=>{const a=FS,s=o+t;r^=-1;for(let u=o;u<s;u++)r=r>>>8^a[(r^e[u])&255];return r^-1};var Xl=BS,I1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const MS=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var zS=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const o in t)MS(t,o)&&(r[o]=t[o])}}return r},$S=r=>{let e=0;for(let o=0,a=r.length;o<a;o++)e+=r[o].length;const t=new Uint8Array(e);for(let o=0,a=0,s=r.length;o<s;o++){let u=r[o];t.set(u,a),a+=u.length}return t},G5={assign:zS,flattenChunks:$S};let K5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K5=!1}const Zf=new Uint8Array(256);for(let r=0;r<256;r++)Zf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Zf[254]=Zf[254]=1;var US=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,o,a,s,u=r.length,l=0;for(a=0;a<u;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<u&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(t=65536+(t-55296<<10)+(o-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<u&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(t=65536+(t-55296<<10)+(o-56320),a++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const qS=(r,e)=>{if(e<65534&&r.subarray&&K5)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let o=0;o<e;o++)t+=String.fromCharCode(r[o]);return t};var WS=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let o,a;const s=new Array(t*2);for(a=0,o=0;o<t;){let u=r[o++];if(u<128){s[a++]=u;continue}let l=Zf[u];if(l>4){s[a++]=65533,o+=l-1;continue}for(u&=l===2?31:l===3?15:7;l>1&&o<t;)u=u<<6|r[o++]&63,l--;if(l>1){s[a++]=65533;continue}u<65536?s[a++]=u:(u-=65536,s[a++]=55296|u>>10&1023,s[a++]=56320|u&1023)}return qS(s,a)},HS=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Zf[r[t]]>e?t:e},j1={string2buf:US,buf2string:WS,utf8border:HS};function GS(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var KS=GS;const qd=16209,VS=16191;var XS=function(e,t){let o,a,s,u,l,f,d,h,S,b,p,j,N,A,w,I,R,k,G,re,Q,ie,U,le;const oe=e.state;o=e.next_in,U=e.input,a=o+(e.avail_in-5),s=e.next_out,le=e.output,u=s-(t-e.avail_out),l=s+(e.avail_out-257),f=oe.dmax,d=oe.wsize,h=oe.whave,S=oe.wnext,b=oe.window,p=oe.hold,j=oe.bits,N=oe.lencode,A=oe.distcode,w=(1<<oe.lenbits)-1,I=(1<<oe.distbits)-1;e:do{j<15&&(p+=U[o++]<<j,j+=8,p+=U[o++]<<j,j+=8),R=N[p&w];t:for(;;){if(k=R>>>24,p>>>=k,j-=k,k=R>>>16&255,k===0)le[s++]=R&65535;else if(k&16){G=R&65535,k&=15,k&&(j<k&&(p+=U[o++]<<j,j+=8),G+=p&(1<<k)-1,p>>>=k,j-=k),j<15&&(p+=U[o++]<<j,j+=8,p+=U[o++]<<j,j+=8),R=A[p&I];n:for(;;){if(k=R>>>24,p>>>=k,j-=k,k=R>>>16&255,k&16){if(re=R&65535,k&=15,j<k&&(p+=U[o++]<<j,j+=8,j<k&&(p+=U[o++]<<j,j+=8)),re+=p&(1<<k)-1,re>f){e.msg="invalid distance too far back",oe.mode=qd;break e}if(p>>>=k,j-=k,k=s-u,re>k){if(k=re-k,k>h&&oe.sane){e.msg="invalid distance too far back",oe.mode=qd;break e}if(Q=0,ie=b,S===0){if(Q+=d-k,k<G){G-=k;do le[s++]=b[Q++];while(--k);Q=s-re,ie=le}}else if(S<k){if(Q+=d+S-k,k-=S,k<G){G-=k;do le[s++]=b[Q++];while(--k);if(Q=0,S<G){k=S,G-=k;do le[s++]=b[Q++];while(--k);Q=s-re,ie=le}}}else if(Q+=S-k,k<G){G-=k;do le[s++]=b[Q++];while(--k);Q=s-re,ie=le}for(;G>2;)le[s++]=ie[Q++],le[s++]=ie[Q++],le[s++]=ie[Q++],G-=3;G&&(le[s++]=ie[Q++],G>1&&(le[s++]=ie[Q++]))}else{Q=s-re;do le[s++]=le[Q++],le[s++]=le[Q++],le[s++]=le[Q++],G-=3;while(G>2);G&&(le[s++]=le[Q++],G>1&&(le[s++]=le[Q++]))}}else if((k&64)===0){R=A[(R&65535)+(p&(1<<k)-1)];continue n}else{e.msg="invalid distance code",oe.mode=qd;break e}break}}else if((k&64)===0){R=N[(R&65535)+(p&(1<<k)-1)];continue t}else if(k&32){oe.mode=VS;break e}else{e.msg="invalid literal/length code",oe.mode=qd;break e}break}}while(o<a&&s<l);G=j>>3,o-=G,j-=G<<3,p&=(1<<j)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=s<l?257+(l-s):257-(s-l),oe.hold=p,oe.bits=j};const Yu=15,_2=852,S2=592,k2=0,Jm=1,A2=2,YS=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JS=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ZS=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QS=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),e8=(r,e,t,o,a,s,u,l)=>{const f=l.bits;let d=0,h=0,S=0,b=0,p=0,j=0,N=0,A=0,w=0,I=0,R,k,G,re,Q,ie=null,U;const le=new Uint16Array(Yu+1),oe=new Uint16Array(Yu+1);let B=null,te,P,be;for(d=0;d<=Yu;d++)le[d]=0;for(h=0;h<o;h++)le[e[t+h]]++;for(p=f,b=Yu;b>=1&&le[b]===0;b--);if(p>b&&(p=b),b===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(S=1;S<b&&le[S]===0;S++);for(p<S&&(p=S),A=1,d=1;d<=Yu;d++)if(A<<=1,A-=le[d],A<0)return-1;if(A>0&&(r===k2||b!==1))return-1;for(oe[1]=0,d=1;d<Yu;d++)oe[d+1]=oe[d]+le[d];for(h=0;h<o;h++)e[t+h]!==0&&(u[oe[e[t+h]]++]=h);if(r===k2?(ie=B=u,U=20):r===Jm?(ie=YS,B=JS,U=257):(ie=ZS,B=QS,U=0),I=0,h=0,d=S,Q=s,j=p,N=0,G=-1,w=1<<p,re=w-1,r===Jm&&w>_2||r===A2&&w>S2)return 1;for(;;){te=d-N,u[h]+1<U?(P=0,be=u[h]):u[h]>=U?(P=B[u[h]-U],be=ie[u[h]-U]):(P=96,be=0),R=1<<d-N,k=1<<j,S=k;do k-=R,a[Q+(I>>N)+k]=te<<24|P<<16|be|0;while(k!==0);for(R=1<<d-1;I&R;)R>>=1;if(R!==0?(I&=R-1,I+=R):I=0,h++,--le[d]===0){if(d===b)break;d=e[t+u[h]]}if(d>p&&(I&re)!==G){for(N===0&&(N=p),Q+=S,j=d-N,A=1<<j;j+N<b&&(A-=le[j+N],!(A<=0));)j++,A<<=1;if(w+=1<<j,r===Jm&&w>_2||r===A2&&w>S2)return 1;G=I&re,a[G]=p<<24|j<<16|Q-s|0}}return I!==0&&(a[Q+I]=d-N<<24|64<<16|0),l.bits=p,0};var Xf=e8;const t8=0,V5=1,X5=2,{Z_FINISH:N2,Z_BLOCK:n8,Z_TREES:Wd,Z_OK:Fu,Z_STREAM_END:r8,Z_NEED_DICT:i8,Z_STREAM_ERROR:tl,Z_DATA_ERROR:Y5,Z_MEM_ERROR:J5,Z_BUF_ERROR:o8,Z_DEFLATED:E2}=H5,Eh=16180,T2=16181,C2=16182,L2=16183,R2=16184,I2=16185,j2=16186,P2=16187,D2=16188,O2=16189,mh=16190,Rc=16191,Zm=16192,F2=16193,Qm=16194,B2=16195,M2=16196,z2=16197,$2=16198,Hd=16199,Gd=16200,U2=16201,q2=16202,W2=16203,H2=16204,G2=16205,e1=16206,K2=16207,V2=16208,eo=16209,Z5=16210,Q5=16211,s8=852,a8=592,l8=15,c8=l8,X2=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function u8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zu=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Eh||e.mode>Q5?1:0},ew=r=>{if(zu(r))return tl;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Eh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(s8),e.distcode=e.distdyn=new Int32Array(a8),e.sane=1,e.back=-1,Fu},tw=r=>{if(zu(r))return tl;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,ew(r)},nw=(r,e)=>{let t;if(zu(r))return tl;const o=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?tl:(o.window!==null&&o.wbits!==e&&(o.window=null),o.wrap=t,o.wbits=e,tw(r))},rw=(r,e)=>{if(!r)return tl;const t=new u8;r.state=t,t.strm=r,t.window=null,t.mode=Eh;const o=nw(r,e);return o!==Fu&&(r.state=null),o},f8=r=>rw(r,c8);let Y2=!0,t1,n1;const d8=r=>{if(Y2){t1=new Int32Array(512),n1=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Xf(V5,r.lens,0,288,t1,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Xf(X5,r.lens,0,32,n1,0,r.work,{bits:5}),Y2=!1}r.lencode=t1,r.lenbits=9,r.distcode=n1,r.distbits=5},iw=(r,e,t,o)=>{let a;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),o>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>o&&(a=o),s.window.set(e.subarray(t-o,t-o+a),s.wnext),o-=a,o?(s.window.set(e.subarray(t-o,t),0),s.wnext=o,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},h8=(r,e)=>{let t,o,a,s,u,l,f,d,h,S,b,p,j,N,A=0,w,I,R,k,G,re,Q,ie;const U=new Uint8Array(4);let le,oe;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zu(r)||!r.output||!r.input&&r.avail_in!==0)return tl;t=r.state,t.mode===Rc&&(t.mode=Zm),u=r.next_out,a=r.output,f=r.avail_out,s=r.next_in,o=r.input,l=r.avail_in,d=t.hold,h=t.bits,S=l,b=f,ie=Fu;e:for(;;)switch(t.mode){case Eh:if(t.wrap===0){t.mode=Zm;break}for(;h<16;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,U[0]=d&255,U[1]=d>>>8&255,t.check=Xl(t.check,U,2,0),d=0,h=0,t.mode=T2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=eo;break}if((d&15)!==E2){r.msg="unknown compression method",t.mode=eo;break}if(d>>>=4,h-=4,Q=(d&15)+8,t.wbits===0&&(t.wbits=Q),Q>15||Q>t.wbits){r.msg="invalid window size",t.mode=eo;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?O2:Rc,d=0,h=0;break;case T2:for(;h<16;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(t.flags=d,(t.flags&255)!==E2){r.msg="unknown compression method",t.mode=eo;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=eo;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,t.check=Xl(t.check,U,2,0)),d=0,h=0,t.mode=C2;case C2:for(;h<32;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,U[2]=d>>>16&255,U[3]=d>>>24&255,t.check=Xl(t.check,U,4,0)),d=0,h=0,t.mode=L2;case L2:for(;h<16;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,t.check=Xl(t.check,U,2,0)),d=0,h=0,t.mode=R2;case R2:if(t.flags&1024){for(;h<16;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,t.check=Xl(t.check,U,2,0)),d=0,h=0}else t.head&&(t.head.extra=null);t.mode=I2;case I2:if(t.flags&1024&&(p=t.length,p>l&&(p=l),p&&(t.head&&(Q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(o.subarray(s,s+p),Q)),t.flags&512&&t.wrap&4&&(t.check=Xl(t.check,o,p,s)),l-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=j2;case j2:if(t.flags&2048){if(l===0)break e;p=0;do Q=o[s+p++],t.head&&Q&&t.length<65536&&(t.head.name+=String.fromCharCode(Q));while(Q&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Xl(t.check,o,p,s)),l-=p,s+=p,Q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=P2;case P2:if(t.flags&4096){if(l===0)break e;p=0;do Q=o[s+p++],t.head&&Q&&t.length<65536&&(t.head.comment+=String.fromCharCode(Q));while(Q&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Xl(t.check,o,p,s)),l-=p,s+=p,Q)break e}else t.head&&(t.head.comment=null);t.mode=D2;case D2:if(t.flags&512){for(;h<16;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=eo;break}d=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Rc;break;case O2:for(;h<32;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}r.adler=t.check=X2(d),d=0,h=0,t.mode=mh;case mh:if(t.havedict===0)return r.next_out=u,r.avail_out=f,r.next_in=s,r.avail_in=l,t.hold=d,t.bits=h,i8;r.adler=t.check=1,t.mode=Rc;case Rc:if(e===n8||e===Wd)break e;case Zm:if(t.last){d>>>=h&7,h-=h&7,t.mode=e1;break}for(;h<3;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}switch(t.last=d&1,d>>>=1,h-=1,d&3){case 0:t.mode=F2;break;case 1:if(d8(t),t.mode=Hd,e===Wd){d>>>=2,h-=2;break e}break;case 2:t.mode=M2;break;case 3:r.msg="invalid block type",t.mode=eo}d>>>=2,h-=2;break;case F2:for(d>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=eo;break}if(t.length=d&65535,d=0,h=0,t.mode=Qm,e===Wd)break e;case Qm:t.mode=B2;case B2:if(p=t.length,p){if(p>l&&(p=l),p>f&&(p=f),p===0)break e;a.set(o.subarray(s,s+p),u),l-=p,s+=p,f-=p,u+=p,t.length-=p;break}t.mode=Rc;break;case M2:for(;h<14;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(t.nlen=(d&31)+257,d>>>=5,h-=5,t.ndist=(d&31)+1,d>>>=5,h-=5,t.ncode=(d&15)+4,d>>>=4,h-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=eo;break}t.have=0,t.mode=z2;case z2:for(;t.have<t.ncode;){for(;h<3;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}t.lens[B[t.have++]]=d&7,d>>>=3,h-=3}for(;t.have<19;)t.lens[B[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,le={bits:t.lenbits},ie=Xf(t8,t.lens,0,19,t.lencode,0,t.work,le),t.lenbits=le.bits,ie){r.msg="invalid code lengths set",t.mode=eo;break}t.have=0,t.mode=$2;case $2:for(;t.have<t.nlen+t.ndist;){for(;A=t.lencode[d&(1<<t.lenbits)-1],w=A>>>24,I=A>>>16&255,R=A&65535,!(w<=h);){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(R<16)d>>>=w,h-=w,t.lens[t.have++]=R;else{if(R===16){for(oe=w+2;h<oe;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(d>>>=w,h-=w,t.have===0){r.msg="invalid bit length repeat",t.mode=eo;break}Q=t.lens[t.have-1],p=3+(d&3),d>>>=2,h-=2}else if(R===17){for(oe=w+3;h<oe;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}d>>>=w,h-=w,Q=0,p=3+(d&7),d>>>=3,h-=3}else{for(oe=w+7;h<oe;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}d>>>=w,h-=w,Q=0,p=11+(d&127),d>>>=7,h-=7}if(t.have+p>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=eo;break}for(;p--;)t.lens[t.have++]=Q}}if(t.mode===eo)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=eo;break}if(t.lenbits=9,le={bits:t.lenbits},ie=Xf(V5,t.lens,0,t.nlen,t.lencode,0,t.work,le),t.lenbits=le.bits,ie){r.msg="invalid literal/lengths set",t.mode=eo;break}if(t.distbits=6,t.distcode=t.distdyn,le={bits:t.distbits},ie=Xf(X5,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,le),t.distbits=le.bits,ie){r.msg="invalid distances set",t.mode=eo;break}if(t.mode=Hd,e===Wd)break e;case Hd:t.mode=Gd;case Gd:if(l>=6&&f>=258){r.next_out=u,r.avail_out=f,r.next_in=s,r.avail_in=l,t.hold=d,t.bits=h,XS(r,b),u=r.next_out,a=r.output,f=r.avail_out,s=r.next_in,o=r.input,l=r.avail_in,d=t.hold,h=t.bits,t.mode===Rc&&(t.back=-1);break}for(t.back=0;A=t.lencode[d&(1<<t.lenbits)-1],w=A>>>24,I=A>>>16&255,R=A&65535,!(w<=h);){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(I&&(I&240)===0){for(k=w,G=I,re=R;A=t.lencode[re+((d&(1<<k+G)-1)>>k)],w=A>>>24,I=A>>>16&255,R=A&65535,!(k+w<=h);){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}d>>>=k,h-=k,t.back+=k}if(d>>>=w,h-=w,t.back+=w,t.length=R,I===0){t.mode=G2;break}if(I&32){t.back=-1,t.mode=Rc;break}if(I&64){r.msg="invalid literal/length code",t.mode=eo;break}t.extra=I&15,t.mode=U2;case U2:if(t.extra){for(oe=t.extra;h<oe;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=q2;case q2:for(;A=t.distcode[d&(1<<t.distbits)-1],w=A>>>24,I=A>>>16&255,R=A&65535,!(w<=h);){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if((I&240)===0){for(k=w,G=I,re=R;A=t.distcode[re+((d&(1<<k+G)-1)>>k)],w=A>>>24,I=A>>>16&255,R=A&65535,!(k+w<=h);){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}d>>>=k,h-=k,t.back+=k}if(d>>>=w,h-=w,t.back+=w,I&64){r.msg="invalid distance code",t.mode=eo;break}t.offset=R,t.extra=I&15,t.mode=W2;case W2:if(t.extra){for(oe=t.extra;h<oe;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=eo;break}t.mode=H2;case H2:if(f===0)break e;if(p=b-f,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=eo;break}p>t.wnext?(p-=t.wnext,j=t.wsize-p):j=t.wnext-p,p>t.length&&(p=t.length),N=t.window}else N=a,j=u-t.offset,p=t.length;p>f&&(p=f),f-=p,t.length-=p;do a[u++]=N[j++];while(--p);t.length===0&&(t.mode=Gd);break;case G2:if(f===0)break e;a[u++]=t.length,f--,t.mode=Gd;break;case e1:if(t.wrap){for(;h<32;){if(l===0)break e;l--,d|=o[s++]<<h,h+=8}if(b-=f,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?Xl(t.check,a,b,u-b):R1(t.check,a,b,u-b)),b=f,t.wrap&4&&(t.flags?d:X2(d))!==t.check){r.msg="incorrect data check",t.mode=eo;break}d=0,h=0}t.mode=K2;case K2:if(t.wrap&&t.flags){for(;h<32;){if(l===0)break e;l--,d+=o[s++]<<h,h+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=eo;break}d=0,h=0}t.mode=V2;case V2:ie=r8;break e;case eo:ie=Y5;break e;case Z5:return J5;case Q5:default:return tl}return r.next_out=u,r.avail_out=f,r.next_in=s,r.avail_in=l,t.hold=d,t.bits=h,(t.wsize||b!==r.avail_out&&t.mode<eo&&(t.mode<e1||e!==N2))&&iw(r,r.output,r.next_out,b-r.avail_out),S-=r.avail_in,b-=r.avail_out,r.total_in+=S,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?Xl(t.check,a,b,r.next_out-b):R1(t.check,a,b,r.next_out-b)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Rc?128:0)+(t.mode===Hd||t.mode===Qm?256:0),(S===0&&b===0||e===N2)&&ie===Fu&&(ie=o8),ie},p8=r=>{if(zu(r))return tl;let e=r.state;return e.window&&(e.window=null),r.state=null,Fu},m8=(r,e)=>{if(zu(r))return tl;const t=r.state;return(t.wrap&2)===0?tl:(t.head=e,e.done=!1,Fu)},g8=(r,e)=>{const t=e.length;let o,a,s;return zu(r)||(o=r.state,o.wrap!==0&&o.mode!==mh)?tl:o.mode===mh&&(a=1,a=R1(a,e,t,0),a!==o.check)?Y5:(s=iw(r,e,t,t),s?(o.mode=Z5,J5):(o.havedict=1,Fu))};var y8=tw,v8=nw,w8=ew,x8=f8,b8=rw,_8=h8,S8=p8,k8=m8,A8=g8,N8="pako inflate (from Nodeca project)",jc={inflateReset:y8,inflateReset2:v8,inflateResetKeep:w8,inflateInit:x8,inflateInit2:b8,inflate:_8,inflateEnd:S8,inflateGetHeader:k8,inflateSetDictionary:A8,inflateInfo:N8};function E8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var T8=E8;const ow=Object.prototype.toString,{Z_NO_FLUSH:C8,Z_FINISH:L8,Z_OK:Qf,Z_STREAM_END:r1,Z_NEED_DICT:i1,Z_STREAM_ERROR:R8,Z_DATA_ERROR:J2,Z_MEM_ERROR:I8}=H5;function ld(r){this.options=G5.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new KS,this.strm.avail_out=0;let t=jc.inflateInit2(this.strm,e.windowBits);if(t!==Qf)throw new Error(I1[t]);if(this.header=new T8,jc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=j1.string2buf(e.dictionary):ow.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=jc.inflateSetDictionary(this.strm,e.dictionary),t!==Qf)))throw new Error(I1[t])}ld.prototype.push=function(r,e){const t=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let s,u,l;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?L8:C8,ow.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(o),t.next_out=0,t.avail_out=o),s=jc.inflate(t,u),s===i1&&a&&(s=jc.inflateSetDictionary(t,a),s===Qf?s=jc.inflate(t,u):s===J2&&(s=i1));t.avail_in>0&&s===r1&&t.state.wrap>0&&r[t.next_in]!==0;)jc.inflateReset(t),s=jc.inflate(t,u);switch(s){case R8:case J2:case i1:case I8:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===r1))if(this.options.to==="string"){let f=j1.utf8border(t.output,t.next_out),d=t.next_out-f,h=j1.buf2string(t.output,f);t.next_out=d,t.avail_out=o-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Qf&&l===0)){if(s===r1)return s=jc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ld.prototype.onData=function(r){this.chunks.push(r)};ld.prototype.onEnd=function(r){r===Qf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=G5.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function j8(r,e){const t=new ld(e);if(t.push(r),t.err)throw t.msg||I1[t.err];return t.result}var P8=ld,D8=j8,O8={Inflate:P8,inflate:D8};const{Inflate:F8,inflate:B8}=O8;var Z2=F8,M8=B8;const sw=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;sw[r]=e}const Q2=4294967295;function z8(r,e,t){let o=r;for(let a=0;a<t;a++)o=sw[(o^e[a])&255]^o>>>8;return o}function $8(r,e){return(z8(Q2,r,e)^Q2)>>>0}function ev(r,e,t){const o=r.readUint32(),a=$8(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==o)throw new Error(`CRC mismatch for chunk ${t}. Expected ${o}, found ${a}`)}function aw(r,e,t){for(let o=0;o<t;o++)e[o]=r[o]}function lw(r,e,t,o){let a=0;for(;a<o;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-o]&255}function cw(r,e,t,o){let a=0;if(t.length===0)for(;a<o;a++)e[a]=r[a];else for(;a<o;a++)e[a]=r[a]+t[a]&255}function uw(r,e,t,o,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<o;s++)e[s]=r[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<o;s++)e[s]=r[s]+(e[s-a]+t[s]>>1)&255}}function fw(r,e,t,o,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<o;s++)e[s]=r[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=r[s]+t[s]&255;for(;s<o;s++)e[s]=r[s]+U8(e[s-a],t[s],t[s-a])&255}}function U8(r,e,t){const o=r+e-t,a=Math.abs(o-r),s=Math.abs(o-e),u=Math.abs(o-t);return a<=s&&a<=u?r:s<=u?e:t}function q8(r,e,t,o,a,s){switch(r){case 0:aw(e,t,a);break;case 1:lw(e,t,a,s);break;case 2:cw(e,t,o,a);break;case 3:uw(e,t,o,a,s);break;case 4:fw(e,t,o,a,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const W8=new Uint16Array([255]),H8=new Uint8Array(W8.buffer),G8=H8[0]===255;function K8(r){const{data:e,width:t,height:o,channels:a,depth:s}=r,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,f=new Uint8Array(o*t*l);let d=0;for(let h=0;h<7;h++){const S=u[h],b=Math.ceil((t-S.x)/S.xStep),p=Math.ceil((o-S.y)/S.yStep);if(b<=0||p<=0)continue;const j=b*l,N=new Uint8Array(j);for(let A=0;A<p;A++){const w=e[d++],I=e.subarray(d,d+j);d+=j;const R=new Uint8Array(j);q8(w,I,R,N,j,l),N.set(R);for(let k=0;k<b;k++){const G=S.x+k*S.xStep,re=S.y+A*S.yStep;if(!(G>=t||re>=o))for(let Q=0;Q<l;Q++)f[(re*t+G)*l+Q]=R[k*l+Q]}}}if(s===16){const h=new Uint16Array(f.buffer);if(G8)for(let S=0;S<h.length;S++)h[S]=V8(h[S]);return h}else return f}function V8(r){return(r&255)<<8|r>>8&255}const X8=new Uint16Array([255]),Y8=new Uint8Array(X8.buffer),J8=Y8[0]===255,Z8=new Uint8Array(0);function tv(r){const{data:e,width:t,height:o,channels:a,depth:s}=r,u=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*t),f=new Uint8Array(o*l);let d=Z8,h=0,S,b;for(let p=0;p<o;p++){switch(S=e.subarray(h+1,h+1+l),b=f.subarray(p*l,(p+1)*l),e[h]){case 0:aw(S,b,l);break;case 1:lw(S,b,l,u);break;case 2:cw(S,b,d,l);break;case 3:uw(S,b,d,l,u);break;case 4:fw(S,b,d,l,u);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}d=b,h+=l+1}if(s===16){const p=new Uint16Array(f.buffer);if(J8)for(let j=0;j<p.length;j++)p[j]=Q8(p[j]);return p}else return f}function Q8(r){return(r&255)<<8|r>>8&255}const oh=Uint8Array.of(137,80,78,71,13,10,26,10);function nv(r){if(!ek(r.readBytes(oh.length)))throw new Error("wrong PNG signature")}function ek(r){if(r.length<oh.length)return!1;for(let e=0;e<oh.length;e++)if(r[e]!==oh[e])return!1;return!0}const tk="tEXt",nk=0,dw=new TextDecoder("latin1");function rk(r){if(ok(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const ik=/^[\u0000-\u00FF]*$/;function ok(r){if(!ik.test(r))throw new Error("invalid latin1 text")}function sk(r,e,t){const o=hw(e);r[o]=ak(e,t-o.length-1)}function hw(r){for(r.mark();r.readByte()!==nk;);const e=r.offset;r.reset();const t=dw.decode(r.readBytes(e-r.offset-1));return r.skip(1),rk(t),t}function ak(r,e){return dw.decode(r.readBytes(e))}const Ia={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},o1={UNKNOWN:-1,DEFLATE:0},rv={UNKNOWN:-1,ADAPTIVE:0},s1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Kd={NONE:0,BACKGROUND:1,PREVIOUS:2},a1={SOURCE:0,OVER:1};class lk extends i0{constructor(t,o={}){super(t);_i(this,"_checkCrc");_i(this,"_inflator");_i(this,"_png");_i(this,"_apng");_i(this,"_end");_i(this,"_hasPalette");_i(this,"_palette");_i(this,"_hasTransparency");_i(this,"_transparency");_i(this,"_compressionMethod");_i(this,"_filterMethod");_i(this,"_interlaceMethod");_i(this,"_colorType");_i(this,"_isAnimated");_i(this,"_numberOfFrames");_i(this,"_numberOfPlays");_i(this,"_frames");_i(this,"_writingDataChunks");const{checkCrc:a=!1}=o;this._checkCrc=a,this._inflator=new Z2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=o1.UNKNOWN,this._filterMethod=rv.UNKNOWN,this._interlaceMethod=s1.UNKNOWN,this._colorType=Ia.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(nv(this);!this._end;){const t=this.readUint32(),o=this.readChars(4);this.decodeChunk(t,o)}return this.decodeImage(),this._png}decodeApng(){for(nv(this);!this._end;){const t=this.readUint32(),o=this.readChars(4);this.decodeApngChunk(t,o)}return this.decodeApngImage(),this._apng}decodeChunk(t,o){const a=this.offset;switch(o){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case tk:sk(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?ev(this,t+4,o):this.skip(4)}decodeApngChunk(t,o){const a=this.offset;switch(o!=="fdAT"&&o!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),o){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,o),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?ev(this,t+4,o):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=ck(this.readUint8());const o=this.readUint8();this._colorType=o;let a;switch(o){case Ia.GREYSCALE:a=1;break;case Ia.TRUECOLOUR:a=3;break;case Ia.INDEXED_COLOUR:a=1;break;case Ia.GREYSCALE_ALPHA:a=2;break;case Ia.TRUECOLOUR_ALPHA:a=4;break;case Ia.UNKNOWN:default:throw new Error(`Unknown color type: ${o}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==o1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const o=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<o;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const o=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let o=t,a=this.offset+this.byteOffset;if(a+=4,o-=4,this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ia.GREYSCALE:case Ia.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let o=0;o<t/2;o++)this._transparency[o]=this.readUint16();break}case Ia.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let o=0;for(;o<t;o++){const a=this.readByte();this._palette[o].push(a)}for(;o<this._palette.length;o++)this._palette[o].push(255);break}case Ia.UNKNOWN:case Ia.GREYSCALE_ALPHA:case Ia.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const o=hw(this),a=this.readUint8();if(a!==o1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(t-o.length-2);this._png.iccEmbeddedProfile={name:o,profile:M8(s)}}decodepHYs(){const t=this.readUint32(),o=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:o,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const o={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=tv({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)o.data=a.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(a,s,o),this.addFrameDataToCanvas(o,a)}this._apng.frames.push(o)}}return this._apng}disposeFrame(t,o,a){switch(t.disposeOp){case Kd.NONE:break;case Kd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let u=0;u<this._png.width;u++){const l=(s*t.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)a.data[l+f]=0}break;case Kd.PREVIOUS:a.data.set(o.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,o){const a=1<<this._png.depth,s=(u,l)=>{const f=((u+o.yOffset)*this._png.width+o.xOffset+l)*this._png.channels,d=(u*o.width+l)*this._png.channels;return{index:f,frameIndex:d}};switch(o.blendOp){case a1.SOURCE:for(let u=0;u<o.height;u++)for(let l=0;l<o.width;l++){const{index:f,frameIndex:d}=s(u,l);for(let h=0;h<this._png.channels;h++)t.data[f+h]=o.data[d+h]}break;case a1.OVER:for(let u=0;u<o.height;u++)for(let l=0;l<o.width;l++){const{index:f,frameIndex:d}=s(u,l);for(let h=0;h<this._png.channels;h++){const S=o.data[d+this._png.channels-1]/a,b=h%(this._png.channels-1)===0?1:o.data[d+h],p=Math.floor(S*b+(1-S)*t.data[f+h]);t.data[f+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var o;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((o=this._frames)==null?void 0:o.at(0)).data:this._inflator.result;if(this._filterMethod!==rv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===s1.NO_INTERLACE)this._png.data=tv({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===s1.ADAM7)this._png.data=K8({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,o=this._frames.at(-1);o?o.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Kd.NONE,blendOp:a1.SOURCE,data:t}),this._inflator=new Z2,this._writingDataChunks=!1}}function ck(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var iv;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(iv||(iv={}));function uk(r,e){return new lk(r,e).decode()}var fr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function l1(){fr.console&&typeof fr.console.log=="function"&&fr.console.log.apply(fr.console,arguments)}var Di={log:l1,warn:function(r){fr.console&&(typeof fr.console.warn=="function"?fr.console.warn.apply(fr.console,arguments):l1.call(null,arguments))},error:function(r){fr.console&&(typeof fr.console.error=="function"?fr.console.error.apply(fr.console,arguments):l1(r))}};function c1(r,e,t){var o=new XMLHttpRequest;o.open("GET",r),o.responseType="blob",o.onload=function(){Lu(o.response,e,t)},o.onerror=function(){Di.error("could not download file")},o.send()}function ov(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Vd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Lu=fr.saveAs||((typeof window>"u"?"undefined":Si(window))!=="object"||window!==fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var o=fr.URL||fr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?ov(a.href)?c1(r,e,t):Vd(a,a.target="_blank"):Vd(a)):(a.href=o.createObjectURL(r),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){Vd(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(ov(r))c1(r,e,t);else{var o=document.createElement("a");o.href=r,o.target="_blank",setTimeout(function(){Vd(o)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Si(s)!=="object"&&(Di.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof r=="string")return c1(r,e,t);var a=r.type==="application/octet-stream",s=/constructor/i.test(fr.HTMLElement)||fr.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s)&&(typeof FileReader>"u"?"undefined":Si(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=u?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=h:location=h,o=null},l.readAsDataURL(r)}else{var f=fr.URL||fr.webkitURL,d=f.createObjectURL(r);o?o.location=d:location.href=d,o=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function pw(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],o=0;o<t.length;o++){var a=t[o].re,s=t[o].process,u=a.exec(r);u&&(e=s(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+l+f+d}}var sh=fr.atob.bind(fr),sv=fr.btoa.bind(fr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function u1(r,e){var t=r[0],o=r[1],a=r[2],s=r[3];t=Ls(t,o,a,s,e[0],7,-680876936),s=Ls(s,t,o,a,e[1],12,-389564586),a=Ls(a,s,t,o,e[2],17,606105819),o=Ls(o,a,s,t,e[3],22,-1044525330),t=Ls(t,o,a,s,e[4],7,-176418897),s=Ls(s,t,o,a,e[5],12,1200080426),a=Ls(a,s,t,o,e[6],17,-1473231341),o=Ls(o,a,s,t,e[7],22,-45705983),t=Ls(t,o,a,s,e[8],7,1770035416),s=Ls(s,t,o,a,e[9],12,-1958414417),a=Ls(a,s,t,o,e[10],17,-42063),o=Ls(o,a,s,t,e[11],22,-1990404162),t=Ls(t,o,a,s,e[12],7,1804603682),s=Ls(s,t,o,a,e[13],12,-40341101),a=Ls(a,s,t,o,e[14],17,-1502002290),t=Rs(t,o=Ls(o,a,s,t,e[15],22,1236535329),a,s,e[1],5,-165796510),s=Rs(s,t,o,a,e[6],9,-1069501632),a=Rs(a,s,t,o,e[11],14,643717713),o=Rs(o,a,s,t,e[0],20,-373897302),t=Rs(t,o,a,s,e[5],5,-701558691),s=Rs(s,t,o,a,e[10],9,38016083),a=Rs(a,s,t,o,e[15],14,-660478335),o=Rs(o,a,s,t,e[4],20,-405537848),t=Rs(t,o,a,s,e[9],5,568446438),s=Rs(s,t,o,a,e[14],9,-1019803690),a=Rs(a,s,t,o,e[3],14,-187363961),o=Rs(o,a,s,t,e[8],20,1163531501),t=Rs(t,o,a,s,e[13],5,-1444681467),s=Rs(s,t,o,a,e[2],9,-51403784),a=Rs(a,s,t,o,e[7],14,1735328473),t=Is(t,o=Rs(o,a,s,t,e[12],20,-1926607734),a,s,e[5],4,-378558),s=Is(s,t,o,a,e[8],11,-2022574463),a=Is(a,s,t,o,e[11],16,1839030562),o=Is(o,a,s,t,e[14],23,-35309556),t=Is(t,o,a,s,e[1],4,-1530992060),s=Is(s,t,o,a,e[4],11,1272893353),a=Is(a,s,t,o,e[7],16,-155497632),o=Is(o,a,s,t,e[10],23,-1094730640),t=Is(t,o,a,s,e[13],4,681279174),s=Is(s,t,o,a,e[0],11,-358537222),a=Is(a,s,t,o,e[3],16,-722521979),o=Is(o,a,s,t,e[6],23,76029189),t=Is(t,o,a,s,e[9],4,-640364487),s=Is(s,t,o,a,e[12],11,-421815835),a=Is(a,s,t,o,e[15],16,530742520),t=js(t,o=Is(o,a,s,t,e[2],23,-995338651),a,s,e[0],6,-198630844),s=js(s,t,o,a,e[7],10,1126891415),a=js(a,s,t,o,e[14],15,-1416354905),o=js(o,a,s,t,e[5],21,-57434055),t=js(t,o,a,s,e[12],6,1700485571),s=js(s,t,o,a,e[3],10,-1894986606),a=js(a,s,t,o,e[10],15,-1051523),o=js(o,a,s,t,e[1],21,-2054922799),t=js(t,o,a,s,e[8],6,1873313359),s=js(s,t,o,a,e[15],10,-30611744),a=js(a,s,t,o,e[6],15,-1560198380),o=js(o,a,s,t,e[13],21,1309151649),t=js(t,o,a,s,e[4],6,-145523070),s=js(s,t,o,a,e[11],10,-1120210379),a=js(a,s,t,o,e[2],15,718787259),o=js(o,a,s,t,e[9],21,-343485551),r[0]=su(t,r[0]),r[1]=su(o,r[1]),r[2]=su(a,r[2]),r[3]=su(s,r[3])}function Th(r,e,t,o,a,s){return e=su(su(e,r),su(o,s)),su(e<<a|e>>>32-a,t)}function Ls(r,e,t,o,a,s,u){return Th(e&t|~e&o,r,e,a,s,u)}function Rs(r,e,t,o,a,s,u){return Th(e&o|t&~o,r,e,a,s,u)}function Is(r,e,t,o,a,s,u){return Th(e^t^o,r,e,a,s,u)}function js(r,e,t,o,a,s,u){return Th(t^(e|~o),r,e,a,s,u)}function mw(r){var e,t=r.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)u1(o,fk(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(u1(o,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,u1(o,a),o}function fk(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var av="0123456789abcdef".split("");function dk(r){for(var e="",t=0;t<4;t++)e+=av[r>>8*t+4&15]+av[r>>8*t&15];return e}function hk(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function P1(r){return mw(r).map(hk).join("")}var pk=(function(r){for(var e=0;e<r.length;e++)r[e]=dk(r[e]);return r.join("")})(mw("hello"))!="5d41402abc4b2a76b9719d911017c592";function su(r,e){if(pk){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D1(r,e){var t,o,a,s;if(r!==t){for(var u=(a=r,s=1+(256/r.length|0),new Array(s+1).join(a)),l=[],f=0;f<256;f++)l[f]=f;var d=0;for(f=0;f<256;f++){var h=l[f];d=(d+h+u.charCodeAt(f))%256,l[f]=l[d],l[d]=h}t=r,o=l}else l=o;var S=e.length,b=0,p=0,j="";for(f=0;f<S;f++)p=(p+(h=l[b=(b+1)%256]))%256,l[b]=l[p],l[p]=h,u=l[(l[b]+l[p])%256],j+=String.fromCharCode(e.charCodeAt(f)^u);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lv={print:4,modify:8,copy:16,"annot-forms":32};function tf(r,e,t,o){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(lv.perm!==void 0)throw new Error("Invalid permission: "+l);a+=lv[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^a)),this.encryptionKey=P1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=D1(this.encryptionKey,this.padding)}function nf(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,o=0;o<t;o++){var a=r.charCodeAt(o);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[o]}return e}function cv(r){if(Si(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,o,a){if(a=a||!1,typeof t!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[o,!!a],s},this.unsubscribe=function(t){for(var o in e)if(e[o][t])return delete e[o][t],Object.keys(e[o]).length===0&&delete e[o],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[t]){var u=e[t][s];try{u[0].apply(r,o)}catch(l){fr.console&&Di.error("jsPDF PubSub Error",l.message,l)}u[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gh(r){if(!(this instanceof gh))return new gh(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function gw(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Ru(r,e,t,o,a){if(!(this instanceof Ru))return new Ru(r,e,t,o,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,gw.call(this,o,a)}function of(r,e,t,o,a){if(!(this instanceof of))return new of(r,e,t,o,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,gw.call(this,o,a)}function Fn(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],s=arguments[3],u=[],l=1,f=16,d="S",h=null;Si(r=r||{})==="object"&&(t=r.orientation,o=r.unit||o,a=r.format||a,s=r.compress||r.compressPdf||s,(h=r.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),u=r.filters||(s===!0?["FlateEncode"]:u),o=o||"mm",t=(""+(t||"P")).toLowerCase();var S=r.putOnlyUsedFonts||!1,b={},p={internal:{},__private__:{}};p.__private__.PubSub=cv;var j="1.3",N=p.__private__.getPdfVersion=function(){return j};p.__private__.setPdfVersion=function(O){j=O};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return A};var w=p.__private__.getPageFormat=function(O){return A[O]};a=a||"a4";var I="compat",R="advanced",k=I;function G(){this.saveGraphicsState(),ee(new Nn(xn,0,0,-xn,0,ls()*xn).toString()+" cm"),this.setFontSize(this.getFontSize()/xn),d="n",k=R}function re(){this.restoreGraphicsState(),d="S",k=I}var Q=p.__private__.combineFontStyleAndFontWeight=function(O,me){if(O=="bold"&&me=="normal"||O=="bold"&&me==400||O=="normal"&&me=="italic"||O=="bold"&&me=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return me&&(O=me==400||me==="normal"?O==="italic"?"italic":"normal":me!=700&&me!=="bold"||O!=="normal"?(me==700?"bold":me)+""+O:"bold"),O};p.advancedAPI=function(O){var me=k===I;return me&&G.call(this),typeof O!="function"||(O(this),me&&re.call(this)),this},p.compatAPI=function(O){var me=k===R;return me&&re.call(this),typeof O!="function"||(O(this),me&&G.call(this)),this},p.isAdvancedAPI=function(){return k===R};var ie,U=function(O){if(k!==R)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},le=p.roundToPrecision=p.__private__.roundToPrecision=function(O,me){var je=e||me;if(isNaN(O)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(je).replace(/0+$/,"")};ie=p.hpf=p.__private__.hpf=typeof f=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return le(O,f)}:f==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return le(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return le(O,16)};var oe=p.f2=p.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return le(O,2)},B=p.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return le(O,3)},te=p.scale=p.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return k===I?O*xn:k===R?O:void 0},P=function(O){return te((function(me){return k===I?ls()-me:k===R?me:void 0})(O))};p.__private__.setPrecision=p.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var be,Ae="00000000000000000000000000000000",ge=p.__private__.getFileId=function(){return Ae},xe=p.__private__.setFileId=function(O){return Ae=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(mi=new tf(h.userPermissions,h.userPassword,h.ownerPassword,Ae)),Ae};p.setFileId=function(O){return xe(O),this},p.getFileId=function(){return ge()};var ke=p.__private__.convertDateToPDFDate=function(O){var me=O.getTimezoneOffset(),je=me<0?"+":"-",qe=Math.floor(Math.abs(me/60)),Ze=Math.abs(me%60),xt=[je,ne(qe),"'",ne(Ze),"'"].join("");return["D:",O.getFullYear(),ne(O.getMonth()+1),ne(O.getDate()),ne(O.getHours()),ne(O.getMinutes()),ne(O.getSeconds()),xt].join("")},Fe=p.__private__.convertPDFDateToDate=function(O){var me=parseInt(O.substr(2,4),10),je=parseInt(O.substr(6,2),10)-1,qe=parseInt(O.substr(8,2),10),Ze=parseInt(O.substr(10,2),10),xt=parseInt(O.substr(12,2),10),wt=parseInt(O.substr(14,2),10);return new Date(me,je,qe,Ze,xt,wt,0)},J=p.__private__.setCreationDate=function(O){var me;if(O===void 0&&(O=new Date),O instanceof Date)me=ke(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");me=O}return be=me},C=p.__private__.getCreationDate=function(O){var me=be;return O==="jsDate"&&(me=Fe(be)),me};p.setCreationDate=function(O){return J(O),this},p.getCreationDate=function(O){return C(O)};var Z,ne=p.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},ye=p.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},ae=0,M=[],z=[],fe=0,de=[],se=[],pe=!1,Be=z;p.__private__.setCustomOutputDestination=function(O){pe=!0,Be=O};var H=function(O){pe||(Be=O)};p.__private__.resetCustomOutputDestination=function(){pe=!1,Be=z};var ee=p.__private__.out=function(O){return O=O.toString(),fe+=O.length+1,Be.push(O),Be},X=p.__private__.write=function(O){return ee(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},T=p.__private__.getArrayBuffer=function(O){for(var me=O.length,je=new ArrayBuffer(me),qe=new Uint8Array(je);me--;)qe[me]=O.charCodeAt(me);return je},L=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return L};var q=r.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(O){return q=k===R?O/xn:O,this};var Se,Ce=p.__private__.getFontSize=p.getFontSize=function(){return k===I?q:q*xn},Ee=r.R2L||!1;p.__private__.setR2L=p.setR2L=function(O){return Ee=O,this},p.__private__.getR2L=p.getR2L=function(){return Ee};var Ue,ft=p.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))Se=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Se=O}else Se=parseInt(O,10)};p.__private__.getZoomMode=function(){return Se};var ot,lt=p.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Ue=O};p.__private__.getPageMode=function(){return Ue};var Nt=p.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');ot=O};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(O,me,je){return ft(O),Nt(me),lt(je),this};var Ot={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(O){if(Object.keys(Ot).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ot[O]},p.__private__.getDocumentProperties=function(){return Ot},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(O){for(var me in Ot)Ot.hasOwnProperty(me)&&O[me]&&(Ot[me]=O[me]);return this},p.__private__.setDocumentProperty=function(O,me){if(Object.keys(Ot).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ot[O]=me};var Kt,xn,Bt,pr,mn,Un={},Vn={},bn=[],en={},Hr={},jn={},Ln={},kr=null,on=0,pn=[],zr=new cv(p),_s=r.hotfixes||[],ao={},ko={},Mo=[],Nn=function O(me,je,qe,Ze,xt,wt){if(!(this instanceof O))return new O(me,je,qe,Ze,xt,wt);isNaN(me)&&(me=1),isNaN(je)&&(je=0),isNaN(qe)&&(qe=0),isNaN(Ze)&&(Ze=1),isNaN(xt)&&(xt=0),isNaN(wt)&&(wt=0),this._matrix=[me,je,qe,Ze,xt,wt]};Object.defineProperty(Nn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Nn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Nn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Nn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Nn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Nn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Nn.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Nn.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Nn.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Nn.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Nn.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Nn.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Nn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Nn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Nn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Nn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Nn.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ie).join(O)},Nn.prototype.multiply=function(O){var me=O.sx*this.sx+O.shy*this.shx,je=O.sx*this.shy+O.shy*this.sy,qe=O.shx*this.sx+O.sy*this.shx,Ze=O.shx*this.shy+O.sy*this.sy,xt=O.tx*this.sx+O.ty*this.shx+this.tx,wt=O.tx*this.shy+O.ty*this.sy+this.ty;return new Nn(me,je,qe,Ze,xt,wt)},Nn.prototype.decompose=function(){var O=this.sx,me=this.shy,je=this.shx,qe=this.sy,Ze=this.tx,xt=this.ty,wt=Math.sqrt(O*O+me*me),fn=(O/=wt)*je+(me/=wt)*qe;je-=O*fn,qe-=me*fn;var wn=Math.sqrt(je*je+qe*qe);return fn/=wn,O*(qe/=wn)<me*(je/=wn)&&(O=-O,me=-me,fn=-fn,wt=-wt),{scale:new Nn(wt,0,0,wn,0,0),translate:new Nn(1,0,0,1,Ze,xt),rotate:new Nn(O,me,-me,O,0,0),skew:new Nn(1,0,fn,1,0,0)}},Nn.prototype.toString=function(O){return this.join(" ")},Nn.prototype.inversed=function(){var O=this.sx,me=this.shy,je=this.shx,qe=this.sy,Ze=this.tx,xt=this.ty,wt=1/(O*qe-me*je),fn=qe*wt,wn=-me*wt,tr=-je*wt,ir=O*wt;return new Nn(fn,wn,tr,ir,-fn*Ze-tr*xt,-wn*Ze-ir*xt)},Nn.prototype.applyToPoint=function(O){var me=O.x*this.sx+O.y*this.shx+this.tx,je=O.x*this.shy+O.y*this.sy+this.ty;return new Ss(me,je)},Nn.prototype.applyToRectangle=function(O){var me=this.applyToPoint(O),je=this.applyToPoint(new Ss(O.x+O.w,O.y+O.h));return new Xs(me.x,me.y,je.x-me.x,je.y-me.y)},Nn.prototype.clone=function(){var O=this.sx,me=this.shy,je=this.shx,qe=this.sy,Ze=this.tx,xt=this.ty;return new Nn(O,me,je,qe,Ze,xt)},p.Matrix=Nn;var zo=p.matrixMult=function(O,me){return me.multiply(O)},es=new Nn(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=es;var ki=function(O,me){if(!Hr[O]){var je=(me instanceof Ru?"Sh":"P")+(Object.keys(en).length+1).toString(10);me.id=je,Hr[O]=je,en[je]=me,zr.publish("addPattern",me)}};p.ShadingPattern=Ru,p.TilingPattern=of,p.addShadingPattern=function(O,me){return U("addShadingPattern()"),ki(O,me),this},p.beginTilingPattern=function(O){U("beginTilingPattern()"),Do(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},p.endTilingPattern=function(O,me){U("endTilingPattern()"),me.stream=se[Z].join(`
`),ki(O,me),zr.publish("endTilingPattern",me),Mo.pop().restore()};var Oi,Pr=p.__private__.newObject=function(){var O=Qr();return er(O,!0),O},Qr=p.__private__.newObjectDeferred=function(){return ae++,M[ae]=function(){return fe},ae},er=function(O,me){return me=typeof me=="boolean"&&me,M[O]=fe,me&&ee(O+" 0 obj"),O},$o=p.__private__.newAdditionalObject=function(){var O={objId:Qr(),content:""};return de.push(O),O},ts=Qr(),$e=Qr(),He=p.__private__.decodeColorString=function(O){var me=O.split(" ");if(me.length!==2||me[1]!=="g"&&me[1]!=="G")me.length!==5||me[4]!=="k"&&me[4]!=="K"||(me=[(1-me[0])*(1-me[3]),(1-me[1])*(1-me[3]),(1-me[2])*(1-me[3]),"r"]);else{var je=parseFloat(me[0]);me=[je,je,je,"r"]}for(var qe="#",Ze=0;Ze<3;Ze++)qe+=("0"+Math.floor(255*parseFloat(me[Ze])).toString(16)).slice(-2);return qe},ht=p.__private__.encodeColorString=function(O){var me;typeof O=="string"&&(O={ch1:O});var je=O.ch1,qe=O.ch2,Ze=O.ch3,xt=O.ch4,wt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var fn=new pw(je);if(fn.ok)je=fn.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var wn=parseInt(je.substr(1),16);je=wn>>16&255,qe=wn>>8&255,Ze=255&wn}if(qe===void 0||xt===void 0&&je===qe&&qe===Ze)me=typeof je=="string"?je+" "+wt[0]:O.precision===2?oe(je/255)+" "+wt[0]:B(je/255)+" "+wt[0];else if(xt===void 0||Si(xt)==="object"){if(xt&&!isNaN(xt.a)&&xt.a===0)return["1.","1.","1.",wt[1]].join(" ");me=typeof je=="string"?[je,qe,Ze,wt[1]].join(" "):O.precision===2?[oe(je/255),oe(qe/255),oe(Ze/255),wt[1]].join(" "):[B(je/255),B(qe/255),B(Ze/255),wt[1]].join(" ")}else me=typeof je=="string"?[je,qe,Ze,xt,wt[2]].join(" "):O.precision===2?[oe(je),oe(qe),oe(Ze),oe(xt),wt[2]].join(" "):[B(je),B(qe),B(Ze),B(xt),wt[2]].join(" ");return me},Ht=p.__private__.getFilters=function(){return u},tn=p.__private__.putStream=function(O){var me=(O=O||{}).data||"",je=O.filters||Ht(),qe=O.alreadyAppliedFilters||[],Ze=O.addLength1||!1,xt=me.length,wt=O.objectId,fn=function(no){return no};if(h!==null&&wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(fn=mi.encryptor(wt,0));var wn={};je===!0&&(je=["FlateEncode"]);var tr=O.additionalKeyValues||[],ir=(wn=Fn.API.processDataByFilters!==void 0?Fn.API.processDataByFilters(me,je):{data:me,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(wn.data.length!==0&&(tr.push({key:"Length",value:wn.data.length}),Ze===!0&&tr.push({key:"Length1",value:xt})),ir.length!=0)if(ir.split("/").length-1==1)tr.push({key:"Filter",value:ir});else{tr.push({key:"Filter",value:"["+ir+"]"});for(var Mn=0;Mn<tr.length;Mn+=1)if(tr[Mn].key==="DecodeParms"){for(var gi=[],Ei=0;Ei<wn.reverseChain.split("/").length-1;Ei+=1)gi.push("null");gi.push(tr[Mn].value),tr[Mn].value="["+gi.join(" ")+"]"}}ee("<<");for(var ii=0;ii<tr.length;ii++)ee("/"+tr[ii].key+" "+tr[ii].value);ee(">>"),wn.data.length!==0&&(ee("stream"),ee(fn(wn.data)),ee("endstream"))},$t=p.__private__.putPage=function(O){var me=O.number,je=O.data,qe=O.objId,Ze=O.contentsObjId;er(qe,!0),ee("<</Type /Page"),ee("/Parent "+O.rootDictionaryObjId+" 0 R"),ee("/Resources "+O.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(ie(O.mediaBox.bottomLeftX))+" "+parseFloat(ie(O.mediaBox.bottomLeftY))+" "+ie(O.mediaBox.topRightX)+" "+ie(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&ee("/CropBox ["+ie(O.cropBox.bottomLeftX)+" "+ie(O.cropBox.bottomLeftY)+" "+ie(O.cropBox.topRightX)+" "+ie(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&ee("/BleedBox ["+ie(O.bleedBox.bottomLeftX)+" "+ie(O.bleedBox.bottomLeftY)+" "+ie(O.bleedBox.topRightX)+" "+ie(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&ee("/TrimBox ["+ie(O.trimBox.bottomLeftX)+" "+ie(O.trimBox.bottomLeftY)+" "+ie(O.trimBox.topRightX)+" "+ie(O.trimBox.topRightY)+"]"),O.artBox!==null&&ee("/ArtBox ["+ie(O.artBox.bottomLeftX)+" "+ie(O.artBox.bottomLeftY)+" "+ie(O.artBox.topRightX)+" "+ie(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&ee("/UserUnit "+O.userUnit),zr.publish("putPage",{objId:qe,pageContext:pn[me],pageNumber:me,page:je}),ee("/Contents "+Ze+" 0 R"),ee(">>"),ee("endobj");var xt=je.join(`
`);return k===R&&(xt+=`
Q`),er(Ze,!0),tn({data:xt,filters:Ht(),objectId:Ze}),ee("endobj"),qe},an=p.__private__.putPages=function(){var O,me,je=[];for(O=1;O<=on;O++)pn[O].objId=Qr(),pn[O].contentsObjId=Qr();for(O=1;O<=on;O++)je.push($t({number:O,data:se[O],objId:pn[O].objId,contentsObjId:pn[O].contentsObjId,mediaBox:pn[O].mediaBox,cropBox:pn[O].cropBox,bleedBox:pn[O].bleedBox,trimBox:pn[O].trimBox,artBox:pn[O].artBox,userUnit:pn[O].userUnit,rootDictionaryObjId:ts,resourceDictionaryObjId:$e}));er(ts,!0),ee("<</Type /Pages");var qe="/Kids [";for(me=0;me<on;me++)qe+=je[me]+" 0 R ";ee(qe+"]"),ee("/Count "+on),ee(">>"),ee("endobj"),zr.publish("postPutPages")},Rn=function(O){zr.publish("putFont",{font:O,out:ee,newObject:Pr,putStream:tn}),O.isAlreadyPutted!==!0&&(O.objectNumber=Pr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+nf(O.postScriptName)),ee("/Subtype /Type1"),typeof O.encoding=="string"&&ee("/Encoding /"+O.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},qn=function(O){O.objectNumber=Pr();var me=[];me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Form"}),me.push({key:"BBox",value:"["+[ie(O.x),ie(O.y),ie(O.x+O.width),ie(O.y+O.height)].join(" ")+"]"}),me.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var je=O.pages[1].join(`
`);tn({data:je,additionalKeyValues:me,objectId:O.objectNumber}),ee("endobj")},Gr=function(O,me){me||(me=21);var je=Pr(),qe=(function(wt,fn){var wn,tr=[],ir=1/(fn-1);for(wn=0;wn<1;wn+=ir)tr.push(wn);if(tr.push(1),wt[0].offset!=0){var Mn={offset:0,color:wt[0].color};wt.unshift(Mn)}if(wt[wt.length-1].offset!=1){var gi={offset:1,color:wt[wt.length-1].color};wt.push(gi)}for(var Ei="",ii=0,no=0;no<tr.length;no++){for(wn=tr[no];wn>wt[ii+1].offset;)ii++;var Wi=wt[ii].offset,ro=(wn-Wi)/(wt[ii+1].offset-Wi),ga=wt[ii].color,zs=wt[ii+1].color;Ei+=ye(Math.round((1-ro)*ga[0]+ro*zs[0]).toString(16))+ye(Math.round((1-ro)*ga[1]+ro*zs[1]).toString(16))+ye(Math.round((1-ro)*ga[2]+ro*zs[2]).toString(16))}return Ei.trim()})(O.colors,me),Ze=[];Ze.push({key:"FunctionType",value:"0"}),Ze.push({key:"Domain",value:"[0.0 1.0]"}),Ze.push({key:"Size",value:"["+me+"]"}),Ze.push({key:"BitsPerSample",value:"8"}),Ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tn({data:qe,additionalKeyValues:Ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),ee("endobj"),O.objectNumber=Pr(),ee("<< /ShadingType "+O.type),ee("/ColorSpace /DeviceRGB");var xt="/Coords ["+ie(parseFloat(O.coords[0]))+" "+ie(parseFloat(O.coords[1]))+" ";O.type===2?xt+=ie(parseFloat(O.coords[2]))+" "+ie(parseFloat(O.coords[3])):xt+=ie(parseFloat(O.coords[2]))+" "+ie(parseFloat(O.coords[3]))+" "+ie(parseFloat(O.coords[4]))+" "+ie(parseFloat(O.coords[5])),ee(xt+="]"),O.matrix&&ee("/Matrix ["+O.matrix.toString()+"]"),ee("/Function "+je+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Vr=function(O,me){var je=Qr(),qe=Pr();me.push({resourcesOid:je,objectOid:qe}),O.objectNumber=qe;var Ze=[];Ze.push({key:"Type",value:"/Pattern"}),Ze.push({key:"PatternType",value:"1"}),Ze.push({key:"PaintType",value:"1"}),Ze.push({key:"TilingType",value:"1"}),Ze.push({key:"BBox",value:"["+O.boundingBox.map(ie).join(" ")+"]"}),Ze.push({key:"XStep",value:ie(O.xStep)}),Ze.push({key:"YStep",value:ie(O.yStep)}),Ze.push({key:"Resources",value:je+" 0 R"}),O.matrix&&Ze.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),tn({data:O.stream,additionalKeyValues:Ze,objectId:O.objectNumber}),ee("endobj")},Vi=function(O){for(var me in O.objectNumber=Pr(),ee("<<"),O)switch(me){case"opacity":ee("/ca "+oe(O[me]));break;case"stroke-opacity":ee("/CA "+oe(O[me]))}ee(">>"),ee("endobj")},hr=function(O){er(O.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var me in ee("/Font <<"),Un)Un.hasOwnProperty(me)&&(S===!1||S===!0&&b.hasOwnProperty(me))&&ee("/"+me+" "+Un[me].objectNumber+" 0 R");ee(">>")})(),(function(){if(Object.keys(en).length>0){for(var me in ee("/Shading <<"),en)en.hasOwnProperty(me)&&en[me]instanceof Ru&&en[me].objectNumber>=0&&ee("/"+me+" "+en[me].objectNumber+" 0 R");zr.publish("putShadingPatternDict"),ee(">>")}})(),(function(me){if(Object.keys(en).length>0){for(var je in ee("/Pattern <<"),en)en.hasOwnProperty(je)&&en[je]instanceof p.TilingPattern&&en[je].objectNumber>=0&&en[je].objectNumber<me&&ee("/"+je+" "+en[je].objectNumber+" 0 R");zr.publish("putTilingPatternDict"),ee(">>")}})(O.objectOid),(function(){if(Object.keys(jn).length>0){var me;for(me in ee("/ExtGState <<"),jn)jn.hasOwnProperty(me)&&jn[me].objectNumber>=0&&ee("/"+me+" "+jn[me].objectNumber+" 0 R");zr.publish("putGStateDict"),ee(">>")}})(),(function(){for(var me in ee("/XObject <<"),ao)ao.hasOwnProperty(me)&&ao[me].objectNumber>=0&&ee("/"+me+" "+ao[me].objectNumber+" 0 R");zr.publish("putXobjectDict"),ee(">>")})(),ee(">>"),ee("endobj")},Xi=function(O){Vn[O.fontName]=Vn[O.fontName]||{},Vn[O.fontName][O.fontStyle]=O.id},Fi=function(O,me,je,qe,Ze){var xt={id:"F"+(Object.keys(Un).length+1).toString(10),postScriptName:O,fontName:me,fontStyle:je,encoding:qe,isStandardFont:Ze||!1,metadata:{}};return zr.publish("addFont",{font:xt,instance:this}),Un[xt.id]=xt,Xi(xt),xt.id},Tr=p.__private__.pdfEscape=p.pdfEscape=function(O,me){return(function(je,qe){var Ze,xt,wt,fn,wn,tr,ir,Mn,gi;if(wt=(qe=qe||{}).sourceEncoding||"Unicode",wn=qe.outputEncoding,(qe.autoencode||wn)&&Un[Kt].metadata&&Un[Kt].metadata[wt]&&Un[Kt].metadata[wt].encoding&&(fn=Un[Kt].metadata[wt].encoding,!wn&&Un[Kt].encoding&&(wn=Un[Kt].encoding),!wn&&fn.codePages&&(wn=fn.codePages[0]),typeof wn=="string"&&(wn=fn[wn]),wn)){for(ir=!1,tr=[],Ze=0,xt=je.length;Ze<xt;Ze++)(Mn=wn[je.charCodeAt(Ze)])?tr.push(String.fromCharCode(Mn)):tr.push(je[Ze]),tr[Ze].charCodeAt(0)>>8&&(ir=!0);je=tr.join("")}for(Ze=je.length;ir===void 0&&Ze!==0;)je.charCodeAt(Ze-1)>>8&&(ir=!0),Ze--;if(!ir)return je;for(tr=qe.noBOM?[]:[254,255],Ze=0,xt=je.length;Ze<xt;Ze++){if((gi=(Mn=je.charCodeAt(Ze))>>8)>>8)throw new Error("Character at position "+Ze+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tr.push(gi),tr.push(Mn-(gi<<8))}return String.fromCharCode.apply(void 0,tr)})(O,me).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_n=p.__private__.beginPage=function(O){se[++on]=[],pn[on]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Jt(on),H(se[Z])},rr=function(O,me){var je,qe,Ze;switch(t=me||t,typeof O=="string"&&(je=w(O.toLowerCase()),Array.isArray(je)&&(qe=je[0],Ze=je[1])),Array.isArray(O)&&(qe=O[0]*xn,Ze=O[1]*xn),isNaN(qe)&&(qe=a[0],Ze=a[1]),(qe>14400||Ze>14400)&&(Di.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),Ze=Math.min(14400,Ze)),a=[qe,Ze],t.substr(0,1)){case"l":Ze>qe&&(a=[Ze,qe]);break;case"p":qe>Ze&&(a=[Ze,qe])}_n(a),Dn(Eo),ee(qo),da!==0&&ee(da+" J"),ri!==0&&ee(ri+" j"),zr.publish("addPage",{pageNumber:on})},Kr=function(O){O>0&&O<=on&&(se.splice(O,1),pn.splice(O,1),on--,Z>on&&(Z=on),this.setPage(Z))},Jt=function(O){O>0&&O<=on&&(Z=O)},Pn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return se.length-1},pi=function(O,me,je){var qe,Ze=void 0;return je=je||{},O=O!==void 0?O:Un[Kt].fontName,me=me!==void 0?me:Un[Kt].fontStyle,qe=O.toLowerCase(),Vn[qe]!==void 0&&Vn[qe][me]!==void 0?Ze=Vn[qe][me]:Vn[O]!==void 0&&Vn[O][me]!==void 0?Ze=Vn[O][me]:je.disableWarning===!1&&Di.warn("Unable to look up font label for font '"+O+"', '"+me+"'. Refer to getFontList() for available fonts."),Ze||je.noFallback||(Ze=Vn.times[me])==null&&(Ze=Vn.times.normal),Ze},zn=p.__private__.putInfo=function(){var O=Pr(),me=function(qe){return qe};for(var je in h!==null&&(me=mi.encryptor(O,0)),ee("<<"),ee("/Producer ("+Tr(me("jsPDF "+Fn.version))+")"),Ot)Ot.hasOwnProperty(je)&&Ot[je]&&ee("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+Tr(me(Ot[je]))+")");ee("/CreationDate ("+Tr(me(be))+")"),ee(">>"),ee("endobj")},$r=p.__private__.putCatalog=function(O){var me=(O=O||{}).rootDictionaryObjId||ts;switch(Pr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+me+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+Se;je.substr(je.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+oe(Se)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ue&&ee("/PageMode /"+Ue),zr.publish("putCatalog"),ee(">>"),ee("endobj")},ei=p.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ae+1)),ee("/Root "+ae+" 0 R"),ee("/Info "+(ae-1)+" 0 R"),h!==null&&ee("/Encrypt "+mi.oid+" 0 R"),ee("/ID [ <"+Ae+"> <"+Ae+"> ]"),ee(">>")},yr=p.__private__.putHeader=function(){ee("%PDF-"+j),ee("%")},Ao=p.__private__.putXRef=function(){var O="0000000000";ee("xref"),ee("0 "+(ae+1)),ee("0000000000 65535 f ");for(var me=1;me<=ae;me++)typeof M[me]=="function"?ee((O+M[me]()).slice(-10)+" 00000 n "):M[me]!==void 0?ee((O+M[me]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},No=p.__private__.buildDocument=function(){var O;ae=0,fe=0,z=[],M=[],de=[],ts=Qr(),$e=Qr(),H(z),zr.publish("buildDocument"),yr(),an(),(function(){zr.publish("putAdditionalObjects");for(var je=0;je<de.length;je++){var qe=de[je];er(qe.objId,!0),ee(qe.content),ee("endobj")}zr.publish("postPutAdditionalObjects")})(),O=[],(function(){for(var je in Un)Un.hasOwnProperty(je)&&(S===!1||S===!0&&b.hasOwnProperty(je))&&Rn(Un[je])})(),(function(){var je;for(je in jn)jn.hasOwnProperty(je)&&Vi(jn[je])})(),(function(){for(var je in ao)ao.hasOwnProperty(je)&&qn(ao[je])})(),(function(je){var qe;for(qe in en)en.hasOwnProperty(qe)&&(en[qe]instanceof Ru?Gr(en[qe]):en[qe]instanceof of&&Vr(en[qe],je))})(O),zr.publish("putResources"),O.forEach(hr),hr({resourcesOid:$e,objectOid:Number.MAX_SAFE_INTEGER}),zr.publish("postPutResources"),h!==null&&(mi.oid=Pr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+mi.v),ee("/R "+mi.r),ee("/U <"+mi.toHexString(mi.U)+">"),ee("/O <"+mi.toHexString(mi.O)+">"),ee("/P "+mi.P),ee(">>"),ee("endobj")),zn(),$r();var me=fe;return Ao(),ei(),ee("startxref"),ee(""+me),ee("%%EOF"),H(se[Z]),z.join(`
`)},ns=p.__private__.getBlob=function(O){return new Blob([T(O)],{type:"application/pdf"})},vr=p.output=p.__private__.output=(Oi=function(O,me){switch(typeof(me=me||{})=="string"?me={filename:me}:me.filename=me.filename||"generated.pdf",O){case void 0:return No();case"save":p.save(me.filename);break;case"arraybuffer":return T(No());case"blob":return ns(No());case"bloburi":case"bloburl":if(fr.URL!==void 0&&typeof fr.URL.createObjectURL=="function")return fr.URL&&fr.URL.createObjectURL(ns(No()))||void 0;Di.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",qe=No();try{je=sv(qe)}catch{je=sv(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+me.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var Ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';me.pdfObjectUrl&&(Ze=me.pdfObjectUrl,xt="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ze+'"'+xt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(me)+");<\/script></body></html>",fn=fr.open();return fn!==null&&fn.document.write(wt),fn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(me.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+me.filename+'" width="500px" height="400px" /></body></html>',tr=fr.open();if(tr!==null){tr.document.write(wn);var ir=this;tr.document.documentElement.querySelector("#pdfViewer").onload=function(){tr.document.title=me.filename,tr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ir.output("bloburl"))}}return tr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",me)+'"></iframe></body></html>',gi=fr.open();if(gi!==null&&(gi.document.write(Mn),gi.document.title=me.filename),gi||typeof safari>"u")return gi;break;case"datauri":case"dataurl":return fr.document.location.href=this.output("datauristring",me);default:return null}},Oi.foo=function(){try{return Oi.apply(this,arguments)}catch(je){var O=je.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var me="Error in function "+O.split(`
`)[0].split("<")[0]+": "+je.message;if(!fr.console)throw new Error(me);fr.console.error(me,je),fr.alert&&alert(me)}},Oi.foo.bar=Oi,Oi.foo),Bi=function(O){return Array.isArray(_s)===!0&&_s.indexOf(O)>-1};switch(o){case"pt":xn=1;break;case"mm":xn=72/25.4;break;case"cm":xn=72/2.54;break;case"in":xn=72;break;case"px":xn=Bi("px_scaling")==1?.75:96/72;break;case"pc":case"em":xn=12;break;case"ex":xn=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);xn=o}var mi=null;J(),xe();var to=p.__private__.getPageInfo=p.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pn[O].objId,pageNumber:O,pageContext:pn[O]}},Ps=p.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var me in pn)if(pn[me].objId===O)break;return to(me)},rs=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:pn[Z].objId,pageNumber:Z,pageContext:pn[Z]}};p.addPage=function(){return rr.apply(this,arguments),this},p.setPage=function(){return Jt.apply(this,arguments),H.call(this,se[Z]),this},p.insertPage=function(O){return this.addPage(),this.movePage(Z,O),this},p.movePage=function(O,me){var je,qe;if(O>me){je=se[O],qe=pn[O];for(var Ze=O;Ze>me;Ze--)se[Ze]=se[Ze-1],pn[Ze]=pn[Ze-1];se[me]=je,pn[me]=qe,this.setPage(me)}else if(O<me){je=se[O],qe=pn[O];for(var xt=O;xt<me;xt++)se[xt]=se[xt+1],pn[xt]=pn[xt+1];se[me]=je,pn[me]=qe,this.setPage(me)}return this},p.deletePage=function(){return Kr.apply(this,arguments),this},p.__private__.text=p.text=function(O,me,je,qe,Ze){var xt,wt,fn,wn,tr,ir,Mn,gi,Ei,ii=(qe=qe||{}).scope||this;if(typeof O=="number"&&typeof me=="number"&&(typeof je=="string"||Array.isArray(je))){var no=je;je=me,me=O,O=no}if(arguments[3]instanceof Nn==0?(fn=arguments[4],wn=arguments[5],Si(Mn=arguments[3])==="object"&&Mn!==null||(typeof fn=="string"&&(wn=fn,fn=null),typeof Mn=="string"&&(wn=Mn,Mn=null),typeof Mn=="number"&&(fn=Mn,Mn=null),qe={flags:Mn,angle:fn,align:wn})):(U("The transform parameter of text() with a Matrix value"),Ei=Ze),isNaN(me)||isNaN(je)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return ii;var Wi,ro="",ga=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:Yi,zs=ii.internal.scaleFactor;function Da(Xr){return Xr=Xr.split("	").join(Array(qe.TabLen||9).join(" ")),Tr(Xr,Mn)}function Ll(Xr){for(var oi,zi=Xr.concat(),Ji=[],As=zi.length;As--;)typeof(oi=zi.shift())=="string"?Ji.push(oi):Array.isArray(Xr)&&(oi.length===1||oi[1]===void 0&&oi[2]===void 0)?Ji.push(oi[0]):Ji.push([oi[0],oi[1],oi[2]]);return Ji}function Rl(Xr,oi){var zi;if(typeof Xr=="string")zi=oi(Xr)[0];else if(Array.isArray(Xr)){for(var Ji,As,uc=Xr.concat(),$a=[],ka=uc.length;ka--;)typeof(Ji=uc.shift())=="string"?$a.push(oi(Ji)[0]):Array.isArray(Ji)&&typeof Ji[0]=="string"&&(As=oi(Ji[0],Ji[1],Ji[2]),$a.push([As[0],As[1],As[2]]));zi=$a}return zi}var $s=!1,sl=!0;if(typeof O=="string")$s=!0;else if(Array.isArray(O)){var Oa=O.concat();wt=[];for(var Fa,lo=Oa.length;lo--;)(typeof(Fa=Oa.shift())!="string"||Array.isArray(Fa)&&typeof Fa[0]!="string")&&(sl=!1);$s=sl}if($s===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Ba=q/ii.internal.scaleFactor,al=Ba*(ga-1);switch(qe.baseline){case"bottom":je-=al;break;case"top":je+=Ba-al;break;case"hanging":je+=Ba-2*al;break;case"middle":je+=Ba/2-al}if((ir=qe.maxWidth||0)>0&&(typeof O=="string"?O=ii.splitTextToSize(O,ir):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Xr,oi){return Xr.concat(ii.splitTextToSize(oi,ir))},[]))),xt={text:O,x:me,y:je,options:qe,mutex:{pdfEscape:Tr,activeFontKey:Kt,fonts:Un,activeFontSize:q}},zr.publish("preProcessText",xt),O=xt.text,fn=(qe=xt.options).angle,Ei instanceof Nn==0&&fn&&typeof fn=="number"){fn*=Math.PI/180,qe.rotationDirection===0&&(fn=-fn),k===R&&(fn=-fn);var ac=Math.cos(fn),lc=Math.sin(fn);Ei=new Nn(ac,lc,-lc,ac,0,0)}else fn&&fn instanceof Nn&&(Ei=fn);k!==R||Ei||(Ei=es),(tr=qe.charSpace||To)!==void 0&&(ro+=ie(te(tr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gi=qe.horizontalScale)!==void 0&&(ro+=ie(100*gi)+` Tz
`),qe.lang;var Oo=-1,Us=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,Qs=ii.internal.getCurrentPageInfo().pageContext;switch(Us){case 0:case!1:case"fill":Oo=0;break;case 1:case!0:case"stroke":Oo=1;break;case 2:case"fillThenStroke":Oo=2;break;case 3:case"invisible":Oo=3;break;case 4:case"fillAndAddForClipping":Oo=4;break;case 5:case"strokeAndAddPathForClipping":Oo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Oo=6;break;case 7:case"addToPathForClipping":Oo=7}var cc=Qs.usedRenderingMode!==void 0?Qs.usedRenderingMode:-1;Oo!==-1?ro+=Oo+` Tr
`:cc!==-1&&(ro+=`0 Tr
`),Oo!==-1&&(Qs.usedRenderingMode=Oo),wn=qe.align||"left";var us,ya=q*ga,Il=ii.internal.pageSize.getWidth(),jl=Un[Kt];tr=qe.charSpace||To,ir=qe.maxWidth||0,Mn=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var va=[],ks=function(Xr){return ii.getStringUnitWidth(Xr,{font:jl,charSpace:tr,fontSize:q,doKerning:!1})*q/zs};if(Object.prototype.toString.call(O)==="[object Array]"){var fs;wt=Ll(O),wn!=="left"&&(us=wt.map(ks));var Co,wa=0;if(wn==="right"){me-=us[0],O=[],lo=wt.length;for(var Wo=0;Wo<lo;Wo++)Wo===0?(Co=ss(me),fs=Bs(je)):(Co=te(wa-us[Wo]),fs=-ya),O.push([wt[Wo],Co,fs]),wa=us[Wo]}else if(wn==="center"){me-=us[0]/2,O=[],lo=wt.length;for(var ea=0;ea<lo;ea++)ea===0?(Co=ss(me),fs=Bs(je)):(Co=te((wa-us[ea])/2),fs=-ya),O.push([wt[ea],Co,fs]),wa=us[ea]}else if(wn==="left"){O=[],lo=wt.length;for(var ds=0;ds<lo;ds++)O.push(wt[ds])}else if(wn==="justify"&&jl.encoding==="Identity-H"){O=[],lo=wt.length,ir=ir!==0?ir:Il;for(var ta=0,Mi=0;Mi<lo;Mi++)if(fs=Mi===0?Bs(je):-ya,Co=Mi===0?ss(me):ta,Mi<lo-1){var Ma=te((ir-us[Mi])/(wt[Mi].split(" ").length-1)),na=wt[Mi].split(" ");O.push([na[0]+" ",Co,fs]),ta=0;for(var qs=1;qs<na.length;qs++){var ll=(ks(na[qs-1]+" "+na[qs])-ks(na[qs]))*zs+Ma;qs==na.length-1?O.push([na[qs],ll,0]):O.push([na[qs]+" ",ll,0]),ta-=ll}}else O.push([wt[Mi],Co,fs]);O.push(["",ta,0])}else{if(wn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],lo=wt.length,ir=ir!==0?ir:Il,Mi=0;Mi<lo;Mi++){fs=Mi===0?Bs(je):-ya,Co=Mi===0?ss(me):0;var xa=wt[Mi].split(" ").length-1,Pl=xa>0?(ir-us[Mi])/xa:0;Mi<lo-1?va.push(ie(te(Pl))):va.push(0),O.push([wt[Mi],Co,fs])}}}(typeof qe.R2L=="boolean"?qe.R2L:Ee)===!0&&(O=Rl(O,function(Xr,oi,zi){return[Xr.split("").reverse().join(""),oi,zi]})),xt={text:O,x:me,y:je,options:qe,mutex:{pdfEscape:Tr,activeFontKey:Kt,fonts:Un,activeFontSize:q}},zr.publish("postProcessText",xt),O=xt.text,Wi=xt.mutex.isHex||!1;var cl=Un[Kt].encoding;cl!=="WinAnsiEncoding"&&cl!=="StandardEncoding"||(O=Rl(O,function(Xr,oi,zi){return[Da(Xr),oi,zi]})),wt=Ll(O),O=[];for(var ra,ba,_a,ul=Array.isArray(wt[0])?1:0,Sa="",za=function(Xr,oi,zi){var Ji="";return zi instanceof Nn?(zi=typeof qe.angle=="number"?zo(zi,new Nn(1,0,0,1,Xr,oi)):zo(new Nn(1,0,0,1,Xr,oi),zi),k===R&&(zi=zo(new Nn(1,0,0,-1,0,0),zi)),Ji=zi.join(" ")+` Tm
`):Ji=ie(Xr)+" "+ie(oi)+` Td
`,Ji},fi=0;fi<wt.length;fi++){switch(Sa="",ul){case 1:_a=(Wi?"<":"(")+wt[fi][0]+(Wi?">":")"),ra=parseFloat(wt[fi][1]),ba=parseFloat(wt[fi][2]);break;case 0:_a=(Wi?"<":"(")+wt[fi]+(Wi?">":")"),ra=ss(me),ba=Bs(je)}va!==void 0&&va[fi]!==void 0&&(Sa=va[fi]+` Tw
`),fi===0?O.push(Sa+za(ra,ba,Ei)+_a):ul===0?O.push(Sa+_a):ul===1&&O.push(Sa+za(ra,ba,Ei)+_a)}O=ul===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Fo=`BT
/`;return Fo+=Kt+" "+q+` Tf
`,Fo+=ie(q*ga)+` TL
`,Fo+=as+`
`,Fo+=ro,Fo+=O,ee(Fo+="ET"),b[Kt]=!0,ii};var Uo=p.__private__.clip=p.clip=function(O){return ee(O==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Uo("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ee("n"),this};var Gn=p.__private__.isValidStyle=function(O){var me=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(me=!0),me};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(O){return Gn(O)&&(d=O),this};var En=p.__private__.getStyle=p.getStyle=function(O){var me=d;switch(O){case"D":case"S":me="S";break;case"F":me="f";break;case"FD":case"DF":me="B";break;case"f":case"f*":case"B":case"B*":me=O}return me},Dr=p.close=function(){return ee("h"),this};p.stroke=function(){return ee("S"),this},p.fill=function(O){return Ds("f",O),this},p.fillEvenOdd=function(O){return Ds("f*",O),this},p.fillStroke=function(O){return Ds("B",O),this},p.fillStrokeEvenOdd=function(O){return Ds("B*",O),this};var Ds=function(O,me){Si(me)==="object"?oc(me,O):ee(O)},Os=function(O){O===null||k===R&&O===void 0||(O=En(O),ee(O))};function Ai(O,me,je,qe,Ze){var xt=new of(me||this.boundingBox,je||this.xStep,qe||this.yStep,this.gState,Ze||this.matrix);xt.stream=this.stream;var wt=O+"$$"+this.cloneIndex+++"$$";return ki(wt,xt),xt}var oc=function(O,me){var je=Hr[O.key],qe=en[je];if(qe instanceof Ru)ee("q"),ee(Fs(me)),qe.gState&&p.setGState(qe.gState),ee(O.matrix.toString()+" cm"),ee("/"+je+" sh"),ee("Q");else if(qe instanceof of){var Ze=new Nn(1,0,0,-1,0,ls());O.matrix&&(Ze=Ze.multiply(O.matrix||es),je=Ai.call(qe,O.key,O.boundingBox,O.xStep,O.yStep,Ze).id),ee("q"),ee("/Pattern cs"),ee("/"+je+" scn"),qe.gState&&p.setGState(qe.gState),ee(me),ee("Q")}},Fs=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nl=p.moveTo=function(O,me){return ee(ie(te(O))+" "+ie(P(me))+" m"),this},is=p.lineTo=function(O,me){return ee(ie(te(O))+" "+ie(P(me))+" l"),this},qi=p.curveTo=function(O,me,je,qe,Ze,xt){return ee([ie(te(O)),ie(P(me)),ie(te(je)),ie(P(qe)),ie(te(Ze)),ie(P(xt)),"c"].join(" ")),this};p.__private__.line=p.line=function(O,me,je,qe,Ze){if(isNaN(O)||isNaN(me)||isNaN(je)||isNaN(qe)||!Gn(Ze))throw new Error("Invalid arguments passed to jsPDF.line");return k===I?this.lines([[je-O,qe-me]],O,me,[1,1],Ze||"S"):this.lines([[je-O,qe-me]],O,me,[1,1]).stroke()},p.__private__.lines=p.lines=function(O,me,je,qe,Ze,xt){var wt,fn,wn,tr,ir,Mn,gi,Ei,ii,no,Wi,ro;if(typeof O=="number"&&(ro=je,je=me,me=O,O=ro),qe=qe||[1,1],xt=xt||!1,isNaN(me)||isNaN(je)||!Array.isArray(O)||!Array.isArray(qe)||!Gn(Ze)||typeof xt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nl(me,je),wt=qe[0],fn=qe[1],tr=O.length,no=me,Wi=je,wn=0;wn<tr;wn++)(ir=O[wn]).length===2?(no=ir[0]*wt+no,Wi=ir[1]*fn+Wi,is(no,Wi)):(Mn=ir[0]*wt+no,gi=ir[1]*fn+Wi,Ei=ir[2]*wt+no,ii=ir[3]*fn+Wi,no=ir[4]*wt+no,Wi=ir[5]*fn+Wi,qi(Mn,gi,Ei,ii,no,Wi));return xt&&Dr(),Os(Ze),this},p.path=function(O){for(var me=0;me<O.length;me++){var je=O[me],qe=je.c;switch(je.op){case"m":nl(qe[0],qe[1]);break;case"l":is(qe[0],qe[1]);break;case"c":qi.apply(this,qe);break;case"h":Dr()}}return this},p.__private__.rect=p.rect=function(O,me,je,qe,Ze){if(isNaN(O)||isNaN(me)||isNaN(je)||isNaN(qe)||!Gn(Ze))throw new Error("Invalid arguments passed to jsPDF.rect");return k===I&&(qe=-qe),ee([ie(te(O)),ie(P(me)),ie(te(je)),ie(te(qe)),"re"].join(" ")),Os(Ze),this},p.__private__.triangle=p.triangle=function(O,me,je,qe,Ze,xt,wt){if(isNaN(O)||isNaN(me)||isNaN(je)||isNaN(qe)||isNaN(Ze)||isNaN(xt)||!Gn(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-O,qe-me],[Ze-je,xt-qe],[O-Ze,me-xt]],O,me,[1,1],wt,!0),this},p.__private__.roundedRect=p.roundedRect=function(O,me,je,qe,Ze,xt,wt){if(isNaN(O)||isNaN(me)||isNaN(je)||isNaN(qe)||isNaN(Ze)||isNaN(xt)||!Gn(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var fn=4/3*(Math.SQRT2-1);return Ze=Math.min(Ze,.5*je),xt=Math.min(xt,.5*qe),this.lines([[je-2*Ze,0],[Ze*fn,0,Ze,xt-xt*fn,Ze,xt],[0,qe-2*xt],[0,xt*fn,-Ze*fn,xt,-Ze,xt],[2*Ze-je,0],[-Ze*fn,0,-Ze,-xt*fn,-Ze,-xt],[0,2*xt-qe],[0,-xt*fn,Ze*fn,-xt,Ze,-xt]],O+Ze,me,[1,1],wt,!0),this},p.__private__.ellipse=p.ellipse=function(O,me,je,qe,Ze){if(isNaN(O)||isNaN(me)||isNaN(je)||isNaN(qe)||!Gn(Ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xt=4/3*(Math.SQRT2-1)*je,wt=4/3*(Math.SQRT2-1)*qe;return nl(O+je,me),qi(O+je,me-wt,O+xt,me-qe,O,me-qe),qi(O-xt,me-qe,O-je,me-wt,O-je,me),qi(O-je,me+wt,O-xt,me+qe,O,me+qe),qi(O+xt,me+qe,O+je,me+wt,O+je,me),Os(Ze),this},p.__private__.circle=p.circle=function(O,me,je,qe){if(isNaN(O)||isNaN(me)||isNaN(je)||!Gn(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,me,je,je,qe)},p.setFont=function(O,me,je){return je&&(me=Q(me,je)),Kt=pi(O,me,{disableWarning:!1}),this};var Vs=p.__private__.getFont=p.getFont=function(){return Un[pi.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var O,me,je={};for(O in Vn)if(Vn.hasOwnProperty(O))for(me in je[O]=[],Vn[O])Vn[O].hasOwnProperty(me)&&je[O].push(me);return je},p.addFont=function(O,me,je,qe,Ze){var xt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xt.indexOf(arguments[3])!==-1?Ze=arguments[3]:arguments[3]&&xt.indexOf(arguments[3])==-1&&(je=Q(je,qe)),Fi.call(this,O,me,je,Ze=Ze||"Identity-H")};var Yi,Eo=r.lineWidth||.200025,os=p.__private__.getLineWidth=p.getLineWidth=function(){return Eo},Dn=p.__private__.setLineWidth=p.setLineWidth=function(O){return Eo=O,ee(ie(te(O))+" w"),this};p.__private__.setLineDash=Fn.API.setLineDash=Fn.API.setLineDashPattern=function(O,me){if(O=O||[],me=me||0,isNaN(me)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(je){return ie(te(je))}).join(" "),me=ie(te(me)),ee("["+O+"] "+me+" d"),this};var _r=p.__private__.getLineHeight=p.getLineHeight=function(){return q*Yi};p.__private__.getLineHeight=p.getLineHeight=function(){return q*Yi};var rl=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(Yi=O),this},il=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Yi};rl(r.lineHeight);var ss=p.__private__.getHorizontalCoordinate=function(O){return te(O)},Bs=p.__private__.getVerticalCoordinate=function(O){return k===R?O:pn[Z].mediaBox.topRightY-pn[Z].mediaBox.bottomLeftY-te(O)},Pa=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(O){return ie(ss(O))},Tl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(O){return ie(Bs(O))},qo=r.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return He(qo)},p.__private__.setStrokeColor=p.setDrawColor=function(O,me,je,qe){return qo=ht({ch1:O,ch2:me,ch3:je,ch4:qe,pdfColorType:"draw",precision:2}),ee(qo),this};var sc=r.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return He(sc)},p.__private__.setFillColor=p.setFillColor=function(O,me,je,qe){return sc=ht({ch1:O,ch2:me,ch3:je,ch4:qe,pdfColorType:"fill",precision:2}),ee(sc),this};var as=r.textColor||"0 g",ol=p.__private__.getTextColor=p.getTextColor=function(){return He(as)};p.__private__.setTextColor=p.setTextColor=function(O,me,je,qe){return as=ht({ch1:O,ch2:me,ch3:je,ch4:qe,pdfColorType:"text",precision:3}),this};var To=r.charSpace,Cl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(To||0)};p.__private__.setCharSpace=p.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return To=O,this};var da=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(O){var me=p.CapJoinStyles[O];if(me===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return da=me,ee(me+" J"),this};var ri=0;p.__private__.setLineJoin=p.setLineJoin=function(O){var me=p.CapJoinStyles[O];if(me===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ri=me,ee(me+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(ie(te(O))+" M"),this},p.GState=gh,p.setGState=function(O){(O=typeof O=="string"?jn[Ln[O]]:Ni(null,O)).equals(kr)||(ee("/"+O.id+" gs"),kr=O)};var Ni=function(O,me){if(!O||!Ln[O]){var je=!1;for(var qe in jn)if(jn.hasOwnProperty(qe)&&jn[qe].equals(me)){je=!0;break}if(je)me=jn[qe];else{var Ze="GS"+(Object.keys(jn).length+1).toString(10);jn[Ze]=me,me.id=Ze}return O&&(Ln[O]=me.id),zr.publish("addGState",me),me}};p.addGState=function(O,me){return Ni(O,me),this},p.saveGraphicsState=function(){return ee("q"),bn.push({key:Kt,size:q,color:as}),this},p.restoreGraphicsState=function(){ee("Q");var O=bn.pop();return Kt=O.key,q=O.size,as=O.color,kr=null,this},p.setCurrentTransformationMatrix=function(O){return ee(O.toString()+" cm"),this},p.comment=function(O){return ee("#"+O),this};var Ss=function(O,me){var je=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(xt){isNaN(xt)||(je=parseFloat(xt))}});var qe=me||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(xt){isNaN(xt)||(qe=parseFloat(xt))}});var Ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ze},set:function(xt){Ze=xt.toString()}}),this},Xs=function(O,me,je,qe){Ss.call(this,O,me),this.type="rect";var Ze=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ze},set:function(wt){isNaN(wt)||(Ze=parseFloat(wt))}});var xt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xt},set:function(wt){isNaN(wt)||(xt=parseFloat(wt))}}),this},ha=function(){this.page=on,this.currentPage=Z,this.pages=se.slice(0),this.pagesContext=pn.slice(0),this.x=Bt,this.y=pr,this.matrix=mn,this.width=Ys(Z),this.height=ma(Z),this.outputDestination=Be,this.id="",this.objectNumber=-1};ha.prototype.restore=function(){on=this.page,Z=this.currentPage,pn=this.pagesContext,se=this.pages,Bt=this.x,pr=this.y,mn=this.matrix,Js(Z,this.width),Ms(Z,this.height),Be=this.outputDestination};var Do=function(O,me,je,qe,Ze){Mo.push(new ha),on=Z=0,se=[],Bt=O,pr=me,mn=Ze,_n([je,qe])};for(var pa in p.beginFormObject=function(O,me,je,qe,Ze){return Do(O,me,je,qe,Ze),this},p.endFormObject=function(O){return(function(me){if(ko[me])Mo.pop().restore();else{var je=new ha,qe="Xo"+(Object.keys(ao).length+1).toString(10);je.id=qe,ko[me]=qe,ao[qe]=je,zr.publish("addFormObject",je),Mo.pop().restore()}})(O),this},p.doFormObject=function(O,me){var je=ao[ko[O]];return ee("q"),ee(me.toString()+" cm"),ee("/"+je.id+" Do"),ee("Q"),this},p.getFormObject=function(O){var me=ao[ko[O]];return{x:me.x,y:me.y,width:me.width,height:me.height,matrix:me.matrix}},p.save=function(O,me){return O=O||"generated.pdf",(me=me||{}).returnPromise=me.returnPromise||!1,me.returnPromise===!1?(Lu(ns(No()),O),typeof Lu.unload=="function"&&fr.setTimeout&&setTimeout(Lu.unload,911),this):new Promise(function(je,qe){try{var Ze=Lu(ns(No()),O);typeof Lu.unload=="function"&&fr.setTimeout&&setTimeout(Lu.unload,911),je(Ze)}catch(xt){qe(xt.message)}})},Fn.API)Fn.API.hasOwnProperty(pa)&&(pa==="events"&&Fn.API.events.length?(function(O,me){var je,qe,Ze;for(Ze=me.length-1;Ze!==-1;Ze--)je=me[Ze][0],qe=me[Ze][1],O.subscribe.apply(O,[je].concat(typeof qe=="function"?[qe]:qe))})(zr,Fn.API.events):p[pa]=Fn.API[pa]);function Ys(O){return pn[O].mediaBox.topRightX-pn[O].mediaBox.bottomLeftX}function Js(O,me){pn[O].mediaBox.topRightX=me+pn[O].mediaBox.bottomLeftX}function ma(O){return pn[O].mediaBox.topRightY-pn[O].mediaBox.bottomLeftY}function Ms(O,me){pn[O].mediaBox.topRightY=me+pn[O].mediaBox.bottomLeftY}var Zs=p.getPageWidth=function(O){return Ys(O=O||Z)/xn},ti=p.setPageWidth=function(O,me){Js(O,me*xn)},ls=p.getPageHeight=function(O){return ma(O=O||Z)/xn},cs=p.setPageHeight=function(O,me){Ms(O,me*xn)};return p.internal={pdfEscape:Tr,getStyle:En,getFont:Vs,getFontSize:Ce,getCharSpace:Cl,getTextColor:ol,getLineHeight:_r,getLineHeightFactor:il,getLineWidth:os,write:X,getHorizontalCoordinate:ss,getVerticalCoordinate:Bs,getCoordinateString:Pa,getVerticalCoordinateString:Tl,collections:{},newObject:Pr,newAdditionalObject:$o,newObjectDeferred:Qr,newObjectDeferredBegin:er,getFilters:Ht,putStream:tn,events:zr,scaleFactor:xn,pageSize:{getWidth:function(){return Zs(Z)},setWidth:function(O){ti(Z,O)},getHeight:function(){return ls(Z)},setHeight:function(O){cs(Z,O)}},encryptionOptions:h,encryption:mi,getEncryptor:function(O){return h!==null?mi.encryptor(O,0):function(me){return me}},output:vr,getNumberOfPages:Pn,get pages(){return se},out:ee,f2:oe,f3:B,getPageInfo:to,getPageInfoByObjId:Ps,getCurrentPageInfo:rs,getPDFVersion:N,Point:Ss,Rectangle:Xs,Matrix:Nn,hasHotfix:Bi},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Zs(Z)},set:function(O){ti(Z,O)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ls(Z)},set:function(O){cs(Z,O)},enumerable:!0,configurable:!0}),(function(O){for(var me=0,je=L.length;me<je;me++){var qe=Fi.call(this,O[me][0],O[me][1],O[me][2],L[me][3],!0);S===!1&&(b[qe]=!0);var Ze=O[me][0].split("-");Xi({id:qe,fontName:Ze[0],fontStyle:Ze[1]||""})}zr.publish("addFonts",{fonts:Un,dictionary:Vn})}).call(p,L),Kt="F1",rr(a,t),zr.publish("initialized"),p}tf.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},tf.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tf.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},tf.prototype.processOwnerPassword=function(r,e){return D1(P1(e).substr(0,5),r)},tf.prototype.encryptor=function(r,e){var t=P1(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(o){return D1(t,o)}},gh.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Si(r)!==Si(this))return!1;var o=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;o++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&o--;return o===0},Fn.API={events:[]},Fn.version="4.0.0";var mo=Fn.API,o0=1,$u=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ju=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},br=function(r){return r.toFixed(2)},iu=function(r){return r.toFixed(5)};mo.__acroform__={};var fa=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},uv=function(r){return r*o0},Jl=function(r){var e=new vw,t=vn.internal.getHeight(r)||0,o=vn.internal.getWidth(r)||0;return e.BBox=[0,0,Number(br(o)),Number(br(t))],e},mk=mo.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},gk=mo.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},yk=mo.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},wo=mo.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yk(r,e-1)},xo=mo.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mk(r,e-1)},bo=mo.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gk(r,e-1)},vk=mo.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,o=e.internal.getVerticalCoordinate,a=r[0],s=r[1],u=r[2],l=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=o(s+l)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=o(s)||0,[Number(br(f.lowerLeft_X)),Number(br(f.lowerLeft_Y)),Number(br(f.upperRight_X)),Number(br(f.upperRight_Y))]},wk=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,o=O1(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+br(o.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Jl(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},O1=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,o={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(oe){return oe.split(`
`)}):a.map(function(oe){return[oe]});var s=t,u=vn.internal.getHeight(r)||0;u=u<0?-u:u;var l=vn.internal.getWidth(r)||0;l=l<0?-l:l;var f=function(oe,B,te){if(oe+1<a.length){var P=B+" "+a[oe+1][0];return Xd(P,r,te).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var d,h,S=Xd("3",r,s).height,b=r.multiline?u-s:(u-S)/2,p=b+=2,j=0,N=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xd(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",I=0,R=0;R<a.length;R++)if(a.hasOwnProperty(R)){var k=!1;if(a[R].length!==1&&A!==a[R].length-1){if((S+2)*(I+2)+2>u)continue e;w+=a[R][A],k=!0,N=R,R--}else{w=(w+=a[R][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var G=parseInt(R),re=f(G,w,s),Q=R>=a.length-1;if(re&&!Q){w+=" ",A=0;continue}if(re||Q){if(Q)N=G;else if(r.multiline&&(S+2)*(I+2)+2>u)continue e}else{if(!r.multiline||(S+2)*(I+2)+2>u)continue e;N=G}}for(var ie="",U=j;U<=N;U++){var le=a[U];if(r.multiline){if(U===N){ie+=le[A]+" ",A=(A+1)%le.length;continue}if(U===j){ie+=le[le.length-1]+" ";continue}}ie+=le[0]+" "}switch(ie=ie.substr(ie.length-1)==" "?ie.substr(0,ie.length-1):ie,h=Xd(ie,r,s).width,r.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;default:d=2}e+=br(d)+" "+br(p)+` Td
`,e+="("+$u(ie)+`) Tj
`,e+=-br(d)+` 0 Td
`,p=-(s+2),h=0,j=k?N:N+1,I++,w=""}break}return o.text=e,o.fontSize=s,o},Xd=function(r,e,t){var o=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:o,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},xk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bk=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(o){return o.type===t.type&&o.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},_k=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Nl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(xk)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o0=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new ww,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];s.objId=void 0,s.hasAnnotation&&bk(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(o,a){var s=!o;for(var u in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(u)){var l=o[u],f=[],d=l.Rect;if(l.Rect&&(l.Rect=vk(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vn.createDefaultAppearanceStream(l),Si(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(f=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=wk(l);f.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var S="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var p=l.appearanceStreamContent[b];if(S+="/"+b+" ",S+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var u in p)if(p.hasOwnProperty(u)){var j=p[u];typeof j=="function"&&(j=j.call(a,l)),S+="/"+u+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=p)=="function"&&(j=j.call(a,l)),S+="/"+u+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);S+=">>"}f.push({key:"AP",value:`<<
`+S+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:l.objId}),a.internal.out("endobj")}s&&(function(N,A){for(var w in N)if(N.hasOwnProperty(w)){var I=w,R=N[w];A.internal.newObjectDeferredBegin(R.objId,!0),Si(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete N[I]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},yw=mo.__acroform__.arrayToPdfArray=function(r,e,t){var o=function(u){return u};if(Array.isArray(r)){for(var a="[",s=0;s<r.length;s++)switch(s!==0&&(a+=" "),Si(r[s])){case"boolean":case"number":case"object":a+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(o=t.internal.getEncryptor(e)),a+="("+$u(o(r[s].toString()))+")"):a+=r[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f1=function(r,e,t){var o=function(a){return a};return e!==void 0&&t&&(o=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+$u(o(r))+")"},tc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tc.prototype.toString=function(){return this.objId+" 0 R"},tc.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},tc.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var o=e[t],a=this[o];a&&(Array.isArray(a)?r.push({key:o,value:yw(a,this.objId,this.scope)}):a instanceof tc?(a.scope=this.scope,r.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:o,value:a}))}return r};var vw=function(){tc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};fa(vw,tc);var ww=function(){tc.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(o){return o};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+$u(t(r))+")"}},set:function(t){r=t}})};fa(ww,tc);var Nl=function r(){tc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wo(e,3)},set:function(w){w?this.F=xo(e,3):this.F=bo(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(w){o=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(w){o[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(w){o[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(w){o[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(w){o[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof yh)return;s="FieldObject"+r.FieldNum++}var w=function(I){return I};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+$u(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/o0:d},set:function(w){d=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof yh||this instanceof Du))return f1(S,this.objId,this.scope)},set:function(w){w=w.toString(),S=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Qo==0?f1(b,this.objId,this.scope):b},set:function(w){w=w.toString(),b=this instanceof Qo==0?w.substr(0,1)==="("?Ju(w.substr(1,w.length-2)):Ju(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qo==1?Ju(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Qo==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Qo==0?f1(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Qo==0?w.substr(0,1)==="("?Ju(w.substr(1,w.length-2)):Ju(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qo==1?Ju(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Qo==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(w){w=!!w,N=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(w){j=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,1)},set:function(w){w?this.Ff=xo(this.Ff,1):this.Ff=bo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,2)},set:function(w){w?this.Ff=xo(this.Ff,2):this.Ff=bo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,3)},set:function(w){w?this.Ff=xo(this.Ff,3):this.Ff=bo(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};fa(Nl,tc);var df=function(){Nl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yw(e,this.objId,this.scope)},set:function(t){var o,a;a=[],typeof(o=t)=="string"&&(a=(function(s,u,l){l||(l=1);for(var f,d=[];f=u.exec(s);)d.push(f[l]);return d})(o,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,o){for(o=o||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,18)},set:function(t){t?this.Ff=xo(this.Ff,18):this.Ff=bo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=xo(this.Ff,19):this.Ff=bo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,20)},set:function(t){t?(this.Ff=xo(this.Ff,20),e.sort()):this.Ff=bo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,22)},set:function(t){t?this.Ff=xo(this.Ff,22):this.Ff=bo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,23)},set:function(t){t?this.Ff=xo(this.Ff,23):this.Ff=bo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,27)},set:function(t){t?this.Ff=xo(this.Ff,27):this.Ff=bo(this.Ff,27)}}),this.hasAppearanceStream=!1};fa(df,Nl);var hf=function(){df.call(this),this.fontName="helvetica",this.combo=!1};fa(hf,df);var pf=function(){hf.call(this),this.combo=!0};fa(pf,hf);var ah=function(){pf.call(this),this.edit=!0};fa(ah,pf);var Qo=function(){Nl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,15)},set:function(t){t?this.Ff=xo(this.Ff,15):this.Ff=bo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,16)},set:function(t){t?this.Ff=xo(this.Ff,16):this.Ff=bo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,17)},set:function(t){t?this.Ff=xo(this.Ff,17):this.Ff=bo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,26)},set:function(t){t?this.Ff=xo(this.Ff,26):this.Ff=bo(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var o,a=[];for(o in a.push("<<"),e)a.push("/"+o+" ("+$u(t(e[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Si(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};fa(Qo,Nl);var lh=function(){Qo.call(this),this.pushButton=!0};fa(lh,Qo);var mf=function(){Qo.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};fa(mf,Qo);var yh=function(){var r,e;Nl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),o)u.push("/"+s+" ("+$u(a(o[s]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Si(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fa(yh,Nl),mf.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},mf.prototype.createOption=function(r){var e=new yh;return e.Parent=this,e.optionName=r,this.Kids.push(e),Sk.call(this.scope,e),e};var ch=function(){Qo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vn.CheckBox.createAppearanceStream()};fa(ch,Qo);var Du=function(){Nl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,13)},set:function(e){e?this.Ff=xo(this.Ff,13):this.Ff=bo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,21)},set:function(e){e?this.Ff=xo(this.Ff,21):this.Ff=bo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,23)},set:function(e){e?this.Ff=xo(this.Ff,23):this.Ff=bo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,24)},set:function(e){e?this.Ff=xo(this.Ff,24):this.Ff=bo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,25)},set:function(e){e?this.Ff=xo(this.Ff,25):this.Ff=bo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,26)},set:function(e){e?this.Ff=xo(this.Ff,26):this.Ff=bo(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fa(Du,Nl);var uh=function(){Du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wo(this.Ff,14)},set:function(r){r?this.Ff=xo(this.Ff,14):this.Ff=bo(this.Ff,14)}}),this.password=!0};fa(uh,Du);var vn={CheckBox:{createAppearanceStream:function(){return{N:{On:vn.CheckBox.YesNormal},D:{On:vn.CheckBox.YesPushDown,Off:vn.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Jl(r);e.scope=r.scope;var t=[],o=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=O1(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+br(vn.internal.getWidth(r))+" "+br(vn.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+o+" "+br(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Jl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),a=[],s=vn.internal.getHeight(r),u=vn.internal.getWidth(r),l=O1(r,r.caption);return a.push("1 g"),a.push("0 0 "+br(u)+" "+br(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+br(u-1)+" "+br(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+br(l.fontSize)+" Tf "+o),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Jl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+br(vn.internal.getWidth(r))+" "+br(vn.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:vn.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=vn.RadioButton.Circle.YesNormal,e.D[r]=vn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Jl(r);e.scope=r.scope;var t=[],o=vn.internal.getWidth(r)<=vn.internal.getHeight(r)?vn.internal.getWidth(r)/4:vn.internal.getHeight(r)/4;o=Number((.9*o).toFixed(5));var a=vn.internal.Bezier_C,s=Number((o*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+iu(vn.internal.getWidth(r)/2)+" "+iu(vn.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),t.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),t.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),t.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Jl(r);e.scope=r.scope;var t=[],o=vn.internal.getWidth(r)<=vn.internal.getHeight(r)?vn.internal.getWidth(r)/4:vn.internal.getHeight(r)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),s=Number((a*vn.internal.Bezier_C).toFixed(5)),u=Number((o*vn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(vn.internal.getWidth(r)/2)+" "+iu(vn.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+iu(vn.internal.getWidth(r)/2)+" "+iu(vn.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+u+" "+u+" "+o+" 0 "+o+" c"),t.push("-"+u+" "+o+" -"+o+" "+u+" -"+o+" 0 c"),t.push("-"+o+" -"+u+" -"+u+" -"+o+" 0 -"+o+" c"),t.push(u+" -"+o+" "+o+" -"+u+" "+o+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Jl(r);e.scope=r.scope;var t=[],o=vn.internal.getWidth(r)<=vn.internal.getHeight(r)?vn.internal.getWidth(r)/4:vn.internal.getHeight(r)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),s=Number((a*vn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(vn.internal.getWidth(r)/2)+" "+iu(vn.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:vn.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=vn.RadioButton.Cross.YesNormal,e.D[r]=vn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Jl(r);e.scope=r.scope;var t=[],o=vn.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+br(vn.internal.getWidth(r)-2)+" "+br(vn.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(br(o.x1.x)+" "+br(o.x1.y)+" m"),t.push(br(o.x2.x)+" "+br(o.x2.y)+" l"),t.push(br(o.x4.x)+" "+br(o.x4.y)+" m"),t.push(br(o.x3.x)+" "+br(o.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Jl(r);e.scope=r.scope;var t=vn.internal.calculateCross(r),o=[];return o.push("0.749023 g"),o.push("0 0 "+br(vn.internal.getWidth(r))+" "+br(vn.internal.getHeight(r))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+br(vn.internal.getWidth(r)-2)+" "+br(vn.internal.getHeight(r)-2)+" re"),o.push("W"),o.push("n"),o.push(br(t.x1.x)+" "+br(t.x1.y)+" m"),o.push(br(t.x2.x)+" "+br(t.x2.y)+" l"),o.push(br(t.x4.x)+" "+br(t.x4.y)+" m"),o.push(br(t.x3.x)+" "+br(t.x3.y)+" l"),o.push("s"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=Jl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+br(vn.internal.getWidth(r))+" "+br(vn.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};vn.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=vn.internal.getWidth(r),t=vn.internal.getHeight(r),o=Math.min(e,t);return{x1:{x:(e-o)/2,y:(t-o)/2+o},x2:{x:(e-o)/2+o,y:(t-o)/2},x3:{x:(e-o)/2,y:(t-o)/2},x4:{x:(e-o)/2+o,y:(t-o)/2+o}}}},vn.internal.getWidth=function(r){var e=0;return Si(r)==="object"&&(e=uv(r.Rect[2])),e},vn.internal.getHeight=function(r){var e=0;return Si(r)==="object"&&(e=uv(r.Rect[3])),e};var Sk=mo.addField=function(r){if(_k(this,r),!(r instanceof Nl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};mo.AcroFormChoiceField=df,mo.AcroFormListBox=hf,mo.AcroFormComboBox=pf,mo.AcroFormEditBox=ah,mo.AcroFormButton=Qo,mo.AcroFormPushButton=lh,mo.AcroFormRadioButton=mf,mo.AcroFormCheckBox=ch,mo.AcroFormTextField=Du,mo.AcroFormPasswordField=uh,mo.AcroFormAppearance=vn,mo.AcroForm={ChoiceField:df,ListBox:hf,ComboBox:pf,EditBox:ah,Button:Qo,PushButton:lh,RadioButton:mf,CheckBox:ch,TextField:Du,PasswordField:uh,Appearance:vn},Fn.AcroForm={ChoiceField:df,ListBox:hf,ComboBox:pf,EditBox:ah,Button:Qo,PushButton:lh,RadioButton:mf,CheckBox:ch,TextField:Du,PasswordField:uh,Appearance:vn};Fn.AcroForm;function xw(r){return r.reduce(function(e,t,o){return e[t]=o,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(oe,B){var te,P,be,Ae,ge,xe=t;if((B=B||t)==="RGBA"||oe.data!==void 0&&oe.data instanceof Uint8ClampedArray&&"height"in oe&&"width"in oe)return"RGBA";if(re(oe))for(ge in o)for(be=o[ge],te=0;te<be.length;te+=1){for(Ae=!0,P=0;P<be[te].length;P+=1)if(be[te][P]!==void 0&&be[te][P]!==oe[P]){Ae=!1;break}if(Ae===!0){xe=ge;break}}else for(ge in o)for(be=o[ge],te=0;te<be.length;te+=1){for(Ae=!0,P=0;P<be[te].length;P+=1)if(be[te][P]!==void 0&&be[te][P]!==oe.charCodeAt(P)){Ae=!1;break}if(Ae===!0){xe=ge;break}}return xe===t&&B!==t&&(xe=B),xe},s=function oe(B){for(var te=this.internal.write,P=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:B.width}),Ae.push({key:"Height",value:B.height}),B.colorSpace===w.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===w.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var ge="",xe=0,ke=B.transparency.length;xe<ke;xe++)ge+=B.transparency[xe]+" "+B.transparency[xe]+" ";Ae.push({key:"Mask",value:"["+ge+"]"})}B.sMask!==void 0&&Ae.push({key:"SMask",value:B.objectId+1+" 0 R"});var Fe=B.filter!==void 0?["/"+B.filter]:void 0;if(P({data:B.data,additionalKeyValues:Ae,alreadyAppliedFilters:Fe,objectId:B.objectId}),te("endobj"),"sMask"in B&&B.sMask!==void 0){var J,C=(J=B.sMaskBitsPerComponent)!==null&&J!==void 0?J:B.bitsPerComponent,Z={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:B.sMask};"filter"in B&&(Z.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(B.width),Z.filter=B.filter),oe.call(this,Z)}if(B.colorSpace===w.INDEXED){var ne=this.internal.newObject();P({data:ie(new Uint8Array(B.palette)),objectId:ne}),te("endobj")}},u=function(){var oe=this.internal.collections[e+"images"];for(var B in oe)s.call(this,oe[B])},l=function(){var oe,B=this.internal.collections[e+"images"],te=this.internal.write;for(var P in B)te("/I"+(oe=B[P]).index,oe.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var oe=this.internal.collections[e+"images"];return f.call(this),oe},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},S=function(oe){return typeof r["process"+oe.toUpperCase()]=="function"},b=function(oe){return Si(oe)==="object"&&oe.nodeType===1},p=function(oe,B){if(oe.nodeName==="IMG"&&oe.hasAttribute("src")){var te=""+oe.getAttribute("src");if(te.indexOf("data:image/")===0)return sh(unescape(te).split("base64,").pop());var P=r.loadFile(te,!0);if(P!==void 0)return P}if(oe.nodeName==="CANVAS"){if(oe.width===0||oe.height===0)throw new Error("Given canvas must have data. Canvas width: "+oe.width+", height: "+oe.height);var be;switch(B){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return sh(oe.toDataURL(be,1).split("base64,").pop())}},j=function(oe){var B=this.internal.collections[e+"images"];if(B){for(var te in B)if(oe===B[te].alias)return B[te]}},N=function(oe,B,te){return oe||B||(oe=-96,B=-96),oe<0&&(oe=-1*te.width*72/oe/this.internal.scaleFactor),B<0&&(B=-1*te.height*72/B/this.internal.scaleFactor),oe===0&&(oe=B*te.width/te.height),B===0&&(B=oe*te.height/te.width),[oe,B]},A=function(oe,B,te,P,be,Ae){var ge=N.call(this,te,P,be),xe=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString,Fe=d.call(this);if(te=ge[0],P=ge[1],Fe[be.index]=be,Ae){Ae*=Math.PI/180;var J=Math.cos(Ae),C=Math.sin(Ae),Z=function(ye){return ye.toFixed(4)},ne=[Z(J),Z(C),Z(-1*C),Z(J),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,xe(oe),ke(B+P),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([xe(te),"0","0",xe(P),"0","0","cm"].join(" "))):this.internal.write([xe(te),"0","0",xe(P),xe(oe),ke(B+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},w=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=r.__addimage__.sHashCode=function(oe){var B,te,P=0;if(typeof oe=="string")for(te=oe.length,B=0;B<te;B++)P=(P<<5)-P+oe.charCodeAt(B),P|=0;else if(re(oe))for(te=oe.byteLength/2,B=0;B<te;B++)P=(P<<5)-P+oe[B],P|=0;return P},k=r.__addimage__.validateStringAsBase64=function(oe){(oe=oe||"").toString().trim();var B=!0;return oe.length===0&&(B=!1),oe.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(oe.substr(0,oe.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(oe.substr(-2))===!1&&(B=!1),B},G=r.__addimage__.extractImageFromDataUrl=function(oe){if(oe==null||!(oe=oe.trim()).startsWith("data:"))return null;var B=oe.indexOf(",");return B<0?null:oe.substring(0,B).trim().endsWith("base64")?oe.substring(B+1):null};r.__addimage__.isArrayBuffer=function(oe){return oe instanceof ArrayBuffer};var re=r.__addimage__.isArrayBufferView=function(oe){return oe instanceof Int8Array||oe instanceof Uint8Array||oe instanceof Uint8ClampedArray||oe instanceof Int16Array||oe instanceof Uint16Array||oe instanceof Int32Array||oe instanceof Uint32Array||oe instanceof Float32Array||oe instanceof Float64Array},Q=r.__addimage__.binaryStringToUint8Array=function(oe){for(var B=oe.length,te=new Uint8Array(B),P=0;P<B;P++)te[P]=oe.charCodeAt(P);return te},ie=r.__addimage__.arrayBufferToBinaryString=function(oe){for(var B="",te=re(oe)?oe:new Uint8Array(oe),P=0;P<te.length;P+=8192)B+=String.fromCharCode.apply(null,te.subarray(P,P+8192));return B};r.addImage=function(){var oe,B,te,P,be,Ae,ge,xe,ke;if(typeof arguments[1]=="number"?(B=t,te=arguments[1],P=arguments[2],be=arguments[3],Ae=arguments[4],ge=arguments[5],xe=arguments[6],ke=arguments[7]):(B=arguments[1],te=arguments[2],P=arguments[3],be=arguments[4],Ae=arguments[5],ge=arguments[6],xe=arguments[7],ke=arguments[8]),Si(oe=arguments[0])==="object"&&!b(oe)&&"imageData"in oe){var Fe=oe;oe=Fe.imageData,B=Fe.format||B||t,te=Fe.x||te||0,P=Fe.y||P||0,be=Fe.w||Fe.width||be,Ae=Fe.h||Fe.height||Ae,ge=Fe.alias||ge,xe=Fe.compression||xe,ke=Fe.rotation||Fe.angle||ke}var J=this.internal.getFilters();if(xe===void 0&&J.indexOf("FlateEncode")!==-1&&(xe="SLOW"),isNaN(te)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var C=U.call(this,oe,B,ge,xe);return A.call(this,te,P,be,Ae,C,ke),this};var U=function(oe,B,te,P){var be,Ae,ge;if(typeof oe=="string"&&a(oe)===t){oe=unescape(oe);var xe=le(oe,!1);(xe!==""||(xe=r.loadFile(oe,!0))!==void 0)&&(oe=xe)}if(b(oe)&&(oe=p(oe,B)),B=a(oe,B),!S(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((ge=te)==null||ge.length===0)&&(te=(function(ke){return typeof ke=="string"||re(ke)?R(ke):re(ke.data)?R(ke.data):null})(oe)),(be=j.call(this,te))||(oe instanceof Uint8Array||B==="RGBA"||(Ae=oe,oe=Q(oe)),be=this["process"+B.toUpperCase()](oe,h.call(this),te,(function(ke){return ke&&typeof ke=="string"&&(ke=ke.toUpperCase()),ke in r.image_compression?ke:I.NONE})(P),Ae)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},le=r.__addimage__.convertBase64ToBinaryString=function(oe,B){B=typeof B!="boolean"||B;var te,P="";if(typeof oe=="string"){var be;te=(be=G(oe))!==null&&be!==void 0?be:oe;try{P=sh(te)}catch(Ae){if(B)throw k(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};r.getImageProperties=function(oe){var B,te,P="";if(b(oe)&&(oe=p(oe)),typeof oe=="string"&&a(oe)===t&&((P=le(oe,!1))===""&&(P=r.loadFile(oe)||""),oe=P),te=a(oe),!S(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(oe instanceof Uint8Array||(oe=Q(oe)),!(B=this["process"+te.toUpperCase()](oe)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=te,B}})(Fn.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Fn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var o,a,s,u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,h=!1,S=0;S<d.length&&!h;S++)switch((o=d[S]).type){case"link":(e(o.options.url)||e(o.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){o=d[b];var p=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(N.objId),I=o.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(o.bounds.x)+" "+l(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w)+" "+l(o.bounds.y)+"] ")+"/Contents ("+p(w(o.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+p(w(I))+") >>",N.content=s;var R=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(o.bounds.x+30)+" "+l(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w+30)+" "+l(o.bounds.y)+"] ")+" /Parent "+R,o.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(N.objId,"0 R",A.objId,"0 R");break;case"freetext":a="/Rect ["+u(o.bounds.x)+" "+l(o.bounds.y)+" "+u(o.bounds.x+o.bounds.w)+" "+l(o.bounds.y+o.bounds.h)+"] ";var k=o.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(j(o.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(o.options.name){var G=this.annotations._nameMap[o.options.name];o.options.pageNumber=G.page,o.options.top=G.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",s="",o.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(j(o.options.url))+") >>";else if(o.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,s+=" /FitV "+o.options.left+"]";break;default:var re=l(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),s+=" /XYZ "+o.options.left+" "+re+" "+o.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var o=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":o.pageContext.annotations.push(t)}},r.link=function(t,o,a,s,u){var l=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:f(t),y:d(o),w:f(t+a),h:d(o+s)},options:u,type:"link"})},r.textWithLink=function(t,o,a,s){var u,l,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var h=this.splitTextToSize(t,l).length;u=Math.ceil(d*h)}else l=f,u=d;return this.text(t,o,a,s),a+=.2*d,s.align==="center"&&(o-=f/2),s.align==="right"&&(o-=f),this.link(o,a-d,l,u,s),f},r.getTextWidth=function(t){var o=this.internal.getFontSize();return this.getStringUnitWidth(t)*o/this.internal.scaleFactor}})(Fn.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=r.__arabicParser__.isArabicEndLetter=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(N){return u(N)&&a.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var h=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length==4},S=r.__arabicParser__.resolveLigatures=function(N){var A=0,w=t,I="",R=0;for(A=0;A<N.length;A+=1)w[N.charCodeAt(A)]!==void 0?(R++,typeof(w=w[N.charCodeAt(A)])=="number"&&(I+=String.fromCharCode(w),w=t,R=0),A===N.length-1&&(w=t,I+=N.charAt(A-(R-1)),A-=R-1,R=0)):(w=t,I+=N.charAt(A-R),A-=R,R=0);return I};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&o[N.charCodeAt(0)]!==void 0};var b=r.__arabicParser__.getCorrectForm=function(N,A,w){return u(N)?s(N)===!1?-1:!d(N)||!u(A)&&!u(w)||!u(w)&&l(A)||l(N)&&!u(A)||l(N)&&f(A)||l(N)&&l(A)?0:h(N)&&u(A)&&!l(A)&&u(w)&&d(w)?3:l(N)||!u(w)?1:2:-1},p=function(N){var A=0,w=0,I=0,R="",k="",G="",re=(N=N||"").split("\\s+"),Q=[];for(A=0;A<re.length;A+=1){for(Q.push(""),w=0;w<re[A].length;w+=1)R=re[A][w],k=re[A][w-1],G=re[A][w+1],u(R)?(I=b(R,k,G),Q[A]+=I!==-1?String.fromCharCode(e[R.charCodeAt(0)][I]):R):Q[A]+=R;Q[A]=S(Q[A])}return Q.join(" ")},j=r.__arabicParser__.processArabic=r.processArabic=function(){var N,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var I=0;for(w=[],I=0;I<A.length;I+=1)Array.isArray(A[I])?w.push([p(A[I][0]),A[I][1],A[I][2]]):w.push([p(A[I])]);N=w}else N=p(A);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",j])})(Fn.API),Fn.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(l){o=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(l){u=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,o){var a;if((t=t||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Fn.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(N){S=N}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(N){j=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return o.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){o.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),S=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,p=0,j=0,N=0,A=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var w=d.maxWidth;w>0?typeof f=="string"?f=this.splitTextToSize(f,w):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(R,k){return R.concat(A.splitTextToSize(k,w))},[])):f=Array.isArray(f)?f:[f];for(var I=0;I<f.length;I++)p<(N=this.getStringUnitWidth(f[I],{font:S})*h)&&(p=N);return p!==0&&(j=f.length),{w:p/=b,h:Math.max((j*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},r.cellAddPage=function(){o.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),o.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,S=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=S.top,p&&b&&(this.printHeaderRow(f.lineNumber,!0),f.y+=b[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-h,f.y+h,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+h,{align:"center",baseline:"top",maxWidth:f.width-h-h}):this.text(f.text,f.x+h,f.y+h,{align:"left",baseline:"top",maxWidth:f.width-h-h})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,h,S,b){if(o.call(this),!h)throw new Error("No data for PDF table.");var p,j,N,A,w=[],I=[],R=[],k={},G={},re=[],Q=[],ie=(b=b||{}).autoSize||!1,U=b.printHeaders!==!1,le=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,oe=b.margins||Object.assign({width:this.getPageWidth()},e),B=typeof b.padding=="number"?b.padding:3,te=b.headerBackgroundColor||"#c8c8c8",P=b.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=oe,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=P,this.setFontSize(le),S==null)I=w=Object.keys(h[0]),R=w.map(function(){return"left"});else if(Array.isArray(S)&&Si(S[0])==="object")for(w=S.map(function(Fe){return Fe.name}),I=S.map(function(Fe){return Fe.prompt||Fe.name||""}),R=S.map(function(Fe){return Fe.align||"left"}),p=0;p<S.length;p+=1)G[S[p].name]=.7499990551181103*S[p].width;else Array.isArray(S)&&typeof S[0]=="string"&&(I=w=S,R=w.map(function(){return"left"}));if(ie||Array.isArray(S)&&typeof S[0]=="string")for(p=0;p<w.length;p+=1){for(k[A=w[p]]=h.map(function(Fe){return Fe[A]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(I[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=k[A],this.setFont(void 0,"normal"),N=0;N<j.length;N+=1)re.push(this.getTextDimensions(j[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[A]=Math.max.apply(null,re)+B+B,re=[]}if(U){var be={};for(p=0;p<w.length;p+=1)be[w[p]]={},be[w[p]].text=I[p],be[w[p]].align=R[p];var Ae=l.call(this,be,G);Q=w.map(function(Fe){return new s(f,d,G[Fe],Ae,be[Fe].text,void 0,be[Fe].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var ge=S.reduce(function(Fe,J){return Fe[J.name]=J.align,Fe},{});for(p=0;p<h.length;p+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:p,data:h[p]},this);var xe=l.call(this,h[p],G);for(N=0;N<w.length;N+=1){var ke=h[p][w[N]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:p,col:N,data:ke},this),u.call(this,new s(f,d,G[w[N]],xe,ke,p+2,ge[w[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var l=function(f,d){var h=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(f).map(function(p){var j=f[p];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,d[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*S/b+h+h},this).reduce(function(p,j){return Math.max(p,j)},0)};r.setTableHeaderRow=function(f){o.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,h),this.setTextColor(j)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(Fn.API);var bw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_w=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F1=xw(_w),Sw=[100,200,300,400,500,600,700,800,900],kk=xw(Sw);function d1(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return bw[s=s||"normal"]?s:"normal"})(r.style),o=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),a=(function(s){return typeof F1[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:o,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,o].join(" ")}}}function fv(r,e,t,o){var a;for(a=t;a>=0&&a<e.length;a+=o)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=o)if(r[e[a]])return r[e[a]]}var Ak={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hv(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function pv(r){return r.trimLeft()}function Nk(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Ek(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Yd,mv,gv,Zu,Jd,yv,vv,wv,h1=["times"];function xv(r,e,t,o,a){var s=4,u=_v;switch(a){case Fn.API.image_compression.FAST:s=1,u=bv;break;case Fn.API.image_compression.MEDIUM:s=6,u=Sv;break;case Fn.API.image_compression.SLOW:s=9,u=kv}r=(function(f,d,h,S){for(var b,p=f.length/d,j=new Uint8Array(f.length+p),N=[Tk,bv,_v,Sv,kv],A=0;A<p;A+=1){var w=A*d,I=f.subarray(w,w+d);if(S)j.set(S(I,h,b),w+A);else{for(var R=N.length,k=[],G=0;G<R;G+=1)k[G]=N[G](I,h,b);var re=Lk(k.concat());j.set(k[re],w+A)}b=I}return j})(r,e,Math.ceil(t*o/8),u);var l=L1(r,{level:s});return Fn.API.__addimage__.arrayBufferToBinaryString(l)}function Tk(r){var e=Array.apply([],r);return e.unshift(0),e}function bv(r,e){var t=r.length,o=[];o[0]=1;for(var a=0;a<t;a+=1){var s=r[a-e]||0;o[a+1]=r[a]-s+256&255}return o}function _v(r,e,t){var o=r.length,a=[];a[0]=2;for(var s=0;s<o;s+=1){var u=t&&t[s]||0;a[s+1]=r[s]-u+256&255}return a}function Sv(r,e,t){var o=r.length,a=[];a[0]=3;for(var s=0;s<o;s+=1){var u=r[s-e]||0,l=t&&t[s]||0;a[s+1]=r[s]+256-(u+l>>>1)&255}return a}function kv(r,e,t){var o=r.length,a=[];a[0]=4;for(var s=0;s<o;s+=1){var u=Ck(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);a[s+1]=r[s]-u+256&255}return a}function Ck(r,e,t){if(r===e&&e===t)return r;var o=Math.abs(e-t),a=Math.abs(r-t),s=Math.abs(r+e-t-t);return o<=a&&o<=s?r:a<=s?e:t}function Lk(r){var e=r.map(function(t){return t.reduce(function(o,a){return o+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function p1(r,e,t){var o=e*t,a=Math.floor(o/8),s=16-(o-8*a+t),u=(1<<t)-1;return kw(r,a)>>s&u}function Av(r,e,t,o){var a=t*o,s=Math.floor(a/8),u=16-(a-8*s+o),l=(1<<o)-1,f=(e&l)<<u;(function(d,h,S){if(h+1<d.byteLength)d.setUint16(h,S,!1);else{var b=S>>8&255;d.setUint8(h,b)}})(r,s,kw(r,s)&~(l<<u)&65535|f)}function kw(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Rk(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,o=r[e++]|r[e++]<<8,a=r[e++],s=a>>7,u=1<<1+(7&a);r[e++],r[e++];var l=null,f=null;s&&(l=e,f=u,e+=3*u);var d=!0,h=[],S=0,b=null,p=0,j=null;for(this.width=t,this.height=o;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,j=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((oe=r[e++])>=0))throw Error("Invalid block size");if(oe===0)break;e+=oe}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];S=r[e++]|r[e++]<<8,b=r[e++],1&N||(b=null),p=N>>2&7,e++;break;case 254:for(;;){if(!((oe=r[e++])>=0))throw Error("Invalid block size");if(oe===0)break;e+=oe}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var A=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,I=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,k=r[e++],G=k>>6&1,re=1<<1+(7&k),Q=l,ie=f,U=!1;k>>7&&(U=!0,Q=e,ie=re,e+=3*re);var le=e;for(e++;;){var oe;if(!((oe=r[e++])>=0))throw Error("Invalid block size");if(oe===0)break;e+=oe}h.push({x:A,y:w,width:I,height:R,has_local_palette:U,palette_offset:Q,palette_size:ie,data_offset:le,data_length:e-le,transparent_index:b,interlaced:!!G,delay:S,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return j},this.frameInfo=function(B){if(B<0||B>=h.length)throw new Error("Frame index out of range.");return h[B]},this.decodeAndBlitFrameBGRA=function(B,te){var P=this.frameInfo(B),be=P.width*P.height,Ae=new Uint8Array(be);Nv(r,P.data_offset,Ae,be);var ge=P.palette_offset,xe=P.transparent_index;xe===null&&(xe=256);var ke=P.width,Fe=t-ke,J=ke,C=4*(P.y*t+P.x),Z=4*((P.y+P.height)*t+P.x),ne=C,ye=4*Fe;P.interlaced===!0&&(ye+=4*t*7);for(var ae=8,M=0,z=Ae.length;M<z;++M){var fe=Ae[M];if(J===0&&(J=ke,(ne+=ye)>=Z&&(ye=4*Fe+4*t*(ae-1),ne=C+(ke+Fe)*(ae<<1),ae>>=1)),fe===xe)ne+=4;else{var de=r[ge+3*fe],se=r[ge+3*fe+1],pe=r[ge+3*fe+2];te[ne++]=pe,te[ne++]=se,te[ne++]=de,te[ne++]=255}--J}},this.decodeAndBlitFrameRGBA=function(B,te){var P=this.frameInfo(B),be=P.width*P.height,Ae=new Uint8Array(be);Nv(r,P.data_offset,Ae,be);var ge=P.palette_offset,xe=P.transparent_index;xe===null&&(xe=256);var ke=P.width,Fe=t-ke,J=ke,C=4*(P.y*t+P.x),Z=4*((P.y+P.height)*t+P.x),ne=C,ye=4*Fe;P.interlaced===!0&&(ye+=4*t*7);for(var ae=8,M=0,z=Ae.length;M<z;++M){var fe=Ae[M];if(J===0&&(J=ke,(ne+=ye)>=Z&&(ye=4*Fe+4*t*(ae-1),ne=C+(ke+Fe)*(ae<<1),ae>>=1)),fe===xe)ne+=4;else{var de=r[ge+3*fe],se=r[ge+3*fe+1],pe=r[ge+3*fe+2];te[ne++]=de,te[ne++]=se,te[ne++]=pe,te[ne++]=255}--J}}}function Nv(r,e,t,o){for(var a=r[e++],s=1<<a,u=s+1,l=u+1,f=a+1,d=(1<<f)-1,h=0,S=0,b=0,p=r[e++],j=new Int32Array(4096),N=null;;){for(;h<16&&p!==0;)S|=r[e++]<<h,h+=8,p===1?p=r[e++]:--p;if(h<f)break;var A=S&d;if(S>>=f,h-=f,A!==s){if(A===u)break;for(var w=A<l?A:N,I=0,R=w;R>s;)R=j[R]>>8,++I;var k=R;if(b+I+(w!==A?1:0)>o)return void Di.log("Warning, gif stream longer than expected.");t[b++]=k;var G=b+=I;for(w!==A&&(t[b++]=k),R=w;I--;)R=j[R],t[--G]=255&R,R>>=8;N!==null&&l<4096&&(j[l++]=N<<8|k,l>=d+1&&f<12&&(++f,d=d<<1|1)),N=A}else l=u+1,d=(1<<(f=a+1))-1,N=null}return b!==o&&Di.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function m1(r){var e,t,o,a,s,u=Math.floor,l=new Array(64),f=new Array(64),d=new Array(64),h=new Array(64),S=new Array(65535),b=new Array(65535),p=new Array(64),j=new Array(64),N=[],A=0,w=7,I=new Array(64),R=new Array(64),k=new Array(64),G=new Array(256),re=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ie=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],oe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(C,Z){for(var ne=0,ye=0,ae=new Array,M=1;M<=16;M++){for(var z=1;z<=C[M];z++)ae[Z[ye]]=[],ae[Z[ye]][0]=ne,ae[Z[ye]][1]=M,ye++,ne++;ne*=2}return ae}function ge(C){for(var Z=C[0],ne=C[1]-1;ne>=0;)Z&1<<ne&&(A|=1<<w),ne--,--w<0&&(A==255?(xe(255),xe(0)):xe(A),w=7,A=0)}function xe(C){N.push(C)}function ke(C){xe(C>>8&255),xe(255&C)}function Fe(C,Z,ne,ye,ae){for(var M,z=ae[0],fe=ae[240],de=(function(q,Se){var Ce,Ee,Ue,ft,ot,lt,Nt,Ot,Kt,xn,Bt=0;for(Kt=0;Kt<8;++Kt){Ce=q[Bt],Ee=q[Bt+1],Ue=q[Bt+2],ft=q[Bt+3],ot=q[Bt+4],lt=q[Bt+5],Nt=q[Bt+6];var pr=Ce+(Ot=q[Bt+7]),mn=Ce-Ot,Un=Ee+Nt,Vn=Ee-Nt,bn=Ue+lt,en=Ue-lt,Hr=ft+ot,jn=ft-ot,Ln=pr+Hr,kr=pr-Hr,on=Un+bn,pn=Un-bn;q[Bt]=Ln+on,q[Bt+4]=Ln-on;var zr=.707106781*(pn+kr);q[Bt+2]=kr+zr,q[Bt+6]=kr-zr;var _s=.382683433*((Ln=jn+en)-(pn=Vn+mn)),ao=.5411961*Ln+_s,ko=1.306562965*pn+_s,Mo=.707106781*(on=en+Vn),Nn=mn+Mo,zo=mn-Mo;q[Bt+5]=zo+ao,q[Bt+3]=zo-ao,q[Bt+1]=Nn+ko,q[Bt+7]=Nn-ko,Bt+=8}for(Bt=0,Kt=0;Kt<8;++Kt){Ce=q[Bt],Ee=q[Bt+8],Ue=q[Bt+16],ft=q[Bt+24],ot=q[Bt+32],lt=q[Bt+40],Nt=q[Bt+48];var es=Ce+(Ot=q[Bt+56]),ki=Ce-Ot,Oi=Ee+Nt,Pr=Ee-Nt,Qr=Ue+lt,er=Ue-lt,$o=ft+ot,ts=ft-ot,$e=es+$o,He=es-$o,ht=Oi+Qr,Ht=Oi-Qr;q[Bt]=$e+ht,q[Bt+32]=$e-ht;var tn=.707106781*(Ht+He);q[Bt+16]=He+tn,q[Bt+48]=He-tn;var $t=.382683433*(($e=ts+er)-(Ht=Pr+ki)),an=.5411961*$e+$t,Rn=1.306562965*Ht+$t,qn=.707106781*(ht=er+Pr),Gr=ki+qn,Vr=ki-qn;q[Bt+40]=Vr+an,q[Bt+24]=Vr-an,q[Bt+8]=Gr+Rn,q[Bt+56]=Gr-Rn,Bt++}for(Kt=0;Kt<64;++Kt)xn=q[Kt]*Se[Kt],p[Kt]=xn>0?xn+.5|0:xn-.5|0;return p})(C,Z),se=0;se<64;++se)j[Q[se]]=de[se];var pe=j[0]-ne;ne=j[0],pe==0?ge(ye[0]):(ge(ye[b[M=32767+pe]]),ge(S[M]));for(var Be=63;Be>0&&j[Be]==0;)Be--;if(Be==0)return ge(z),ne;for(var H,ee=1;ee<=Be;){for(var X=ee;j[ee]==0&&ee<=Be;)++ee;var T=ee-X;if(T>=16){H=T>>4;for(var L=1;L<=H;++L)ge(fe);T&=15}M=32767+j[ee],ge(ae[(T<<4)+b[M]]),ge(S[M]),ee++}return Be!=63&&ge(z),ne}function J(C){C=Math.min(Math.max(C,1),100),s!=C&&((function(Z){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ye=0;ye<64;ye++){var ae=u((ne[ye]*Z+50)/100);ae=Math.min(Math.max(ae,1),255),l[Q[ye]]=ae}for(var M=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var fe=u((M[z]*Z+50)/100);fe=Math.min(Math.max(fe,1),255),f[Q[z]]=fe}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],se=0,pe=0;pe<8;pe++)for(var Be=0;Be<8;Be++)d[se]=1/(l[Q[se]]*de[pe]*de[Be]*8),h[se]=1/(f[Q[se]]*de[pe]*de[Be]*8),se++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,Z){Z&&J(Z),N=new Array,A=0,w=7,ke(65496),ke(65504),ke(16),xe(74),xe(70),xe(73),xe(70),xe(0),xe(1),xe(1),xe(0),ke(1),ke(1),xe(0),xe(0),(function(){ke(65499),ke(132),xe(0);for(var Ee=0;Ee<64;Ee++)xe(l[Ee]);xe(1);for(var Ue=0;Ue<64;Ue++)xe(f[Ue])})(),(function(Ee,Ue){ke(65472),ke(17),xe(8),ke(Ue),ke(Ee),xe(3),xe(1),xe(17),xe(0),xe(2),xe(17),xe(1),xe(3),xe(17),xe(1)})(C.width,C.height),(function(){ke(65476),ke(418),xe(0);for(var Ee=0;Ee<16;Ee++)xe(ie[Ee+1]);for(var Ue=0;Ue<=11;Ue++)xe(U[Ue]);xe(16);for(var ft=0;ft<16;ft++)xe(le[ft+1]);for(var ot=0;ot<=161;ot++)xe(oe[ot]);xe(1);for(var lt=0;lt<16;lt++)xe(B[lt+1]);for(var Nt=0;Nt<=11;Nt++)xe(te[Nt]);xe(17);for(var Ot=0;Ot<16;Ot++)xe(P[Ot+1]);for(var Kt=0;Kt<=161;Kt++)xe(be[Kt])})(),ke(65498),ke(12),xe(3),xe(1),xe(0),xe(2),xe(17),xe(3),xe(17),xe(0),xe(63),xe(0);var ne=0,ye=0,ae=0;A=0,w=7,this.encode.displayName="_encode_";for(var M,z,fe,de,se,pe,Be,H,ee,X=C.data,T=C.width,L=C.height,q=4*T,Se=0;Se<L;){for(M=0;M<q;){for(se=q*Se+M,Be=-1,H=0,ee=0;ee<64;ee++)pe=se+(H=ee>>3)*q+(Be=4*(7&ee)),Se+H>=L&&(pe-=q*(Se+1+H-L)),M+Be>=q&&(pe-=M+Be-q+4),z=X[pe++],fe=X[pe++],de=X[pe++],I[ee]=(re[z]+re[fe+256|0]+re[de+512|0]>>16)-128,R[ee]=(re[z+768|0]+re[fe+1024|0]+re[de+1280|0]>>16)-128,k[ee]=(re[z+1280|0]+re[fe+1536|0]+re[de+1792|0]>>16)-128;ne=Fe(I,d,ne,e,o),ye=Fe(R,h,ye,t,a),ae=Fe(k,h,ae,t,a),M+=32}Se+=8}if(w>=0){var Ce=[];Ce[1]=w+1,Ce[0]=(1<<w+1)-1,ge(Ce)}return ke(65497),new Uint8Array(N)},r=r||50,(function(){for(var C=String.fromCharCode,Z=0;Z<256;Z++)G[Z]=C(Z)})(),e=Ae(ie,U),t=Ae(B,te),o=Ae(le,oe),a=Ae(P,be),(function(){for(var C=1,Z=2,ne=1;ne<=15;ne++){for(var ye=C;ye<Z;ye++)b[32767+ye]=ne,S[32767+ye]=[],S[32767+ye][1]=ne,S[32767+ye][0]=ye;for(var ae=-(Z-1);ae<=-C;ae++)b[32767+ae]=ne,S[32767+ae]=[],S[32767+ae][1]=ne,S[32767+ae][0]=Z-1+ae;C<<=1,Z<<=1}})(),(function(){for(var C=0;C<256;C++)re[C]=19595*C,re[C+256|0]=38470*C,re[C+512|0]=7471*C+32768,re[C+768|0]=-11059*C,re[C+1024|0]=-21709*C,re[C+1280|0]=32768*C+8421375,re[C+1536|0]=-27439*C,re[C+1792|0]=-5329*C})(),J(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _l(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ev(r){function e(U){if(!U)throw Error("assert :P")}function t(U,le,oe){for(var B=0;4>B;B++)if(U[le+B]!=oe.charCodeAt(B))return!0;return!1}function o(U,le,oe,B,te){for(var P=0;P<te;P++)U[le+P]=oe[B+P]}function a(U,le,oe,B){for(var te=0;te<B;te++)U[le+te]=oe}function s(U){return new Int32Array(U)}function u(U,le){for(var oe=[],B=0;B<U;B++)oe.push(new le);return oe}function l(U,le){var oe=[];return(function B(te,P,be){for(var Ae=be[P],ge=0;ge<Ae&&(te.push(be.length>P+1?[]:new le),!(be.length<P+1));ge++)B(te[ge],P+1,be)})(oe,0,U),oe}var f=function(){var U=this;function le(m,_){for(var W=1<<_-1>>>0;m&W;)W>>>=1;return W?(m&W-1)+W:m}function oe(m,_,W,Y,he){e(!(Y%W));do m[_+(Y-=W)]=he;while(0<Y)}function B(m,_,W,Y,he){if(e(2328>=he),512>=he)var we=s(512);else if((we=s(he))==null)return 0;return(function(_e,Ne,Te,Re,Ge,nt){var Ie,Ye,et=Ne,vt=1<<Te,it=s(16),gt=s(16);for(e(Ge!=0),e(Re!=null),e(_e!=null),e(0<Te),Ye=0;Ye<Ge;++Ye){if(15<Re[Ye])return 0;++it[Re[Ye]]}if(it[0]==Ge)return 0;for(gt[1]=0,Ie=1;15>Ie;++Ie){if(it[Ie]>1<<Ie)return 0;gt[Ie+1]=gt[Ie]+it[Ie]}for(Ye=0;Ye<Ge;++Ye)Ie=Re[Ye],0<Re[Ye]&&(nt[gt[Ie]++]=Ye);if(gt[15]==1)return(Re=new te).g=0,Re.value=nt[0],oe(_e,et,1,vt,Re),vt;var yt,_t=-1,St=vt-1,gn=0,nn=1,or=1,ln=1<<Te;for(Ye=0,Ie=1,Ge=2;Ie<=Te;++Ie,Ge<<=1){if(nn+=or<<=1,0>(or-=it[Ie]))return 0;for(;0<it[Ie];--it[Ie])(Re=new te).g=Ie,Re.value=nt[Ye++],oe(_e,et+gn,Ge,ln,Re),gn=le(gn,Ie)}for(Ie=Te+1,Ge=2;15>=Ie;++Ie,Ge<<=1){if(nn+=or<<=1,0>(or-=it[Ie]))return 0;for(;0<it[Ie];--it[Ie]){if(Re=new te,(gn&St)!=_t){for(et+=ln,yt=1<<(_t=Ie)-Te;15>_t&&!(0>=(yt-=it[_t]));)++_t,yt<<=1;vt+=ln=1<<(yt=_t-Te),_e[Ne+(_t=gn&St)].g=yt+Te,_e[Ne+_t].value=et-Ne-_t}Re.g=Ie-Te,Re.value=nt[Ye++],oe(_e,et+(gn>>Te),Ge,ln,Re),gn=le(gn,Ie)}}return nn!=2*gt[15]-1?0:vt})(m,_,W,Y,he,we)}function te(){this.value=this.g=0}function P(){this.value=this.g=0}function be(){this.G=u(5,te),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(ks,P)}function Ae(m,_,W,Y){e(m!=null),e(_!=null),e(2147483648>Y),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=W,m.Jd=_,m.Yc=W+Y,m.Zc=4<=Y?W+Y-4+1:W,z(m)}function ge(m,_){for(var W=0;0<_--;)W|=de(m,128)<<_;return W}function xe(m,_){var W=ge(m,_);return fe(m)?-W:W}function ke(m,_,W,Y){var he,we=0;for(e(m!=null),e(_!=null),e(4294967288>Y),m.Sb=Y,m.Ra=0,m.u=0,m.h=0,4<Y&&(Y=4),he=0;he<Y;++he)we+=_[W+he]<<8*he;m.Ra=we,m.bb=Y,m.oa=_,m.pa=W}function Fe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<wa-8>>>0,++m.bb,m.u-=8;ye(m)&&(m.h=1,m.u=0)}function J(m,_){if(e(0<=_),!m.h&&_<=Co){var W=ne(m)&fs[_];return m.u+=_,Fe(m),W}return m.h=1,m.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(m){return m.Ra>>>(m.u&wa-1)>>>0}function ye(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>wa}function ae(m,_){m.u=_,m.h=ye(m)}function M(m){m.u>=Wo&&(e(m.u>=Wo),Fe(m))}function z(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function fe(m){return ge(m,1)}function de(m,_){var W=m.Ca;0>m.b&&z(m);var Y=m.b,he=W*_>>>8,we=(m.I>>>Y>he)+0;for(we?(W-=he,m.I-=he+1<<Y>>>0):W=he+1,Y=W,he=0;256<=Y;)he+=8,Y>>=8;return Y=7^he+ea[Y],m.b-=Y,m.Ca=(W<<Y)-1,we}function se(m,_,W){m[_+0]=W>>24&255,m[_+1]=W>>16&255,m[_+2]=W>>8&255,m[_+3]=255&W}function pe(m,_){return m[_+0]|m[_+1]<<8}function Be(m,_){return pe(m,_)|m[_+2]<<16}function H(m,_){return pe(m,_)|pe(m,_+2)<<16}function ee(m,_){var W=1<<_;return e(m!=null),e(0<_),m.X=s(W),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function X(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),o(_.X,0,m.X,0,1<<_.Xa)}function T(){this.X=[],this.Xa=this.Mb=0}function L(m,_,W,Y){e(W!=null),e(Y!=null);var he=W[0],we=Y[0];return he==0&&(he=(m*we+_/2)/_),we==0&&(we=(_*he+m/2)/m),0>=he||0>=we?0:(W[0]=he,Y[0]=we,1)}function q(m,_){return m+(1<<_)-1>>>_}function Se(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function Ce(m,_){U[_]=function(W,Y,he,we,_e,Ne,Te){var Re;for(Re=0;Re<_e;++Re){var Ge=U[m](Ne[Te+Re-1],he,we+Re);Ne[Te+Re]=Se(W[Y+Re],Ge)}}}function Ee(){this.ud=this.hd=this.jd=0}function Ue(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function ft(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function ot(m,_){return ft(m+(m-_+.5>>1))}function lt(m,_,W){return Math.abs(_-W)-Math.abs(m-W)}function Nt(m,_,W,Y,he,we,_e){for(Y=we[_e-1],W=0;W<he;++W)we[_e+W]=Y=Se(m[_+W],Y)}function Ot(m,_,W,Y,he){var we;for(we=0;we<W;++we){var _e=m[_+we],Ne=_e>>8&255,Te=16711935&(Te=(Te=16711935&_e)+((Ne<<16)+Ne));Y[he+we]=(4278255360&_e)+Te>>>0}}function Kt(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function xn(m,_,W,Y,he,we){var _e;for(_e=0;_e<Y;++_e){var Ne=_[W+_e],Te=Ne>>>8,Re=Ne,Ge=255&(Ge=(Ge=Ne>>>16)+((m.jd<<24>>24)*(Te<<24>>24)>>>5));Re=255&(Re=(Re+=(m.hd<<24>>24)*(Te<<24>>24)>>>5)+((m.ud<<24>>24)*(Ge<<24>>24)>>>5)),he[we+_e]=(4278255360&Ne)+(Ge<<16)+Re}}function Bt(m,_,W,Y,he){U[_]=function(we,_e,Ne,Te,Re,Ge,nt,Ie,Ye){for(Te=nt;Te<Ie;++Te)for(nt=0;nt<Ye;++nt)Re[Ge++]=he(Ne[Y(we[_e++])])},U[m]=function(we,_e,Ne,Te,Re,Ge,nt){var Ie=8>>we.b,Ye=we.Ea,et=we.K[0],vt=we.w;if(8>Ie)for(we=(1<<we.b)-1,vt=(1<<Ie)-1;_e<Ne;++_e){var it,gt=0;for(it=0;it<Ye;++it)it&we||(gt=Y(Te[Re++])),Ge[nt++]=he(et[gt&vt]),gt>>=Ie}else U["VP8LMapColor"+W](Te,Re,et,vt,Ge,nt,_e,Ne,Ye)}}function pr(m,_,W,Y,he){for(W=_+W;_<W;){var we=m[_++];Y[he++]=we>>16&255,Y[he++]=we>>8&255,Y[he++]=255&we}}function mn(m,_,W,Y,he){for(W=_+W;_<W;){var we=m[_++];Y[he++]=we>>16&255,Y[he++]=we>>8&255,Y[he++]=255&we,Y[he++]=we>>24&255}}function Un(m,_,W,Y,he){for(W=_+W;_<W;){var we=(_e=m[_++])>>16&240|_e>>12&15,_e=240&_e|_e>>28&15;Y[he++]=we,Y[he++]=_e}}function Vn(m,_,W,Y,he){for(W=_+W;_<W;){var we=(_e=m[_++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;Y[he++]=we,Y[he++]=_e}}function bn(m,_,W,Y,he){for(W=_+W;_<W;){var we=m[_++];Y[he++]=255&we,Y[he++]=we>>8&255,Y[he++]=we>>16&255}}function en(m,_,W,Y,he,we){if(we==0)for(W=_+W;_<W;)se(Y,((we=m[_++])[0]>>24|we[1]>>8&65280|we[2]<<8&16711680|we[3]<<24)>>>0),he+=32;else o(Y,he,m,_,W)}function Hr(m,_){U[_][0]=U[m+"0"],U[_][1]=U[m+"1"],U[_][2]=U[m+"2"],U[_][3]=U[m+"3"],U[_][4]=U[m+"4"],U[_][5]=U[m+"5"],U[_][6]=U[m+"6"],U[_][7]=U[m+"7"],U[_][8]=U[m+"8"],U[_][9]=U[m+"9"],U[_][10]=U[m+"10"],U[_][11]=U[m+"11"],U[_][12]=U[m+"12"],U[_][13]=U[m+"13"],U[_][14]=U[m+"0"],U[_][15]=U[m+"0"]}function jn(m){return m==pl||m==Wa||m==hc||m==pc}function Ln(){this.eb=[],this.size=this.A=this.fb=0}function kr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function on(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ln,this.f.kb=new kr,this.sd=null}function pn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _s(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function ao(m,_){var W=m.T,Y=_.ba.f.RGBA,he=Y.eb,we=Y.fb+m.ka*Y.A,_e=Io[_.ba.S],Ne=m.y,Te=m.O,Re=m.f,Ge=m.N,nt=m.ea,Ie=m.W,Ye=_.cc,et=_.dc,vt=_.Mc,it=_.Nc,gt=m.ka,yt=m.ka+m.T,_t=m.U,St=_t+1>>1;for(gt==0?_e(Ne,Te,null,null,Re,Ge,nt,Ie,Re,Ge,nt,Ie,he,we,null,null,_t):(_e(_.ec,_.fc,Ne,Te,Ye,et,vt,it,Re,Ge,nt,Ie,he,we-Y.A,he,we,_t),++W);gt+2<yt;gt+=2)Ye=Re,et=Ge,vt=nt,it=Ie,Ge+=m.Rc,Ie+=m.Rc,we+=2*Y.A,_e(Ne,(Te+=2*m.fa)-m.fa,Ne,Te,Ye,et,vt,it,Re,Ge,nt,Ie,he,we-Y.A,he,we,_t);return Te+=m.fa,m.j+yt<m.o?(o(_.ec,_.fc,Ne,Te,_t),o(_.cc,_.dc,Re,Ge,St),o(_.Mc,_.Nc,nt,Ie,St),W--):1&yt||_e(Ne,Te,null,null,Re,Ge,nt,Ie,Re,Ge,nt,Ie,he,we+Y.A,null,null,_t),W}function ko(m,_,W){var Y=m.F,he=[m.J];if(Y!=null){var we=m.U,_e=_.ba.S,Ne=_e==Bl||_e==hc;_=_.ba.f.RGBA;var Te=[0],Re=m.ka;Te[0]=m.T,m.Kb&&(Re==0?--Te[0]:(--Re,he[0]-=m.width),m.j+m.ka+m.T==m.o&&(Te[0]=m.o-m.j-Re));var Ge=_.eb;Re=_.fb+Re*_.A,m=dl(Y,he[0],m.width,we,Te,Ge,Re+(Ne?0:3),_.A),e(W==Te),m&&jn(_e)&&qa(Ge,Re,Ne,we,Te,_.A)}return 0}function Mo(m){var _=m.ma,W=_.ba.S,Y=11>W,he=W==Aa||W==Fl||W==Bl||W==si||W==12||jn(W);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Il(_.Oa,m,he?11:12))return 0;if(he&&jn(W)&&Ll(),m.da)alert("todo:use_scaling");else{if(Y){if(_.Ib=_s,m.Kb){if(W=m.U+1>>1,_.memory=s(m.U+2*W),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+W,_.Ib=ao,Ll()}}else alert("todo:EmitYUV");he&&(_.Jb=ko,Y&&zs())}if(Y&&!Ri){for(m=0;256>m;++m)Zi[m]=89858*(m-128)+gs>>Hs,Vo[m]=-22014*(m-128)+gs,Gs[m]=-45773*(m-128),Xa[m]=113618*(m-128)+gs>>Hs;for(m=wr;m<nr;++m)_=76283*(m-16)+gs>>Hs,ql[m-wr]=zn(_,255),Gc[m-wr]=zn(_+8>>4,15);Ri=1}return 1}function Nn(m){var _=m.ma,W=m.U,Y=m.T;return e(!(1&m.ka)),0>=W||0>=Y?0:(W=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,W),_.Dc+=W,1)}function zo(m){m.ma.memory=null}function es(m,_,W,Y){return J(m,8)!=47?0:(_[0]=J(m,14)+1,W[0]=J(m,14)+1,Y[0]=J(m,1),J(m,3)!=0?0:!m.h)}function ki(m,_){if(4>m)return m+1;var W=m-2>>1;return(2+(1&m)<<W)+J(_,W)+1}function Oi(m,_){return 120<_?_-120:1<=(W=((W=Af[_-1])>>4)*m+(8-(15&W)))?W:1;var W}function Pr(m,_,W){var Y=ne(W),he=m[_+=255&Y].g-8;return 0<he&&(ae(W,W.u+8),Y=ne(W),_+=m[_].value,_+=Y&(1<<he)-1),ae(W,W.u+m[_].g),m[_].value}function Qr(m,_,W){return W.g+=m.g,W.value+=m.value<<_>>>0,e(8>=W.g),m.g}function er(m,_,W){var Y=m.xc;return e((_=Y==0?0:m.vc[m.md*(W>>Y)+(_>>Y)])<m.Wb),m.Ya[_]}function $o(m,_,W,Y){var he=m.ab,we=m.c*_,_e=m.C;_=_e+_;var Ne=W,Te=Y;for(Y=m.Ta,W=m.Ua;0<he--;){var Re=m.gc[he],Ge=_e,nt=_,Ie=Ne,Ye=Te,et=(Te=Y,Ne=W,Re.Ea);switch(e(Ge<nt),e(nt<=Re.nc),Re.hc){case 2:Mi(Ie,Ye,(nt-Ge)*et,Te,Ne);break;case 0:var vt=Ge,it=nt,gt=Te,yt=Ne,_t=(ln=Re).Ea;vt==0&&(ds(Ie,Ye,null,null,1,gt,yt),Nt(Ie,Ye+1,0,0,_t-1,gt,yt+1),Ye+=_t,yt+=_t,++vt);for(var St=1<<ln.b,gn=St-1,nn=q(_t,ln.b),or=ln.K,ln=ln.w+(vt>>ln.b)*nn;vt<it;){var Cr=or,Ii=ln,ar=1;for(ta(Ie,Ye,gt,yt-_t,1,gt,yt);ar<_t;){var rn=(ar&~gn)+St;rn>_t&&(rn=_t),(0,xa[Cr[Ii++]>>8&15])(Ie,Ye+ +ar,gt,yt+ar-_t,rn-ar,gt,yt+ar),ar=rn}Ye+=_t,yt+=_t,++vt&gn||(ln+=nn)}nt!=Re.nc&&o(Te,Ne-et,Te,Ne+(nt-Ge-1)*et,et);break;case 1:for(et=Ie,it=Ye,_t=(Ie=Re.Ea)-(yt=Ie&~(gt=(Ye=1<<Re.b)-1)),vt=q(Ie,Re.b),St=Re.K,Re=Re.w+(Ge>>Re.b)*vt;Ge<nt;){for(gn=St,nn=Re,or=new Ee,ln=it+yt,Cr=it+Ie;it<ln;)Kt(gn[nn++],or),Pl(or,et,it,Ye,Te,Ne),it+=Ye,Ne+=Ye;it<Cr&&(Kt(gn[nn++],or),Pl(or,et,it,_t,Te,Ne),it+=_t,Ne+=_t),++Ge&gt||(Re+=vt)}break;case 3:if(Ie==Te&&Ye==Ne&&0<Re.b){for(it=Te,Ie=et=Ne+(nt-Ge)*et-(yt=(nt-Ge)*q(Re.Ea,Re.b)),Ye=Te,gt=Ne,vt=[],yt=(_t=yt)-1;0<=yt;--yt)vt[yt]=Ye[gt+yt];for(yt=_t-1;0<=yt;--yt)it[Ie+yt]=vt[yt];Ma(Re,Ge,nt,Te,et,Te,Ne)}else Ma(Re,Ge,nt,Ie,Ye,Te,Ne)}Ne=Y,Te=W}Te!=W&&o(Y,W,Ne,Te,we)}function ts(m,_){var W=m.V,Y=m.Ba+m.c*m.C,he=_-m.C;if(e(_<=m.l.o),e(16>=he),0<he){var we=m.l,_e=m.Ta,Ne=m.Ua,Te=we.width;if($o(m,he,W,Y),he=Ne=[Ne],e((W=m.C)<(Y=_)),e(we.v<we.va),Y>we.o&&(Y=we.o),W<we.j){var Re=we.j-W;W=we.j,he[0]+=Re*Te}if(W>=Y?W=0:(he[0]+=4*we.v,we.ka=W-we.j,we.U=we.va-we.v,we.T=Y-W,W=1),W){if(Ne=Ne[0],11>(W=m.ca).S){var Ge=W.f.RGBA,nt=(Y=W.S,he=we.U,we=we.T,Re=Ge.eb,Ge.A),Ie=we;for(Ge=Ge.fb+m.Ma*Ge.A;0<Ie--;){var Ye=_e,et=Ne,vt=he,it=Re,gt=Ge;switch(Y){case Ol:cl(Ye,et,vt,it,gt);break;case Aa:ra(Ye,et,vt,it,gt);break;case pl:ra(Ye,et,vt,it,gt),qa(it,gt,0,vt,1,0);break;case fu:ul(Ye,et,vt,it,gt);break;case Fl:en(Ye,et,vt,it,gt,1);break;case Wa:en(Ye,et,vt,it,gt,1),qa(it,gt,0,vt,1,0);break;case Bl:en(Ye,et,vt,it,gt,0);break;case hc:en(Ye,et,vt,it,gt,0),qa(it,gt,1,vt,1,0);break;case si:ba(Ye,et,vt,it,gt);break;case pc:ba(Ye,et,vt,it,gt),Bc(it,gt,vt,1,0);break;case dc:_a(Ye,et,vt,it,gt);break;default:e(0)}Ne+=Te,Ge+=nt}m.Ma+=we}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=W.height)}}m.C=_,e(m.C<=m.i)}function $e(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var W=m.Ya[_].G,Y=m.Ya[_].H;if(0<W[1][Y[1]+0].g||0<W[2][Y[2]+0].g||0<W[3][Y[3]+0].g)return 0}return 1}function He(m,_,W,Y,he,we){if(m.Z!=0){var _e=m.qd,Ne=m.rd;for(e(Ro[m.Z]!=null);_<W;++_)Ro[m.Z](_e,Ne,Y,he,Y,he,we),_e=Y,Ne=he,he+=we;m.qd=_e,m.rd=Ne}}function ht(m,_){var W=m.l.ma,Y=W.Z==0||W.Z==1?m.l.j:m.C;if(Y=m.C<Y?Y:m.C,e(_<=m.l.o),_>Y){var he=m.l.width,we=W.ca,_e=W.tb+he*Y,Ne=m.V,Te=m.Ba+m.c*Y,Re=m.gc;e(m.ab==1),e(Re[0].hc==3),qs(Re[0],Y,_,Ne,Te,we,_e),He(W,Y,_,we,_e,he)}m.C=m.Ma=_}function Ht(m,_,W,Y,he,we,_e){var Ne=m.$/Y,Te=m.$%Y,Re=m.m,Ge=m.s,nt=W+m.$,Ie=nt;he=W+Y*he;var Ye=W+Y*we,et=280+Ge.ua,vt=m.Pb?Ne:16777216,it=0<Ge.ua?Ge.Wa:null,gt=Ge.wc,yt=nt<Ye?er(Ge,Te,Ne):null;e(m.C<we),e(Ye<=he);var _t=!1;e:for(;;){for(;_t||nt<Ye;){var St=0;if(Ne>=vt){var gn=nt-W;e((vt=m).Pb),vt.wd=vt.m,vt.xd=gn,0<vt.s.ua&&X(vt.s.Wa,vt.s.vb),vt=Ne+gc}if(Te&gt||(yt=er(Ge,Te,Ne)),e(yt!=null),yt.Qb&&(_[nt]=yt.qb,_t=!0),!_t)if(M(Re),yt.jc){St=Re,gn=_;var nn=nt,or=yt.pd[ne(St)&ks-1];e(yt.jc),256>or.g?(ae(St,St.u+or.g),gn[nn]=or.value,St=0):(ae(St,St.u+or.g-256),e(256<=or.value),St=or.value),St==0&&(_t=!0)}else St=Pr(yt.G[0],yt.H[0],Re);if(Re.h)break;if(_t||256>St){if(!_t)if(yt.nd)_[nt]=(yt.qb|St<<8)>>>0;else{if(M(Re),_t=Pr(yt.G[1],yt.H[1],Re),M(Re),gn=Pr(yt.G[2],yt.H[2],Re),nn=Pr(yt.G[3],yt.H[3],Re),Re.h)break;_[nt]=(nn<<24|_t<<16|St<<8|gn)>>>0}if(_t=!1,++nt,++Te>=Y&&(Te=0,++Ne,_e!=null&&Ne<=we&&!(Ne%16)&&_e(m,Ne),it!=null))for(;Ie<nt;)St=_[Ie++],it.X[(506832829*St&4294967295)>>>it.Mb]=St}else if(280>St){if(St=ki(St-256,Re),gn=Pr(yt.G[4],yt.H[4],Re),M(Re),gn=Oi(Y,gn=ki(gn,Re)),Re.h)break;if(nt-W<gn||he-nt<St)break e;for(nn=0;nn<St;++nn)_[nt+nn]=_[nt+nn-gn];for(nt+=St,Te+=St;Te>=Y;)Te-=Y,++Ne,_e!=null&&Ne<=we&&!(Ne%16)&&_e(m,Ne);if(e(nt<=he),Te&gt&&(yt=er(Ge,Te,Ne)),it!=null)for(;Ie<nt;)St=_[Ie++],it.X[(506832829*St&4294967295)>>>it.Mb]=St}else{if(!(St<et))break e;for(_t=St-280,e(it!=null);Ie<nt;)St=_[Ie++],it.X[(506832829*St&4294967295)>>>it.Mb]=St;St=nt,e(!(_t>>>(gn=it).Xa)),_[St]=gn.X[_t],_t=!0}_t||e(Re.h==ye(Re))}if(m.Pb&&Re.h&&nt<he)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&X(m.s.vb,m.s.Wa);else{if(Re.h)break e;_e!=null&&_e(m,Ne>we?we:Ne),m.a=0,m.$=nt-W}return 1}return m.a=3,0}function tn(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function $t(){var m=new tr;return m==null?null:(m.a=0,m.xb=$l,Hr("Predictor","VP8LPredictors"),Hr("Predictor","VP8LPredictors_C"),Hr("PredictorAdd","VP8LPredictorsAdd"),Hr("PredictorAdd","VP8LPredictorsAdd_C"),Mi=Ot,Pl=xn,cl=pr,ra=mn,ba=Un,_a=Vn,ul=bn,U.VP8LMapColor32b=na,U.VP8LMapColor8b=ll,m)}function an(m,_,W,Y,he){var we=1,_e=[m],Ne=[_],Te=Y.m,Re=Y.s,Ge=null,nt=0;e:for(;;){if(W)for(;we&&J(Te,1);){var Ie=_e,Ye=Ne,et=Y,vt=1,it=et.m,gt=et.gc[et.ab],yt=J(it,2);if(et.Oc&1<<yt)we=0;else{switch(et.Oc|=1<<yt,gt.hc=yt,gt.Ea=Ie[0],gt.nc=Ye[0],gt.K=[null],++et.ab,e(4>=et.ab),yt){case 0:case 1:gt.b=J(it,3)+2,vt=an(q(gt.Ea,gt.b),q(gt.nc,gt.b),0,et,gt.K),gt.K=gt.K[0];break;case 3:var _t,St=J(it,8)+1,gn=16<St?0:4<St?1:2<St?2:3;if(Ie[0]=q(gt.Ea,gn),gt.b=gn,_t=vt=an(St,1,0,et,gt.K)){var nn,or=St,ln=gt,Cr=1<<(8>>ln.b),Ii=s(Cr);if(Ii==null)_t=0;else{var ar=ln.K[0],rn=ln.w;for(Ii[0]=ln.K[0][0],nn=1;nn<1*or;++nn)Ii[nn]=Se(ar[rn+nn],Ii[nn-1]);for(;nn<4*Cr;++nn)Ii[nn]=0;ln.K[0]=null,ln.K[0]=Ii,_t=1}}vt=_t;break;case 2:break;default:e(0)}we=vt}}if(_e=_e[0],Ne=Ne[0],we&&J(Te,1)&&!(we=1<=(nt=J(Te,4))&&11>=nt)){Y.a=3;break e}var Gt;if(Gt=we)t:{var $i,Xn,Ar,di=Y,io=_e,Hi=Ne,Ti=nt,Qi=W,oo=di.m,yi=di.s,Rr=[null],Yr=1,vi=0,Jr=Ml[Ti];n:for(;;){if(Qi&&J(oo,1)){var ji=J(oo,3)+2,Pi=q(io,ji),ai=q(Hi,ji),g=Pi*ai;if(!an(Pi,ai,0,di,Rr))break n;for(Rr=Rr[0],yi.xc=ji,$i=0;$i<g;++$i){var x=Rr[$i]>>8&65535;Rr[$i]=x,x>=Yr&&(Yr=x+1)}}if(oo.h)break n;for(Xn=0;5>Xn;++Xn){var K=Ga[Xn];!Xn&&0<Ti&&(K+=1<<Ti),vi<K&&(vi=K)}var $=u(Yr*Jr,te),E=Yr,ce=u(E,be);if(ce==null)var ue=null;else e(65536>=E),ue=ce;var D=s(vi);if(ue==null||D==null||$==null){di.a=1;break n}var Pe=$;for($i=Ar=0;$i<Yr;++$i){var De=ue[$i],Le=De.G,Me=De.H,Oe=0,Xe=1,ct=0;for(Xn=0;5>Xn;++Xn){K=Ga[Xn],Le[Xn]=Pe,Me[Xn]=Ar,!Xn&&0<Ti&&(K+=1<<Ti);i:{var Pt,mt=K,tt=di,dt=D,Vt=Pe,dn=Ar,ut=0,cn=tt.m,Ir=J(cn,1);if(a(dt,0,0,mt),Ir){var Ur=J(cn,1)+1,hi=J(cn,1),Ct=J(cn,hi==0?1:8);dt[Ct]=1,Ur==2&&(dt[Ct=J(cn,8)]=1);var Wn=1}else{var Ke=s(19),We=J(cn,4)+4;if(19<We){tt.a=3;var Tt=0;break i}for(Pt=0;Pt<We;++Pt)Ke[du[Pt]]=J(cn,3);var Zt=void 0,bt=void 0,Ut=tt,An=Ke,$n=mt,sr=dt,Gi=0,uo=Ut.m,so=8,go=u(128,te);r:for(;B(go,0,7,An,19);){if(J(uo,1)){var Na=2+2*J(uo,3);if((Zt=2+J(uo,Na))>$n)break r}else Zt=$n;for(bt=0;bt<$n&&Zt--;){M(uo);var vc=go[0+(127&ne(uo))];ae(uo,uo.u+vc.g);var Ea=vc.value;if(16>Ea)sr[bt++]=Ea,Ea!=0&&(so=Ea);else{var yu=Ea==16,Vc=Ea-16,vu=Ha[Vc],Xc=J(uo,mc[Vc])+vu;if(bt+Xc>$n)break r;for(var wu=yu?so:0;0<Xc--;)sr[bt++]=wu}}Gi=1;break r}Gi||(Ut.a=3),Wn=Gi}(Wn=Wn&&!cn.h)&&(ut=B(Vt,dn,8,dt,mt)),Wn&&ut!=0?Tt=ut:(tt.a=3,Tt=0)}if(Tt==0)break n;if(Xe&&Hc[Xn]==1&&(Xe=Pe[Ar].g==0),Oe+=Pe[Ar].g,Ar+=Tt,3>=Xn){var yl,wc=D[0];for(yl=1;yl<K;++yl)D[yl]>wc&&(wc=D[yl]);ct+=wc}}if(De.nd=Xe,De.Qb=0,Xe&&(De.qb=(Le[3][Me[3]+0].value<<24|Le[1][Me[1]+0].value<<16|Le[2][Me[2]+0].value)>>>0,Oe==0&&256>Le[0][Me[0]+0].value&&(De.Qb=1,De.qb+=Le[0][Me[0]+0].value<<8)),De.jc=!De.Qb&&6>ct,De.jc){var Gl,Xo=De;for(Gl=0;Gl<ks;++Gl){var sa=Gl,Ns=Xo.pd[sa],Ja=Xo.G[0][Xo.H[0]+sa];256<=Ja.value?(Ns.g=Ja.g+256,Ns.value=Ja.value):(Ns.g=0,Ns.value=0,sa>>=Qr(Ja,8,Ns),sa>>=Qr(Xo.G[1][Xo.H[1]+sa],16,Ns),sa>>=Qr(Xo.G[2][Xo.H[2]+sa],0,Ns),Qr(Xo.G[3][Xo.H[3]+sa],24,Ns))}}}yi.vc=Rr,yi.Wb=Yr,yi.Ya=ue,yi.yc=$,Gt=1;break t}Gt=0}if(!(we=Gt)){Y.a=3;break e}if(0<nt){if(Re.ua=1<<nt,!ee(Re.Wa,nt)){Y.a=1,we=0;break e}}else Re.ua=0;var xc=Y,bc=_e,xu=Ne,_c=xc.s,Sc=_c.xc;if(xc.c=bc,xc.i=xu,_c.md=q(bc,Sc),_c.wc=Sc==0?-1:(1<<Sc)-1,W){Y.xb=oa;break e}if((Ge=s(_e*Ne))==null){Y.a=1,we=0;break e}we=(we=Ht(Y,Ge,0,_e,Ne,Ne,null))&&!Te.h;break e}return we?(he!=null?he[0]=Ge:(e(Ge==null),e(W)),Y.$=0,W||tn(Re)):tn(Re),we}function Rn(m,_){var W=m.c*m.i,Y=W+_+16*_;return e(m.c<=_),m.V=s(Y),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+W+_,1)}function qn(m,_){var W=m.C,Y=_-W,he=m.V,we=m.Ba+m.c*W;for(e(_<=m.l.o);0<Y;){var _e=16<Y?16:Y,Ne=m.l.ma,Te=m.l.width,Re=Te*_e,Ge=Ne.ca,nt=Ne.tb+Te*W,Ie=m.Ta,Ye=m.Ua;$o(m,_e,he,we),Mc(Ie,Ye,Ge,nt,Re),He(Ne,W,W+_e,Ge,nt,Te),Y-=_e,he+=_e*m.c,W+=_e}e(W==_),m.C=m.Ma=_}function Gr(){this.ub=this.yd=this.td=this.Rb=0}function Vr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vi(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function hr(){this.Yb=(function(){var m=[];return(function _(W,Y,he){for(var we=he[Y],_e=0;_e<we&&(W.push(he.length>Y+1?[]:0),!(he.length<Y+1));_e++)_(W[_e],Y+1,he)})(m,0,[3,11]),m})()}function Xi(){this.jb=s(3),this.Wc=l([4,8],hr),this.Xc=l([4,17],hr)}function Fi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Tr(){this.ld=this.La=this.dd=this.tc=0}function _n(){this.Na=this.la=0}function rr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Jt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tr),this.Y=0,this.ya=Array(new Kr),this.aa=0,this.l=new $r}function Pn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function pi(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Gr,this.Kc=new Vr,this.ed=new Fi,this.Qa=new Vi,this.Ic=this.$c=this.Aa=0,this.D=new Jt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,C),this.ia=0,this.pb=u(4,rr),this.Pa=new Xi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pn),this.Hd=0,this.rb=Array(new _n),this.sb=0,this.wa=Array(new Tr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kr),this.L=this.aa=0,this.gd=l([4,2],Tr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zn(m,_){return 0>m?0:m>_?_:m}function $r(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ei(){var m=new pi;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,gl||(gl=ns)),m}function yr(m,_,W){return m.a==0&&(m.a=_,m.sc=W,m.cb=0),0}function Ao(m,_,W){return 3<=W&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function No(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return yr(m,2,"null VP8Io passed to VP8GetHeaders()");var W=_.data,Y=_.w,he=_.ha;if(4>he)return yr(m,7,"Truncated header.");var we=W[Y+0]|W[Y+1]<<8|W[Y+2]<<16,_e=m.Od;if(_e.Rb=!(1&we),_e.td=we>>1&7,_e.yd=we>>4&1,_e.ub=we>>5,3<_e.td)return yr(m,3,"Incorrect keyframe parameters.");if(!_e.yd)return yr(m,4,"Frame not displayable.");Y+=3,he-=3;var Ne=m.Kc;if(_e.Rb){if(7>he)return yr(m,7,"cannot parse picture header");if(!Ao(W,Y,he))return yr(m,3,"Bad code word");Ne.c=16383&(W[Y+4]<<8|W[Y+3]),Ne.Td=W[Y+4]>>6,Ne.i=16383&(W[Y+6]<<8|W[Y+5]),Ne.Ud=W[Y+6]>>6,Y+=7,he-=7,m.za=Ne.c+15>>4,m.Ub=Ne.i+15>>4,_.width=Ne.c,_.height=Ne.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((we=m.Pa).jb,0,255,we.jb.length),e((we=m.Qa)!=null),we.Cb=0,we.Bb=0,we.Fb=1,a(we.Zb,0,0,we.Zb.length),a(we.Lb,0,0,we.Lb)}if(_e.ub>he)return yr(m,7,"bad partition length");Ae(we=m.m,W,Y,_e.ub),Y+=_e.ub,he-=_e.ub,_e.Rb&&(Ne.Ld=fe(we),Ne.Kd=fe(we)),Ne=m.Qa;var Te,Re=m.Pa;if(e(we!=null),e(Ne!=null),Ne.Cb=fe(we),Ne.Cb){if(Ne.Bb=fe(we),fe(we)){for(Ne.Fb=fe(we),Te=0;4>Te;++Te)Ne.Zb[Te]=fe(we)?xe(we,7):0;for(Te=0;4>Te;++Te)Ne.Lb[Te]=fe(we)?xe(we,6):0}if(Ne.Bb)for(Te=0;3>Te;++Te)Re.jb[Te]=fe(we)?ge(we,8):255}else Ne.Bb=0;if(we.Ka)return yr(m,3,"cannot parse segment header");if((Ne=m.ed).zd=fe(we),Ne.Tb=ge(we,6),Ne.wb=ge(we,3),Ne.Pc=fe(we),Ne.Pc&&fe(we)){for(Re=0;4>Re;++Re)fe(we)&&(Ne.vd[Re]=xe(we,6));for(Re=0;4>Re;++Re)fe(we)&&(Ne.od[Re]=xe(we,6))}if(m.L=Ne.Tb==0?0:Ne.zd?1:2,we.Ka)return yr(m,3,"cannot parse filter header");var Ge=he;if(he=Te=Y,Y=Te+Ge,Ne=Ge,m.Xb=(1<<ge(m.m,2))-1,Ge<3*(Re=m.Xb))W=7;else{for(Te+=3*Re,Ne-=3*Re,Ge=0;Ge<Re;++Ge){var nt=W[he+0]|W[he+1]<<8|W[he+2]<<16;nt>Ne&&(nt=Ne),Ae(m.Jc[+Ge],W,Te,nt),Te+=nt,Ne-=nt,he+=3}Ae(m.Jc[+Re],W,Te,Ne),W=Te<Y?0:5}if(W!=0)return yr(m,W,"cannot parse partitions");for(W=ge(Te=m.m,7),he=fe(Te)?xe(Te,4):0,Y=fe(Te)?xe(Te,4):0,Ne=fe(Te)?xe(Te,4):0,Re=fe(Te)?xe(Te,4):0,Te=fe(Te)?xe(Te,4):0,Ge=m.Qa,nt=0;4>nt;++nt){if(Ge.Cb){var Ie=Ge.Zb[nt];Ge.Fb||(Ie+=W)}else{if(0<nt){m.pb[nt]=m.pb[0];continue}Ie=W}var Ye=m.pb[nt];Ye.Sc[0]=zl[zn(Ie+he,127)],Ye.Sc[1]=ml[zn(Ie+0,127)],Ye.Eb[0]=2*zl[zn(Ie+Y,127)],Ye.Eb[1]=101581*ml[zn(Ie+Ne,127)]>>16,8>Ye.Eb[1]&&(Ye.Eb[1]=8),Ye.Qc[0]=zl[zn(Ie+Re,117)],Ye.Qc[1]=ml[zn(Ie+Te,127)],Ye.lc=Ie+Te}if(!_e.Rb)return yr(m,4,"Not a key frame.");for(fe(we),_e=m.Pa,W=0;4>W;++W){for(he=0;8>he;++he)for(Y=0;3>Y;++Y)for(Ne=0;11>Ne;++Ne)Re=de(we,mu[W][he][Y][Ne])?ge(we,8):Ka[W][he][Y][Ne],_e.Wc[W][he].Yb[Y][Ne]=Re;for(he=0;17>he;++he)_e.Xc[W][he]=_e.Wc[W][gu[he]]}return m.kc=fe(we),m.kc&&(m.Bd=ge(we,8)),m.cb=1}function ns(m,_,W,Y,he,we,_e){var Ne=_[he].Yb[W];for(W=0;16>he;++he){if(!de(m,Ne[W+0]))return he;for(;!de(m,Ne[W+1]);)if(Ne=_[++he].Yb[0],W=0,he==16)return 16;var Te=_[he+1].Yb;if(de(m,Ne[W+2])){var Re=m,Ge=0;if(de(Re,(Ie=Ne)[(nt=W)+3]))if(de(Re,Ie[nt+6])){for(Ne=0,nt=2*(Ge=de(Re,Ie[nt+8]))+(Ie=de(Re,Ie[nt+9+Ge])),Ge=0,Ie=hu[nt];Ie[Ne];++Ne)Ge+=Ge+de(Re,Ie[Ne]);Ge+=3+(8<<nt)}else de(Re,Ie[nt+7])?(Ge=7+2*de(Re,165),Ge+=de(Re,145)):Ge=5+de(Re,159);else Ge=de(Re,Ie[nt+4])?3+de(Re,Ie[nt+5]):2;Ne=Te[2]}else Ge=1,Ne=Te[1];Te=_e+pu[he],0>(Re=m).b&&z(Re);var nt,Ie=Re.b,Ye=(nt=Re.Ca>>1)-(Re.I>>Ie)>>31;--Re.b,Re.Ca+=Ye,Re.Ca|=1,Re.I-=(nt+1&Ye)<<Ie,we[Te]=((Ge^Ye)-Ye)*Y[(0<he)+0]}return 16}function vr(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function Bi(m,_,W,Y,he){he=m[_+W+32*Y]+(he>>3),m[_+W+32*Y]=-256&he?0>he?0:255:he}function mi(m,_,W,Y,he,we){Bi(m,_,0,W,Y+he),Bi(m,_,1,W,Y+we),Bi(m,_,2,W,Y-we),Bi(m,_,3,W,Y-he)}function to(m){return(20091*m>>16)+m}function Ps(m,_,W,Y){var he,we=0,_e=s(16);for(he=0;4>he;++he){var Ne=m[_+0]+m[_+8],Te=m[_+0]-m[_+8],Re=(35468*m[_+4]>>16)-to(m[_+12]),Ge=to(m[_+4])+(35468*m[_+12]>>16);_e[we+0]=Ne+Ge,_e[we+1]=Te+Re,_e[we+2]=Te-Re,_e[we+3]=Ne-Ge,we+=4,_++}for(he=we=0;4>he;++he)Ne=(m=_e[we+0]+4)+_e[we+8],Te=m-_e[we+8],Re=(35468*_e[we+4]>>16)-to(_e[we+12]),Bi(W,Y,0,0,Ne+(Ge=to(_e[we+4])+(35468*_e[we+12]>>16))),Bi(W,Y,1,0,Te+Re),Bi(W,Y,2,0,Te-Re),Bi(W,Y,3,0,Ne-Ge),we++,Y+=32}function rs(m,_,W,Y){var he=m[_+0]+4,we=35468*m[_+4]>>16,_e=to(m[_+4]),Ne=35468*m[_+1]>>16;mi(W,Y,0,he+_e,m=to(m[_+1]),Ne),mi(W,Y,1,he+we,m,Ne),mi(W,Y,2,he-we,m,Ne),mi(W,Y,3,he-_e,m,Ne)}function Uo(m,_,W,Y,he){Ps(m,_,W,Y),he&&Ps(m,_+16,W,Y+4)}function Gn(m,_,W,Y){za(m,_+0,W,Y,1),za(m,_+32,W,Y+128,1)}function En(m,_,W,Y){var he;for(m=m[_+0]+4,he=0;4>he;++he)for(_=0;4>_;++_)Bi(W,Y,_,he,m)}function Dr(m,_,W,Y){m[_+0]&&Xr(m,_+0,W,Y),m[_+16]&&Xr(m,_+16,W,Y+4),m[_+32]&&Xr(m,_+32,W,Y+128),m[_+48]&&Xr(m,_+48,W,Y+128+4)}function Ds(m,_,W,Y){var he,we=s(16);for(he=0;4>he;++he){var _e=m[_+0+he]+m[_+12+he],Ne=m[_+4+he]+m[_+8+he],Te=m[_+4+he]-m[_+8+he],Re=m[_+0+he]-m[_+12+he];we[0+he]=_e+Ne,we[8+he]=_e-Ne,we[4+he]=Re+Te,we[12+he]=Re-Te}for(he=0;4>he;++he)_e=(m=we[0+4*he]+3)+we[3+4*he],Ne=we[1+4*he]+we[2+4*he],Te=we[1+4*he]-we[2+4*he],Re=m-we[3+4*he],W[Y+0]=_e+Ne>>3,W[Y+16]=Re+Te>>3,W[Y+32]=_e-Ne>>3,W[Y+48]=Re-Te>>3,Y+=64}function Os(m,_,W){var Y,he=_-32,we=co,_e=255-m[he-1];for(Y=0;Y<W;++Y){var Ne,Te=we,Re=_e+m[_-1];for(Ne=0;Ne<W;++Ne)m[_+Ne]=Te[Re+m[he+Ne]];_+=32}}function Ai(m,_){Os(m,_,4)}function oc(m,_){Os(m,_,8)}function Fs(m,_){Os(m,_,16)}function nl(m,_){var W;for(W=0;16>W;++W)o(m,_+32*W,m,_-32,16)}function is(m,_){var W;for(W=16;0<W;--W)a(m,_,m[_-1],16),_+=32}function qi(m,_,W){var Y;for(Y=0;16>Y;++Y)a(_,W+32*Y,m,16)}function Vs(m,_){var W,Y=16;for(W=0;16>W;++W)Y+=m[_-1+32*W]+m[_+W-32];qi(Y>>5,m,_)}function Yi(m,_){var W,Y=8;for(W=0;16>W;++W)Y+=m[_-1+32*W];qi(Y>>4,m,_)}function Eo(m,_){var W,Y=8;for(W=0;16>W;++W)Y+=m[_+W-32];qi(Y>>4,m,_)}function os(m,_){qi(128,m,_)}function Dn(m,_,W){return m+2*_+W+2>>2}function _r(m,_){var W,Y=_-32;for(Y=new Uint8Array([Dn(m[Y-1],m[Y+0],m[Y+1]),Dn(m[Y+0],m[Y+1],m[Y+2]),Dn(m[Y+1],m[Y+2],m[Y+3]),Dn(m[Y+2],m[Y+3],m[Y+4])]),W=0;4>W;++W)o(m,_+32*W,Y,0,Y.length)}function rl(m,_){var W=m[_-1],Y=m[_-1+32],he=m[_-1+64],we=m[_-1+96];se(m,_+0,16843009*Dn(m[_-1-32],W,Y)),se(m,_+32,16843009*Dn(W,Y,he)),se(m,_+64,16843009*Dn(Y,he,we)),se(m,_+96,16843009*Dn(he,we,we))}function il(m,_){var W,Y=4;for(W=0;4>W;++W)Y+=m[_+W-32]+m[_-1+32*W];for(Y>>=3,W=0;4>W;++W)a(m,_+32*W,Y,4)}function ss(m,_){var W=m[_-1+0],Y=m[_-1+32],he=m[_-1+64],we=m[_-1-32],_e=m[_+0-32],Ne=m[_+1-32],Te=m[_+2-32],Re=m[_+3-32];m[_+0+96]=Dn(Y,he,m[_-1+96]),m[_+1+96]=m[_+0+64]=Dn(W,Y,he),m[_+2+96]=m[_+1+64]=m[_+0+32]=Dn(we,W,Y),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=Dn(_e,we,W),m[_+3+64]=m[_+2+32]=m[_+1+0]=Dn(Ne,_e,we),m[_+3+32]=m[_+2+0]=Dn(Te,Ne,_e),m[_+3+0]=Dn(Re,Te,Ne)}function Bs(m,_){var W=m[_+1-32],Y=m[_+2-32],he=m[_+3-32],we=m[_+4-32],_e=m[_+5-32],Ne=m[_+6-32],Te=m[_+7-32];m[_+0+0]=Dn(m[_+0-32],W,Y),m[_+1+0]=m[_+0+32]=Dn(W,Y,he),m[_+2+0]=m[_+1+32]=m[_+0+64]=Dn(Y,he,we),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=Dn(he,we,_e),m[_+3+32]=m[_+2+64]=m[_+1+96]=Dn(we,_e,Ne),m[_+3+64]=m[_+2+96]=Dn(_e,Ne,Te),m[_+3+96]=Dn(Ne,Te,Te)}function Pa(m,_){var W=m[_-1+0],Y=m[_-1+32],he=m[_-1+64],we=m[_-1-32],_e=m[_+0-32],Ne=m[_+1-32],Te=m[_+2-32],Re=m[_+3-32];m[_+0+0]=m[_+1+64]=we+_e+1>>1,m[_+1+0]=m[_+2+64]=_e+Ne+1>>1,m[_+2+0]=m[_+3+64]=Ne+Te+1>>1,m[_+3+0]=Te+Re+1>>1,m[_+0+96]=Dn(he,Y,W),m[_+0+64]=Dn(Y,W,we),m[_+0+32]=m[_+1+96]=Dn(W,we,_e),m[_+1+32]=m[_+2+96]=Dn(we,_e,Ne),m[_+2+32]=m[_+3+96]=Dn(_e,Ne,Te),m[_+3+32]=Dn(Ne,Te,Re)}function Tl(m,_){var W=m[_+0-32],Y=m[_+1-32],he=m[_+2-32],we=m[_+3-32],_e=m[_+4-32],Ne=m[_+5-32],Te=m[_+6-32],Re=m[_+7-32];m[_+0+0]=W+Y+1>>1,m[_+1+0]=m[_+0+64]=Y+he+1>>1,m[_+2+0]=m[_+1+64]=he+we+1>>1,m[_+3+0]=m[_+2+64]=we+_e+1>>1,m[_+0+32]=Dn(W,Y,he),m[_+1+32]=m[_+0+96]=Dn(Y,he,we),m[_+2+32]=m[_+1+96]=Dn(he,we,_e),m[_+3+32]=m[_+2+96]=Dn(we,_e,Ne),m[_+3+64]=Dn(_e,Ne,Te),m[_+3+96]=Dn(Ne,Te,Re)}function qo(m,_){var W=m[_-1+0],Y=m[_-1+32],he=m[_-1+64],we=m[_-1+96];m[_+0+0]=W+Y+1>>1,m[_+2+0]=m[_+0+32]=Y+he+1>>1,m[_+2+32]=m[_+0+64]=he+we+1>>1,m[_+1+0]=Dn(W,Y,he),m[_+3+0]=m[_+1+32]=Dn(Y,he,we),m[_+3+32]=m[_+1+64]=Dn(he,we,we),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=we}function sc(m,_){var W=m[_-1+0],Y=m[_-1+32],he=m[_-1+64],we=m[_-1+96],_e=m[_-1-32],Ne=m[_+0-32],Te=m[_+1-32],Re=m[_+2-32];m[_+0+0]=m[_+2+32]=W+_e+1>>1,m[_+0+32]=m[_+2+64]=Y+W+1>>1,m[_+0+64]=m[_+2+96]=he+Y+1>>1,m[_+0+96]=we+he+1>>1,m[_+3+0]=Dn(Ne,Te,Re),m[_+2+0]=Dn(_e,Ne,Te),m[_+1+0]=m[_+3+32]=Dn(W,_e,Ne),m[_+1+32]=m[_+3+64]=Dn(Y,W,_e),m[_+1+64]=m[_+3+96]=Dn(he,Y,W),m[_+1+96]=Dn(we,he,Y)}function as(m,_){var W;for(W=0;8>W;++W)o(m,_+32*W,m,_-32,8)}function ol(m,_){var W;for(W=0;8>W;++W)a(m,_,m[_-1],8),_+=32}function To(m,_,W){var Y;for(Y=0;8>Y;++Y)a(_,W+32*Y,m,8)}function Cl(m,_){var W,Y=8;for(W=0;8>W;++W)Y+=m[_+W-32]+m[_-1+32*W];To(Y>>4,m,_)}function da(m,_){var W,Y=4;for(W=0;8>W;++W)Y+=m[_+W-32];To(Y>>3,m,_)}function ri(m,_){var W,Y=4;for(W=0;8>W;++W)Y+=m[_-1+32*W];To(Y>>3,m,_)}function Ni(m,_){To(128,m,_)}function Ss(m,_,W){var Y=m[_-W],he=m[_+0],we=3*(he-Y)+Ws[1020+m[_-2*W]-m[_+W]],_e=hl[112+(we+4>>3)];m[_-W]=co[255+Y+hl[112+(we+3>>3)]],m[_+0]=co[255+he-_e]}function Xs(m,_,W,Y){var he=m[_+0],we=m[_+W];return Go[255+m[_-2*W]-m[_-W]]>Y||Go[255+we-he]>Y}function ha(m,_,W,Y){return 4*Go[255+m[_-W]-m[_+0]]+Go[255+m[_-2*W]-m[_+W]]<=Y}function Do(m,_,W,Y,he){var we=m[_-3*W],_e=m[_-2*W],Ne=m[_-W],Te=m[_+0],Re=m[_+W],Ge=m[_+2*W],nt=m[_+3*W];return 4*Go[255+Ne-Te]+Go[255+_e-Re]>Y?0:Go[255+m[_-4*W]-we]<=he&&Go[255+we-_e]<=he&&Go[255+_e-Ne]<=he&&Go[255+nt-Ge]<=he&&Go[255+Ge-Re]<=he&&Go[255+Re-Te]<=he}function pa(m,_,W,Y){var he=2*Y+1;for(Y=0;16>Y;++Y)ha(m,_+Y,W,he)&&Ss(m,_+Y,W)}function Ys(m,_,W,Y){var he=2*Y+1;for(Y=0;16>Y;++Y)ha(m,_+Y*W,1,he)&&Ss(m,_+Y*W,1)}function Js(m,_,W,Y){var he;for(he=3;0<he;--he)pa(m,_+=4*W,W,Y)}function ma(m,_,W,Y){var he;for(he=3;0<he;--he)Ys(m,_+=4,W,Y)}function Ms(m,_,W,Y,he,we,_e,Ne){for(we=2*we+1;0<he--;){if(Do(m,_,W,we,_e))if(Xs(m,_,W,Ne))Ss(m,_,W);else{var Te=m,Re=_,Ge=W,nt=Te[Re-2*Ge],Ie=Te[Re-Ge],Ye=Te[Re+0],et=Te[Re+Ge],vt=Te[Re+2*Ge],it=27*(yt=Ws[1020+3*(Ye-Ie)+Ws[1020+nt-et]])+63>>7,gt=18*yt+63>>7,yt=9*yt+63>>7;Te[Re-3*Ge]=co[255+Te[Re-3*Ge]+yt],Te[Re-2*Ge]=co[255+nt+gt],Te[Re-Ge]=co[255+Ie+it],Te[Re+0]=co[255+Ye-it],Te[Re+Ge]=co[255+et-gt],Te[Re+2*Ge]=co[255+vt-yt]}_+=Y}}function Zs(m,_,W,Y,he,we,_e,Ne){for(we=2*we+1;0<he--;){if(Do(m,_,W,we,_e))if(Xs(m,_,W,Ne))Ss(m,_,W);else{var Te=m,Re=_,Ge=W,nt=Te[Re-Ge],Ie=Te[Re+0],Ye=Te[Re+Ge],et=hl[112+(4+(vt=3*(Ie-nt))>>3)],vt=hl[112+(vt+3>>3)],it=et+1>>1;Te[Re-2*Ge]=co[255+Te[Re-2*Ge]+it],Te[Re-Ge]=co[255+nt+vt],Te[Re+0]=co[255+Ie-et],Te[Re+Ge]=co[255+Ye-it]}_+=Y}}function ti(m,_,W,Y,he,we){Ms(m,_,W,1,16,Y,he,we)}function ls(m,_,W,Y,he,we){Ms(m,_,1,W,16,Y,he,we)}function cs(m,_,W,Y,he,we){var _e;for(_e=3;0<_e;--_e)Zs(m,_+=4*W,W,1,16,Y,he,we)}function O(m,_,W,Y,he,we){var _e;for(_e=3;0<_e;--_e)Zs(m,_+=4,1,W,16,Y,he,we)}function me(m,_,W,Y,he,we,_e,Ne){Ms(m,_,he,1,8,we,_e,Ne),Ms(W,Y,he,1,8,we,_e,Ne)}function je(m,_,W,Y,he,we,_e,Ne){Ms(m,_,1,he,8,we,_e,Ne),Ms(W,Y,1,he,8,we,_e,Ne)}function qe(m,_,W,Y,he,we,_e,Ne){Zs(m,_+4*he,he,1,8,we,_e,Ne),Zs(W,Y+4*he,he,1,8,we,_e,Ne)}function Ze(m,_,W,Y,he,we,_e,Ne){Zs(m,_+4,1,he,8,we,_e,Ne),Zs(W,Y+4,1,he,8,we,_e,Ne)}function xt(){this.ba=new on,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wn(){this.ua=0,this.Wa=new T,this.vb=new T,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new te}function tr(){this.xb=this.a=0,this.l=new $r,this.ca=new on,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wn,this.ab=0,this.gc=u(4,fn),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $r,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mn(m,_,W,Y,he,we,_e){for(m=m==null?0:m[_+0],_=0;_<_e;++_)he[we+_]=m+W[Y+_]&255,m=he[we+_]}function gi(m,_,W,Y,he,we,_e){var Ne;if(m==null)Mn(null,null,W,Y,he,we,_e);else for(Ne=0;Ne<_e;++Ne)he[we+Ne]=m[_+Ne]+W[Y+Ne]&255}function Ei(m,_,W,Y,he,we,_e){if(m==null)Mn(null,null,W,Y,he,we,_e);else{var Ne,Te=m[_+0],Re=Te,Ge=Te;for(Ne=0;Ne<_e;++Ne)Re=Ge+(Te=m[_+Ne])-Re,Ge=W[Y+Ne]+(-256&Re?0>Re?0:255:Re)&255,Re=Te,he[we+Ne]=Ge}}function ii(m,_,W,Y){var he=_.width,we=_.o;if(e(m!=null&&_!=null),0>W||0>=Y||W+Y>we)return null;if(!m.Cc){if(m.ga==null){var _e;if(m.ga=new ir,(_e=m.ga==null)||(_e=_.width*_.o,e(m.Gb.length==0),m.Gb=s(_e),m.Uc=0,m.Gb==null?_e=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,_e=1),_e=!_e),!_e){_e=m.ga;var Ne=m.Fa,Te=m.P,Re=m.qc,Ge=m.mb,nt=m.nb,Ie=Te+1,Ye=Re-1,et=_e.l;if(e(Ne!=null&&Ge!=null&&_!=null),Ro[0]=null,Ro[1]=Mn,Ro[2]=gi,Ro[3]=Ei,_e.ca=Ge,_e.tb=nt,_e.c=_.width,_e.i=_.height,e(0<_e.c&&0<_e.i),1>=Re)_=0;else if(_e.$a=3&Ne[Te+0],_e.Z=Ne[Te+0]>>2&3,_e.Lc=Ne[Te+0]>>4&3,Te=Ne[Te+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||Te)_=0;else if(et.put=Nn,et.ac=Mo,et.bc=zo,et.ma=_e,et.width=_.width,et.height=_.height,et.Da=_.Da,et.v=_.v,et.va=_.va,et.j=_.j,et.o=_.o,_e.$a)e:{e(_e.$a==1),_=$t();t:for(;;){if(_==null){_=0;break e}if(e(_e!=null),_e.mc=_,_.c=_e.c,_.i=_e.i,_.l=_e.l,_.l.ma=_e,_.l.width=_e.c,_.l.height=_e.i,_.a=0,ke(_.m,Ne,Ie,Ye),!an(_e.c,_e.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&$e(_.s)?(_e.ic=1,Ne=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Ne),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(_e.ic=0,_=Rn(_,_e.c)),!_))break t;_=1;break e}_e.mc=null,_=0}else _=Ye>=_e.c*_e.i;_e=!_}if(_e)return null;m.ga.Lc!=1?m.Ga=0:Y=we-W}e(m.ga!=null),e(W+Y<=we);e:{if(_=(Ne=m.ga).c,we=Ne.l.o,Ne.$a==0){if(Ie=m.rc,Ye=m.Vc,et=m.Fa,Te=m.P+1+W*_,Re=m.mb,Ge=m.nb+W*_,e(Te<=m.P+m.qc),Ne.Z!=0)for(e(Ro[Ne.Z]!=null),_e=0;_e<Y;++_e)Ro[Ne.Z](Ie,Ye,et,Te,Re,Ge,_),Ie=Re,Ye=Ge,Ge+=_,Te+=_;else for(_e=0;_e<Y;++_e)o(Re,Ge,et,Te,_),Ie=Re,Ye=Ge,Ge+=_,Te+=_;m.rc=Ie,m.Vc=Ye}else{if(e(Ne.mc!=null),_=W+Y,e((_e=Ne.mc)!=null),e(_<=_e.i),_e.C>=_)_=1;else if(Ne.ic||zs(),Ne.ic){Ne=_e.V,Ie=_e.Ba,Ye=_e.c;var vt=_e.i,it=(et=1,Te=_e.$/Ye,Re=_e.$%Ye,Ge=_e.m,nt=_e.s,_e.$),gt=Ye*vt,yt=Ye*_,_t=nt.wc,St=it<yt?er(nt,Re,Te):null;e(it<=gt),e(_<=vt),e($e(nt));t:for(;;){for(;!Ge.h&&it<yt;){if(Re&_t||(St=er(nt,Re,Te)),e(St!=null),M(Ge),256>(vt=Pr(St.G[0],St.H[0],Ge)))Ne[Ie+it]=vt,++it,++Re>=Ye&&(Re=0,++Te<=_&&!(Te%16)&&ht(_e,Te));else{if(!(280>vt)){et=0;break t}vt=ki(vt-256,Ge);var gn,nn=Pr(St.G[4],St.H[4],Ge);if(M(Ge),!(it>=(nn=Oi(Ye,nn=ki(nn,Ge)))&&gt-it>=vt)){et=0;break t}for(gn=0;gn<vt;++gn)Ne[Ie+it+gn]=Ne[Ie+it+gn-nn];for(it+=vt,Re+=vt;Re>=Ye;)Re-=Ye,++Te<=_&&!(Te%16)&&ht(_e,Te);it<yt&&Re&_t&&(St=er(nt,Re,Te))}e(Ge.h==ye(Ge))}ht(_e,Te>_?_:Te);break t}!et||Ge.h&&it<gt?(et=0,_e.a=Ge.h?5:3):_e.$=it,_=et}else _=Ht(_e,_e.V,_e.Ba,_e.c,_e.i,_,qn);if(!_){Y=0;break e}}W+Y>=we&&(m.Cc=1),Y=1}if(!Y)return null;if(m.Cc&&((Y=m.ga)!=null&&(Y.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+W*he}function no(m,_,W,Y,he,we){for(;0<he--;){var _e,Ne=m,Te=_+(W?1:0),Re=m,Ge=_+(W?0:3);for(_e=0;_e<Y;++_e){var nt=Re[Ge+4*_e];nt!=255&&(nt*=32897,Ne[Te+4*_e+0]=Ne[Te+4*_e+0]*nt>>23,Ne[Te+4*_e+1]=Ne[Te+4*_e+1]*nt>>23,Ne[Te+4*_e+2]=Ne[Te+4*_e+2]*nt>>23)}_+=we}}function Wi(m,_,W,Y,he){for(;0<Y--;){var we;for(we=0;we<W;++we){var _e=m[_+2*we+0],Ne=15&(Re=m[_+2*we+1]),Te=4369*Ne,Re=(240&Re|Re>>4)*Te>>16;m[_+2*we+0]=(240&_e|_e>>4)*Te>>16&240|(15&_e|_e<<4)*Te>>16>>4&15,m[_+2*we+1]=240&Re|Ne}_+=he}}function ro(m,_,W,Y,he,we,_e,Ne){var Te,Re,Ge=255;for(Re=0;Re<he;++Re){for(Te=0;Te<Y;++Te){var nt=m[_+Te];we[_e+4*Te]=nt,Ge&=nt}_+=W,_e+=Ne}return Ge!=255}function ga(m,_,W,Y,he){var we;for(we=0;we<he;++we)W[Y+we]=m[_+we]>>8}function zs(){qa=no,Bc=Wi,dl=ro,Mc=ga}function Da(m,_,W){U[m]=function(Y,he,we,_e,Ne,Te,Re,Ge,nt,Ie,Ye,et,vt,it,gt,yt,_t){var St,gn=_t-1>>1,nn=Ne[Te+0]|Re[Ge+0]<<16,or=nt[Ie+0]|Ye[et+0]<<16;e(Y!=null);var ln=3*nn+or+131074>>2;for(_(Y[he+0],255&ln,ln>>16,vt,it),we!=null&&(ln=3*or+nn+131074>>2,_(we[_e+0],255&ln,ln>>16,gt,yt)),St=1;St<=gn;++St){var Cr=Ne[Te+St]|Re[Ge+St]<<16,Ii=nt[Ie+St]|Ye[et+St]<<16,ar=nn+Cr+or+Ii+524296,rn=ar+2*(Cr+or)>>3;ln=rn+nn>>1,nn=(ar=ar+2*(nn+Ii)>>3)+Cr>>1,_(Y[he+2*St-1],255&ln,ln>>16,vt,it+(2*St-1)*W),_(Y[he+2*St-0],255&nn,nn>>16,vt,it+(2*St-0)*W),we!=null&&(ln=ar+or>>1,nn=rn+Ii>>1,_(we[_e+2*St-1],255&ln,ln>>16,gt,yt+(2*St-1)*W),_(we[_e+2*St+0],255&nn,nn>>16,gt,yt+(2*St+0)*W)),nn=Cr,or=Ii}1&_t||(ln=3*nn+or+131074>>2,_(Y[he+_t-1],255&ln,ln>>16,vt,it+(_t-1)*W),we!=null&&(ln=3*or+nn+131074>>2,_(we[_e+_t-1],255&ln,ln>>16,gt,yt+(_t-1)*W)))}}function Ll(){Io[Ol]=Nf,Io[Aa]=ps,Io[fu]=Ef,Io[Fl]=Ul,Io[Bl]=Va,Io[si]=ms,Io[dc]=yc,Io[pl]=ps,Io[Wa]=Ul,Io[hc]=Va,Io[pc]=ms}function Rl(m){return m&-16384?0>m?0:255:m>>ys}function $s(m,_){return Rl((19077*m>>8)+(26149*_>>8)-14234)}function sl(m,_,W){return Rl((19077*m>>8)-(6419*_>>8)-(13320*W>>8)+8708)}function Oa(m,_){return Rl((19077*m>>8)+(33050*_>>8)-17685)}function Fa(m,_,W,Y,he){Y[he+0]=$s(m,W),Y[he+1]=sl(m,_,W),Y[he+2]=Oa(m,_)}function lo(m,_,W,Y,he){Y[he+0]=Oa(m,_),Y[he+1]=sl(m,_,W),Y[he+2]=$s(m,W)}function Ba(m,_,W,Y,he){var we=sl(m,_,W);_=we<<3&224|Oa(m,_)>>3,Y[he+0]=248&$s(m,W)|we>>5,Y[he+1]=_}function al(m,_,W,Y,he){var we=240&Oa(m,_)|15;Y[he+0]=240&$s(m,W)|sl(m,_,W)>>4,Y[he+1]=we}function ac(m,_,W,Y,he){Y[he+0]=255,Fa(m,_,W,Y,he+1)}function lc(m,_,W,Y,he){lo(m,_,W,Y,he),Y[he+3]=255}function Oo(m,_,W,Y,he){Fa(m,_,W,Y,he),Y[he+3]=255}function Us(m,_,W){U[m]=function(Y,he,we,_e,Ne,Te,Re,Ge,nt){for(var Ie=Ge+(-2&nt)*W;Ge!=Ie;)_(Y[he+0],we[_e+0],Ne[Te+0],Re,Ge),_(Y[he+1],we[_e+0],Ne[Te+0],Re,Ge+W),he+=2,++_e,++Te,Ge+=2*W;1&nt&&_(Y[he+0],we[_e+0],Ne[Te+0],Re,Ge)}}function Qs(m,_,W){return W==0?m==0?_==0?6:5:_==0?4:0:W}function cc(m,_,W,Y,he){switch(m>>>30){case 3:za(_,W,Y,he,0);break;case 2:fi(_,W,Y,he);break;case 1:Xr(_,W,Y,he)}}function us(m,_){var W,Y,he=_.M,we=_.Nb,_e=m.oc,Ne=m.pc+40,Te=m.oc,Re=m.pc+584,Ge=m.oc,nt=m.pc+600;for(W=0;16>W;++W)_e[Ne+32*W-1]=129;for(W=0;8>W;++W)Te[Re+32*W-1]=129,Ge[nt+32*W-1]=129;for(0<he?_e[Ne-1-32]=Te[Re-1-32]=Ge[nt-1-32]=129:(a(_e,Ne-32-1,127,21),a(Te,Re-32-1,127,9),a(Ge,nt-32-1,127,9)),Y=0;Y<m.za;++Y){var Ie=_.ya[_.aa+Y];if(0<Y){for(W=-1;16>W;++W)o(_e,Ne+32*W-4,_e,Ne+32*W+12,4);for(W=-1;8>W;++W)o(Te,Re+32*W-4,Te,Re+32*W+4,4),o(Ge,nt+32*W-4,Ge,nt+32*W+4,4)}var Ye=m.Gd,et=m.Hd+Y,vt=Ie.ad,it=Ie.Hc;if(0<he&&(o(_e,Ne-32,Ye[et].y,0,16),o(Te,Re-32,Ye[et].f,0,8),o(Ge,nt-32,Ye[et].ea,0,8)),Ie.Za){var gt=_e,yt=Ne-32+16;for(0<he&&(Y>=m.za-1?a(gt,yt,Ye[et].y[15],4):o(gt,yt,Ye[et+1].y,0,4)),W=0;4>W;W++)gt[yt+128+W]=gt[yt+256+W]=gt[yt+384+W]=gt[yt+0+W];for(W=0;16>W;++W,it<<=2)gt=_e,yt=Ne+Kc[W],hs[Ie.Ob[W]](gt,yt),cc(it,vt,16*+W,gt,yt)}else if(gt=Qs(Y,he,Ie.Ob[0]),Lo[gt](_e,Ne),it!=0)for(W=0;16>W;++W,it<<=2)cc(it,vt,16*+W,_e,Ne+Kc[W]);for(W=Ie.Gc,gt=Qs(Y,he,Ie.Dd),Ko[gt](Te,Re),Ko[gt](Ge,nt),it=vt,gt=Te,yt=Re,255&(Ie=0|W)&&(170&Ie?Fo(it,256,gt,yt):oi(it,256,gt,yt)),Ie=Ge,it=nt,255&(W>>=8)&&(170&W?Fo(vt,320,Ie,it):oi(vt,320,Ie,it)),he<m.Ub-1&&(o(Ye[et].y,0,_e,Ne+480,16),o(Ye[et].f,0,Te,Re+224,8),o(Ye[et].ea,0,Ge,nt+224,8)),W=8*we*m.B,Ye=m.sa,et=m.ta+16*Y+16*we*m.R,vt=m.qa,Ie=m.ra+8*Y+W,it=m.Ha,gt=m.Ia+8*Y+W,W=0;16>W;++W)o(Ye,et+W*m.R,_e,Ne+32*W,16);for(W=0;8>W;++W)o(vt,Ie+W*m.B,Te,Re+32*W,8),o(it,gt+W*m.B,Ge,nt+32*W,8)}}function ya(m,_,W,Y,he,we,_e,Ne,Te){var Re=[0],Ge=[0],nt=0,Ie=Te!=null?Te.kd:0,Ye=Te??new wt;if(m==null||12>W)return 7;Ye.data=m,Ye.w=_,Ye.ha=W,_=[_],W=[W],Ye.gb=[Ye.gb];e:{var et=_,vt=W,it=Ye.gb;if(e(m!=null),e(vt!=null),e(it!=null),it[0]=0,12<=vt[0]&&!t(m,et[0],"RIFF")){if(t(m,et[0]+8,"WEBP")){it=3;break e}var gt=H(m,et[0]+4);if(12>gt||4294967286<gt){it=3;break e}if(Ie&&gt>vt[0]-8){it=7;break e}it[0]=gt,et[0]+=12,vt[0]-=12}it=0}if(it!=0)return it;for(gt=0<Ye.gb[0],W=W[0];;){e:{var yt=m;vt=_,it=W;var _t=Re,St=Ge,gn=et=[0];if((ln=nt=[nt])[0]=0,8>it[0])it=7;else{if(!t(yt,vt[0],"VP8X")){if(H(yt,vt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var nn=H(yt,vt[0]+8),or=1+Be(yt,vt[0]+12);if(2147483648<=or*(yt=1+Be(yt,vt[0]+15))){it=3;break e}gn!=null&&(gn[0]=nn),_t!=null&&(_t[0]=or),St!=null&&(St[0]=yt),vt[0]+=18,it[0]-=18,ln[0]=1}it=0}}if(nt=nt[0],et=et[0],it!=0)return it;if(vt=!!(2&et),!gt&&nt)return 3;if(we!=null&&(we[0]=!!(16&et)),_e!=null&&(_e[0]=vt),Ne!=null&&(Ne[0]=0),_e=Re[0],et=Ge[0],nt&&vt&&Te==null){it=0;break}if(4>W){it=7;break}if(gt&&nt||!gt&&!nt&&!t(m,_[0],"ALPH")){W=[W],Ye.na=[Ye.na],Ye.P=[Ye.P],Ye.Sa=[Ye.Sa];e:{nn=m,it=_,gt=W;var ln=Ye.gb;_t=Ye.na,St=Ye.P,gn=Ye.Sa,or=22,e(nn!=null),e(gt!=null),yt=it[0];var Cr=gt[0];for(e(_t!=null),e(gn!=null),_t[0]=null,St[0]=null,gn[0]=0;;){if(it[0]=yt,gt[0]=Cr,8>Cr){it=7;break e}var Ii=H(nn,yt+4);if(4294967286<Ii){it=3;break e}var ar=8+Ii+1&-2;if(or+=ar,0<ln&&or>ln){it=3;break e}if(!t(nn,yt,"VP8 ")||!t(nn,yt,"VP8L")){it=0;break e}if(Cr[0]<ar){it=7;break e}t(nn,yt,"ALPH")||(_t[0]=nn,St[0]=yt+8,gn[0]=Ii),yt+=ar,Cr-=ar}}if(W=W[0],Ye.na=Ye.na[0],Ye.P=Ye.P[0],Ye.Sa=Ye.Sa[0],it!=0)break}W=[W],Ye.Ja=[Ye.Ja],Ye.xa=[Ye.xa];e:if(ln=m,it=_,gt=W,_t=Ye.gb[0],St=Ye.Ja,gn=Ye.xa,nn=it[0],yt=!t(ln,nn,"VP8 "),or=!t(ln,nn,"VP8L"),e(ln!=null),e(gt!=null),e(St!=null),e(gn!=null),8>gt[0])it=7;else{if(yt||or){if(ln=H(ln,nn+4),12<=_t&&ln>_t-12){it=3;break e}if(Ie&&ln>gt[0]-8){it=7;break e}St[0]=ln,it[0]+=8,gt[0]-=8,gn[0]=or}else gn[0]=5<=gt[0]&&ln[nn+0]==47&&!(ln[nn+4]>>5),St[0]=gt[0];it=0}if(W=W[0],Ye.Ja=Ye.Ja[0],Ye.xa=Ye.xa[0],_=_[0],it!=0)break;if(4294967286<Ye.Ja)return 3;if(Ne==null||vt||(Ne[0]=Ye.xa?2:1),_e=[_e],et=[et],Ye.xa){if(5>W){it=7;break}Ne=_e,Ie=et,vt=we,m==null||5>W?m=0:5<=W&&m[_+0]==47&&!(m[_+4]>>5)?(gt=[0],ln=[0],_t=[0],ke(St=new Z,m,_,W),es(St,gt,ln,_t)?(Ne!=null&&(Ne[0]=gt[0]),Ie!=null&&(Ie[0]=ln[0]),vt!=null&&(vt[0]=_t[0]),m=1):m=0):m=0}else{if(10>W){it=7;break}Ne=et,m==null||10>W||!Ao(m,_+3,W-3)?m=0:(Ie=m[_+0]|m[_+1]<<8|m[_+2]<<16,vt=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Ye.Ja||!vt||!m?m=0:(_e&&(_e[0]=vt),Ne&&(Ne[0]=m),m=1))}if(!m||(_e=_e[0],et=et[0],nt&&(Re[0]!=_e||Ge[0]!=et)))return 3;Te!=null&&(Te[0]=Ye,Te.offset=_-Te.w,e(4294967286>_-Te.w),e(Te.offset==Te.ha-W));break}return it==0||it==7&&nt&&Te==null?(we!=null&&(we[0]|=Ye.na!=null&&0<Ye.na.length),Y!=null&&(Y[0]=_e),he!=null&&(he[0]=et),0):it}function Il(m,_,W){var Y=_.width,he=_.height,we=0,_e=0,Ne=Y,Te=he;if(_.Da=m!=null&&0<m.Da,_.Da&&(Ne=m.cd,Te=m.bd,we=m.v,_e=m.j,11>W||(we&=-2,_e&=-2),0>we||0>_e||0>=Ne||0>=Te||we+Ne>Y||_e+Te>he))return 0;if(_.v=we,_.j=_e,_.va=we+Ne,_.o=_e+Te,_.U=Ne,_.T=Te,_.da=m!=null&&0<m.da,_.da){if(!L(Ne,Te,W=[m.ib],we=[m.hb]))return 0;_.ib=W[0],_.hb=we[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*Y/4&&_.hb<3*he/4,_.Kb=0),1}function jl(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function va(m,_,W,Y){if(Y==null||0>=m||0>=_)return 2;if(W!=null){if(W.Da){var he=W.cd,we=W.bd,_e=-2&W.v,Ne=-2&W.j;if(0>_e||0>Ne||0>=he||0>=we||_e+he>m||Ne+we>_)return 2;m=he,_=we}if(W.da){if(!L(m,_,he=[W.ib],we=[W.hb]))return 2;m=he[0],_=we[0]}}Y.width=m,Y.height=_;e:{var Te=Y.width,Re=Y.height;if(m=Y.S,0>=Te||0>=Re||!(m>=Ol&&13>m))m=2;else{if(0>=Y.Rd&&Y.sd==null){_e=we=he=_=0;var Ge=(Ne=Te*Hl[m])*Re;if(11>m||(we=(Re+1)/2*(_=(Te+1)/2),m==12&&(_e=(he=Te)*Re)),(Re=s(Ge+2*we+_e))==null){m=1;break e}Y.sd=Re,11>m?((Te=Y.f.RGBA).eb=Re,Te.fb=0,Te.A=Ne,Te.size=Ge):((Te=Y.f.kb).y=Re,Te.O=0,Te.fa=Ne,Te.Fd=Ge,Te.f=Re,Te.N=0+Ge,Te.Ab=_,Te.Cd=we,Te.ea=Re,Te.W=0+Ge+we,Te.Db=_,Te.Ed=we,m==12&&(Te.F=Re,Te.J=0+Ge+2*we),Te.Tc=_e,Te.lb=he)}if(_=1,he=Y.S,we=Y.width,_e=Y.height,he>=Ol&&13>he)if(11>he)m=Y.f.RGBA,_&=(Ne=Math.abs(m.A))*(_e-1)+we<=m.size,_&=Ne>=we*Hl[he],_&=m.eb!=null;else{m=Y.f.kb,Ne=(we+1)/2,Ge=(_e+1)/2,Te=Math.abs(m.fa),Re=Math.abs(m.Ab);var nt=Math.abs(m.Db),Ie=Math.abs(m.lb),Ye=Ie*(_e-1)+we;_&=Te*(_e-1)+we<=m.Fd,_&=Re*(Ge-1)+Ne<=m.Cd,_=(_&=nt*(Ge-1)+Ne<=m.Ed)&Te>=we&Re>=Ne&nt>=Ne,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,he==12&&(_&=Ie>=we,_&=Ye<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||W!=null&&W.fd&&(m=jl(Y)),m}var ks=64,fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Co=24,wa=32,Wo=8,ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(m){return m},U.Predictor2=function(m,_,W){return _[W+0]},U.Predictor3=function(m,_,W){return _[W+1]},U.Predictor4=function(m,_,W){return _[W-1]},U.Predictor5=function(m,_,W){return Ue(Ue(m,_[W+1]),_[W+0])},U.Predictor6=function(m,_,W){return Ue(m,_[W-1])},U.Predictor7=function(m,_,W){return Ue(m,_[W+0])},U.Predictor8=function(m,_,W){return Ue(_[W-1],_[W+0])},U.Predictor9=function(m,_,W){return Ue(_[W+0],_[W+1])},U.Predictor10=function(m,_,W){return Ue(Ue(m,_[W-1]),Ue(_[W+0],_[W+1]))},U.Predictor11=function(m,_,W){var Y=_[W+0];return 0>=lt(Y>>24&255,m>>24&255,(_=_[W-1])>>24&255)+lt(Y>>16&255,m>>16&255,_>>16&255)+lt(Y>>8&255,m>>8&255,_>>8&255)+lt(255&Y,255&m,255&_)?Y:m},U.Predictor12=function(m,_,W){var Y=_[W+0];return(ft((m>>24&255)+(Y>>24&255)-((_=_[W-1])>>24&255))<<24|ft((m>>16&255)+(Y>>16&255)-(_>>16&255))<<16|ft((m>>8&255)+(Y>>8&255)-(_>>8&255))<<8|ft((255&m)+(255&Y)-(255&_)))>>>0},U.Predictor13=function(m,_,W){var Y=_[W-1];return(ot((m=Ue(m,_[W+0]))>>24&255,Y>>24&255)<<24|ot(m>>16&255,Y>>16&255)<<16|ot(m>>8&255,Y>>8&255)<<8|ot(255&m,255&Y))>>>0};var ds=U.PredictorAdd0;U.PredictorAdd1=Nt,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var ta=U.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Mi,Ma=U.ColorIndexInverseTransform,na=U.MapARGB,qs=U.VP8LColorIndexInverseTransformAlpha,ll=U.MapAlpha,xa=U.VP8LPredictorsAdd=[];xa.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Pl,cl,ra,ba,_a,ul,Sa,za,fi,Fo,Xr,oi,zi,Ji,As,uc,$a,ka,ia,fl,Ho,fc,Dl,Ua,qa,Bc,dl,Mc,zc=s(511),$c=s(2041),Uc=s(225),qc=s(767),Wc=0,Ws=$c,hl=Uc,co=qc,Go=zc,Ol=0,Aa=1,fu=2,Fl=3,Bl=4,si=5,dc=6,pl=7,Wa=8,hc=9,pc=10,mc=[2,3,7],Ha=[3,3,11],Ga=[280,256,256,256,40],Hc=[0,1,1,1,0],du=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Af=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ml=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gc=8,zl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ml=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gl=null,hu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ka=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lo=[],hs=[],Ko=[],oa=1,$l=2,Ro=[],Io=[];Da("UpsampleRgbLinePair",Fa,3),Da("UpsampleBgrLinePair",lo,3),Da("UpsampleRgbaLinePair",Oo,4),Da("UpsampleBgraLinePair",lc,4),Da("UpsampleArgbLinePair",ac,4),Da("UpsampleRgba4444LinePair",al,2),Da("UpsampleRgb565LinePair",Ba,2);var Nf=U.UpsampleRgbLinePair,Ef=U.UpsampleBgrLinePair,ps=U.UpsampleRgbaLinePair,Ul=U.UpsampleBgraLinePair,Va=U.UpsampleArgbLinePair,ms=U.UpsampleRgba4444LinePair,yc=U.UpsampleRgb565LinePair,Hs=16,gs=1<<Hs-1,wr=-227,nr=482,ys=6,Ri=0,Zi=s(256),Xa=s(256),Gs=s(256),Vo=s(256),ql=s(nr-wr),Gc=s(nr-wr);Us("YuvToRgbRow",Fa,3),Us("YuvToBgrRow",lo,3),Us("YuvToRgbaRow",Oo,4),Us("YuvToBgraRow",lc,4),Us("YuvToArgbRow",ac,4),Us("YuvToRgba4444Row",al,2),Us("YuvToRgb565Row",Ba,2);var Kc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wl=[0,2,8],Tf=[8,7,6,4,4,2,2,2,1,1,1,1],Ya=1;this.WebPDecodeRGBA=function(m,_,W,Y,he){var we=Aa,_e=new xt,Ne=new on;_e.ba=Ne,Ne.S=we,Ne.width=[Ne.width],Ne.height=[Ne.height];var Te=Ne.width,Re=Ne.height,Ge=new pn;if(Ge==null||m==null)var nt=2;else e(Ge!=null),nt=ya(m,_,W,Ge.width,Ge.height,Ge.Pd,Ge.Qd,Ge.format,null);if(nt!=0?Te=0:(Te!=null&&(Te[0]=Ge.width[0]),Re!=null&&(Re[0]=Ge.height[0]),Te=1),Te){Ne.width=Ne.width[0],Ne.height=Ne.height[0],Y!=null&&(Y[0]=Ne.width),he!=null&&(he[0]=Ne.height);e:{if(Y=new $r,(he=new wt).data=m,he.w=_,he.ha=W,he.kd=1,_=[0],e(he!=null),((m=ya(he.data,he.w,he.ha,null,null,null,_,null,he))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(_e!=null),Y.data=he.data,Y.w=he.w+he.offset,Y.ha=he.ha-he.offset,Y.put=Nn,Y.ac=Mo,Y.bc=zo,Y.ma=_e,he.xa){if((m=$t())==null){_e=1;break e}if((function(Ie,Ye){var et=[0],vt=[0],it=[0];t:for(;;){if(Ie==null)return 0;if(Ye==null)return Ie.a=2,0;if(Ie.l=Ye,Ie.a=0,ke(Ie.m,Ye.data,Ye.w,Ye.ha),!es(Ie.m,et,vt,it)){Ie.a=3;break t}if(Ie.xb=$l,Ye.width=et[0],Ye.height=vt[0],!an(et[0],vt[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0})(m,Y)){if(Y=(_=va(Y.width,Y.height,_e.Oa,_e.ba))==0){t:{Y=m;n:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((W=Y.l)!=null),e((he=W.ma)!=null),Y.xb!=0){if(Y.ca=he.ba,Y.tb=he.tb,e(Y.ca!=null),!Il(he.Oa,W,Fl)){Y.a=2;break n}if(!Rn(Y,W.width)||W.da)break n;if((W.da||jn(Y.ca.S))&&zs(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&zs()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!ee(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!Ht(Y,Y.V,Y.Ba,Y.c,Y.i,W.o,ts))break n;he.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(_=m.a)}else _=m.a}else{if((m=new ei)==null){_e=1;break e}if(m.Fa=he.na,m.P=he.P,m.qc=he.Sa,No(m,Y)){if((_=va(Y.width,Y.height,_e.Oa,_e.ba))==0){if(m.Aa=0,W=_e.Oa,e((he=m)!=null),W!=null){if(0<(Te=0>(Te=W.Md)?0:100<Te?255:255*Te/100)){for(Re=Ge=0;4>Re;++Re)12>(nt=he.pb[Re]).lc&&(nt.ia=Te*Tf[0>nt.lc?0:nt.lc]>>3),Ge|=nt.ia;Ge&&(alert("todo:VP8InitRandom"),he.ia=1)}he.Ga=W.Id,100<he.Ga?he.Ga=100:0>he.Ga&&(he.Ga=0)}(function(Ie,Ye){if(Ie==null)return 0;if(Ye==null)return yr(Ie,2,"NULL VP8Io parameter in VP8Decode().");if(!Ie.cb&&!No(Ie,Ye))return 0;if(e(Ie.cb),Ye.ac==null||Ye.ac(Ye)){Ye.ob&&(Ie.L=0);var et=Wl[Ie.L];if(Ie.L==2?(Ie.yb=0,Ie.zb=0):(Ie.yb=Ye.v-et>>4,Ie.zb=Ye.j-et>>4,0>Ie.yb&&(Ie.yb=0),0>Ie.zb&&(Ie.zb=0)),Ie.Va=Ye.o+15+et>>4,Ie.Hb=Ye.va+15+et>>4,Ie.Hb>Ie.za&&(Ie.Hb=Ie.za),Ie.Va>Ie.Ub&&(Ie.Va=Ie.Ub),0<Ie.L){var vt=Ie.ed;for(et=0;4>et;++et){var it;if(Ie.Qa.Cb){var gt=Ie.Qa.Lb[et];Ie.Qa.Fb||(gt+=vt.Tb)}else gt=vt.Tb;for(it=0;1>=it;++it){var yt=Ie.gd[et][it],_t=gt;if(vt.Pc&&(_t+=vt.vd[0],it&&(_t+=vt.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var St=_t;0<vt.wb&&(St=4<vt.wb?St>>2:St>>1)>9-vt.wb&&(St=9-vt.wb),1>St&&(St=1),yt.dd=St,yt.tc=2*_t+St,yt.ld=40<=_t?2:15<=_t?1:0}else yt.tc=0;yt.La=it}}}et=0}else yr(Ie,6,"Frame setup failed"),et=Ie.a;if(et=et==0){if(et){Ie.$c=0,0<Ie.Aa||(Ie.Ic=Ya);t:{et=Ie.Ic,vt=4*(St=Ie.za);var gn=32*St,nn=St+1,or=0<Ie.L?St*(0<Ie.Aa?2:1):0,ln=(Ie.Aa==2?2:1)*St;if((yt=vt+832+(it=3*(16*et+Wl[Ie.L])/2*gn)+(gt=Ie.Fa!=null&&0<Ie.Fa.length?Ie.Kc.c*Ie.Kc.i:0))!=yt)et=0;else{if(yt>Ie.Vb){if(Ie.Vb=0,Ie.Ec=s(yt),Ie.Fc=0,Ie.Ec==null){et=yr(Ie,1,"no memory during frame initialization.");break t}Ie.Vb=yt}yt=Ie.Ec,_t=Ie.Fc,Ie.Ac=yt,Ie.Bc=_t,_t+=vt,Ie.Gd=u(gn,Pn),Ie.Hd=0,Ie.rb=u(nn+1,_n),Ie.sb=1,Ie.wa=or?u(or,Tr):null,Ie.Y=0,Ie.D.Nb=0,Ie.D.wa=Ie.wa,Ie.D.Y=Ie.Y,0<Ie.Aa&&(Ie.D.Y+=St),e(!0),Ie.oc=yt,Ie.pc=_t,_t+=832,Ie.ya=u(ln,Kr),Ie.aa=0,Ie.D.ya=Ie.ya,Ie.D.aa=Ie.aa,Ie.Aa==2&&(Ie.D.aa+=St),Ie.R=16*St,Ie.B=8*St,St=(gn=Wl[Ie.L])*Ie.R,gn=gn/2*Ie.B,Ie.sa=yt,Ie.ta=_t+St,Ie.qa=Ie.sa,Ie.ra=Ie.ta+16*et*Ie.R+gn,Ie.Ha=Ie.qa,Ie.Ia=Ie.ra+8*et*Ie.B+gn,Ie.$c=0,_t+=it,Ie.mb=gt?yt:null,Ie.nb=gt?_t:null,e(_t+gt<=Ie.Fc+Ie.Vb),vr(Ie),a(Ie.Ac,Ie.Bc,0,vt),et=1}}if(et){if(Ye.ka=0,Ye.y=Ie.sa,Ye.O=Ie.ta,Ye.f=Ie.qa,Ye.N=Ie.ra,Ye.ea=Ie.Ha,Ye.Vd=Ie.Ia,Ye.fa=Ie.R,Ye.Rc=Ie.B,Ye.F=null,Ye.J=0,!Wc){for(et=-255;255>=et;++et)zc[255+et]=0>et?-et:et;for(et=-1020;1020>=et;++et)$c[1020+et]=-128>et?-128:127<et?127:et;for(et=-112;112>=et;++et)Uc[112+et]=-16>et?-16:15<et?15:et;for(et=-255;510>=et;++et)qc[255+et]=0>et?0:255<et?255:et;Wc=1}Sa=Ds,za=Uo,Fo=Gn,Xr=En,oi=Dr,fi=rs,zi=ti,Ji=ls,As=me,uc=je,$a=cs,ka=O,ia=qe,fl=Ze,Ho=pa,fc=Ys,Dl=Js,Ua=ma,hs[0]=il,hs[1]=Ai,hs[2]=_r,hs[3]=rl,hs[4]=ss,hs[5]=Pa,hs[6]=Bs,hs[7]=Tl,hs[8]=sc,hs[9]=qo,Lo[0]=Vs,Lo[1]=Fs,Lo[2]=nl,Lo[3]=is,Lo[4]=Yi,Lo[5]=Eo,Lo[6]=os,Ko[0]=Cl,Ko[1]=oc,Ko[2]=as,Ko[3]=ol,Ko[4]=ri,Ko[5]=da,Ko[6]=Ni,et=1}else et=0}et&&(et=(function(Cr,Ii){for(Cr.M=0;Cr.M<Cr.Va;++Cr.M){var ar,rn=Cr.Jc[Cr.M&Cr.Xb],Gt=Cr.m,$i=Cr;for(ar=0;ar<$i.za;++ar){var Xn=Gt,Ar=$i,di=Ar.Ac,io=Ar.Bc+4*ar,Hi=Ar.zc,Ti=Ar.ya[Ar.aa+ar];if(Ar.Qa.Bb?Ti.$b=de(Xn,Ar.Pa.jb[0])?2+de(Xn,Ar.Pa.jb[2]):de(Xn,Ar.Pa.jb[1]):Ti.$b=0,Ar.kc&&(Ti.Ad=de(Xn,Ar.Bd)),Ti.Za=!de(Xn,145)+0,Ti.Za){var Qi=Ti.Ob,oo=0;for(Ar=0;4>Ar;++Ar){var yi,Rr=Hi[0+Ar];for(yi=0;4>yi;++yi){Rr=qu[di[io+yi]][Rr];for(var Yr=Uu[de(Xn,Rr[0])];0<Yr;)Yr=Uu[2*Yr+de(Xn,Rr[Yr])];Rr=-Yr,di[io+yi]=Rr}o(Qi,oo,di,io,4),oo+=4,Hi[0+Ar]=Rr}}else Rr=de(Xn,156)?de(Xn,128)?1:3:de(Xn,163)?2:0,Ti.Ob[0]=Rr,a(di,io,Rr,4),a(Hi,0,Rr,4);Ti.Dd=de(Xn,142)?de(Xn,114)?de(Xn,183)?1:3:2:0}if($i.m.Ka)return yr(Cr,7,"Premature end-of-partition0 encountered.");for(;Cr.ja<Cr.za;++Cr.ja){if($i=rn,Xn=(Gt=Cr).rb[Gt.sb-1],di=Gt.rb[Gt.sb+Gt.ja],ar=Gt.ya[Gt.aa+Gt.ja],io=Gt.kc?ar.Ad:0)Xn.la=di.la=0,ar.Za||(Xn.Na=di.Na=0),ar.Hc=0,ar.Gc=0,ar.ia=0;else{var vi,Jr;if(Xn=di,di=$i,io=Gt.Pa.Xc,Hi=Gt.ya[Gt.aa+Gt.ja],Ti=Gt.pb[Hi.$b],Ar=Hi.ad,Qi=0,oo=Gt.rb[Gt.sb-1],Rr=yi=0,a(Ar,Qi,0,384),Hi.Za)var ji=0,Pi=io[3];else{Yr=s(16);var ai=Xn.Na+oo.Na;if(ai=gl(di,io[1],ai,Ti.Eb,0,Yr,0),Xn.Na=oo.Na=(0<ai)+0,1<ai)Sa(Yr,0,Ar,Qi);else{var g=Yr[0]+3>>3;for(Yr=0;256>Yr;Yr+=16)Ar[Qi+Yr]=g}ji=1,Pi=io[0]}var x=15&Xn.la,K=15&oo.la;for(Yr=0;4>Yr;++Yr){var $=1&K;for(g=Jr=0;4>g;++g)x=x>>1|($=(ai=gl(di,Pi,ai=$+(1&x),Ti.Sc,ji,Ar,Qi))>ji)<<7,Jr=Jr<<2|(3<ai?3:1<ai?2:Ar[Qi+0]!=0),Qi+=16;x>>=4,K=K>>1|$<<7,yi=(yi<<8|Jr)>>>0}for(Pi=x,ji=K>>4,vi=0;4>vi;vi+=2){for(Jr=0,x=Xn.la>>4+vi,K=oo.la>>4+vi,Yr=0;2>Yr;++Yr){for($=1&K,g=0;2>g;++g)ai=$+(1&x),x=x>>1|($=0<(ai=gl(di,io[2],ai,Ti.Qc,0,Ar,Qi)))<<3,Jr=Jr<<2|(3<ai?3:1<ai?2:Ar[Qi+0]!=0),Qi+=16;x>>=2,K=K>>1|$<<5}Rr|=Jr<<4*vi,Pi|=x<<4<<vi,ji|=(240&K)<<vi}Xn.la=Pi,oo.la=ji,Hi.Hc=yi,Hi.Gc=Rr,Hi.ia=43690&Rr?0:Ti.ia,io=!(yi|Rr)}if(0<Gt.L&&(Gt.wa[Gt.Y+Gt.ja]=Gt.gd[ar.$b][ar.Za],Gt.wa[Gt.Y+Gt.ja].La|=!io),$i.Ka)return yr(Cr,7,"Premature end-of-file encountered.")}if(vr(Cr),Gt=Ii,$i=1,ar=(rn=Cr).D,Xn=0<rn.L&&rn.M>=rn.zb&&rn.M<=rn.Va,rn.Aa==0)t:{if(ar.M=rn.M,ar.uc=Xn,us(rn,ar),$i=1,ar=(Jr=rn.D).Nb,Xn=(Rr=Wl[rn.L])*rn.R,di=Rr/2*rn.B,Yr=16*ar*rn.R,g=8*ar*rn.B,io=rn.sa,Hi=rn.ta-Xn+Yr,Ti=rn.qa,Ar=rn.ra-di+g,Qi=rn.Ha,oo=rn.Ia-di+g,K=(x=Jr.M)==0,yi=x>=rn.Va-1,rn.Aa==2&&us(rn,Jr),Jr.uc)for($=(ai=rn).D.M,e(ai.D.uc),Jr=ai.yb;Jr<ai.Hb;++Jr){ji=Jr,Pi=$;var E=(ce=(ct=ai).D).Nb;vi=ct.R;var ce=ce.wa[ce.Y+ji],ue=ct.sa,D=ct.ta+16*E*vi+16*ji,Pe=ce.dd,De=ce.tc;if(De!=0)if(e(3<=De),ct.L==1)0<ji&&fc(ue,D,vi,De+4),ce.La&&Ua(ue,D,vi,De),0<Pi&&Ho(ue,D,vi,De+4),ce.La&&Dl(ue,D,vi,De);else{var Le=ct.B,Me=ct.qa,Oe=ct.ra+8*E*Le+8*ji,Xe=ct.Ha,ct=ct.Ia+8*E*Le+8*ji;E=ce.ld,0<ji&&(Ji(ue,D,vi,De+4,Pe,E),uc(Me,Oe,Xe,ct,Le,De+4,Pe,E)),ce.La&&(ka(ue,D,vi,De,Pe,E),fl(Me,Oe,Xe,ct,Le,De,Pe,E)),0<Pi&&(zi(ue,D,vi,De+4,Pe,E),As(Me,Oe,Xe,ct,Le,De+4,Pe,E)),ce.La&&($a(ue,D,vi,De,Pe,E),ia(Me,Oe,Xe,ct,Le,De,Pe,E))}}if(rn.ia&&alert("todo:DitherRow"),Gt.put!=null){if(Jr=16*x,x=16*(x+1),K?(Gt.y=rn.sa,Gt.O=rn.ta+Yr,Gt.f=rn.qa,Gt.N=rn.ra+g,Gt.ea=rn.Ha,Gt.W=rn.Ia+g):(Jr-=Rr,Gt.y=io,Gt.O=Hi,Gt.f=Ti,Gt.N=Ar,Gt.ea=Qi,Gt.W=oo),yi||(x-=Rr),x>Gt.o&&(x=Gt.o),Gt.F=null,Gt.J=null,rn.Fa!=null&&0<rn.Fa.length&&Jr<x&&(Gt.J=ii(rn,Gt,Jr,x-Jr),Gt.F=rn.mb,Gt.F==null&&Gt.F.length==0)){$i=yr(rn,3,"Could not decode alpha data.");break t}Jr<Gt.j&&(Rr=Gt.j-Jr,Jr=Gt.j,e(!(1&Rr)),Gt.O+=rn.R*Rr,Gt.N+=rn.B*(Rr>>1),Gt.W+=rn.B*(Rr>>1),Gt.F!=null&&(Gt.J+=Gt.width*Rr)),Jr<x&&(Gt.O+=Gt.v,Gt.N+=Gt.v>>1,Gt.W+=Gt.v>>1,Gt.F!=null&&(Gt.J+=Gt.v),Gt.ka=Jr-Gt.j,Gt.U=Gt.va-Gt.v,Gt.T=x-Jr,$i=Gt.put(Gt))}ar+1!=rn.Ic||yi||(o(rn.sa,rn.ta-Xn,io,Hi+16*rn.R,Xn),o(rn.qa,rn.ra-di,Ti,Ar+8*rn.B,di),o(rn.Ha,rn.Ia-di,Qi,oo+8*rn.B,di))}if(!$i)return yr(Cr,6,"Output aborted.")}return 1})(Ie,Ye)),Ye.bc!=null&&Ye.bc(Ye),et&=1}return et?(Ie.cb=0,et):0})(m,Y)||(_=m.a)}}else _=m.a}_==0&&_e.Oa!=null&&_e.Oa.fd&&(_=jl(_e.ba))}_e=_}we=_e!=0?null:11>we?Ne.f.RGBA.eb:Ne.f.kb.y}else we=null;return we};var Hl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(U,le){for(var oe="",B=0;B<4;B++)oe+=String.fromCharCode(U[le++]);return oe}function h(U,le){return U[le+0]|U[le+1]<<8}function S(U,le){return(U[le+0]|U[le+1]<<8|U[le+2]<<16)>>>0}function b(U,le){return(U[le+0]|U[le+1]<<8|U[le+2]<<16|U[le+3]<<24)>>>0}new f;var p=[0],j=[0],N=[],A=new f,w=r,I=(function(U,le){var oe={},B=0,te=!1,P=0,be=0;if(oe.frames=[],!(function(C,Z){for(var ne=0;ne<4;ne++)if(C[Z+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(U,le)){for(b(U,le+=4),le+=8;le<U.length;){var Ae=d(U,le),ge=b(U,le+=4);le+=4;var xe=ge+(1&ge);switch(Ae){case"VP8 ":case"VP8L":oe.frames[B]===void 0&&(oe.frames[B]={}),(J=oe.frames[B]).src_off=te?be:le-8,J.src_size=P+ge+8,B++,te&&(te=!1,P=0,be=0);break;case"VP8X":(J=oe.header={}).feature_flags=U[le];var ke=le+4;J.canvas_width=1+S(U,ke),ke+=3,J.canvas_height=1+S(U,ke),ke+=3;break;case"ALPH":te=!0,P=xe+8,be=le-8;break;case"ANIM":(J=oe.header).bgcolor=b(U,le),ke=le+4,J.loop_count=h(U,ke),ke+=2;break;case"ANMF":var Fe,J;(J=oe.frames[B]={}).offset_x=2*S(U,le),le+=3,J.offset_y=2*S(U,le),le+=3,J.width=1+S(U,le),le+=3,J.height=1+S(U,le),le+=3,J.duration=S(U,le),le+=3,Fe=U[le++],J.dispose=1&Fe,J.blend=Fe>>1&1}Ae!="ANMF"&&(le+=xe)}return oe}})(w,0);I.response=w,I.rgbaoutput=!0,I.dataurl=!1;var R=I.header?I.header:null,k=I.frames?I.frames:null;if(R){R.loop_counter=R.loop_count,p=[R.canvas_height],j=[R.canvas_width];for(var G=0;G<k.length&&k[G].blend!=0;G++);}var re=k[0],Q=A.WebPDecodeRGBA(w,re.src_off,re.src_size,j,p);re.rgba=Q,re.imgwidth=j[0],re.imgheight=p[0];for(var ie=0;ie<j[0]*p[0]*4;ie++)N[ie]=Q[ie];return this.width=j,this.height=p,this.data=N,this}(function(r){var e,t,o,a,s,u,l,f,d,h=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new f,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new u,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new u,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new S(this),e=this.internal.f2,t=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,l=this.internal.Rectangle,f=this.internal.Matrix,d=new h}]);var S=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=C;Object.defineProperty(this,"pdf",{get:function(){return Z}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(ee){ne=!!ee}});var ye=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ye},set:function(ee){ye=!!ee}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(ee){isNaN(ee)||(ae=ee)}});var M=0;Object.defineProperty(this,"posY",{get:function(){return M},set:function(ee){isNaN(ee)||(M=ee)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ee){var X;typeof ee=="number"?X=[ee,ee,ee,ee]:((X=new Array(4))[0]=ee[0],X[1]=ee.length>=2?ee[1]:X[0],X[2]=ee.length>=3?ee[2]:X[0],X[3]=ee.length>=4?ee[3]:X[1]),d.margin=X}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(ee){z=ee}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ee){fe=ee}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(ee){de=ee}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ee){ee instanceof h&&(d=ee)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ee){d.path=ee}});var se=[];Object.defineProperty(this,"ctxStack",{get:function(){return se},set:function(ee){se=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var X;X=b(ee),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var X=b(ee);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var pe=null,Be=null,H=null;Object.defineProperty(this,"fontFaces",{get:function(){return H},set:function(ee){pe=null,Be=null,H=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var X;if(this.ctx.font=ee,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ee))!==null){var T=X[1];X[2];var L=X[3],q=X[4];X[5];var Se=X[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(q)[2];q=Math.floor(Ce==="px"?parseFloat(q)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(q)*this.pdf.getFontSize():parseFloat(q)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(q);var Ee=(function(Bt){var pr,mn,Un=[],Vn=Bt.trim();if(Vn==="")return h1;if(Vn in dv)return[dv[Vn]];for(;Vn!=="";){switch(mn=null,pr=(Vn=pv(Vn)).charAt(0)){case'"':case"'":mn=Nk(Vn.substring(1),pr);break;default:mn=Ek(Vn)}if(mn===null||(Un.push(mn[0]),(Vn=pv(mn[1]))!==""&&Vn.charAt(0)!==","))return h1;Vn=Vn.replace(/^,/,"")}return Un})(Se);if(this.fontFaces){var Ue=(function(Bt,pr){var mn=Bt.getFontList(),Un=JSON.stringify(mn);if(pe===null||Be!==Un){var Vn=(function(bn){var en=[];return Object.keys(bn).forEach(function(Hr){bn[Hr].forEach(function(jn){var Ln=null;switch(jn){case"bold":Ln={family:Hr,weight:"bold"};break;case"italic":Ln={family:Hr,style:"italic"};break;case"bolditalic":Ln={family:Hr,weight:"bold",style:"italic"};break;case"":case"normal":Ln={family:Hr}}Ln!==null&&(Ln.ref={name:Hr,style:jn},en.push(Ln))})}),en})(mn);pe=(function(bn){for(var en={},Hr=0;Hr<bn.length;++Hr){var jn=d1(bn[Hr]),Ln=jn.family,kr=jn.stretch,on=jn.style,pn=jn.weight;en[Ln]=en[Ln]||{},en[Ln][kr]=en[Ln][kr]||{},en[Ln][kr][on]=en[Ln][kr][on]||{},en[Ln][kr][on][pn]=jn}return en})(Vn.concat(pr)),Be=Un}return pe})(this.pdf,this.fontFaces),ft=Ee.map(function(Bt){return{family:Bt,stretch:"normal",weight:L,style:T}}),ot=(function(Bt,pr,mn){for(var Un=(mn=mn||{}).defaultFontFamily||"times",Vn=Object.assign({},Ak,mn.genericFontFamilies||{}),bn=null,en=null,Hr=0;Hr<pr.length;++Hr)if(Vn[(bn=d1(pr[Hr])).family]&&(bn.family=Vn[bn.family]),Bt.hasOwnProperty(bn.family)){en=Bt[bn.family];break}if(!(en=en||Bt[Un]))throw new Error("Could not find a font-family for the rule '"+hv(bn)+"' and default family '"+Un+"'.");if(en=(function(jn,Ln){if(Ln[jn])return Ln[jn];var kr=F1[jn],on=kr<=F1.normal?-1:1,pn=fv(Ln,_w,kr,on);if(!pn)throw new Error("Could not find a matching font-stretch value for "+jn);return pn})(bn.stretch,en),en=(function(jn,Ln){if(Ln[jn])return Ln[jn];for(var kr=bw[jn],on=0;on<kr.length;++on)if(Ln[kr[on]])return Ln[kr[on]];throw new Error("Could not find a matching font-style for "+jn)})(bn.style,en),!(en=(function(jn,Ln){if(Ln[jn])return Ln[jn];if(jn===400&&Ln[500])return Ln[500];if(jn===500&&Ln[400])return Ln[400];var kr=kk[jn],on=fv(Ln,Sw,kr,jn<400?-1:1);if(!on)throw new Error("Could not find a matching font-weight for value "+jn);return on})(bn.weight,en)))throw new Error("Failed to resolve a font for the rule '"+hv(bn)+"'.");return en})(Ue,ft);this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var lt="";(L==="bold"||parseInt(L,10)>=700||T==="bold")&&(lt="bold"),T==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var Nt="",Ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Kt=0;Kt<Ee.length;Kt++){if(this.pdf.internal.getFont(Ee[Kt],lt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ee[Kt];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(Ee[Kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Ee[Kt],lt="bold";else if(this.pdf.internal.getFont(Ee[Kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ee[Kt],lt="normal";break}}if(Nt===""){for(var xn=0;xn<Ee.length;xn++)if(Ot[Ee[xn]]){Nt=Ot[Ee[xn]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};S.prototype.setLineDash=function(C){this.lineDash=C},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){k.call(this,"fill",!1)},S.prototype.stroke=function(){k.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(C,Z){if(isNaN(C)||isNaN(Z))throw Di.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new u(C,Z));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new u(C,Z)},S.prototype.closePath=function(){var C=new u(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&Si(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){C=new u(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(C.x,C.y)},S.prototype.lineTo=function(C,Z){if(isNaN(C)||isNaN(Z))throw Di.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new u(C,Z));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new u(ne.x,ne.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},S.prototype.quadraticCurveTo=function(C,Z,ne,ye){if(isNaN(ne)||isNaN(ye)||isNaN(C)||isNaN(Z))throw Di.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new u(ne,ye)),M=this.ctx.transform.applyToPoint(new u(C,Z));this.path.push({type:"qct",x1:M.x,y1:M.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new u(ae.x,ae.y)},S.prototype.bezierCurveTo=function(C,Z,ne,ye,ae,M){if(isNaN(ae)||isNaN(M)||isNaN(C)||isNaN(Z)||isNaN(ne)||isNaN(ye))throw Di.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new u(ae,M)),fe=this.ctx.transform.applyToPoint(new u(C,Z)),de=this.ctx.transform.applyToPoint(new u(ne,ye));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:de.x,y2:de.y,x:z.x,y:z.y}),this.ctx.lastPoint=new u(z.x,z.y)},S.prototype.arc=function(C,Z,ne,ye,ae,M){if(isNaN(C)||isNaN(Z)||isNaN(ne)||isNaN(ye)||isNaN(ae))throw Di.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(M=!!M,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new u(C,Z));C=z.x,Z=z.y;var fe=this.ctx.transform.applyToPoint(new u(0,ne)),de=this.ctx.transform.applyToPoint(new u(0,0));ne=Math.sqrt(Math.pow(fe.x-de.x,2)+Math.pow(fe.y-de.y,2))}Math.abs(ae-ye)>=2*Math.PI&&(ye=0,ae=2*Math.PI),this.path.push({type:"arc",x:C,y:Z,radius:ne,startAngle:ye,endAngle:ae,counterclockwise:M})},S.prototype.arcTo=function(C,Z,ne,ye,ae){throw new Error("arcTo not implemented.")},S.prototype.rect=function(C,Z,ne,ye){if(isNaN(C)||isNaN(Z)||isNaN(ne)||isNaN(ye))throw Di.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,Z),this.lineTo(C+ne,Z),this.lineTo(C+ne,Z+ye),this.lineTo(C,Z+ye),this.lineTo(C,Z),this.lineTo(C+ne,Z),this.lineTo(C,Z)},S.prototype.fillRect=function(C,Z,ne,ye){if(isNaN(C)||isNaN(Z)||isNaN(ne)||isNaN(ye))throw Di.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,Z,ne,ye),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},S.prototype.strokeRect=function(C,Z,ne,ye){if(isNaN(C)||isNaN(Z)||isNaN(ne)||isNaN(ye))throw Di.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(C,Z,ne,ye),this.stroke())},S.prototype.clearRect=function(C,Z,ne,ye){if(isNaN(C)||isNaN(Z)||isNaN(ne)||isNaN(ye))throw Di.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,Z,ne,ye))},S.prototype.save=function(C){C=typeof C!="boolean"||C;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var ye=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ye}},S.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(C){var Z,ne,ye,ae;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))Z=0,ne=0,ye=0,ae=0;else{var M=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(M!==null)Z=parseInt(M[1]),ne=parseInt(M[2]),ye=parseInt(M[3]),ae=1;else if((M=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)Z=parseInt(M[1]),ne=parseInt(M[2]),ye=parseInt(M[3]),ae=parseFloat(M[4]);else{if(ae=1,typeof C=="string"&&C.charAt(0)!=="#"){var z=new pw(C);C=z.ok?z.toHex():"#000000"}C.length===4?(Z=C.substring(1,2),Z+=Z,ne=C.substring(2,3),ne+=ne,ye=C.substring(3,4),ye+=ye):(Z=C.substring(1,3),ne=C.substring(3,5),ye=C.substring(5,7)),Z=parseInt(Z,16),ne=parseInt(ne,16),ye=parseInt(ye,16)}}return{r:Z,g:ne,b:ye,a:ae,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(C,Z,ne,ye){if(isNaN(Z)||isNaN(ne)||typeof C!="string")throw Di.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ye=isNaN(ye)?void 0:ye,!p.call(this)){var ae=xe(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;B.call(this,{text:C,x:Z,y:ne,scale:M,angle:ae,align:this.textAlign,maxWidth:ye})}},S.prototype.strokeText=function(C,Z,ne,ye){if(isNaN(Z)||isNaN(ne)||typeof C!="string")throw Di.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ye=isNaN(ye)?void 0:ye;var ae=xe(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;B.call(this,{text:C,x:Z,y:ne,scale:M,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ye})}},S.prototype.measureText=function(C){if(typeof C!="string")throw Di.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,ne=this.pdf.internal.scaleFactor,ye=Z.internal.getFontSize(),ae=Z.getStringUnitWidth(C)*ye/Z.internal.scaleFactor;return new function(M){var z=(M=M||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return z}}),this}({width:ae*=Math.round(96*ne/72*1e4)/1e4})},S.prototype.scale=function(C,Z){if(isNaN(C)||isNaN(Z))throw Di.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new f(C,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},S.prototype.rotate=function(C){if(isNaN(C))throw Di.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new f(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},S.prototype.translate=function(C,Z){if(isNaN(C)||isNaN(Z))throw Di.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new f(1,0,0,1,C,Z);this.ctx.transform=this.ctx.transform.multiply(ne)},S.prototype.transform=function(C,Z,ne,ye,ae,M){if(isNaN(C)||isNaN(Z)||isNaN(ne)||isNaN(ye)||isNaN(ae)||isNaN(M))throw Di.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new f(C,Z,ne,ye,ae,M);this.ctx.transform=this.ctx.transform.multiply(z)},S.prototype.setTransform=function(C,Z,ne,ye,ae,M){C=isNaN(C)?1:C,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?0:ne,ye=isNaN(ye)?1:ye,ae=isNaN(ae)?0:ae,M=isNaN(M)?0:M,this.ctx.transform=new f(C,Z,ne,ye,ae,M)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(C,Z,ne,ye,ae,M,z,fe,de){var se=this.pdf.getImageProperties(C),pe=1,Be=1,H=1,ee=1;ye!==void 0&&fe!==void 0&&(H=fe/ye,ee=de/ae,pe=se.width/ye*fe/ye,Be=se.height/ae*de/ae),M===void 0&&(M=Z,z=ne,Z=0,ne=0),ye!==void 0&&fe===void 0&&(fe=ye,de=ae),ye===void 0&&fe===void 0&&(fe=se.width,de=se.height);var X=this.ctx.transform.decompose(),T=xe(X.rotate.shx),L=new f,q=(L=(L=(L=L.multiply(X.translate)).multiply(X.skew)).multiply(X.scale)).applyToRectangle(new l(M-Z*H,z-ne*ee,ye*pe,ae*Be));if(this.autoPaging){for(var Se,Ce=A.call(this,q),Ee=[],Ue=0;Ue<Ce.length;Ue+=1)Ee.indexOf(Ce[Ue])===-1&&Ee.push(Ce[Ue]);R(Ee);for(var ft=Ee[0],ot=Ee[Ee.length-1],lt=ft;lt<ot+1;lt++){this.pdf.setPage(lt);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=lt===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=lt===1?0:Kt+(lt-2)*xn;if(this.ctx.clip_path.length!==0){var pr=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Se,this.posX+this.margin[3],-Bt+Ot+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=pr}var mn=JSON.parse(JSON.stringify(q));mn=I([mn],this.posX+this.margin[3],-Bt+Ot+this.ctx.prevPageLastElemOffset)[0];var Un=(lt>ft||lt<ot)&&N.call(this);Un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,xn,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",mn.x,mn.y,mn.w,mn.h,null,null,T),Un&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",q.x,q.y,q.w,q.h,null,null,T)};var A=function(C,Z,ne){var ye=[];Z=Z||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":ye.push(Math.floor((C.y+ae)/ne)+1);break;case"arc":ye.push(Math.floor((C.y+ae-C.radius)/ne)+1),ye.push(Math.floor((C.y+ae+C.radius)/ne)+1);break;case"qct":var M=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);ye.push(Math.floor((M.y+ae)/ne)+1),ye.push(Math.floor((M.y+M.h+ae)/ne)+1);break;case"bct":var z=Fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);ye.push(Math.floor((z.y+ae)/ne)+1),ye.push(Math.floor((z.y+z.h+ae)/ne)+1);break;case"rect":ye.push(Math.floor((C.y+ae)/ne)+1),ye.push(Math.floor((C.y+C.h+ae)/ne)+1)}for(var fe=0;fe<ye.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<ye[fe];)w.call(this);return ye},w=function(){var C=this.fillStyle,Z=this.strokeStyle,ne=this.font,ye=this.lineCap,ae=this.lineWidth,M=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=Z,this.font=ne,this.lineCap=ye,this.lineWidth=ae,this.lineJoin=M},I=function(C,Z,ne){for(var ye=0;ye<C.length;ye++)switch(C[ye].type){case"bct":C[ye].x2+=Z,C[ye].y2+=ne;case"qct":C[ye].x1+=Z,C[ye].y1+=ne;default:C[ye].x+=Z,C[ye].y+=ne}return C},R=function(C){return C.sort(function(Z,ne){return Z-ne})},k=function(C,Z){var ne=this.fillStyle,ye=this.strokeStyle,ae=this.lineCap,M=this.lineWidth,z=Math.abs(M*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var de,se,pe=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),H=[],ee=0;ee<Be.length;ee++)if(Be[ee].x!==void 0)for(var X=A.call(this,Be[ee]),T=0;T<X.length;T+=1)H.indexOf(X[T])===-1&&H.push(X[T]);for(var L=0;L<H.length;L++)for(;this.pdf.internal.getNumberOfPages()<H[L];)w.call(this);R(H);for(var q=H[0],Se=H[H.length-1],Ce=q;Ce<Se+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=ne,this.strokeStyle=ye,this.lineCap=ae,this.lineWidth=z,this.lineJoin=fe;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Ce===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Ce===1?0:ft+(Ce-2)*ot;if(this.ctx.clip_path.length!==0){var Nt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(de,this.posX+this.margin[3],-lt+Ue+this.ctx.prevPageLastElemOffset),G.call(this,C,!0),this.path=Nt}if(se=JSON.parse(JSON.stringify(pe)),this.path=I(se,this.posX+this.margin[3],-lt+Ue+this.ctx.prevPageLastElemOffset),Z===!1||Ce===0){var Ot=(Ce>q||Ce<Se)&&N.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,ot,null).clip().discardPath()),G.call(this,C,Z),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=M}this.path=pe}else this.lineWidth=z,G.call(this,C,Z),this.lineWidth=M},G=function(C,Z){if((C!=="stroke"||Z||!j.call(this))&&(C==="stroke"||Z||!p.call(this))){for(var ne,ye,ae=[],M=this.path,z=0;z<M.length;z++){var fe=M[z];switch(fe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:fe,deltas:[],abs:[]});break;case"lt":var de=ae.length;if(M[z-1]&&!isNaN(M[z-1].x)&&(ne=[fe.x-M[z-1].x,fe.y-M[z-1].y],de>0)){for(;de>=0;de--)if(ae[de-1].close!==!0&&ae[de-1].begin!==!0){ae[de-1].deltas.push(ne),ae[de-1].abs.push(fe);break}}break;case"bct":ne=[fe.x1-M[z-1].x,fe.y1-M[z-1].y,fe.x2-M[z-1].x,fe.y2-M[z-1].y,fe.x-M[z-1].x,fe.y-M[z-1].y],ae[ae.length-1].deltas.push(ne);break;case"qct":var se=M[z-1].x+2/3*(fe.x1-M[z-1].x),pe=M[z-1].y+2/3*(fe.y1-M[z-1].y),Be=fe.x+2/3*(fe.x1-fe.x),H=fe.y+2/3*(fe.y1-fe.y),ee=fe.x,X=fe.y;ne=[se-M[z-1].x,pe-M[z-1].y,Be-M[z-1].x,H-M[z-1].y,ee-M[z-1].x,X-M[z-1].y],ae[ae.length-1].deltas.push(ne);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(fe)}}ye=Z?null:C==="stroke"?"stroke":"fill";for(var T=!1,L=0;L<ae.length;L++)if(ae[L].arc)for(var q=ae[L].abs,Se=0;Se<q.length;Se++){var Ce=q[Se];Ce.type==="arc"?ie.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,Z,!T):te.call(this,Ce.x,Ce.y),T=!0}else if(ae[L].close===!0)this.pdf.internal.out("h"),T=!1;else if(ae[L].begin!==!0){var Ee=ae[L].start.x,Ue=ae[L].start.y;P.call(this,ae[L].deltas,Ee,Ue),T=!0}ye&&U.call(this,ye),Z&&le.call(this)}},re=function(C){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-ne;case"top":return C+Z-ne;case"hanging":return C+Z-2*ne;case"middle":return C+Z/2-ne;default:return C}},Q=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(Z,ne){this.colorStops.push([Z,ne])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ie=function(C,Z,ne,ye,ae,M,z,fe,de){for(var se=Ae.call(this,ne,ye,ae,M),pe=0;pe<se.length;pe++){var Be=se[pe];pe===0&&(de?oe.call(this,Be.x1+C,Be.y1+Z):te.call(this,Be.x1+C,Be.y1+Z)),be.call(this,C,Z,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}fe?le.call(this):U.call(this,z)},U=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},oe=function(C,Z){this.pdf.internal.out(t(C)+" "+o(Z)+" m")},B=function(C){var Z;switch(C.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var ne,ye,ae,M=this.pdf.getTextDimensions(C.text),z=re.call(this,C.y),fe=Q.call(this,z)-M.h,de=this.ctx.transform.applyToPoint(new u(C.x,z));if(this.autoPaging){var se=this.ctx.transform.decompose(),pe=new f;pe=(pe=(pe=pe.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var Be=this.ctx.transform.applyToRectangle(new l(C.x,z,M.w,M.h)),H=pe.applyToRectangle(new l(C.x,fe,M.w,M.h)),ee=A.call(this,H),X=[],T=0;T<ee.length;T+=1)X.indexOf(ee[T])===-1&&X.push(ee[T]);R(X);for(var L=X[0],q=X[X.length-1],Se=L;Se<q+1;Se++){this.pdf.setPage(Se);var Ce=Se===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[2],ft=Ue-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],lt=ot-this.margin[3],Nt=Se===1?0:Ee+(Se-2)*ft;if(this.ctx.clip_path.length!==0){var Ot=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ne,this.posX+this.margin[3],-1*Nt+Ce),G.call(this,"fill",!0),this.path=Ot}var Kt=I([JSON.parse(JSON.stringify(H))],this.posX+this.margin[3],-Nt+Ce+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*C.scale),ae=this.lineWidth,this.lineWidth=ae*C.scale);var xn=this.autoPaging!=="text";if(xn||Kt.y+Kt.h<=Ue){if(xn||Kt.y>=Ce&&Kt.x<=ot){var Bt=xn?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ot-Kt.x)[0],pr=I([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Nt+Ce+this.ctx.prevPageLastElemOffset)[0],mn=xn&&(Se>L||Se<q)&&N.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,ft,null).clip().discardPath()),this.pdf.text(Bt,pr.x,pr.y,{angle:C.angle,align:Z,renderingMode:C.renderingMode}),mn&&this.pdf.restoreGraphicsState()}}else Kt.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-Kt.y);C.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=ae)}}else C.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*C.scale),ae=this.lineWidth,this.lineWidth=ae*C.scale),this.pdf.text(C.text,de.x+this.posX,de.y+this.posY,{angle:C.angle,align:Z,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=ae)},te=function(C,Z,ne,ye){ne=ne||0,ye=ye||0,this.pdf.internal.out(t(C+ne)+" "+o(Z+ye)+" l")},P=function(C,Z,ne){return this.pdf.lines(C,Z,ne,null,null)},be=function(C,Z,ne,ye,ae,M,z,fe){this.pdf.internal.out([e(a(ne+C)),e(s(ye+Z)),e(a(ae+C)),e(s(M+Z)),e(a(z+C)),e(s(fe+Z)),"c"].join(" "))},Ae=function(C,Z,ne,ye){for(var ae=2*Math.PI,M=Math.PI/2;Z>ne;)Z-=ae;var z=Math.abs(ne-Z);z<ae&&ye&&(z=ae-z);for(var fe=[],de=ye?-1:1,se=Z;z>1e-5;){var pe=se+de*Math.min(z,M);fe.push(ge.call(this,C,se,pe)),z-=Math.abs(pe-se),se=pe}return fe},ge=function(C,Z,ne){var ye=(ne-Z)/2,ae=C*Math.cos(ye),M=C*Math.sin(ye),z=ae,fe=-M,de=z*z+fe*fe,se=de+z*ae+fe*M,pe=4/3*(Math.sqrt(2*de*se)-se)/(z*M-fe*ae),Be=z-pe*fe,H=fe+pe*z,ee=Be,X=-H,T=ye+Z,L=Math.cos(T),q=Math.sin(T);return{x1:C*Math.cos(Z),y1:C*Math.sin(Z),x2:Be*L-H*q,y2:Be*q+H*L,x3:ee*L-X*q,y3:ee*q+X*L,x4:C*Math.cos(ne),y4:C*Math.sin(ne)}},xe=function(C){return 180*C/Math.PI},ke=function(C,Z,ne,ye,ae,M){var z=C+.5*(ne-C),fe=Z+.5*(ye-Z),de=ae+.5*(ne-ae),se=M+.5*(ye-M),pe=Math.min(C,ae,z,de),Be=Math.max(C,ae,z,de),H=Math.min(Z,M,fe,se),ee=Math.max(Z,M,fe,se);return new l(pe,H,Be-pe,ee-H)},Fe=function(C,Z,ne,ye,ae,M,z,fe){var de,se,pe,Be,H,ee,X,T,L,q,Se,Ce,Ee,Ue,ft=ne-C,ot=ye-Z,lt=ae-ne,Nt=M-ye,Ot=z-ae,Kt=fe-M;for(se=0;se<41;se++)L=(X=(pe=C+(de=se/40)*ft)+de*((H=ne+de*lt)-pe))+de*(H+de*(ae+de*Ot-H)-X),q=(T=(Be=Z+de*ot)+de*((ee=ye+de*Nt)-Be))+de*(ee+de*(M+de*Kt-ee)-T),se==0?(Se=L,Ce=q,Ee=L,Ue=q):(Se=Math.min(Se,L),Ce=Math.min(Ce,q),Ee=Math.max(Ee,L),Ue=Math.max(Ue,q));return new l(Math.round(Se),Math.round(Ce),Math.round(Ee-Se),Math.round(Ue-Ce))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,Z,ne=(C=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:Z}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Fn.API),(function(r){var e=function(u){var l,f,d,h,S,b,p,j,N,A;for(f=[],d=0,h=(u+=l="\0\0\0\0".slice(u.length%4||4)).length;h>d;d+=4)(S=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(b=(S=((S=((S=((S=(S-(A=S%85))/85)-(N=S%85))/85)-(j=S%85))/85)-(p=S%85))/85)%85,f.push(b+33,p+33,j+33,N+33,A+33)):f.push(122);return(function(w,I){for(var R=I;R>0;R--)w.pop()})(f,l.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var l,f,d,h,S,b=String,p="length",j=255,N="charCodeAt",A="slice",w="replace";for(u[A](-2),u=u[A](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),d=[],h=0,S=(u+=l="uuuuu"[A](u[p]%5||5))[p];S>h;h+=5)f=52200625*(u[N](h)-33)+614125*(u[N](h+1)-33)+7225*(u[N](h+2)-33)+85*(u[N](h+3)-33)+(u[N](h+4)-33),d.push(j&f>>24,j&f>>16,j&f>>8,j&f);return(function(I,R){for(var k=R;k>0;k--)I.pop()})(d,l[p]),b.fromCharCode.apply(b,d)},o=function(u){return u.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),l.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},s=function(u){for(var l=new Uint8Array(u.length),f=u.length;f--;)l[f]=u.charCodeAt(f);return(l=L1(l)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};r.processDataByFilters=function(u,l){var f=0,d=u||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),f=0;f<l.length;f+=1)switch(l[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=o(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[f]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}})(Fn.API),(function(r){r.loadFile=function(e,t,o){return(function(a,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var l=void 0;try{l=(function(f,d,h){var S=new XMLHttpRequest,b=0,p=function(j){var N=j.length,A=[],w=String.fromCharCode;for(b=0;b<N;b+=1)A.push(w(255&j.charCodeAt(b)));return A.join("")};if(S.open("GET",f,!d),S.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(S.onload=function(){S.status===200?h(p(this.responseText)):h(void 0)}),S.send(null),d&&S.status===200)return p(S.responseText)})(a,s,u)}catch{}return l})(e,t,o)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(Fn.API),(function(r){function e(){return(fr.html2canvas?Promise.resolve(fr.html2canvas):lf(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(fr.DOMPurify?Promise.resolve(fr.DOMPurify):lf(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var o=function(l){var f=Si(l);return f==="undefined"?"undefined":f==="string"||l instanceof String?"string":f==="number"||l instanceof Number?"number":f==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(l,f){var d=document.createElement(l);for(var h in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[h]=f.style[h];return d},s=function l(f,d){for(var h=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),S=f.firstChild;S;S=S.nextSibling)d!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||h.appendChild(l(S,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(h.width=f.width,h.height=f.height,h.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(h.value=f.value),h.addEventListener("load",function(){h.scrollTop=f.scrollTop,h.scrollLeft=f.scrollLeft},!0)),h},u=function l(f){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),d);return(h=h.setProgress(1,l,1,[l])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(l,f){return l.__proto__=f||u.prototype,l},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(l,f){return this.then(function(){switch(f=f||(function(d){switch(o(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},u.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(f){var d=this.opt.jsPDF,h=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var j=h[p],N=j.src.find(function(A){return A.format==="truetype"});N&&d.addFont(N.url,j.ref.name,j.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,d.context2d.save(!0),f(this.prop.container,b)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(l,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,f):this.outputPdf(l,f)},u.prototype.outputPdf=function(l,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,f)})},u.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},u.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(l){if(o(l)!=="object")return this;var f=Object.keys(l||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(l,f){return this.then(function(){var d=l in u.template.prop?this.prop[l]:this.opt[l];return f?f(d):d})},u.prototype.setMargin=function(l){return this.then(function(){switch(o(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},u.prototype.setPageSize=function(l){function f(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(l=l||Fn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:f(l.inner.width,l.k),height:f(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},u.prototype.setProgress=function(l,f,d,h){return l!=null&&(this.progress.val=l),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(l,f,d,h){return this.setProgress(l?this.progress.val+l:null,f||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},u.prototype.then=function(l,f){var d=this;return this.thenCore(l,f,function(h,S){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(b){return d.updateProgress(null,h),b}).then(h,S).then(function(b){return d.updateProgress(1),b})})},u.prototype.thenCore=function(l,f,d){d=d||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),f&&(f=f.bind(h));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:u.convert(Object.assign({},h),Promise.prototype),b=d.call(S,l,f);return u.convert(b,h.__proto__)},u.prototype.thenExternal=function(l,f){return Promise.prototype.then.call(this,l,f)},u.prototype.thenList=function(l){var f=this;return l.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(l){l&&(l=l.bind(this));var f=Promise.prototype.catch.call(this,l);return u.convert(f,this)},u.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},u.prototype.error=function(l){return this.then(function(){throw new Error(l)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Fn.getPageSize=function(l,f,d){if(Si(l)==="object"){var h=l;l=h.orientation,f=h.unit||f,d=h.format||d}f=f||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var S,b=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+f}var j,N=0,A=0;if(p.hasOwnProperty(b))N=p[b][1]/S,A=p[b][0]/S;else try{N=d[1],A=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",A>N&&(j=A,A=N,N=j);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",N>A&&(j=A,A=N,N=j)}return{width:A,height:N,unit:f,k:S,orientation:l}},r.html=function(l,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(d1):null;var d=new u(f);return f.worker?d:d.from(l).doCallback()}})(Fn.API),Fn.API.addJS=function(r){return gv=r,this.internal.events.subscribe("postPutResources",function(){Yd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yd!==void 0&&mv!==void 0&&this.internal.out("/Names <</JavaScript "+Yd+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var u=a[s],l=o.exec(u);if(l!=null){var f=l[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var S=t.internal.newObject();h.push(S);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(o,a,s){var u={title:a,options:s,children:[]};return o==null&&(o=this.root),o.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(o){o.id=t.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},t.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},t.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<o.children.length;s++){var u=o.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(o)),s>0&&this.line("/Prev "+this.makeRef(o.children[s-1])),s<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var l=this.count=this.count_r({count:0},u);if(l>0&&this.line("/Count "+l),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<o.children.length;d++)this.renderItems(o.children[d])},t.outline.line=function(o){this.ctx.val+=o+`\r
`},t.outline.makeRef=function(o){return o.id+" 0 R"},t.outline.makeString=function(o){return"("+t.internal.pdfEscape(o)+")"},t.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(o,a){for(var s=0;s<a.children.length;s++)o.count++,this.count_r(o,a.children[s]);return o.count}}])})(Fn.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,o,a,s,u,l){var f,d=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(S){for(var b,p=256*S.charCodeAt(4)+S.charCodeAt(5),j=S.length,N={width:0,height:0,numcomponents:1},A=4;A<j;A+=2){if(A+=p,e.indexOf(S.charCodeAt(A+1))!==-1){b=256*S.charCodeAt(A+5)+S.charCodeAt(A+6),N={width:256*S.charCodeAt(A+7)+S.charCodeAt(A+8),height:b,numcomponents:S.charCodeAt(A+9)};break}p=256*S.charCodeAt(A+2)+S.charCodeAt(A+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:t,width:f.width,height:f.height,colorSpace:l,bitsPerComponent:8,filter:d,index:o,alias:a}}return h}})(Fn.API),Fn.API.processPNG=function(r,e,t,o){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,s=uk(r,{checkCrc:!0}),u=s.width,l=s.height,f=s.channels,d=s.palette,h=s.depth;a=d&&f===1?(function(ie){for(var U=ie.width,le=ie.height,oe=ie.data,B=ie.palette,te=ie.depth,P=!1,be=[],Ae=[],ge=void 0,xe=!1,ke=0,Fe=0;Fe<B.length;Fe++){var J=x2(B[Fe],4),C=J[0],Z=J[1],ne=J[2],ye=J[3];be.push(C,Z,ne),ye!=null&&(ye===0?(ke++,Ae.length<1&&Ae.push(Fe)):ye<255&&(xe=!0))}if(xe||ke>1){P=!0,Ae=void 0;var ae=U*le;ge=new Uint8Array(ae);for(var M=new DataView(oe.buffer),z=0;z<ae;z++){var fe=p1(M,z,te),de=x2(B[fe],4)[3];ge[z]=de}}else ke===0&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:P?8:void 0,colorBytes:oe,alphaBytes:ge,needSMask:P,palette:be,mask:Ae}})(s):f===2||f===4?(function(ie){for(var U=ie.data,le=ie.width,oe=ie.height,B=ie.channels,te=ie.depth,P=B===2?"DeviceGray":"DeviceRGB",be=B-1,Ae=le*oe,ge=be,xe=Ae*ge,ke=1*Ae,Fe=Math.ceil(xe*te/8),J=Math.ceil(ke*te/8),C=new Uint8Array(Fe),Z=new Uint8Array(J),ne=new DataView(U.buffer),ye=new DataView(C.buffer),ae=new DataView(Z.buffer),M=!1,z=0;z<Ae;z++){for(var fe=z*B,de=0;de<ge;de++)Av(ye,p1(ne,fe+de,te),z*ge+de,te);var se=p1(ne,fe+ge,te);se<(1<<te)-1&&(M=!0),Av(ae,se,1*z,te)}return{colorSpace:P,colorsPerPixel:be,sMaskBitsPerComponent:M?te:void 0,colorBytes:C,alphaBytes:Z,needSMask:M}})(s):(function(ie){var U=ie.data,le=ie.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:le,colorsPerPixel:le==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?(function(oe){for(var B=oe.length,te=new Uint8Array(2*B),P=new DataView(te.buffer,te.byteOffset,te.byteLength),be=0;be<B;be++)P.setUint16(2*be,oe[be],!1);return te})(U):U,needSMask:!1}})(s);var S,b,p,j=a,N=j.colorSpace,A=j.colorsPerPixel,w=j.sMaskBitsPerComponent,I=j.colorBytes,R=j.alphaBytes,k=j.needSMask,G=j.palette,re=j.mask,Q=null;return o!==Fn.API.image_compression.NONE&&typeof L1=="function"?(Q=(function(ie){var U;switch(ie){case Fn.API.image_compression.FAST:U=11;break;case Fn.API.image_compression.MEDIUM:U=13;break;case Fn.API.image_compression.SLOW:U=14;break;default:U=12}return U})(o),S=this.decode.FLATE_DECODE,b="/Predictor ".concat(Q," /Colors ").concat(A," /BitsPerComponent ").concat(h," /Columns ").concat(u),r=xv(I,Math.ceil(u*A*h/8),A,h,o),k&&(p=xv(R,Math.ceil(u*w/8),1,w,o))):(S=void 0,b=void 0,r=I,k&&(p=R)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:r,index:e,filter:S,decodeParameters:b,transparency:re,palette:G,sMask:p,predictor:Q,width:u,height:l,bitsPerComponent:h,sMaskBitsPerComponent:w,colorSpace:N}}},(function(r){r.processGIF89A=function(e,t,o,a){var s=new Rk(e),u=s.width,l=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:l},h=new m1(100).encode(d,100);return r.processJPEG.call(this,h,t,o,a)},r.processGIF87A=r.processGIF89A})(Fn.API),_l.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:o,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_l.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Di.log("bit decode error:"+t)}},_l.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var f=this.palette[s>>7-l&1];this.data[u+4*l]=f.blue,this.data[u+4*l+1]=f.green,this.data[u+4*l+2]=f.red,this.data[u+4*l+3]=255}t!==0&&(this.pos+=4-t)}},_l.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var s=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+2*a*4,l=s>>4,f=15&s,d=this.palette[l];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},_l.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*o;if(a<this.palette.length){var u=this.palette[a];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},_l.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,d=s>>15?255:0,h=o*this.width*4+4*a;this.data[h]=f,this.data[h+1]=l,this.data[h+2]=u,this.data[h+3]=d}this.pos+=r}},_l.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,h=a*this.width*4+4*s;this.data[h]=d,this.data[h+1]=f,this.data[h+2]=l,this.data[h+3]=255}this.pos+=r}},_l.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=255}this.pos+=this.width%4}},_l.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=o,this.data[l+3]=u}},_l.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,o,a){var s=new _l(e,!1),u=s.width,l=s.height,f={data:s.getData(),width:u,height:l},d=new m1(100).encode(f,100);return r.processJPEG.call(this,d,t,o,a)}})(Fn.API),Ev.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,o,a){var s=new Ev(e),u=s.width,l=s.height,f={data:s.getData(),width:u,height:l},d=new m1(100).encode(f,100);return r.processJPEG.call(this,d,t,o,a)}})(Fn.API),Fn.API.processRGBA=function(r,e,t){for(var o=r.data,a=o.length,s=new Uint8Array(a/4*3),u=new Uint8Array(a/4),l=0,f=0,d=0;d<a;d+=4){var h=o[d],S=o[d+1],b=o[d+2],p=o[d+3];s[l++]=h,s[l++]=S,s[l++]=b,u[f++]=p}var j=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Fn.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zu=Fn.API,Jd=Zu.getCharWidthsArray=function(r,e){var t,o,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,f=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,h=d.fof?d.fof:1,S=e.doKerning!==!1,b=0,p=r.length,j=0,N=l[0]||f,A=[];for(t=0;t<p;t++)o=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?A.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+u*(1e3/s)||0)/1e3):(b=S&&Si(d[o])==="object"&&!isNaN(parseInt(d[o][j],10))?d[o][j]/h:0,A.push((l[o]||N)/f+b)),j=o;return A},yv=Zu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),o=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Zu.processArabic&&(r=Zu.processArabic(r)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(r,t,a)/t:Jd.apply(this,arguments).reduce(function(s,u){return s+u},0)},vv=function(r,e,t,o){for(var a=[],s=0,u=r.length,l=0;s!==u&&l+e[s]<t;)l+=e[s],s++;a.push(r.slice(0,s));var f=s;for(l=0;s!==u;)l+e[s]>o&&(a.push(r.slice(f,s)),l=0,f=s),l+=e[s],s++;return f!==s&&a.push(r.slice(f,s)),a},wv=function(r,e,t){t||(t={});var o,a,s,u,l,f,d,h=[],S=[h],b=t.textIndent||0,p=0,j=0,N=r.split(" "),A=Jd.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var w=Array(f).join(" "),I=[];N.map(function(k){(k=k.split(/\s*\n/)).length>1?I=I.concat(k.map(function(G,re){return(re&&G.length?`
`:"")+G})):I.push(k[0])}),N=I,f=yv.apply(this,[w,t])}for(s=0,u=N.length;s<u;s++){var R=0;if(o=N[s],f&&o[0]==`
`&&(o=o.substr(1),R=1),b+p+(j=(a=Jd.apply(this,[o,t])).reduce(function(k,G){return k+G},0))>e||R){if(j>e){for(l=vv.apply(this,[o,a,e-(b+p),e]),h.push(l.shift()),h=[l.pop()];l.length;)S.push([l.shift()]);j=a.slice(o.length-(h[0]?h[0].length:0)).reduce(function(k,G){return k+G},0)}else h=[o];S.push(h),b=j+f,p=A}else h.push(o),b+=p+j,p=A}return d=f?function(k,G){return(G?w:"")+k.join(" ")}:function(k){return k.join(" ")},S.map(d)},Zu.splitTextToSize=function(r,e,t){var o,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var S=this.internal.getFont(h.fontName,h.fontStyle),b="Unicode";return S.metadata[b]?{widths:S.metadata[b].widths||{0:1},kerning:S.metadata[b].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);o=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var l,f,d=[];for(l=0,f=o.length;l<f;l++)d=d.concat(wv.apply(this,[o[l],u,s]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",o={},a={},s=0;s<16;s++)o[t[s]]=e[s],a[e[s]]=t[s];var u=function(b){return"0x"+parseInt(b,10).toString(16)},l=r.__fontmetrics__.compress=function(b){var p,j,N,A,w=["{"];for(var I in b){if(p=b[I],isNaN(parseInt(I,10))?j="'"+I+"'":(I=parseInt(I,10),j=(j=u(I).slice(2)).slice(0,-1)+a[j.slice(-1)]),typeof p=="number")p<0?(N=u(p).slice(3),A="-"):(N=u(p).slice(2),A=""),N=A+N.slice(0,-1)+a[N.slice(-1)];else{if(Si(p)!=="object")throw new Error("Don't know what to do with value type "+Si(p)+".");N=l(p)}w.push(j+N)}return w.push("}"),w.join("")},f=r.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,j,N,A,w={},I=1,R=w,k=[],G="",re="",Q=b.length-1,ie=1;ie<Q;ie+=1)(A=b[ie])=="'"?p?(N=p.join(""),p=void 0):p=[]:p?p.push(A):A=="{"?(k.push([R,N]),R={},N=void 0):A=="}"?((j=k.pop())[0][j[1]]=R,N=void 0,R=j[0]):A=="-"?I=-1:N===void 0?o.hasOwnProperty(A)?(G+=o[A],N=parseInt(G,16)*I,I=1,G=""):G+=A:o.hasOwnProperty(A)?(re+=o[A],R[N]=parseInt(re,16)*I,I=1,N=void 0,re=""):re+=A;return w},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},S={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(b){var p=b.font,j=S.Unicode[p.postScriptName];j&&(p.metadata.Unicode={},p.metadata.Unicode.widths=j.widths,p.metadata.Unicode.kerning=j.kerning);var N=h.Unicode[p.postScriptName];N&&(p.metadata.Unicode.encoding=N,p.encoding=N.codePages[0])}])})(Fn.API),(function(r){var e=function(t){for(var o=t.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=t.charCodeAt(s);return a};r.API.events.push(["addFont",function(t){var o=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(sh(l)),u.metadata=r.API.TTFFont.open(l),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,o)}}])})(Fn),Fn.API.addSvgAsImage=function(r,e,t,o,a,s,u,l){if(isNaN(e)||isNaN(t))throw Di.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Di.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=o,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(fr.canvg?Promise.resolve(fr.canvg):lf(()=>import("./index.es-C8fMhFwz.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(h)}).then(function(){S.addImage(f.toDataURL("image/jpeg",1),e,t,o,a,u,l)})},Fn.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(e,t);return this},Fn.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var o,a,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(u),f=[],d=0,h=0,S=0;function b(j,N){var A,w=!1;for(A=0;A<j.length;A+=1)j[A]===N&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var p=l.length;for(S=0;S<p;S+=1)t[l[S]].value=t[l[S]].defaultValue,t[l[S]].explicitSet=!1}if(Si(r)==="object"){for(a in r)if(s=r[a],b(l,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&b(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(d=0;d<s.length;d+=1)if(o=!0,s[d].length===1&&typeof s[d][0]=="number")f.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(o=!1);o===!0&&f.push([s[d][0]-1,s[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,N=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?N.push("/"+j+" /"+t[j].value):N.push("/"+j+" "+t[j].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(o)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+u.length+l.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+u+l+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Fn.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,u){for(var l,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],S=0,b=s.length;S<b;++S){if(l=u.metadata.characterToGlyph(s.charCodeAt(S)),u.metadata.glyIdsUsed.push(l),u.metadata.toUnicode[l]=s.charCodeAt(S),f.indexOf(l)==-1&&(f.push(l),f.push([parseInt(u.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},o=function(s){var u,l,f,d,h,S,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],S=0,b=(l=Object.keys(s).sort(function(p,j){return p-j})).length;S<b;S++)u=l[S],f.length>=100&&(h+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(d=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(h+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(u){var l=u.font,f=u.out,d=u.newObject,h=u.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var S=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",j=0;j<b.length;j++)p+=String.fromCharCode(b[j]);var N=d();h({data:p,addLength1:!0,objectId:N}),f("endobj");var A=d();h({data:o(l.metadata.toUnicode),addLength1:!0,objectId:A}),f("endobj");var w=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+nf(l.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),f("/Flags "+l.metadata.flags),f("/StemV "+l.metadata.stemV),f("/ItalicAngle "+l.metadata.italicAngle),f("/Ascent "+l.metadata.ascender),f("/Descent "+l.metadata.decender),f("/CapHeight "+l.metadata.capHeight),f(">>"),f("endobj");var I=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+nf(l.fontName)),f("/FontDescriptor "+w+" 0 R"),f("/W "+r.API.PDFObject.convert(S)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+l.encoding+")"),f(">>"),f(">>"),f("endobj"),l.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+A+" 0 R"),f("/BaseFont /"+nf(l.fontName)),f("/Encoding /"+l.encoding),f("/DescendantFonts ["+I+" 0 R]"),f(">>"),f("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(u){var l=u.font,f=u.out,d=u.newObject,h=u.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var S=l.metadata.rawData,b="",p=0;p<S.length;p++)b+=String.fromCharCode(S[p]);var j=d();h({data:b,addLength1:!0,objectId:j}),f("endobj");var N=d();h({data:o(l.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var A=d();f("<<"),f("/Descent "+l.metadata.decender),f("/CapHeight "+l.metadata.capHeight),f("/StemV "+l.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),f("/FontName /"+nf(l.fontName)),f("/ItalicAngle "+l.metadata.italicAngle),f("/Ascent "+l.metadata.ascender),f(">>"),f("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+nf(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),f("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var u,l=s.text||"",f=s.x,d=s.y,h=s.options||{},S=s.mutex||{},b=S.pdfEscape,p=S.activeFontKey,j=S.fonts,N=p,A="",w=0,I="",R=j[N].encoding;if(j[N].encoding!=="Identity-H")return{text:l,x:f,y:d,options:h,mutex:S};for(I=l,N=p,Array.isArray(l)&&(I=l[0]),w=0;w<I.length;w+=1)j[N].metadata.hasOwnProperty("cmap")&&(u=j[N].metadata.cmap.unicode.codeMap[I[w].charCodeAt(0)]),u||I[w].charCodeAt(0)<256&&j[N].metadata.hasOwnProperty("Unicode")?A+=I[w]:A+="";var k="";return parseInt(N.slice(1))<14||R==="WinAnsiEncoding"?k=b(A,N).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(k=t(A,j[N])),S.isHex=!0,{text:k,x:f,y:d,options:h,mutex:S}};e.events.push(["postProcessText",function(s){var u=s.text||"",l=[],f={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?l.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):l.push(a(Object.assign({},f,{text:u[d]})).text);s.text=l}else s.text=a(Object.assign({},f,{text:u})).text}])})(Fn),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,o){return e.call(this),this.internal.vFS[t]=o,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Fn.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(o){var a,s,u,l,f,d,h,S=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,R=0;this.__bidiEngine__={};var k=function(oe){var B=oe.charCodeAt(),te=B>>8,P=N[te];return P!==void 0?S[256*P+(255&B)]:te===252||te===253?"AL":w.test(te)?"L":te===8?"R":"N"},G=function(oe){for(var B,te=0;te<oe.length;te++){if((B=k(oe.charAt(te)))==="L")return!1;if(B==="R")return!0}return!1},re=function(oe,B,te,P){var be,Ae,ge,xe,ke=B[P];switch(ke){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(ke="AN");break;case"AL":I=!0,ke="R";break;case"WS":case"BN":ke="N";break;case"CS":P<1||P+1>=B.length||(be=te[P-1])!=="EN"&&be!=="AN"||(Ae=B[P+1])!=="EN"&&Ae!=="AN"?ke="N":I&&(Ae="AN"),ke=Ae===be?Ae:"N";break;case"ES":ke=(be=P>0?te[P-1]:"B")==="EN"&&P+1<B.length&&B[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&te[P-1]==="EN"){ke="EN";break}if(I){ke="N";break}for(ge=P+1,xe=B.length;ge<xe&&B[ge]==="ET";)ge++;ke=ge<xe&&B[ge]==="EN"?"EN":"N";break;case"NSM":if(u&&!l){for(xe=B.length,ge=P+1;ge<xe&&B[ge]==="NSM";)ge++;if(ge<xe){var Fe=oe[P],J=Fe>=1425&&Fe<=2303||Fe===64286;if(be=B[ge],J&&(be==="R"||be==="AL")){ke="R";break}}}ke=P<1||(be=B[P-1])==="B"?"N":te[P-1];break;case"B":I=!1,a=!0,ke=R;break;case"S":s=!0,ke="N"}return ke},Q=function(oe,B,te){var P=oe.split("");return te&&ie(P,te,{hiLevel:R}),P.reverse(),B&&B.reverse(),P.join("")},ie=function(oe,B,te){var P,be,Ae,ge,xe,ke=-1,Fe=oe.length,J=0,C=[],Z=R?p:b,ne=[];for(I=!1,a=!1,s=!1,be=0;be<Fe;be++)ne[be]=k(oe[be]);for(Ae=0;Ae<Fe;Ae++){if(xe=J,C[Ae]=re(oe,ne,C,Ae),P=240&(J=Z[xe][j[C[Ae]]]),J&=15,B[Ae]=ge=Z[J][5],P>0)if(P===16){for(be=ke;be<Ae;be++)B[be]=1;ke=-1}else ke=-1;if(Z[J][6])ke===-1&&(ke=Ae);else if(ke>-1){for(be=ke;be<Ae;be++)B[be]=ge;ke=-1}ne[Ae]==="B"&&(B[Ae]=0),te.hiLevel|=ge}s&&(function(ye,ae,M){for(var z=0;z<M;z++)if(ye[z]==="S"){ae[z]=R;for(var fe=z-1;fe>=0&&ye[fe]==="WS";fe--)ae[fe]=R}})(ne,B,Fe)},U=function(oe,B,te,P,be){if(!(be.hiLevel<oe)){if(oe===1&&R===1&&!a)return B.reverse(),void(te&&te.reverse());for(var Ae,ge,xe,ke,Fe=B.length,J=0;J<Fe;){if(P[J]>=oe){for(xe=J+1;xe<Fe&&P[xe]>=oe;)xe++;for(ke=J,ge=xe-1;ke<ge;ke++,ge--)Ae=B[ke],B[ke]=B[ge],B[ge]=Ae,te&&(Ae=te[ke],te[ke]=te[ge],te[ge]=Ae);J=xe}J++}}},le=function(oe,B,te){var P=oe.split(""),be={hiLevel:R};return te||(te=[]),ie(P,te,be),(function(Ae,ge,xe){if(xe.hiLevel!==0&&h)for(var ke,Fe=0;Fe<Ae.length;Fe++)ge[Fe]===1&&(ke=A.indexOf(Ae[Fe]))>=0&&(Ae[Fe]=A[ke+1])})(P,te,be),U(2,P,B,te,be),U(1,P,B,te,be),P.join("")};return this.__bidiEngine__.doBidiReorder=function(oe,B,te){if((function(be,Ae){if(Ae)for(var ge=0;ge<be.length;ge++)Ae[ge]=ge;l===void 0&&(l=G(be)),d===void 0&&(d=G(be))})(oe,B),u||!f||d)if(u&&f&&l^d)R=l?1:0,oe=Q(oe,B,te);else if(!u&&f&&d)R=l?1:0,oe=le(oe,B,te),oe=Q(oe,B);else if(!u||l||f||d){if(u&&!f&&l^d)oe=Q(oe,B),l?(R=0,oe=le(oe,B,te)):(R=1,oe=le(oe,B,te),oe=Q(oe,B));else if(u&&l&&!f&&d)R=1,oe=le(oe,B,te),oe=Q(oe,B);else if(!u&&!f&&l^d){var P=h;l?(R=1,oe=le(oe,B,te),R=0,h=!1,oe=le(oe,B,te),h=P):(R=0,oe=le(oe,B,te),oe=Q(oe,B),R=1,h=!1,oe=le(oe,B,te),h=P,oe=Q(oe,B))}}else R=0,oe=le(oe,B,te);else R=l?1:0,oe=le(oe,B,te);return oe},this.__bidiEngine__.setOptions=function(oe){oe&&(u=oe.isInputVisual,f=oe.isOutputVisual,l=oe.isInputRtl,d=oe.isOutputRtl,h=oe.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var s=o.options||{};o.mutex,s.lang;var u=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(u=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?u.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):u.push([t.doBidiReorder(a[l])]);o.text=u}else o.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Fn),Fn.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new lu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Gk(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Ik(this.contents),this.head=new Pk(this),this.name=new Mk(this),this.cmap=new Aw(this),this.toUnicode={},this.hhea=new Dk(this),this.maxp=new zk(this),this.hmtx=new $k(this),this.post=new Fk(this),this.os2=new Ok(this),this.loca=new Hk(this),this.glyf=new Uk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,o,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,l,f,d;for(d=[],u=0,l=(f=this.bbox).length;u<l;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,o){var a,s,u,l;for(u=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/t)||0;return u*(t/1e3)},r.prototype.lineHeight=function(e,t){var o;return t==null&&(t=!1),o=t?this.lineGap:0,(this.ascender+o-this.decender)/1e3*e},r})();var El,lu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,o;for(o=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)o[t]=String.fromCharCode(this.readByte());return o.join("")},r.prototype.writeString=function(e){var t,o,a;for(a=[],t=0,o=e.length;0<=o?t<o:t>o;t=0<=o?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,o,a,s,u,l,f;return e=this.readByte(),t=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),u=this.readByte(),l=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^s)+65536*(255^u)+256*(255^l)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*o+4294967296*a+16777216*s+65536*u+256*l+f},r.prototype.writeLongLong=function(e){var t,o;return t=Math.floor(e/4294967296),o=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,o;for(t=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)t.push(this.readByte());return t},r.prototype.write=function(e){var t,o,a,s;for(s=[],o=0,a=e.length;o<a;o++)t=e[o],s.push(this.writeByte(t));return s},r})(),Ik=(function(){var r;function e(t){var o,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)o={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[o.tag]=o}return e.prototype.encode=function(t){var o,a,s,u,l,f,d,h,S,b,p,j,N;for(N in p=Object.keys(t).length,f=Math.log(2),S=16*Math.floor(Math.log(p)/f),u=Math.floor(S/f),h=16*p-S,(a=new lu).writeInt(this.scalarType),a.writeShort(p),a.writeShort(S),a.writeShort(u),a.writeShort(h),s=16*p,d=a.pos+s,l=null,j=[],t)for(b=t[N],a.writeString(N),a.writeInt(r(b)),a.writeInt(d),a.writeInt(b.length),j=j.concat(b),N==="head"&&(l=d),d+=b.length;d%4;)j.push(0),d++;return a.write(j),o=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(o),a.data},r=function(t){var o,a,s,u;for(t=Nw.call(t);t.length%4;)t.push(0);for(s=new lu(t),a=0,o=0,u=t.length;o<u;o=o+=4)a+=s.readUInt32();return 4294967295&a},e})(),jk={}.hasOwnProperty,ic=function(r,e){for(var t in e)jk.call(e,t)&&(r[t]=e[t]);function o(){this.constructor=r}return o.prototype=e.prototype,r.prototype=new o,r.__super__=e.prototype,r};El=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var Pk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new lu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Tv=(function(){function r(e,t){var o,a,s,u,l,f,d,h,S,b,p,j,N,A,w,I,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),S=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(p=e.readUInt16(),b=p/2,e.pos+=6,s=(function(){var k,G;for(G=[],f=k=0;0<=b?k<b:k>b;f=0<=b?++k:--k)G.push(e.readUInt16());return G})(),e.pos+=2,N=(function(){var k,G;for(G=[],f=k=0;0<=b?k<b:k>b;f=0<=b?++k:--k)G.push(e.readUInt16());return G})(),d=(function(){var k,G;for(G=[],f=k=0;0<=b?k<b:k>b;f=0<=b?++k:--k)G.push(e.readUInt16());return G})(),h=(function(){var k,G;for(G=[],f=k=0;0<=b?k<b:k>b;f=0<=b?++k:--k)G.push(e.readUInt16());return G})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var k,G;for(G=[],f=k=0;0<=a?k<a:k>a;f=0<=a?++k:--k)G.push(e.readUInt16());return G})(),f=w=0,R=s.length;w<R;f=++w)for(A=s[f],o=I=j=N[f];j<=A?I<=A:I>=A;o=j<=A?++I:--I)h[f]===0?u=o+d[f]:(u=l[h[f]/2+(o-j)-(b-f)]||0)!==0&&(u+=d[f]),this.codeMap[o]=65535&u}e.pos=S}return r.encode=function(e,t){var o,a,s,u,l,f,d,h,S,b,p,j,N,A,w,I,R,k,G,re,Q,ie,U,le,oe,B,te,P,be,Ae,ge,xe,ke,Fe,J,C,Z,ne,ye,ae,M,z,fe,de,se,pe;switch(P=new lu,u=Object.keys(e).sort(function(Be,H){return Be-H}),t){case"macroman":for(N=0,A=(function(){var Be=[];for(j=0;j<256;++j)Be.push(0);return Be})(),I={0:0},s={},be=0,ke=u.length;be<ke;be++)I[fe=e[a=u[be]]]==null&&(I[fe]=++N),s[a]={old:e[a],new:I[e[a]]},A[a]=I[e[a]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(A),{charMap:s,subtable:P.data,maxGlyphID:N+1};case"unicode":for(B=[],S=[],R=0,I={},o={},w=d=null,Ae=0,Fe=u.length;Ae<Fe;Ae++)I[G=e[a=u[Ae]]]==null&&(I[G]=++R),o[a]={old:G,new:I[G]},l=I[G]-a,w!=null&&l===d||(w&&S.push(w),B.push(a),d=l),w=a;for(w&&S.push(w),S.push(65535),B.push(65535),le=2*(U=B.length),ie=2*Math.pow(Math.log(U)/Math.LN2,2),b=Math.log(ie/2)/Math.LN2,Q=2*U-ie,f=[],re=[],p=[],j=ge=0,J=B.length;ge<J;j=++ge){if(oe=B[j],h=S[j],oe===65535){f.push(0),re.push(0);break}if(oe-(te=o[oe].new)>=32768)for(f.push(0),re.push(2*(p.length+U-j)),a=xe=oe;oe<=h?xe<=h:xe>=h;a=oe<=h?++xe:--xe)p.push(o[a].new);else f.push(te-oe),re.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*U+2*p.length),P.writeUInt16(0),P.writeUInt16(le),P.writeUInt16(ie),P.writeUInt16(b),P.writeUInt16(Q),M=0,C=S.length;M<C;M++)a=S[M],P.writeUInt16(a);for(P.writeUInt16(0),z=0,Z=B.length;z<Z;z++)a=B[z],P.writeUInt16(a);for(de=0,ne=f.length;de<ne;de++)l=f[de],P.writeUInt16(l);for(se=0,ye=re.length;se<ye;se++)k=re[se],P.writeUInt16(k);for(pe=0,ae=p.length;pe<ae;pe++)N=p[pe],P.writeUInt16(N);return{charMap:o,subtable:P.data,maxGlyphID:R+1}}},r})(),Aw=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,o,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)t=new Tv(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var o,a;return t==null&&(t="macroman"),o=Tv.encode(e,t),(a=new lu).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},r})(),Dk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),Ok=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,o;for(o=[],t=0;t<10;++t)o.push(e.readByte());return o})(),this.charRange=(function(){var t,o;for(o=[],t=0;t<4;++t)o.push(e.readInt());return o})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,o;for(o=[],t=0;t<2;t=++t)o.push(e.readInt());return o})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),Fk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="post",r.prototype.parse=function(e){var t,o,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(o=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return o=e.readUInt16(),this.offsets=e.read(o);case 262144:return this.map=(function(){var u,l,f;for(f=[],s=u=0,l=this.file.maxp.numGlyphs;0<=l?u<l:u>l;s=0<=l?++u:--u)f.push(e.readUInt32());return f}).call(this)}},r})(),Bk=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Mk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="name",r.prototype.parse=function(e){var t,o,a,s,u,l,f,d,h,S,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),o=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)o.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(f={},s=h=0,S=o.length;h<S;s=++h)a=o[s],e.pos=a.offset,d=e.readString(a.length),u=new Bk(d,a),f[b=a.nameID]==null&&(f[b]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),zk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),$k=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,o,a,s,u,l,f;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)h.push(e.readInt16());return h})(),this.widths=(function(){var d,h,S,b;for(b=[],d=0,h=(S=this.metrics).length;d<h;d++)s=S[d],b.push(s.advance);return b}).call(this),o=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(o));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Nw=[].slice,Uk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,o,a,s,u,l,f,d,h,S;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,o=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+o,u=(l=new lu(t.read(a))).readShort(),d=l.readShort(),S=l.readShort(),f=l.readShort(),h=l.readShort(),this.cache[e]=u===-1?new Wk(l,d,S,f,h):new qk(l,u,d,S,f,h),this.cache[e]))},r.prototype.encode=function(e,t,o){var a,s,u,l,f;for(u=[],s=[],l=0,f=t.length;l<f;l++)a=e[t[l]],s.push(u.length),a&&(u=u.concat(a.encode(o)));return s.push(u.length),{table:u,offsets:s}},r})(),qk=(function(){function r(e,t,o,a,s,u){this.raw=e,this.numberOfContours=t,this.xMin=o,this.yMin=a,this.xMax=s,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),Wk=(function(){function r(e,t,o,a,s){var u,l;for(this.raw=e,this.xMin=t,this.yMin=o,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;l=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&l;)u.pos+=1&l?4:2,128&l?u.pos+=8:64&l?u.pos+=4:8&l&&(u.pos+=2)}return r.prototype.encode=function(){var e,t,o;for(t=new lu(Nw.call(this.raw.data)),e=0,o=this.glyphIDs.length;e<o;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),Hk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return ic(r,El),r.prototype.tag="loca",r.prototype.parse=function(e){var t,o;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,s;for(s=[],o=0,a=this.length;o<a;o+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],o=0,a=this.length;o<a;o+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var o=new Uint32Array(this.offsets.length),a=0,s=0,u=0;u<o.length;++u)if(o[u]=a,s<t.length&&t[s]==u){++s,o[u]=a;var l=this.offsets[u],f=this.offsets[u+1]-l;f>0&&(a+=f)}for(var d=new Array(4*o.length),h=0;h<o.length;++h)d[4*h+3]=255&o[h],d[4*h+2]=(65280&o[h])>>8,d[4*h+1]=(16711680&o[h])>>16,d[4*h]=(4278190080&o[h])>>24;return d},r})(),Gk=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,o,a,s;for(t in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)o=s[t],e[t]=a[o];return e},r.prototype.glyphsFor=function(e){var t,o,a,s,u,l,f;for(a={},u=0,l=e.length;u<l;u++)a[s=e[u]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(o=a[s])!=null&&o.compound&&t.push.apply(t,o.glyphIDs);if(t.length>0)for(s in f=this.glyphsFor(t))o=f[s],a[s]=o;return a},r.prototype.encode=function(e,t){var o,a,s,u,l,f,d,h,S,b,p,j,N,A,w;for(a in o=Aw.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),p={0:0},w=o.charMap)p[(f=w[a]).old]=f.new;for(j in b=o.maxGlyphID,u)j in p||(p[j]=b++);return h=(function(I){var R,k;for(R in k={},I)k[I[R]]=R;return k})(p),S=Object.keys(h).sort(function(I,R){return I-R}),N=(function(){var I,R,k;for(k=[],I=0,R=S.length;I<R;I++)l=S[I],k.push(h[l]);return k})(),s=this.font.glyf.encode(u,N,p),d=this.font.loca.encode(s.offsets,N),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},r})();Fn.API.PDFObject=(function(){var r;function e(){}return r=function(t,o){return(Array(o+1).join("0")+t).slice(-o)},e.convert=function(t){var o,a,s,u;if(Array.isArray(t))return"["+(function(){var l,f,d;for(d=[],l=0,f=t.length;l<f;l++)o=t[l],d.push(e.convert(o));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)u=t[a],s.push("/"+a+" "+e.convert(u));return s.push(">>"),s.join(`
`)}return""+t},e})();const Qu={t1:"",t2:" Word",t3:" PDF",t4:"",t5:"",t6:""},Cv={1:"",2:"",3:"",4:""},Kk={1:Gf.HEADING_1,2:Gf.HEADING_2,3:Gf.HEADING_3,4:Gf.HEADING_4};function Vk({isOpen:r,onClose:e,sections:t,docName:o}){const[a,s]=Qe.useState(""),[u,l]=Qe.useState(!1),f=Qe.useRef(null),d=()=>{if(!t||t.length===0)return"";let b="";return t.forEach(p=>{const j=p.level||1,N=Cv[j]||Cv[1];b+=`${N}${p.title||""}
`,p.summary&&(b+=`${p.summary}
`),b+=`
`}),b.trim()};if(Qe.useState(()=>{r&&s(d())}),r&&!a){const b=d();b!==a&&s(b)}const h=async()=>{try{const b=[];u||a!==d()?a.split(`
`).forEach(A=>{A.trim()?b.push(new ou({children:[new hh(A)]})):b.push(new ou({}))}):t.forEach(N=>{const A=N.level||1;b.push(new ou({text:N.title||"",heading:Kk[A]||Gf.HEADING_1})),N.summary&&b.push(new ou({children:[new hh(N.summary)]})),b.push(new ou({}))});const p=new z6({sections:[{properties:{},children:b}]}),j=await tS.toBlob(p);iS.saveAs(j,`${o||""}.docx`)}catch(b){console.error("Word:",b),alert("Word: "+(b.message||""))}},S=async()=>{try{const b=(await lf(async()=>{const{default:ie}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:ie}},[])).default,p=document.createElement("div");p.style.cssText=`
                position: fixed;
                left: -9999px;
                top: 0;
                width: 595px;
                padding: 40px;
                background: white;
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
                font-size: 14px;
                line-height: 1.8;
                color: #333;
            `;const j=a.split(`
`);let N="";j.forEach(ie=>{ie.includes("")?N+=`<p style="font-size: 16px; font-weight: bold; margin: 16px 0 8px; color: #111;">${ie}</p>`:ie.trim()?N+=`<p style="margin: 8px 0; text-indent: 2em;">${ie}</p>`:N+='<div style="height: 12px;"></div>'}),p.innerHTML=N,document.body.appendChild(p);const A=await b(p,{scale:2,useCORS:!0,logging:!1});document.body.removeChild(p);const w=new Fn("p","mm","a4"),I=190,R=277,k=A.height*I/A.width;let G=k,re=10;const Q=A.toDataURL("image/png");for(w.addImage(Q,"PNG",10,re,I,k),G-=R;G>0;)re=G-k+10,w.addPage(),w.addImage(Q,"PNG",10,re,I,k),G-=R;w.save(`${o||""}.pdf`)}catch(b){console.error("PDF:",b),alert("PDF: "+(b.message||""))}};return r?y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:e,children:y.jsxs("div",{style:{background:"#fff",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"},onClick:b=>b.stopPropagation(),children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #e2e8f0"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(ed,{size:20,color:"#3b82f6"}),y.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:Qu.t1})]}),y.jsx("button",{onClick:e,style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#666"},children:y.jsx(nd,{size:20})})]}),y.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px 20px",borderBottom:"1px solid #f0f0f0",background:"#fafafa"},children:[y.jsxs("button",{onClick:()=>l(!u),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:u?"#3b82f6":"#fff",color:u?"#fff":"#333",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:[u?y.jsx(Ix,{size:16}):y.jsx(Jf,{size:16}),u?Qu.t5:Qu.t4]}),y.jsxs("button",{onClick:h,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"#fff",color:"#333",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:[y.jsx(Q0,{size:16}),Qu.t2]}),y.jsxs("button",{onClick:S,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"#fff",color:"#333",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:[y.jsx(Q0,{size:16}),Qu.t3]})]}),y.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px"},children:u?y.jsx("textarea",{ref:f,value:a,onChange:b=>s(b.target.value),style:{width:"100%",height:"100%",minHeight:"400px",padding:"16px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",lineHeight:"1.8",resize:"none",fontFamily:"inherit"}}):y.jsx("div",{style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"1.8",color:"#333",padding:"16px",background:"#f8fafc",borderRadius:"8px",minHeight:"400px"},children:a||Qu.t6})})]})}):null}const rt={t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:"",t9:" Prompt:",t10:"",t11:" Replay",t12:" Replay",t15:"",t16:"",t17:"",t18:"",t19:"",t20:"",t21:"",t22:"",t23:"",t24:"",t25:"",t26:"",t27:"",t28:"",t29:"",t30:"",t43:"",t45:"",t59:"",t61:"",t62:"",t63:"",t64:"",t65:"",t66:"",t67:"",t70:"",t71:" section",t73:"",t80:"",t81:"",t82:"",t83:"",t84:"",t85:"",t86:"",t87:"",t88:"1. / 2. /",t89:"",t90:"",t91:"",t92:"",t93:"",t95:"",t96:"",t97:"",t98:"A",t99:"",t100:"",t101:"",t102:"",t103:"",t104:"()",t105:"(%)",t106:"",t107:"",t108:"SOP",t109:"",t110:"",t111:"",t112:"",t113:"...",t114:"",t115:"",t116:"",t117:"...",t118:"",t119:"...",t120:"",t122:"",t123:"",t127:"",t129:"",t130:"",t131:"...",t134:"",t135:"",t136:"",t137:"",t138:"",t139:"",t140:"",t141:"",t142:"",t143:"",t144:"",t145:"",t146:"",t147:"Prompt",t148:"",t149:"",t150:"",t151:"",t152:"",t153:"",t154:"",t155:"",t156:"",t157:"",t158:"",t159:"",t160:"",t161:"",t162:"",t164:""},Yf="llm_buttons_v1",Lv="llm_buttons_migrated_v2",Ew="deposits_v1",Tw="deposits_seq_v1",Zd="__REPLAY_META__",g1="shared_scene_id",Qd=["tab_outline","tab_records","tab_config","tab_strategy"],Rv={tab_outline:"",tab_records:"",tab_config:"",tab_strategy:""},Xk={tab_outline:["","",""],tab_records:["","",""],tab_config:["","",""],tab_strategy:["",""]},Yk={inputSource:"optional",actionExecution:"optional",executionSummary:"optional",recordLocation:"optional"},Iv=[{id:"app_btn_daily_merge",label:"",groupIds:[]},{id:"app_btn_competitor_report",label:"",groupIds:[]},{id:"app_btn_custom_write",label:"",groupIds:[]}],jv="llm",s0=` JSON 

[
  {"id":"...","title":"","summary":"20","hint":"","level":1-4}
]


- level  1/2/3/4 1
- title 
- summary 20
- hint 1-2
-  JSON


{{text}}`.trim(),sf=` JSON
- summary: 
- detail: 
- edits: [{sectionId, field:'title'|'summary', content}]
 JSON`.trim(),Cw=" Markdown ".trim();async function zt(r,e={}){const t=await fetch(r,{headers:{"Content-Type":"application/json"},...e,body:e.body?JSON.stringify(e.body):void 0});if(!t.ok){const a=await t.text();let s=a;try{s=JSON.parse(a).error||a}catch{}throw new Error(s||"")}return(t.headers.get("content-type")||"").includes("application/json")?t.json():t.text()}function Jk(r){return new Promise((e,t)=>{const o=new FileReader;o.onload=()=>e(o.result.toString()),o.onerror=t,o.readAsText(r,"utf-8")})}const Zk=r=>r.toString().trim().toLowerCase().endsWith(".docx"),Qk=async()=>{const r=await lf(()=>import("./mammoth.browser-Kab4wxww.js").then(e=>e.m),[]);return(r==null?void 0:r.default)||r},eA=r=>{var l;const e=(r||"").toString();if(!e.trim())return"";let t;try{t=new DOMParser().parseFromString(e,"text/html")}catch{return e.replace(/<[^>]+>/g," ").replace(/\s+\n/g,`
`).trim()}const o=[],a=(f="")=>{const d=(f||"").toString().replace(/\s+/g," ").trim();d&&o.push(d)},s=()=>{o.length&&o[o.length-1]!==""&&o.push("")},u=(f,d=0)=>{if(!f||f.nodeType===3)return;const h=f;if(!h.tagName){Array.from(h.childNodes||[]).forEach(b=>u(b,d));return}const S=h.tagName.toUpperCase();if(/^H[1-6]$/.test(S)){const b=Math.max(1,Math.min(6,Number(S.slice(1))||1)),p=(h.textContent||"").toString().trim();p&&a(`${"#".repeat(b)} ${p}`),s();return}if(S==="P"){const b=(h.textContent||"").toString().trim();b&&a(b),s();return}if(S==="LI"){const b=(h.textContent||"").toString().trim();b&&a(`${"  ".repeat(Math.max(0,d))}- ${b}`);return}if(S==="UL"||S==="OL"){Array.from(h.children||[]).forEach(b=>u(b,d+1)),s();return}if(S==="BR"){s();return}Array.from(h.childNodes||[]).forEach(b=>u(b,d))};return Array.from(((l=t.body)==null?void 0:l.childNodes)||[]).forEach(f=>u(f,0)),o.join(`
`).replace(/\n{3,}/g,`

`).trim()},Pv=async r=>{const e=await r.arrayBuffer(),o=await(await Qk()).convertToHtml({arrayBuffer:e}),a=((o==null?void 0:o.value)||"").toString(),s=eA(a);return s.trim()?s:""},Iu=r=>{if(typeof r!="string"||!/[\u00C0-\u00FF]/.test(r))return r;const e=Uint8Array.from(r,o=>o.charCodeAt(0)&255),t=new TextDecoder("utf-8").decode(e);return/[\u4e00-\u9fff]/.test(t)?t:r},tA=r=>typeof r=="string"&&(/\uFFFD/.test(r)||/\?{2,}/.test(r)),Dc=(r,e="")=>{if(r==null)return e;const o=Iu((r||"").toString()).trim();return!o||tA(o)?e:o},y1=r=>{if(!r||typeof r!="object")return r;const e={...r};return typeof e.label=="string"&&(e.label=Dc(e.label,"")),typeof e.prompt=="string"&&(e.prompt=Dc(e.prompt,"")),typeof e.title=="string"&&(e.title=Dc(e.title,"")),e};function Lw(r){const e=new Set,t=[];for(let o=r.length-1;o>=0;o-=1){const a=r[o];!(a!=null&&a.id)||e.has(a.id)||(e.add(a.id),t.unshift(a))}return t}function eh(r,e){const t=Lw(e||[]),o=new Set(t.map(s=>s.id)),a=(r||[]).filter(s=>!o.has(s.id));return[...t,...a]}function nA(r){const e=[],t=[];return(r||[]).forEach(o=>{const a=Number(o==null?void 0:o.level)||1,s=Math.max(1,Math.min(4,a)),u={section:o,level:s,children:[]};for(;t.length&&t[t.length-1].level>=s;)t.pop();t.length?t[t.length-1].node.children.push(u):e.push(u),t.push({level:s,node:u})}),e}const Pc=r=>r==="script"?"script":"llm";function af(r,e){const t=(e==null?void 0:e.dataSource)==="selected_doc"?"selected_doc":"preview",o=(e==null?void 0:e.outputTarget)==="title"?"title":"summary",a=Array.isArray(r)?r:null;if(!a)return[{id:"io_migrated_1",enabled:!0,dataSource:t,output:"titles",target:"title"},{id:"io_migrated_2",enabled:!0,dataSource:t,output:"summaries",target:o}];const s=a.map((u,l)=>{const f=typeof(u==null?void 0:u.id)=="string"&&u.id.trim()?u.id.trim():`io_${l+1}`,d=(u==null?void 0:u.enabled)!==!1,h=(u==null?void 0:u.dataSource)==="selected_doc"?"selected_doc":"preview",S=(u==null?void 0:u.output)==="summaries"?"summaries":"titles",b=(u==null?void 0:u.target)==="title"?"title":"summary";return{id:f,enabled:d,dataSource:h,output:S,target:b}}).filter(u=>u.id);return s.length?s:af(null,e)}function au(){return[{id:"btn_outline_extract",kind:"outline_extract",label:"",enabled:!0,precipitationMode:"llm",prompt:s0,dataSource:"preview",outputTarget:"summary",io:[{id:"io_default_1",enabled:!0,dataSource:"preview",output:"titles",target:"title"},{id:"io_default_2",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_outline_slot_1",kind:"outline_action",label:"",enabled:!1,precipitationMode:"llm",prompt:sf,io:[{id:"io_outline_slot_1",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_outline_slot_2",kind:"outline_action",label:"",enabled:!1,precipitationMode:"llm",prompt:sf,io:[{id:"io_outline_slot_2",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_outline_slot_3",kind:"outline_action",label:"",enabled:!1,precipitationMode:"llm",prompt:sf,io:[{id:"io_outline_slot_3",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_dispatch",kind:"dispatch",label:"",enabled:!0,precipitationMode:"llm",prompt:sf,io:[{id:"io_dispatch_1",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_final_generate",kind:"final_generate",label:"",enabled:!0,precipitationMode:"llm",prompt:Cw,io:[{id:"io_final_1",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]}]}function Dv(){try{const r=localStorage.getItem(Yf);if(!r)return au();const e=JSON.parse(r);if(!Array.isArray(e))return au();const t=e.map((l,f)=>{const d=typeof(l==null?void 0:l.id)=="string"&&l.id.trim()?l.id.trim():`btn_${f+1}`,h=(l==null?void 0:l.kind)==="dispatch"||(l==null?void 0:l.kind)==="final_generate"||(l==null?void 0:l.kind)==="outline_extract"||(l==null?void 0:l.kind)==="outline_action"?l.kind:"outline_extract",S=typeof(l==null?void 0:l.label)=="string"?l.label:"",b=!!(l!=null&&l.enabled),p=(l==null?void 0:l.dataSource)==="selected_doc"?"selected_doc":"preview",j=h==="dispatch"?sf:h==="final_generate"?Cw:h==="outline_action"?sf:s0,N=typeof(l==null?void 0:l.prompt)=="string"?l.prompt:j,A=(l==null?void 0:l.outputTarget)==="title"?"title":"summary",w=af(l==null?void 0:l.io,{dataSource:p,outputTarget:A}),I=Pc(l==null?void 0:l.precipitationMode);return{id:d,kind:h,label:S,enabled:b,prompt:N,io:w,precipitationMode:I}}).filter(l=>l.id),o=au(),a=localStorage.getItem(Lv)==="1",s=[...t];if((a?o.filter(l=>l.kind==="outline_action"):o).forEach(l=>{s.some(f=>f.id===l.id)||s.push(l)}),!a)try{localStorage.setItem(Lv,"1"),localStorage.setItem(Yf,JSON.stringify(s))}catch{}return s.length?s:o}catch{return au()}}function rA(){try{const r=localStorage.getItem(Ew);if(!r)return[];const e=JSON.parse(r);return Array.isArray(e)?e.map(t=>({id:typeof(t==null?void 0:t.id)=="string"&&t.id.trim()?t.id.trim():`_${Date.now()}`,name:typeof(t==null?void 0:t.name)=="string"&&t.name.trim()?Iu(t.name).trim():void 0,createdAt:typeof(t==null?void 0:t.createdAt)=="number"?t.createdAt:Date.now(),precipitationMode:Pc(t==null?void 0:t.precipitationMode),sections:Array.isArray(t==null?void 0:t.sections)?t.sections.map(o=>({...o,action:Iu(o==null?void 0:o.action),content:Iu(o==null?void 0:o.content),summary:Iu(o==null?void 0:o.summary),hint:Iu(o==null?void 0:o.hint)})):[]})).filter(t=>t.id):[]}catch{return[]}}function iA(){try{const r=localStorage.getItem(Tw),e=Number(r);return Number.isFinite(e)&&e>0?Math.floor(e):0}catch{return 0}}const oA=({onClose:r,onSave:e,onUse:t,onDelete:o,onRename:a,historyList:s,loading:u})=>y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsxs("div",{className:"card",style:{width:"500px",maxHeight:"80vh",display:"flex",flexDirection:"column",background:"#fff",color:"#333",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",borderRadius:"16px",overflow:"hidden",border:"1px solid rgba(0,0,0,0.05)",position:"relative"},children:[y.jsx("button",{className:"ghost icon-btn",onClick:r,style:{color:"#666",width:"28px",height:"28px",position:"absolute",top:"12px",right:"12px",zIndex:2},children:y.jsx(nd,{size:20})}),y.jsx("div",{className:"card-head",style:{justifyContent:"space-between",borderBottom:"1px solid #eee",padding:"16px 20px",background:"#fafafa"},children:y.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#111",margin:0},children:rt.t111})}),y.jsx("div",{style:{padding:"16px 20px",borderBottom:"1px solid #eee"},children:y.jsxs("button",{style:{width:"100%",borderRadius:"8px",padding:"10px",background:"#3b82f6",color:"#fff",border:"none",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},onClick:e,children:[y.jsx($1,{size:16}),rt.t112]})}),y.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0"},children:u?y.jsx("div",{className:"hint text-center",style:{padding:"20px"},children:rt.t113}):s.length===0?y.jsx("div",{className:"hint text-center",style:{padding:"40px"},children:rt.t114}):y.jsx(sA,{list:s,onUse:t,onDelete:o,onRename:a})})]})}),sA=({list:r,onUse:e,onDelete:t,onRename:o})=>{const[a,s]=Qe.useState(null),[u,l]=Qe.useState(""),f=h=>{s(h.id),l(h.title||h.docName||rt.t136)},d=()=>{a&&u.trim()&&o(a,u.trim()),s(null)};return y.jsx("div",{style:{padding:"0"},children:r.map(h=>{var S,b;return y.jsxs("div",{className:"list-item",style:{cursor:"default",flexDirection:"column",alignItems:"flex-start",gap:"8px",padding:"16px 20px",borderBottom:"1px solid #f0f0f0",margin:0,borderRadius:0},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[a===h.id?y.jsx("div",{style:{display:"flex",gap:"8px",flex:1,alignItems:"center"},children:y.jsx("input",{autoFocus:!0,value:u,onChange:p=>l(p.target.value),onKeyDown:p=>p.key==="Enter"&&d(),onBlur:d,style:{flex:1,padding:"4px 8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"14px"}})}):y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#333"},children:h.title||h.docName||rt.t136}),y.jsx("button",{className:"ghost icon-btn small",onClick:()=>f(h),style:{width:"24px",height:"24px",color:"#666",opacity:.6},title:rt.t67,children:y.jsx(Jf,{size:14})})]}),y.jsx("div",{className:"hint",style:{fontSize:"12px",color:"#999"},children:new Date(h.timestamp).toLocaleString()})]}),y.jsxs("div",{className:"hint",style:{fontSize:"12px",color:"#666"},children:[rt.t115,((b=(S=h.template)==null?void 0:S.sections)==null?void 0:b.length)||0,rt.t116]}),y.jsxs("div",{style:{display:"flex",gap:"8px",width:"100%",justifyContent:"flex-end",marginTop:"8px"},children:[y.jsx("button",{onClick:()=>t(h.id),style:{background:"#f8fafc",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 14px",fontSize:"13px",cursor:"pointer",fontWeight:500},children:rt.t25}),y.jsx("button",{onClick:()=>e(h),style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontSize:"13px",cursor:"pointer",fontWeight:500},children:rt.t134})]})]},h.id)})})},Ov=({appButtonsConfig:r,selectedAppButtonId:e,setSelectedAppButtonId:t,depositGroups:o,updateAppButtonLabel:a,toggleAppButtonGroup:s,saveAppButtonsConfig:u,appButtonsSaving:l})=>y.jsxs("div",{className:"app-buttons-config",children:[y.jsxs("div",{className:"card-head",style:{alignItems:"center",justifyContent:"space-between"},children:[y.jsxs("div",{children:[y.jsx("div",{className:"section-title",children:rt.t1}),y.jsx("div",{className:"hint",children:rt.t2})]}),y.jsx("button",{className:"ghost small",type:"button",onClick:u,disabled:l,style:{pointerEvents:"auto"},children:l?rt.t117:rt.t66})]}),r.length===0?y.jsx("div",{className:"hint",children:rt.t3}):y.jsxs("div",{className:"app-buttons-config-grid",children:[y.jsx("div",{className:"app-buttons-left",children:r.map((f,d)=>{const h=f.id===e,S=(f.groupIds||[]).map(b=>{var p;return((p=o.find(j=>j.id===b))==null?void 0:p.name)||b});return y.jsxs("div",{className:`app-button-item ${h?"active":""}`,onClick:()=>t(f.id),children:[y.jsxs("div",{className:"app-button-row",children:[y.jsx("span",{className:"pill muted",children:d+1}),y.jsx("input",{value:f.label,onChange:b=>a(f.id,b.target.value),onClick:b=>b.stopPropagation(),placeholder:rt.t43})]}),y.jsx("div",{className:"app-button-selected-groups",children:S.length===0?y.jsx("span",{className:"hint",children:rt.t118}):S.map(b=>y.jsx("span",{className:"pill muted",children:b},b))})]},f.id)})}),y.jsxs("div",{className:"app-buttons-right",children:[y.jsx("div",{className:"section-title",style:{fontSize:"14px"},children:rt.t4}),y.jsx("div",{className:"hint",children:rt.t5}),o.length===0?y.jsx("div",{className:"hint",children:rt.t6}):y.jsx("div",{className:"app-button-group-list",children:o.map(f=>{var S;const d=r.find(b=>b.id===e),h=(S=d==null?void 0:d.groupIds)==null?void 0:S.includes(f.id);return y.jsxs("label",{className:`app-button-group-item ${h?"active":""}`,children:[y.jsx("input",{type:"checkbox",checked:!!h,onChange:()=>{d&&s(d.id,f.id)}}),y.jsx("span",{children:f.name})]},f.id)})})]})]})]}),aA=({globalButtons:r,setGlobalButtons:e,saveButtonConfig:t,showToast:o})=>y.jsxs("div",{style:{height:"100%",overflow:"auto"},children:[y.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f0f0f0",background:"#fafafa"},children:[y.jsx("h4",{style:{margin:"0 0 4px",fontSize:"13px",fontWeight:600},children:rt.t7}),y.jsx("p",{style:{margin:0,fontSize:"12px",color:"#999"},children:rt.t8})]}),y.jsx("div",{style:{padding:"0 12px"},children:r.map(a=>y.jsxs("label",{style:{display:"block",padding:"10px 0",borderBottom:"1px solid #f0f0f0"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"13px",fontWeight:500},children:a.label}),y.jsx("div",{style:{fontSize:"11px",color:"#999"},children:a.kind})]}),y.jsx("input",{type:"checkbox",checked:a.enabled!==!1,disabled:a.kind==="outline_extract",style:a.kind==="outline_extract"?{opacity:.6,cursor:"not-allowed"}:{},title:a.kind==="outline_extract"?rt.t157:"",onChange:s=>{if(a.kind==="outline_extract")return;const u=s.target.checked,l=r.map(f=>f.id===a.id?{...f,enabled:u}:f);e(l),t({activeButtons:l})}})]}),a.kind==="outline_extract"&&y.jsxs("div",{style:{padding:"8px 0 4px"},children:[y.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:rt.t9}),y.jsx("textarea",{value:a.prompt||"",onChange:s=>{const u=s.target.value,l=r.map(f=>f.id===a.id?{...f,prompt:u}:f);e(l),t({activeButtons:l})},style:{width:"100%",minHeight:"80px",fontSize:"12px"}})]})]},a.id))}),y.jsx("div",{style:{padding:"12px 16px",borderTop:"1px solid #f0f0f0",textAlign:"center"},children:y.jsx("button",{className:"ghost small",type:"button",style:{color:"#666"},onClick:()=>{const a=au(),s=r.map(l=>l.kind),u=a.filter(l=>!s.includes(l.kind));if(u.length===0){o(rt.t158);return}if(window.confirm(`${rt.t159}${u.length}${rt.t160}`)){const l=u.map(d=>({...d,id:`btn_restored_${Date.now()}_${Math.random().toString(36).slice(2)}`,enabled:!0})),f=[...r,...l];e(f),t({activeButtons:f}),o(rt.t161)}},children:rt.t10})})]}),Fv=({deposit:r,updateDepositMode:e})=>y.jsx("label",{className:"deposit-mode",children:y.jsxs("select",{value:Pc(r==null?void 0:r.precipitationMode),onChange:t=>e(r.id,t.target.value),children:[y.jsx("option",{value:"llm",children:rt.t11}),y.jsx("option",{value:"script",children:rt.t12})]})}),lA=({depositGroups:r,selectedDepositGroupId:e,setSelectedDepositGroupId:t,renameDepositGroup:o,replayDepositGroup:a,depositGroupReplay:s})=>r.length===0?y.jsx("p",{className:"hint",style:{padding:"20px",textAlign:"center"},children:rt.t6}):y.jsx("div",{className:"deposit-groups-list",style:{display:"flex",flexDirection:"column",gap:"8px"},children:r.map(u=>{const l=e===u.id,f=(u.depositIds||[]).length;return y.jsx("div",{className:`section deposit-group-item ${l?"selected":""}`,style:{padding:"12px 16px",borderRadius:"8px",background:l?"#e0f2fe":"#f8fafc",border:l?"2px solid #0ea5e9":"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.15s ease"},onClick:()=>t(l?"":u.id),children:y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx("input",{type:"checkbox",checked:l,onChange:()=>t(l?"":u.id),onClick:d=>d.stopPropagation(),style:{width:"16px",height:"16px"}}),y.jsx("span",{style:{fontWeight:500,fontSize:"14px"},children:Dc(u.name,u.id)}),y.jsxs("span",{className:"pill muted",style:{fontSize:"12px"},children:[f," "]})]}),y.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y.jsx("button",{type:"button",className:"ghost xsmall",onClick:d=>{d.stopPropagation(),t(u.id),o()},children:rt.t67}),y.jsx("button",{type:"button",className:"ghost xsmall",onClick:d=>{d.stopPropagation(),t(u.id),setTimeout(()=>a(),0)},disabled:s[u.id],children:s[u.id]?rt.t119:"Replay"})]})]})},u.id)})}),cA=({depositGroups:r,selectedDepositGroupId:e,deposits:t,depositEditing:o,startEditDeposit:a,applyDepositName:s,handleDepositNameKeyDown:u,replayDepositGroup:l,replayDeposit:f,depositGroupReplay:d,replayState:h,getDepositReplayStatus:S,getDepositReplayReason:b})=>{const p=r.find(N=>N.id===e);if(!p)return null;const j=(p.depositIds||[]).map((N,A)=>{const w=t.find(I=>I.id===N);return w?{...w,_groupIdx:A}:null}).filter(Boolean);return y.jsxs("div",{className:"section deposit-group-panel",children:[y.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10},children:[y.jsxs("span",{children:[rt.t15,p.name]}),y.jsx("span",{className:"pill muted",children:j.length})]}),y.jsx("div",{className:"section-actions",style:{gap:6},children:y.jsx("button",{className:"ghost xsmall",type:"button",onClick:l,disabled:d[p.id],children:d[p.id]?rt.t119:"Replay"})})]}),y.jsxs("div",{className:"sections",style:{gap:6},children:[j.length===0&&y.jsx("div",{className:"hint",children:rt.t16}),j.map((N,A)=>{var w;return y.jsx("div",{className:"section",children:y.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[y.jsx("span",{className:"pill muted",children:A+1}),o[`${N.id}||name`]!==void 0?y.jsx("input",{className:"deposit-name-input",value:o[`${N.id}||name`],onChange:I=>a(N.id,"name",I.target.value),onBlur:()=>void s(N.id),onKeyDown:I=>u(I,N.id),autoFocus:!0,onClick:I=>I.stopPropagation(),style:{border:"1px solid #1a73e8",padding:"2px 6px",borderRadius:"4px",fontSize:"16px",width:"200px"}}):y.jsx("span",{className:"deposit-name",onDoubleClick:I=>{I.stopPropagation(),a(N.id,"name",N.name||N.id)},title:rt.t120,style:{cursor:"text",fontWeight:500},children:N.name||rt.t144}),y.jsx("button",{className:"icon-btn tiny",type:"button",onClick:I=>{I.stopPropagation(),a(N.id,"name",N.name||N.id)},title:rt.t67,style:{width:20,height:20,padding:2,opacity:.5},children:y.jsx(Jf,{size:12})})]}),y.jsxs("div",{className:"section-actions",style:{gap:6},children:[S(N)?y.jsx("span",{className:`status ${S(N).replace(" ","-")}`,title:b(N)||rt.t122,children:S(N)}):null,y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void f(N.id),disabled:!!((w=h==null?void 0:h[N.id])!=null&&w.running),children:"Replay"})]})]})},`${N.id}_${N._groupIdx}`)})]})]})},uA=({node:r,levelLabel:e,outlineEditing:t,sectionDocLinks:o,sectionDocDone:a,sectionDocPick:s,showOutlineMode:u,processingTab:l,selectedOutlineExec:f,sectionCollapsed:d,summaryExpanded:h,sectionMergeType:S,selectedSummaries:b,docs:p,isSectionHiddenByParent:j,updateSectionLevel:N,setOutlineEditing:A,applyOutlineUpdate:w,cancelEditOutline:I,startEditOutline:R,setSelectedOutlineExec:k,addSectionBelow:G,removeSectionById:re,hasChildSections:Q,toggleSectionCollapse:ie,clearOutlineSummary:U,setSummaryExpanded:le,setSelectedSummaries:oe,setSectionDocPick:B,addDocToSection:te,removeDocFromSection:P,copyPreviewToSummary:be,addSummaryToSection:Ae,removeSummaryFromSection:ge,copyPreviewToSummaryAtIndex:xe,selectSectionMergeType:ke,renderOutlineNode:Fe})=>{var Be;if(j(r.index))return null;const J=r.section,C=(J==null?void 0:J.level)||1,Z=e[C]||e[1],ne=`${J.id}||title`,ye=t[ne],ae=o[J.id]||[],M=a[J.id]||{},z=s[J.id]||"",fe=z||ae[ae.length-1]||"",se=Array.isArray(J.summaries)&&J.summaries.length>0?J.summaries:J.summary||J.hint?[{id:`${J.id}_sum_0`,content:J.summary||J.hint||""}]:[],pe=u&&l!=="records"&&!!fe&&(ae||[]).includes(fe);return y.jsxs("div",{className:`section outline-node level-${Number(C)||1}`,style:{position:"relative"},children:[y.jsxs("div",{className:"section-head",style:{alignItems:"center",justifyContent:"space-between",paddingRight:"100px"},children:[y.jsx("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:ye!==void 0?y.jsxs(y.Fragment,{children:[y.jsxs("select",{value:C,onChange:H=>N(J.id,H.target.value),className:"level-select",children:[y.jsx("option",{value:"1",children:rt.t17}),y.jsx("option",{value:"2",children:rt.t18}),y.jsx("option",{value:"3",children:rt.t19}),y.jsx("option",{value:"4",children:rt.t20})]}),y.jsx("input",{value:ye,onChange:H=>A(ee=>({...ee,[ne]:H.target.value})),style:{minWidth:200}}),y.jsx("button",{className:"ghost small",onClick:()=>w(J.id,"title",ye),children:rt.t21}),y.jsx("button",{className:"ghost small",onClick:()=>I(J.id,"title"),children:rt.t22})]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{children:`${Z}${J.title}`}),y.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>R(J.id,"title",J.title||""),children:rt.t23})]})}),y.jsxs("div",{className:"section-actions btn-compact",style:{position:"absolute",right:"8px",top:"8px",display:"flex",alignItems:"center",gap:"2px"},children:[y.jsx("label",{className:"inline-check",children:y.jsx("input",{type:"checkbox",checked:!!f[J.id],onChange:H=>k(ee=>({...ee,[J.id]:H.target.checked}))})}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>G(J.id),style:{width:"20px",height:"20px",padding:0,fontSize:"14px",lineHeight:"18px",fontWeight:"bold"},title:"",children:"+"}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>re(J.id),style:{width:"20px",height:"20px",padding:0,fontSize:"14px",lineHeight:"18px",fontWeight:"bold"},title:"",children:""}),Q(J.id)&&y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>ie(J.id),style:{fontSize:"11px",padding:"2px 6px",minWidth:"36px",color:d[J.id]?"#0ea5e9":"#64748b"},title:d[J.id]?"":"",children:d[J.id]?"":""})]})]}),y.jsxs("div",{className:"summaries-container",style:{display:"flex",flexDirection:"column",gap:"4px"},children:[se.length===0?y.jsxs("div",{className:"hint",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Ae&&Ae(J.id),style:{width:"20px",height:"20px",padding:0,fontSize:"14px",lineHeight:"18px",fontWeight:"bold",color:"#10b981",border:"1px dashed #10b981",borderRadius:"4px"},title:"",children:"+"}),y.jsx("span",{style:{color:"#9ca3af",fontSize:"13px"},children:rt.t127})]}):se.map((H,ee)=>{const X=`${J.id}||summary||${ee}`,T=t[X],L=h[`${J.id}_${ee}`],q=`${J.id}_${ee}`,Se=(b==null?void 0:b[q])||!1;return y.jsxs("div",{className:"hint summary-item",style:{display:"flex",alignItems:"flex-start",gap:8,flexWrap:"wrap",padding:se.length>1?"6px 8px":"0",background:Se?"#dbeafe":se.length>1?ee%2===0?"#f9fafb":"#fff":"transparent",borderRadius:se.length>1?"6px":"0",border:Se?"2px solid #3b82f6":se.length>1?"1px solid #e5e7eb":"none",position:"relative"},children:[y.jsx("input",{type:"checkbox",checked:Se,onChange:Ce=>{oe&&oe(Ee=>({...Ee,[q]:Ce.target.checked}))},style:{width:"16px",height:"16px",flexShrink:0,marginTop:"3px",cursor:"pointer",accentColor:"#3b82f6"},title:""}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Ae&&Ae(J.id,ee+1),style:{width:"18px",height:"18px",padding:0,fontSize:"12px",lineHeight:"16px",fontWeight:"bold",color:"#10b981",border:"1px dashed #10b981",borderRadius:"3px",flexShrink:0,marginTop:"2px"},title:"",children:"+"}),T!==void 0?y.jsxs(y.Fragment,{children:[y.jsx("textarea",{rows:2,value:T,onChange:Ce=>A(Ee=>({...Ee,[X]:Ce.target.value})),style:{minWidth:260,flex:1}}),y.jsx("button",{className:"ghost small",onClick:()=>w(J.id,"summary",T,ee),children:rt.t24}),y.jsx("button",{className:"ghost small",onClick:()=>I(J.id,"summary",ee),children:rt.t22})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`summary-text ${L?"expanded":""}`,style:{flex:1,minWidth:0,color:H.content?"inherit":"#9ca3af"},children:H.content||rt.t127}),H.content&&y.jsx("button",{className:"ghost xsmall",type:"button",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>le(Ce=>({...Ce,[`${J.id}_${ee}`]:!Ce[`${J.id}_${ee}`]})),children:L?rt.t142:rt.t143}),y.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px",color:"#ef4444"},type:"button",onClick:()=>ge&&ge(J.id,ee),title:"",children:rt.t25}),y.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>R(J.id,"summary",H.content||"",ee),children:rt.t26})]})]},H.id||ee)}),se.length>1&&y.jsxs("div",{className:"merge-actions",style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px",padding:"4px 8px",background:"#f0fdf4",borderRadius:"6px",border:"1px dashed #86efac"},children:[y.jsxs("span",{style:{fontSize:"12px",color:"#16a34a"},children:[" ",se.length," "]}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>ke&&ke(J.id,"paragraph"),style:{fontSize:"11px",padding:"2px 8px",background:(S==null?void 0:S[J.id])==="paragraph"?"#22c55e":"#dcfce7",color:(S==null?void 0:S[J.id])==="paragraph"?"#fff":"#16a34a",border:(S==null?void 0:S[J.id])==="paragraph"?"1px solid #16a34a":"1px solid #86efac",borderRadius:"4px",fontWeight:(S==null?void 0:S[J.id])==="paragraph"?"600":"400",transition:"all 0.15s ease"},title:"",children:""}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>ke&&ke(J.id,"sentence"),style:{fontSize:"11px",padding:"2px 8px",background:(S==null?void 0:S[J.id])==="sentence"?"#22c55e":"#dcfce7",color:(S==null?void 0:S[J.id])==="sentence"?"#fff":"#16a34a",border:(S==null?void 0:S[J.id])==="sentence"?"1px solid #16a34a":"1px solid #86efac",borderRadius:"4px",fontWeight:(S==null?void 0:S[J.id])==="sentence"?"600":"400",transition:"all 0.15s ease"},title:"",children:""})]})]}),y.jsxs("div",{className:"link-row outline-row mixed-row",style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"8px",marginTop:"4px"},children:[y.jsxs("div",{className:"link-actions",style:{display:"flex",alignItems:"center",gap:"4px"},children:[y.jsxs("select",{value:z||"",onChange:H=>B(ee=>({...ee,[J.id]:H.target.value})),style:{maxWidth:"140px",padding:"2px 6px",fontSize:"12px",height:"24px"},children:[y.jsx("option",{value:"",children:rt.t27}),p.map(H=>y.jsx("option",{value:H.id,children:H.name},H.id))]}),y.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px",whiteSpace:"nowrap"},type:"button",onClick:()=>te(J.id),children:rt.t28})]}),ae.map(H=>{const ee=p.find(T=>T.id===H),X=pe&&H===fe;return y.jsxs("span",{className:"doc-inline",style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[y.jsxs("span",{className:`pill doc-pill ${M[H]?"done":""}`,style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"2px 8px",borderRadius:"12px",background:M[H]?"#e6f4ea":"#f1f3f4",fontSize:"12px",border:"1px solid transparent"},children:[y.jsx("span",{style:{maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:(ee==null?void 0:ee.name)||H,children:(ee==null?void 0:ee.name)||H}),M[H]&&y.jsx("span",{className:"checkmark",style:{fontSize:"10px"}}),y.jsx("button",{type:"button",className:"pill-close",onClick:()=>P(J.id,H),"aria-label":rt.t29,style:{width:"16px",height:"16px",lineHeight:"14px",fontSize:"14px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",color:"#666",cursor:"pointer"},children:""})]}),X?y.jsx("button",{className:"ghost xsmall",type:"button",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>be(J.id,fe),children:rt.t30}):null]},H)})]}),(Be=r.children)!=null&&Be.length?y.jsx("div",{className:"outline-children",children:r.children.map(Fe)}):null]},J.id)},fA=r=>{const e=t=>{var o;return y.jsx(uA,{node:t,...r,renderOutlineNode:e},((o=t.section)==null?void 0:o.id)||t.index)};return e},dA=({data:r,setData:e,selectedSectionIndex:t,setSelectedSectionIndex:o,onCancel:a,onDiscard:s,onConfirm:u,onAIProcess:l,getScriptForSection:f,updateScriptForSection:d,isEditMode:h=!1})=>{var N,A;const[S,b]=Qe.useState("llm");if(!r)return null;const p=r.precipitationMode==="llm",j=Qe.useMemo(()=>{if(!r.sections||r.sections.length===0)return"";const w=(I,R)=>{var le;const k=I.llmScript||{},G=I.originalScript||{},re=I.meta||{},Q=[];Q.push(`===  ${R+1}: ${I.action||I.generalizedTitle||""} ===`),(k.type||re.type)&&Q.push(`${k.type||re.type}`),(k.description||re.actionDescription)&&Q.push(`${k.description||re.actionDescription}`),(k.docName||re.docName)&&Q.push(`${k.docName||re.docName}`),k.docSelector&&Q.push(`${JSON.stringify(k.docSelector)}`),(k.targetSectionTitle||re.targetSectionTitle)&&Q.push(`${k.targetSectionTitle||re.targetSectionTitle}`),(k.targetSectionId||re.sectionId)&&Q.push(`ID${k.targetSectionId||re.sectionId}`),(k.instructions||re.instructions)&&Q.push(`${k.instructions||re.instructions}`),(k.promptContent||re.promptContent)&&Q.push(`Prompt${k.promptContent||re.promptContent}`),(k.aiGuidance||re.aiGuidance)&&Q.push(`AI${k.aiGuidance||re.aiGuidance}`),(k.specialRequirements||re.specialRequirements)&&Q.push(`${k.specialRequirements||re.specialRequirements}`),(k.inputSourceDesc||re.inputSourceDesc)&&Q.push(`${k.inputSourceDesc||re.inputSourceDesc}`),k.contextSummary&&Q.push(`${k.contextSummary}`),k.flexKeywords&&Q.push(`${k.flexKeywords}`),(k.contentStart||re.contentStart)&&Q.push(`${k.contentStart||re.contentStart}`),(k.contentEnd||re.contentEnd)&&Q.push(`${k.contentEnd||re.contentEnd}`),(k.contextBefore||re.contextBefore)&&Q.push(`${k.contextBefore||re.contextBefore}`),(k.contextAfter||re.contextAfter)&&Q.push(`${k.contextAfter||re.contextAfter}`),(k.result||re.result)&&Q.push(`${k.result||re.result}`),(le=re.outputs)!=null&&le.summary&&Q.push(`${re.outputs.summary}`);const ie=k.structuredScriptContent||k.rawContent||G.content||I.content;if(ie){const oe=ie.split("__REPLAY_META__")[0].trim();oe&&!Q.some(B=>B.includes(oe.substring(0,50)))&&Q.push(`

${oe}`)}if(re&&Object.keys(re).filter(oe=>re[oe]!==null&&re[oe]!==void 0&&re[oe]!=="").length>0){const oe={};["type","buttonAction","docName","sectionId","targetSectionTitle","buttonId","overwritten","source"].forEach(B=>{re[B]!==null&&re[B]!==void 0&&re[B]!==""&&(oe[B]=re[B])}),Object.keys(oe).length>0&&Q.push(`
${JSON.stringify(oe)}`)}return Q.length>1?Q.join(`
`):`===  ${R+1}: ${I.action||""} ===
`};if(t>=0){const I=r.sections[t];return I?w(I,t):""}return r.sections.map((I,R)=>w(I,R)).join(`

---

`)},[r.sections,t]);return y.jsx("div",{className:"modal-backdrop",onClick:a,children:y.jsxs("div",{className:"modal-card",onClick:w=>w.stopPropagation(),style:{width:"900px",maxWidth:"95vw",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[y.jsxs("div",{className:"modal-head",children:[y.jsx("h3",{children:h?" ":" "}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:a,children:""})]}),y.jsxs("div",{className:"modal-body",style:{flex:1,overflow:"auto",padding:"16px"},children:[y.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"16px"},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:""}),y.jsx("input",{type:"text",value:r.depositName||"",onChange:w=>e(I=>({...I,depositName:w.target.value})),placeholder:"",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),y.jsxs("div",{style:{width:"200px"},children:[y.jsx("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:""}),y.jsxs("select",{value:r.precipitationMode||"llm",onChange:w=>{const I=w.target.value,R=(r.sections||[]).map(k=>({...k,sectionReplayMode:I}));e(k=>({...k,precipitationMode:I,sections:R}))},style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",background:"#fff"},children:[y.jsx("option",{value:"llm",children:" Replay"}),y.jsx("option",{value:"script",children:" Replay"})]})]})]}),y.jsx("div",{style:{marginBottom:"16px",padding:"10px 14px",background:p?"#eff6ff":"#fef3c7",border:`1px solid ${p?"#bfdbfe":"#fcd34d"}`,borderRadius:"6px",fontSize:"13px"},children:p?y.jsxs(y.Fragment,{children:[y.jsx("b",{children:" Replay"}),"Replay  AI Replay"]}):y.jsxs(y.Fragment,{children:[y.jsx("b",{children:" Replay"}),"Replay "]})}),y.jsxs("div",{style:{marginBottom:"16px"},children:[y.jsxs("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:[" ",((N=r.sections)==null?void 0:N.length)||0," ",y.jsx("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:"8px"},children:""})]}),y.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"8px",maxHeight:"120px",overflow:"auto"},children:[y.jsx("div",{onClick:()=>o(-1),style:{padding:"6px 10px",marginBottom:"4px",borderRadius:"4px",cursor:"pointer",background:t===-1?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"transparent",color:t===-1?"#fff":"#6b7280",fontWeight:t===-1?500:400,transition:"all 0.2s"},children:" "}),(A=r.sections)==null?void 0:A.map((w,I)=>{const R=w.sectionReplayMode||r.precipitationMode||"llm",k=R==="llm";return y.jsxs("div",{style:{padding:"6px 10px",borderRadius:"4px",background:t===I?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"transparent",color:t===I?"#fff":"#111827",fontWeight:t===I?500:400,transition:"all 0.2s",marginBottom:I<r.sections.length-1?"2px":"0",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[y.jsxs("span",{onClick:()=>o(I),style:{flex:1,cursor:"pointer",display:"flex",alignItems:"center"},children:[y.jsxs("span",{style:{marginRight:"8px",opacity:.7},children:[I+1,"."]}),y.jsx("span",{children:w.action||w.generalizedTitle||""})]}),y.jsxs("select",{value:R,onClick:G=>G.stopPropagation(),onChange:G=>{G.stopPropagation();const re=G.target.value,Q=[...r.sections||[]];Q[I]={...Q[I],sectionReplayMode:re},e(ie=>({...ie,sections:Q}))},style:{padding:"2px 6px",fontSize:"10px",borderRadius:"3px",border:`1px solid ${k?"#93c5fd":"#fcd34d"}`,background:t===I?"rgba(255,255,255,0.9)":k?"#eff6ff":"#fffbeb",color:k?"#1d4ed8":"#b45309",cursor:"pointer",minWidth:"80px"},title:k?"ReplayAI ":"Replay",children:[y.jsx("option",{value:"llm",children:" "}),y.jsx("option",{value:"script",children:" "})]}),y.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"3px",background:t===I?"rgba(255,255,255,0.2)":r.validationMode==="strict"?"#fef3c7":"#f0fdf4",color:t===I?"#fff":r.validationMode==="strict"?"#b45309":"#059669",opacity:.9},title:r.validationMode==="strict"?"":"",children:r.validationMode==="strict"?"":""})]},I)})]})]}),y.jsxs("div",{style:{marginBottom:"16px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("select",{value:S,onChange:w=>b(w.target.value),style:{padding:"4px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",fontWeight:500,background:S==="llm"?"#eff6ff":"#f0fdf4",color:"#374151",cursor:"pointer"},children:[y.jsx("option",{value:"script",children:" "}),y.jsx("option",{value:"llm",children:" "})]}),y.jsx("span",{style:{fontWeight:400,color:"#6b7280",fontSize:"13px"},children:t>=0?` ${t+1}`:S==="llm"?"":p?"AI ":"Replay "})]}),S==="script"&&y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("span",{style:{fontSize:"13px",color:"#6b7280"},children:"Replay"}),y.jsxs("select",{value:r.validationMode||"none",onChange:w=>e(I=>({...I,validationMode:w.target.value})),title:r.validationMode==="strict"?" pass":"",style:{padding:"4px 10px",border:`1px solid ${r.validationMode==="strict"?"#f59e0b":"#d1d5db"}`,borderRadius:"4px",fontSize:"13px",background:r.validationMode==="strict"?"#fffbeb":"#fff",color:r.validationMode==="strict"?"#b45309":"#374151",cursor:"pointer"},children:[y.jsx("option",{value:"none",children:" "}),y.jsx("option",{value:"strict",children:" "})]})]})]}),S==="script"?y.jsx("textarea",{value:t>=0?f(r.structuredScript,t):r.structuredScript||"",onChange:w=>{if(t>=0){const I=d(r.structuredScript,t,w.target.value);e(R=>({...R,structuredScript:I}))}else e(I=>({...I,structuredScript:w.target.value}))},placeholder:"Replay ...",style:{width:"100%",height:"220px",padding:"12px",border:`1px solid ${r.structuredScript?"#a7f3d0":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",background:r.structuredScript?"#f0fdf4":"#fff",color:"#1f2937",fontFamily:'Consolas, Monaco, "Courier New", monospace',resize:"vertical",lineHeight:"1.5"}}):y.jsxs("div",{style:{position:"relative"},children:[y.jsx("textarea",{value:r.llmRecordContent||(r.autoProcessing?"":j),onChange:w=>{e(I=>({...I,llmRecordContent:w.target.value}))},placeholder:r.autoProcessing?" AI ...":" AI ...",disabled:r.autoProcessing,style:{width:"100%",height:"220px",padding:"12px",border:`1px solid ${r.llmRecordContent?"#93c5fd":"#bfdbfe"}`,borderRadius:"6px",fontSize:"13px",background:r.autoProcessing?"#f3f4f6":"#eff6ff",color:r.autoProcessing?"#9ca3af":"#1e40af",fontFamily:'Consolas, Monaco, "Courier New", monospace',resize:"vertical",lineHeight:"1.5"}}),r.autoProcessing&&y.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(255, 255, 255, 0.95)",padding:"16px 24px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",color:"#667eea"},children:[y.jsx("span",{style:{fontSize:"20px"},children:""}),y.jsx("span",{children:"AI ..."})]})]})]}),y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{marginBottom:"16px"},children:[y.jsxs("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:["",y.jsx("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:"8px"},children:" AI "})]}),y.jsx("textarea",{value:r.userRequirements||"",onChange:w=>e(I=>({...I,userRequirements:w.target.value})),placeholder:"2...",style:{width:"100%",height:"50px",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]}),y.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[y.jsx("button",{onClick:()=>l(S),disabled:r.isProcessing,style:{background:r.isProcessing?"#9ca3af":S==="llm"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 20px",fontSize:"14px",cursor:r.isProcessing?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:r.isProcessing?" AI ...":S==="llm"?r.llmRecordContent?" AI ":" ReplayAI ":r.structuredScript?" AI ":" Replay "}),y.jsx("span",{style:{color:"#6b7280",fontSize:"13px"},children:S==="llm"?r.llmRecordContent?"":"":r.structuredScript?"":""})]})]})]}),y.jsxs("div",{className:"modal-foot",style:{borderTop:"1px solid #e5e7eb",padding:"12px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:p?" ReplayAI ":" Replay"}),y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("button",{className:"ghost small",type:"button",onClick:a,style:{padding:"8px 16px"},children:""}),!h&&y.jsx("button",{className:"ghost small",type:"button",onClick:s,style:{padding:"8px 16px",color:"#dc2626"},children:""}),y.jsx("button",{type:"button",onClick:u,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",border:"none",borderRadius:"6px",padding:"8px 20px",fontSize:"14px",fontWeight:500,cursor:"pointer",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)",transition:"all 0.2s ease"},children:h?" ":" "})]})]})]})})},hA=({show:r,onClose:e,depositGroups:t,selectedGroupIds:o,setSelectedGroupIds:a,selectedDepositCount:s,onConfirm:u})=>{if(!r)return null;const l=(f,d)=>{a(d?h=>[...h,f]:h=>h.filter(S=>S!==f))};return y.jsx("div",{className:"modal-backdrop",onClick:e,children:y.jsxs("div",{className:"modal-card",onClick:f=>f.stopPropagation(),style:{width:"450px",maxWidth:"90vw"},children:[y.jsxs("div",{className:"modal-head",children:[y.jsx("h3",{children:" "}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:e,children:""})]}),y.jsxs("div",{className:"modal-body",style:{padding:"16px",maxHeight:"400px",overflow:"auto"},children:[y.jsxs("p",{style:{marginBottom:"12px",color:"#6b7280",fontSize:"13px"},children:[" ",s," "]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.map((f,d)=>{const h=o.includes(f.id);return y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",background:h?"#eff6ff":"#f9fafb",border:h?"1px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",transition:"all 0.15s ease"},children:[y.jsx("input",{type:"checkbox",checked:h,onChange:S=>l(f.id,S.target.checked),style:{width:"16px",height:"16px",cursor:"pointer"}}),y.jsxs("span",{style:{flex:1,fontWeight:500,color:"#374151"},children:[d+1,". ",f.name]}),y.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:[(f.depositIds||[]).length," "]})]},f.id)})}),t.length===0&&y.jsx("p",{style:{textAlign:"center",color:"#9ca3af",padding:"20px"},children:""})]}),y.jsxs("div",{className:"modal-foot",style:{borderTop:"1px solid #e5e7eb",padding:"12px 16px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[y.jsx("button",{className:"ghost small",type:"button",onClick:e,style:{padding:"8px 16px"},children:""}),y.jsx("button",{type:"button",onClick:u,disabled:o.length===0,style:{background:o.length===0?"#d1d5db":"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#fff",border:"none",borderRadius:"6px",padding:"8px 20px",fontSize:"14px",fontWeight:500,cursor:o.length===0?"not-allowed":"pointer",transition:"all 0.2s ease"},children:""})]})]})})},pA=(r={})=>{const{duration:e=3e3}=r,[t,o]=Qe.useState(""),a=Qe.useRef(null),s=Qe.useCallback(()=>{o(""),a.current&&(clearTimeout(a.current),a.current=null)},[]),u=Qe.useCallback((l,f=e)=>{a.current&&clearTimeout(a.current),o(l),f>0&&(a.current=setTimeout(()=>{o(""),a.current=null},f))},[e]);return{toast:t,showToast:u,hideToast:s}};function mA({onSwitch:r}){var Ie,Ye,et,vt,it,gt,yt,_t,St,gn,nn,or,ln,Cr,Ii,ar,rn,Gt,$i,Xn,Ar,di,io,Hi,Ti,Qi,oo,yi,Rr,Yr,vi,Jr,ji,Pi,ai;const[e,t]=Qe.useState(null),[o,a]=Qe.useState([]),[s,u]=Qe.useState(null),[l,f]=Qe.useState(null),[d,h]=Qe.useState(!1),[S,b]=Qe.useState(!1),[p,j]=Qe.useState(!1),{toast:N,showToast:A}=pA({duration:1800}),[w,I]=Qe.useState(!0),[R,k]=Qe.useState("outline"),[G,re]=Qe.useState("deposits"),[Q,ie]=Qe.useState([]),[U,le]=Qe.useState({}),[oe,B]=Qe.useState({}),[te,P]=Qe.useState(""),[be,Ae]=Qe.useState("doc"),[ge,xe]=Qe.useState(()=>{try{const g=localStorage.getItem("dispatch_input_height");if(g)return Number(g)||60}catch{}return 60});Qe.useEffect(()=>{ge&&ge!==60&&localStorage.setItem("dispatch_input_height",String(ge))},[ge]);const[ke,Fe]=Qe.useState({}),[J,C]=Qe.useState({}),[Z,ne]=Qe.useState({}),[ye,ae]=Qe.useState({}),[M,z]=Qe.useState(""),[fe,de]=Qe.useState({}),[se,pe]=Qe.useState({}),[Be,H]=Qe.useState({}),[ee,X]=Qe.useState({}),[T,L]=Qe.useState({}),[q,Se]=Qe.useState({}),[Ce,Ee]=Qe.useState(!1),[Ue,ft]=Qe.useState(!1),ot={"preview-panel":{left:20,top:20,width:600,height:360},"document-list-panel":{left:20,top:396,width:600,height:376},"processing-panel":{left:636,top:20,width:550,height:376},"operations-panel":{left:636,top:412,width:550,height:360}},[lt,Nt]=Qe.useState(()=>{let g=null;try{const $=localStorage.getItem("layout_panel_positions");$&&(g=JSON.parse($))}catch($){console.warn("Failed to load layout",$)}const x=$=>$&&$.width>100&&$.height>100;if(g){if(g["input-panel"]&&!g["input-form-panel"]){console.log("[Layout Migration] 45...");const E=g["input-panel"],ce=Math.floor(E.height/2)-10;g["input-form-panel"]={left:E.left,top:E.top,width:E.width,height:ce},g["document-list-panel"]={left:E.left,top:E.top+ce+20,width:E.width,height:ce},delete g["input-panel"];try{localStorage.setItem("layout_panel_positions",JSON.stringify(g)),console.log("[Layout Migration] ")}catch(ue){console.warn("[Layout Migration] :",ue)}}if(g["input-form-panel"]){console.log("[Layout Migration] Removing input-form-panel and expanding document-list-panel...");const E=g["input-form-panel"],ce=g["document-list-panel"];E&&ce&&(g["document-list-panel"]={left:ce.left,top:E.top,width:ce.width,height:ce.top-E.top+ce.height}),delete g["input-form-panel"];try{localStorage.setItem("layout_panel_positions",JSON.stringify(g)),console.log("[Layout Migration 2] Completed")}catch(ue){console.warn("[Layout Migration 2] Save failed:",ue)}}const $={...ot};return Object.keys(ot).forEach(E=>{g[E]&&x(g[E])&&($[E]=g[E])}),$}console.log("[Panel Init] DEFAULT_LAYOUT:",ot);const K={...ot};return console.log("[Panel Init] ?",K),K}),[Ot,Kt]=Qe.useState(()=>{try{const g=localStorage.getItem("layout_size");if(g){const x=JSON.parse(g);if(x&&Number(x.width)>0&&Number(x.height)>0)return{width:Number(x.width),height:Number(x.height)}}}catch{}return{width:1800,height:1200}}),xn={"input-form-panel":{left:10,top:10,width:560,height:400},"document-list-panel":{left:10,top:10,width:560,height:300},"document-replay-ui":{left:10,top:320,width:560,height:46},"preview-textarea":{left:10,top:10,width:420,height:250},"preview-toolbar":{left:10,top:270,width:420,height:50},"processing-panel":{left:10,top:60,width:1060,height:720},"processing-tabs":{left:10,top:10,width:560,height:44},"processing-records-toolbar":{left:10,top:60,width:560,height:80},"processing-records-list":{left:10,top:150,width:1060,height:610},"operations-panel":{left:10,top:10,width:1100,height:300}},[Bt,pr]=Qe.useState(()=>{try{const g=localStorage.getItem("layout_content_blocks");if(g){const x=JSON.parse(g);return{...xn,...x}}}catch(g){console.warn("Failed to load content block positions",g)}return xn}),mn=g=>{if(!g||typeof g!="object")return{...Ec};const x={...g};x["input-panel"]&&!x["input-form-panel"]&&(x["input-form-panel"]=x["input-panel"]||[],delete x["input-panel"]);const K={...Ec};if(Object.keys(Ec).forEach($=>{Array.isArray(x[$])&&(K[$]=x[$])}),K["input-form-panel"]&&(K["input-form-panel"]=K["input-form-panel"].filter($=>$.id!=="btn_input_import_text")),Array.isArray(K["processing-tabs"])){const $=Ec["processing-tabs"]||[],E=new Map(K["processing-tabs"].map(Pe=>[Pe.kind,Pe])),ce=new Map($.map(Pe=>[Pe.kind,Pe]));let ue=!1,D=$.map(Pe=>{var Me;const De=E.get(Pe.kind);if(!De)return Pe;const Le=typeof(De==null?void 0:De.label)=="string"?Dc(De.label,""):"";return(Me=Xk[Pe.kind])!=null&&Me.includes(Le)&&(ue=!0),{...De,label:Rv[Pe.kind]||Pe.label}});ue&&(D=D.map(Pe=>{const De=ce.get(Pe.kind);return De?{...Pe,left:De.left,top:De.top,width:De.width,height:De.height}:Pe})),K["processing-tabs"]=D.concat(K["processing-tabs"].filter(Pe=>!$.some(De=>De.kind===Pe.kind)))}if(Object.keys(K).forEach($=>{if(!Array.isArray(K[$]))return;const E=Ec[$]||[],ce=new Map(E.map(D=>[D.kind,D])),ue=new Map(E.map(D=>[D.id,D]));K[$]=K[$].map(D=>{var Me,Oe;const Pe=y1(D),De=((Me=ue.get(D.id))==null?void 0:Me.label)||((Oe=ce.get(D.kind))==null?void 0:Oe.label)||Pe.label||D.label||"",Le=Dc(Pe.label,De);return{...Pe,label:Le}})}),Array.isArray(K["processing-records-toolbar"])){const $={group_new:{left:12,top:44},group_update:{left:122,top:44}},E=Ec["processing-records-toolbar"]||[],ce=new Map(K["processing-records-toolbar"].map(D=>[D.kind,D]));Object.entries($).every(([D,Pe])=>{const De=ce.get(D);return De&&Number(De.left)===Pe.left&&Number(De.top)===Pe.top})&&(K["processing-records-toolbar"]=K["processing-records-toolbar"].map(D=>{const Pe=E.find(De=>De.kind===D.kind);return Pe?{...D,left:Pe.left,top:Pe.top,width:Pe.width,height:Pe.height}:D}))}return K},[Un,Vn]=Qe.useState(()=>{let g=op();return g?(g["input-panel"]&&!g["input-form-panel"]&&(console.log("[Button Migration] 45..."),g["input-form-panel"]=g["input-panel"]||[],g["document-list-panel"]=Ec["document-list-panel"]||[],delete g["input-panel"],console.log("[Button Migration] ")),mn(g)):Ec}),[bn,en]=Qe.useState(()=>{try{const g=localStorage.getItem("global-buttons-config");if(g){const K=JSON.parse(g);if(K.activeButtons)return console.log("[GlobalButtons] Loaded from new format:",K.activeButtons.length,"buttons"),K.activeButtons.map(E=>{const ce=y1(E);return ce.label===""&&!ce.kind?(console.log("[GlobalButtons] Auto-fixing missing kind for outline_extract button"),{...ce,kind:"outline_extract"}):ce})}const x=op();if(x&&Object.keys(x).length>0){console.log("[GlobalButtons] Migrating from old format..."),xx(x,"app-button-config"),_x("app-button-config",3);const K=wx(x,lt);return K.activeButtons=(K.activeButtons||[]).map($=>y1($)),localStorage.setItem("global-buttons-config",JSON.stringify(K)),console.log("[GlobalButtons] Migration complete:",K.activeButtons.length,"buttons"),K.activeButtons}}catch(g){console.warn("[GlobalButtons] Failed to load config:",g)}return[]}),[Hr,jn]=Qe.useState(()=>{try{const g=localStorage.getItem("global_buttons_backup");return g?JSON.parse(g):[]}catch{return[]}}),[Ln,kr]=Qe.useState(()=>{try{const g=localStorage.getItem("deleted_buttons_config");return g?JSON.parse(g):[]}catch{return[]}}),[on,pn]=Qe.useState(()=>{try{const g=localStorage.getItem("layout_deleted_blocks");return g?JSON.parse(g):[]}catch{return[]}}),[zr,_s]=Qe.useState(!1);Qe.useEffect(()=>{_s(!1)},[Ue]),Qe.useEffect(()=>{zt("/api/config/all").then(g=>{let x=!1;if(g.layout&&Object.keys(g.layout).length>0&&(Nt(K=>({...K,...g.layout})),x=!0),g.globalButtons&&g.globalButtons.activeButtons){const K=g.globalButtons.activeButtons.map($=>$.label===""&&!$.kind?(console.log("[GlobalButtons] Auto-fixing missing kind for outline_extract button (backend)"),{...$,kind:"outline_extract"}):$);K.some($=>$.id==="btn_input_upload_file")||(console.log("[GlobalButtons] Restoring missing upload_file button"),K.push({id:"btn_input_upload_file",kind:"upload_file",label:"",x:136,y:408,width:100,height:36,enabled:!0})),en(K),x=!0}else if(g.buttons&&g.buttons.activeButtons){const K=g.buttons.activeButtons.map($=>$.label===""&&!$.kind?(console.log("[GlobalButtons] Auto-fixing missing kind for outline_extract button (backend)"),{...$,kind:"outline_extract"}):$);K.some($=>$.id==="btn_input_upload_file")||(console.log("[GlobalButtons] Restoring missing upload_file button"),K.push({id:"btn_input_upload_file",kind:"upload_file",label:"",x:136,y:408,width:100,height:36,enabled:!0})),en(K),x=!0}if(g.contentBlocks&&Object.keys(g.contentBlocks).length>0&&(pr(K=>({...K,...g.contentBlocks})),x=!0),g.deletedBlocks&&Array.isArray(g.deletedBlocks)&&(pn(g.deletedBlocks),x=!0),Array.isArray(g.llmButtons)&&g.llmButtons.length>0)try{localStorage.setItem(Yf,JSON.stringify(g.llmButtons)),ls(Dv()),x=!0}catch{}if(g.headerTitles&&typeof g.headerTitles=="object"&&(Dr(K=>({...K,...g.headerTitles})),x=!0),g.layoutSize&&Number(g.layoutSize.width)>0&&Number(g.layoutSize.height)>0&&(Kt({width:Number(g.layoutSize.width),height:Number(g.layoutSize.height)}),x=!0),console.log("Loaded config from backend, hasServerData:",x),!x){console.log("Server config empty, syncing local config to server...");const K=localStorage.getItem("layout_panel_positions"),$=localStorage.getItem("global-buttons-config"),E=localStorage.getItem("layout_content_blocks"),ce=localStorage.getItem("layout_deleted_blocks"),ue=localStorage.getItem("workbench_header_titles"),D=localStorage.getItem("layout_size"),Pe=localStorage.getItem(Yf);if(K||$||E||ue||D||Pe){const De={layout:K?JSON.parse(K):lt,globalButtons:$?JSON.parse($):{activeButtons:bn},contentBlocks:E?JSON.parse(E):Bt,deletedBlocks:ce?JSON.parse(ce):on,headerTitles:ue?JSON.parse(ue):En,layoutSize:D?JSON.parse(D):Ot,llmButtons:Pe?JSON.parse(Pe):ti};zt("/api/config/save",{method:"POST",body:De}).then(()=>console.log("Synced local config to server"))}}}).catch(g=>console.warn("Failed to load backend config, using local storage",g))},[]);const[ao,ko]=Qe.useState(null),[Mo,Nn]=Qe.useState(null),[zo,es]=Qe.useState(null),[ki,Oi]=Qe.useState(null),[Pr,Qr]=Qe.useState(null),[er,$o]=Qe.useState(null),[ts,$e]=Qe.useState([]),[He,ht]=Qe.useState(()=>rA()),[Ht,tn]=Qe.useState(()=>iA()),[$t,an]=Qe.useState({}),[Rn,qn]=Qe.useState({}),[Gr,Vr]=Qe.useState({}),[Vi,hr]=Qe.useState({}),[Xi,Fi]=Qe.useState(""),[Tr,_n]=Qe.useState(""),[rr,Kr]=Qe.useState([]),[Jt,Pn]=Qe.useState(""),[pi,zn]=Qe.useState({}),[$r,ei]=Qe.useState(!1),[yr,Ao]=Qe.useState(Iv),[No,ns]=Qe.useState(!1),[vr,Bi]=Qe.useState({dirPath:"",autoLoadFiles:!0}),[mi,to]=Qe.useState(!1),[Ps,rs]=Qe.useState(!1),[Uo,Gn]=Qe.useState(""),[En,Dr]=Qe.useState(()=>{var K,$;const g={eyebrow:{text:"EXPERIENCE STUDIO",style:{},position:{left:0,top:0},width:200,height:30},title:{text:"",style:{},position:{left:0,top:24},width:200,height:40}},x=(E,ce)=>Dc(E,ce);try{const E=localStorage.getItem("workbench_header_titles");if(E){const ce=JSON.parse(E);return{eyebrow:{...g.eyebrow,...(ce==null?void 0:ce.eyebrow)||{},text:x((K=ce==null?void 0:ce.eyebrow)==null?void 0:K.text,g.eyebrow.text)},title:{...g.title,...(ce==null?void 0:ce.title)||{},text:x(($=ce==null?void 0:ce.title)==null?void 0:$.text,g.title.text)}}}}catch(E){console.warn("Failed to load header titles",E)}return g}),[Ds,Os]=Qe.useState(null),[Ai,oc]=Qe.useState(null),[Fs,nl]=Qe.useState(null),is=g=>{var E;const K={"input-form-panel":rt.t149,"document-list-panel":rt.t150,"processing-panel":rt.t151,"preview-panel":rt.t152,"operations-panel":rt.t153}[g]||g;return Dc((E=lt[g])==null?void 0:E.customTitle,"")||K},qi=Qe.useRef(null),Vs=Qe.useRef(null),Yi=Qe.useRef(null),Eo=Qe.useRef(null);Qe.useEffect(()=>{if(d)return;const g=bn.find($=>$.kind==="outline_extract");let x=!1,K=[...bn];if(g)g.enabled===!1&&(K=K.map($=>$.id===g.id?{...$,enabled:!0}:$),x=!0);else{console.log("Guardian: Restoring missing outline_extract button");const $=au().find(E=>E.kind==="outline_extract");$&&(K=[{...$,id:`btn_guardian_${Date.now()}`,enabled:!0},...K],x=!0)}x&&(en(K),localStorage.setItem("global-buttons-config",JSON.stringify({activeButtons:K})))},[bn,d]);const[os,Dn]=Qe.useState({text:"",start:0,end:0}),[_r,rl]=Qe.useState({}),[il,ss]=Qe.useState({}),[Bs,Pa]=Qe.useState([]),[Tl,qo]=Qe.useState(!1),[sc,as]=Qe.useState(!1),[ol,To]=Qe.useState(!1),[Cl,da]=Qe.useState(!1),[ri,Ni]=Qe.useState(null),[Ss,Xs]=Qe.useState(-1),[ha,Do]=Qe.useState(null),[pa,Ys]=Qe.useState(!1),[Js,ma]=Qe.useState([]),[Ms,Zs]=Qe.useState(null),[ti,ls]=Qe.useState(()=>Dv()),cs=ti.find(g=>g.kind==="dispatch");ti.find(g=>g.kind==="final_generate"),ti.filter(g=>g.kind==="outline_action").slice(0,3);const O=Object.keys(fe||{}).filter(g=>fe[g]),me=(os.text||"").toString().trim().length>0;w&&R==="outline"&&O.length>0;const je=g=>{try{return structuredClone(g)}catch{return JSON.parse(JSON.stringify(g))}},qe=(g,x)=>{try{const K=JSON.stringify(x||{});return`${(g||"").toString()}

${Zd}
${K}`}catch{return(g||"").toString()}},Ze=g=>{const x=(g||"").toString(),K=x.indexOf(Zd);if(K===-1)return null;const $=x.slice(K+Zd.length).trim();try{const E=JSON.parse($);return E&&typeof E=="object"?E:null}catch{return null}},xt=1,wt=(g,x=600)=>{const K=(g??"").toString();return K.length<=x?K:`${K.slice(0,x)}...`},fn=g=>{if(!g)return"";if(typeof g=="string")return g;if(typeof g!="object")return String(g);const x=(g.kind||"").toString();return x==="manual_text"?`${g.length??0}`:x==="upload_file"?`${g.docName||rt.t135}`:x==="doc_preview"?`${g.docName||""}`:x==="doc_resource"?`${g.docName||""}`:x==="selection"?`${g.docName||""} ${g.start??0}-${g.end??0}`:x==="outline_selected"?`${Array.isArray(g.sectionIds)?g.sectionIds.length:g.count??0}`:x==="doc_link_pick"?`${g.sectionId||""} ${g.docName||""}`:x?`${x}`:JSON.stringify(g)},wn=g=>{if(!g)return"";if(typeof g=="string")return g;if(typeof g!="object")return String(g);const x=(g.kind||g||"").toString(),K=()=>g.sectionTitle||g.sectionId||"";return x==="outline_apply"?`${g.count??0}`:x==="outline_section_summary"?`${K()}`:x==="outline_section_summary_batch"?`${g.count??(Array.isArray(g.sectionIds)?g.sectionIds.length:0)}`:x==="outline_section_title"?`${K()}`:x==="outline_section_docs"?`${K()}`:x==="dispatch_result"?"":x==="final_preview"?"":x?`${x}`:JSON.stringify(g)},tr=(g,x=[])=>{var ue,D,Pe,De,Le;const K=g&&typeof g=="object"?g:{},$=Array.isArray(K.inputs)?K.inputs:[],E=Array.isArray(K.destinations)?K.destinations:[],ce=[];if(K.type==="add_doc"){const Me=((ue=$.find(Oe=>Oe.kind==="upload_file"))==null?void 0:ue.docName)||rt.t135;ce.push(""+Me)}else if(K.type==="insert_to_summary_multi"){const Me=$.find(ct=>ct.kind==="selection"),Oe=(Me==null?void 0:Me.docName)||K.docName||"",Xe=Array.isArray(K.targetSummaries)?K.targetSummaries:[];if(ce.push(" (insert_to_summary_multi)"),ce.push(`${Oe}`),Me){const ct=Me.textHead||((D=Me.textExcerpt)==null?void 0:D.slice(0,30))||"",Pt=Me.textTail||((Pe=Me.textExcerpt)==null?void 0:Pe.slice(-30))||"";ce.push(`${ct}......${Pt}${Me.textLength||0}`),Me.contextBefore&&ce.push(`...${Me.contextBefore}`),Me.contextAfter&&ce.push(`${Me.contextAfter}...`)}Xe.length>0&&(ce.push(` ${Xe.length} `),Xe.forEach((ct,Pt)=>{const mt=ct.sectionLevel===1?"":ct.sectionLevel===2?"":"";ce.push(`  ${Pt+1}. ${mt}${ct.sectionTitle}[${ct.summaryIndex}]${ct.hadContentBefore?"":""}`)})),(De=K.outputs)!=null&&De.summary&&ce.push(`${K.outputs.summary}`)}else if(K.type==="dispatch_multi_summary"){const Me=Array.isArray(K.targetSummaries)?K.targetSummaries:[];ce.push(" (dispatch_multi_summary)"),ce.push(`${K.instructions||K.promptContent||""}`),Me.length>0&&(ce.push(` ${Me.length} `),Me.forEach((Oe,Xe)=>{const ct=Oe.sectionLevel===1?"":Oe.sectionLevel===2?"":"",Pt=Oe.originalContentExcerpt?`${Oe.originalContentExcerpt.slice(0,30)}...`:"";ce.push(`  ${Xe+1}. ${ct}${Oe.sectionTitle}[${Oe.summaryIndex}]${Pt}`)})),(Le=K.outputs)!=null&&Le.summary&&ce.push(`${K.outputs.summary}`)}else{const Me=(K.record||K.process||rt.t71).toString().slice(0,50);if(ce.push(""+Me),$.length){const Oe=$.map(fn).filter(Boolean).join("");ce.push(""+Oe)}if(K.process){let Oe=(K.process||"").toString();ce.push(""+Oe)}if(K.outputs&&K.outputs.summary&&ce.push(""+(K.outputs.summary||"").toString()),E.length){const Oe=E.map(wn).filter(Boolean).join("");ce.push(""+Oe)}}return Array.isArray(x)&&x.length&&(ce.push(""),ce.push(...x.filter(Boolean))),ce.join(`
`).trim()},ir=g=>{if(g!=null&&g.precipitationMode)return Pc(g.precipitationMode);const x=g==null?void 0:g.buttonId;if(x){const K=ti.find($=>$.id===x);if(K!=null&&K.precipitationMode)return Pc(K.precipitationMode)}return jv},Mn=(g,x,K)=>{var ue,D,Pe,De,Le,Me,Oe,Xe,ct,Pt;({...x||{}});const $={sceneId:(s==null?void 0:s.id)||null,loadedDocs:Array.isArray(o)?o.map(mt=>({id:mt.id,name:mt.name})).slice(0,10):[],loadedDocsCount:Array.isArray(o)?o.length:0,hasOutline:!!((D=(ue=s==null?void 0:s.customTemplate)==null?void 0:ue.sections)!=null&&D.length||(De=(Pe=s==null?void 0:s.template)==null?void 0:Pe.sections)!=null&&De.length),outlineSectionsCount:((Me=(Le=s==null?void 0:s.customTemplate)==null?void 0:Le.sections)==null?void 0:Me.length)||((Xe=(Oe=s==null?void 0:s.template)==null?void 0:Oe.sections)==null?void 0:Xe.length)||0,outlineSectionTitles:(((ct=s==null?void 0:s.customTemplate)==null?void 0:ct.sections)||((Pt=s==null?void 0:s.template)==null?void 0:Pt.sections)||[]).slice(0,10).map(mt=>mt.title||""),timestamp:Date.now()},E={v:xt,ts:Date.now(),buttonAction:(x==null?void 0:x.buttonAction)||(x==null?void 0:x.type)||g,buttonLabel:(x==null?void 0:x.buttonLabel)||"",buttonId:(x==null?void 0:x.buttonId)||"",type:(x==null?void 0:x.type)||g,precipitationMode:ir(x),docName:(x==null?void 0:x.docName)||"",selectedDocName:(x==null?void 0:x.selectedDocName)||"",docId:(x==null?void 0:x.docId)||"",outlineId:(x==null?void 0:x.outlineId)||"",outlineTitle:(x==null?void 0:x.outlineTitle)||"",sectionId:(x==null?void 0:x.sectionId)||"",targetSectionIds:(x==null?void 0:x.targetSectionIds)||[],targetSectionId:(x==null?void 0:x.targetSectionId)||(x==null?void 0:x.sectionId)||"",targetSectionTitle:(x==null?void 0:x.targetSectionTitle)||"",docSelector:(x==null?void 0:x.docSelector)||null,intentDescription:(x==null?void 0:x.intentDescription)||g,expectedResult:(x==null?void 0:x.expectedResult)||"",record:(x==null?void 0:x.record)||"",overwritten:x==null?void 0:x.overwritten,source:(x==null?void 0:x.source)||"",inputs:Array.isArray(x==null?void 0:x.inputs)?x.inputs.map(mt=>({kind:mt.kind,docName:mt.docName||"",contextSummary:mt.contextSummary||mt.docName||"",sourceType:mt.sourceType||mt.kind,text:mt.text,textExcerpt:mt.textExcerpt?wt(mt.textExcerpt,200):void 0,textLength:mt.textLength,textHead:mt.textHead,textTail:mt.textTail,contextBefore:mt.contextBefore?wt(mt.contextBefore,80):void 0,contextAfter:mt.contextAfter?wt(mt.contextAfter,80):void 0,contentFeatures:mt.contentFeatures||null,selectionStart:mt.start,selectionEnd:mt.end,summaryKeys:mt.summaryKeys,targetDescriptions:mt.targetDescriptions})):[],inputKind:(x==null?void 0:x.inputKind)||"",inputSourceType:(x==null?void 0:x.inputSourceType)||(x==null?void 0:x.inputKind)||"",destinations:Array.isArray(x==null?void 0:x.destinations)?x.destinations.map(mt=>typeof mt=="string"?mt:typeof mt=="object"?{kind:mt.kind,sectionTitle:mt.sectionTitle||mt.label||"",sectionId:mt.sectionId,sectionLevel:mt.sectionLevel,summaryIndex:mt.summaryIndex,hadContentBefore:mt.hadContentBefore,originalContentExcerpt:mt.originalContentExcerpt,count:mt.count}:mt):[],targetSummaries:Array.isArray(x==null?void 0:x.targetSummaries)?x.targetSummaries.map(mt=>({sectionId:mt.sectionId,summaryIndex:mt.summaryIndex,sectionTitle:mt.sectionTitle,sectionLevel:mt.sectionLevel,summaryKey:mt.summaryKey,hadContentBefore:mt.hadContentBefore,originalContentExcerpt:mt.originalContentExcerpt,originalContentLength:mt.originalContentLength,contentFeatures:mt.contentFeatures})):[],selectedSectionTitles:(x==null?void 0:x.selectedSectionTitles)||[],isMultiSummaryMode:(x==null?void 0:x.isMultiSummaryMode)||!1,outputs:x!=null&&x.outputs&&typeof x.outputs=="object"?{summary:x.outputs.summary||"",usedModel:x.outputs.usedModel||"",detailExcerpt:x.outputs.detailExcerpt?wt(x.outputs.detailExcerpt,100):void 0,outputContent:x.outputs.outputContent||"",outputContentExcerpt:x.outputs.outputContent?wt(x.outputs.outputContent,500):void 0,edits:Array.isArray(x.outputs.edits)?x.outputs.edits:[],editsCount:x.outputs.editsCount,status:x.outputs.status||"done",targetSections:x.outputs.targetSections||[],generatedSections:x.outputs.generatedSections||[]}:x==null?void 0:x.outputs,process:x!=null&&x.process?wt(x.process,100):void 0,actionDescription:(x==null?void 0:x.actionDescription)||"",instructions:(x==null?void 0:x.instructions)||"",promptContent:(x==null?void 0:x.promptContent)||(x==null?void 0:x.instructions)||"",inputSourceDesc:(x==null?void 0:x.inputSourceDesc)||"",outputTargetDesc:(x==null?void 0:x.outputTargetDesc)||"",inputContent:(x==null?void 0:x.inputContent)||"",inputContentExcerpt:x!=null&&x.inputContent?wt(x.inputContent,500):void 0,targetSectionsDetail:(x==null?void 0:x.targetSectionsDetail)||[],aiGuidance:(x==null?void 0:x.aiGuidance)||"",specialRequirements:(x==null?void 0:x.specialRequirements)||"",afterSection:(x==null?void 0:x.afterSection)||null,newSection:(x==null?void 0:x.newSection)||null,targetSection:(x==null?void 0:x.targetSection)||null,removedSections:(x==null?void 0:x.removedSections)||[],context:$},ce=tr(E,K);Fa(g,qe(ce,E))},gi=async g=>{const x=(g||"").toString().trim();if(!x)throw new Error("");const K=await zt("/api/multi/replay/read-file",{method:"POST",body:{fileName:x}});if(K.error)throw new Error(K.error);let $=K.content;if(K.needsParsing&&K.ext===".docx"){const D=atob(K.content),Pe=new Uint8Array(D.length);for(let Me=0;Me<D.length;Me++)Pe[Me]=D.charCodeAt(Me);const De=new Blob([Pe],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),Le=new File([De],x,{type:De.type});$=await Pv(Le)}const E=await zt("/api/docs",{method:"POST",body:{name:x,content:($??"").toString()}}),ce=E==null?void 0:E.doc,ue=!!(E!=null&&E.overwritten);if(a(D=>eh(D,[ce])),f(ce.id),z(ce.content||""),s)try{const D=Array.from(new Set([ce.id,...s.docIds||[]])),{scene:Pe}=await zt(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:D}});u(Pe)}catch{}return{doc:ce,overwritten:ue,text:$}},Ei=async g=>(await gi(g)).doc,ii=g=>{const x=g&&typeof g=="object"?g:{},K=x.kind==="regex"?"regex":"keywords",$=x.mode==="multi"?"multi":"single",E=x.pick==="first"?"first":"newest",ce=(x.extension||"").toString().trim(),ue=Array.isArray(x.keywords)?x.keywords.map(Le=>(Le||"").toString()).filter(Boolean):[],D=(x.pattern||"").toString(),Pe=(x.flags||"i").toString()||"i",De=(x.description||"").toString();return{kind:K,mode:$,pick:E,extension:ce,keywords:ue,pattern:D,flags:Pe,description:De}},no=(g,x)=>{const K=ii(x),$=(g||"").toString();if(!$)return!1;const E=$.toLowerCase();if(K.extension&&!E.endsWith(K.extension.toLowerCase()))return!1;if(K.kind==="regex"){if(!K.pattern.trim())return!1;try{return new RegExp(K.pattern,K.flags||"i").test($)}catch{return!1}}return K.keywords.length?K.keywords.every(ce=>E.includes((ce||"").toString().toLowerCase())):!0},Wi=async()=>{const g=await zt("/api/multi/replay/files");if(g.error)throw new Error(g.error);if(!g.files||!g.files.length)throw g.dirPath?new Error(""):new Error(" Replay ");return g.files.map(x=>({name:x.name,kind:"file",ext:x.ext}))},ro=async g=>{var ue;const x=ii(g),K=await Wi();let $=K.filter(D=>no((D==null?void 0:D.name)||"",x));if(!$.length&&x.description){const D=x.description.trim();$=K.filter(Pe=>{const De=((Pe==null?void 0:Pe.name)||"").trim(),Le=De.replace(/\.[^.]+$/,"");return De===D||Le===D||De===D.replace(/\.[^.]+$/,"")})}if(!$.length&&((ue=x.keywords)==null?void 0:ue.length)>=1){const D=x.keywords.length===1?1:Math.max(1,Math.ceil(x.keywords.length*.6));$=K.filter(Pe=>{const De=((Pe==null?void 0:Pe.name)||"").toLowerCase();return x.keywords.filter(Me=>De.includes((Me||"").toLowerCase())).length>=D})}if(!$.length&&x.description){const D=x.description.replace(/\.[^.]+$/,"").replace(/[()\[\]]/g,"").trim();D.length>=2&&($=K.filter(Pe=>((Pe==null?void 0:Pe.name)||"").toLowerCase().replace(/[()\[\]]/g,"").includes(D.toLowerCase())))}if(!$.length){const D=x.description?""+x.description+"":"",Pe=x.kind==="regex"?"regex="+(x.pattern||"()"):"keywords="+((x.keywords||[]).join("")||"()")+(x.extension?" ext="+x.extension:""),De=K.slice(0,5).map(Le=>Le.name).join(", ");throw new Error(""+D+""+Pe+""+(De||"()"))}let E=$;if(x.mode!=="multi"){const D=$.slice().sort((Pe,De)=>((Pe==null?void 0:Pe.name)||"").localeCompare((De==null?void 0:De.name)||"","zh-CN"));E=D[0]?[D[0]]:[$[0]]}else E=$.sort((D,Pe)=>((D==null?void 0:D.name)||"").localeCompare((Pe==null?void 0:Pe.name)||"","zh-CN"));const ce=[];for(const D of E){const Pe=await gi(D.name);ce.push({name:D.name,overwritten:!!Pe.overwritten})}return{count:ce.length,names:ce.map(D=>D.name),overwrittenAny:ce.some(D=>D.overwritten)}},ga=async({btn:g,preferDocName:x})=>{var Pt,mt,tt;if(!(s!=null&&s.id))throw new Error("scene ");const $=af(g==null?void 0:g.io,{dataSource:g==null?void 0:g.dataSource,outputTarget:g==null?void 0:g.outputTarget}).filter(dt=>dt.enabled);if(!$.some(dt=>dt.output==="titles"))throw new Error("");let E=null;if(x){const dt=wr(x);dt?E=o.find(Vt=>Vt.id===dt):vr!=null&&vr.dirPath&&(E=await Ei(x))}if(E||(E=o.find(dt=>dt.id===l)||null),!E)throw new Error("");const ce=E!=null&&E.id&&E.id===l&&(M||"").toString().trim()?M:(E.content||"").toString(),D=Array.from(new Set($.map(dt=>dt.dataSource))).map(dt=>dt==="selected_doc"?`
${E.content||""}`.trim():`
${ce}`.trim()),Pe=`${E.name||""}

${D.join(`

---

`)}`.trim();if(!Pe.trim())throw new Error("");const De=await zt("/api/template/auto",{method:"POST",body:{text:Pe,prompt:(g==null?void 0:g.prompt)||""}});if(!(De!=null&&De.template))throw new Error("template");if((De==null?void 0:De.usedModel)===!1)if(De!=null&&De.blocked)A("");else throw new Error(" QWEN_API_KEY server.js ");const Le=$.some(dt=>dt.output==="summaries"&&dt.target==="summary"),Me=$.some(dt=>dt.output==="summaries"&&dt.target==="title"),Oe=$.some(dt=>dt.output==="titles"&&dt.target==="summary"),Xe={...De.template,sections:(((Pt=De.template)==null?void 0:Pt.sections)||[]).map(dt=>{const Vt=((dt==null?void 0:dt.title)||"").toString(),dn=((dt==null?void 0:dt.summary)||"").toString().trim(),ut=Me&&dn?`${Vt} - ${dn}`:Vt,cn=[];Oe&&Vt&&cn.push(Vt),Le&&dn&&cn.push(dn);const Ir=cn.join(`
`).trim();return{...dt,title:ut,summary:Ir}})},ct=await zt(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:Xe}});t(ct.template),u(ct.scene),I(!0);try{const dt={id:`outline_${Date.now()}`,template:ct.template,timestamp:Date.now(),docName:E.name||"",title:E.name||"",sectionMergeType:void 0};await zt("/api/multi/outlines",{method:"POST",body:dt}),Pa(Vt=>[dt,...Vt])}catch(dt){console.error("",dt)}return((tt=(mt=ct==null?void 0:ct.template)==null?void 0:mt.sections)==null?void 0:tt.length)||0};Qe.useEffect(()=>{try{localStorage.setItem(Yf,JSON.stringify(ti))}catch{}zt("/api/config/save",{method:"POST",body:{llmButtons:ti}}).catch(g=>{console.warn("",g)})},[ti]),Qe.useEffect(()=>{try{localStorage.setItem(Ew,JSON.stringify(He)),localStorage.setItem(Tw,String(Ht||0))}catch{}},[He,Ht]),Qe.useEffect(()=>{if((Ht||0)>0||!He.length)return;const g=He.reduce((x,K)=>{const $=/_(\d+)$/.exec((K==null?void 0:K.id)||""),E=$?Number($[1]):0;return Number.isFinite(E)&&E>x?E:x},0);g>0&&tn(g)},[Ht,He]),Qe.useEffect(()=>{if(!e||!e.sections||!e.sections.length)return;const x=setTimeout(async()=>{try{await zt("/api/outline/cache",{method:"POST",body:{template:e}})}catch(K){console.log("",K)}},500);return()=>clearTimeout(x)},[e]),Qe.useEffect(()=>{(async()=>{var ue,D,Pe;try{const De=await zt("/api/layout");De!=null&&De.layout&&(Nt(De.layout),ko(De.layout))}catch(De){console.error(":",De);const Le=vx();Le&&(Nt(Le),ko(Le))}try{const De=await zt("/api/buttons");if(De!=null&&De.buttons&&z1(De.buttons)){const Le=mn(De.buttons);Vn(Le),Nn(Le)}}catch(De){console.error(":",De);const Le=op();if(Le){const Me=mn(Le);Vn(Me),Nn(Me)}}let x=null;try{const De=await zt("/api/outline/cache");De!=null&&De.template&&(x=De.template)}catch(De){console.log("",De)}const K=await zt("/api/template"),$=await zt("/api/docs"),E=await ea();E&&(u(E),ne(E.sectionDocLinks||{}));let ce=x;(!ce||!((ue=ce.sections)!=null&&ue.length))&&(ce=E==null?void 0:E.customTemplate),(!ce||!((D=ce.sections)!=null&&D.length))&&(ce=K.template),t(ce),console.log("[SOPWorkbench] ",((Pe=ce==null?void 0:ce.sections)==null?void 0:Pe.length)||0,""),a($.docs||[]),($.docs||[]).length&&f($.docs[0].id),await Co(!0),await Wo(!0);try{const De=await zt("/api/multi/app-buttons"),Le=Pl(De);Le.length&&Ao(Le)}catch(De){console.error("",De)}try{const De=await zt("/api/multi/replay/config");De&&Bi({dirPath:De.dirPath||"",autoLoadFiles:De.autoLoadFiles!==!1})}catch(De){console.error(" Replay ",De)}try{const De=await zt("/api/multi/outlines");Array.isArray(De)&&Pa(De)}catch(De){console.error("",De)}})().catch(x=>A(x.message))},[]),Qe.useEffect(()=>{s!=null&&s.sectionDocLinks&&ne(s.sectionDocLinks)},[s]),Qe.useEffect(()=>{s!=null&&s.id&&localStorage.setItem(g1,s.id)},[s==null?void 0:s.id]),Qe.useEffect(()=>{const g=o.find(x=>x.id===l);z((g==null?void 0:g.content)||""),Dn({text:"",start:0,end:0})},[l,o]);const zs=g=>{Oi(g.id),Zs({...g,precipitationMode:Pc(g==null?void 0:g.precipitationMode),io:af(g==null?void 0:g.io,{dataSource:g==null?void 0:g.dataSource,outputTarget:g==null?void 0:g.outputTarget})})},[Da,Ll]=Qe.useState(!1),Rl=()=>{const x={id:`btn_${Date.now()}`,kind:"outline_extract",label:"",enabled:!0,precipitationMode:jv,prompt:s0,io:[{id:`io_${Date.now()}_1`,enabled:!0,dataSource:"preview",output:"titles",target:"title"},{id:`io_${Date.now()}_2`,enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]};ls(K=>[...K,x]),zs(x)},$s=g=>{const x=[...on,g],K=[...new Set(x)];pn(K),localStorage.setItem("layout_deleted_blocks",JSON.stringify(K))},sl=g=>{const x=on.filter(K=>K!==g);pn(x),localStorage.setItem("layout_deleted_blocks",JSON.stringify(x))},Oa=g=>{if(!confirm(""))return;const x=on.filter(K=>K!==g);pn(x),localStorage.setItem("layout_deleted_blocks",JSON.stringify(x))},Fa=(g,x)=>{Ce&&$e(K=>[...K,{id:`sec_${Date.now()}_${K.length+1}`,action:g,content:x,requirements:{...Yk}}])},lo=()=>{Ee(!0),$e([]),A("")},Ba=()=>{if(!Ce)return;if(S||d){A("");return}if(ts.length===0){Ee(!1),A("");return}const g=al(ts),x=[...ts];Ni({sections:x,userRequirements:"",structuredScript:g,llmRecordContent:"",aiOptimizedContent:null,isProcessing:!0,depositName:"",precipitationMode:"llm",autoProcessing:!0}),Xs(-1),da(!0),setTimeout(()=>{Oo(x,"llm",!0)},100)},al=g=>{if(!g||g.length===0)return"";const x=[];return x.push(""),x.push(""),g.forEach((K,$)=>{var ue;x.push(`===  ${$+1}: ${K.action||""} ===`);const E=K.content||"",ce=E.match(/__REPLAY_META__\n(.+)/s);if(ce)try{const D=JSON.parse(ce[1]),Pe=D.type||D.buttonAction||"";if(x.push(`${Pe}`),Pe==="insert_to_summary"||Pe==="fill_summary"){const Le=D.inputs||[],Me=Le.find(dn=>dn.kind==="selection"),Oe=Le.find(dn=>dn.kind==="outline_selected"),Xe=D.docName||(Me==null?void 0:Me.docName)||"";x.push(`${Xe}`);const ct=(Me==null?void 0:Me.textExcerpt)||(Me==null?void 0:Me.text)||"";ct&&(x.push(`${ct.slice(0,150)}${ct.length>150?"...":""}`),x.push(`"${ct.slice(0,100)}${ct.length>100?"...":""}"`));const Pt=(Me==null?void 0:Me.contextBefore)||"",mt=(Me==null?void 0:Me.contextAfter)||"";(Pt||mt)&&(x.push(""),Pt&&x.push(`  : "${Pt}"`),mt&&x.push(`  : "${mt}"`));const tt=D.outputs||{},dt=tt.targetSections||[],Vt=D.destinations||[];if(dt.length>0){const dn=dt.map(ut=>ut.title||"").join("");x.push(`${dn}`)}else if(Vt.length>0){const dn=Vt.map(ut=>ut.sectionTitle||ut.kind||"").filter(Boolean).join("");dn&&x.push(`${dn}`)}tt.summary&&x.push(`${tt.summary}`),x.push(`${D.specialRequirements||""}`)}else if(Pe==="add_doc"||Pe==="upload_doc"){x.push(`${D.docName||""}`);const Le=D.outputs||{};Le.summary&&x.push(`${Le.summary}`),x.push(`${D.specialRequirements||""}`)}else if(Pe==="outline_extract"){D.actionDescription&&x.push(`${D.actionDescription}`),x.push(`${D.selectedDocName||D.docName||""}`);const Le=D.inputContentExcerpt||"";if(Le){const Xe=Le.length>200?Le.substring(0,200)+"...":Le;x.push(`${Xe}`)}const Oe=(D.outputs||{}).generatedSections||[];if(Oe.length>0)x.push(` ${Oe.length} `),Oe.slice(0,10).forEach((Xe,ct)=>{const Pt=Xe.levelText||`${Xe.level}`;if(x.push(`  ${ct+1}. [${Pt}] ${Xe.title}`),Xe.summary){const mt=Xe.summary.length>80?Xe.summary.substring(0,80)+"...":Xe.summary;x.push(`     ${mt}`)}}),Oe.length>10&&x.push(`  ...  ${Oe.length-10} `);else{const Xe=D.context||{};Xe.outlineSectionsCount&&x.push(` ${Xe.outlineSectionsCount} `),(ue=Xe.outlineSectionTitles)!=null&&ue.length&&x.push(`${Xe.outlineSectionTitles.slice(0,5).join("")}${Xe.outlineSectionTitles.length>5?"...":""}`)}D.aiGuidance&&x.push(`AI${D.aiGuidance}`),x.push(`${D.specialRequirements||""}`)}else if(Pe==="add_outline_section"){D.actionDescription&&x.push(`${D.actionDescription}`);const Le=D.afterSection;if(Le){if(x.push(`${Le.levelText||`${Le.level}`}${Le.title}`),Le.summary){const Oe=Le.summary.length>100?Le.summary.substring(0,100)+"...":Le.summary;x.push(`  ${Oe}`)}}else x.push("");const Me=D.newSection;Me&&(x.push(`${Me.levelText||`${Me.level}`}${Me.title}`),Me.summary&&x.push(`  ${Me.summary}`)),D.aiGuidance&&x.push(`AI${D.aiGuidance}`),x.push(`${D.specialRequirements||""}`)}else if(Pe==="delete_outline_section"){D.actionDescription&&x.push(`${D.actionDescription}`);const Le=D.targetSection;if(Le&&(x.push(`${Le.levelText||`${Le.level}`}${Le.title}`),Le.summary)){const Oe=Le.summary.length>100?Le.summary.substring(0,100)+"...":Le.summary;x.push(`  ${Oe}`)}const Me=D.removedSections||[];Me.length>0&&(x.push(` ${Me.length} `),Me.slice(0,8).forEach((Oe,Xe)=>{x.push(`  ${Xe+1}. [${Oe.levelText||`${Oe.level}`}] ${Oe.title}`)}),Me.length>8&&x.push(`  ...  ${Me.length-8} `)),D.aiGuidance&&x.push(`AI${D.aiGuidance}`),x.push(`${D.specialRequirements||""}`)}else if(Pe==="restore_history_outline"){x.push(`${D.outlineTitle||D.outlineId||""}`);const Le=D.outputs||{};Le.summary&&x.push(`${Le.summary}`),x.push(`${D.specialRequirements||""}`)}else if(Pe==="dispatch"||Pe==="execute_instruction"){const Le=D.actionDescription||"";Le&&x.push(`${Le}`);const Me=D.promptContent||D.instructions||D.process||"";Me&&x.push(`${Me}`);const Oe=D.inputSourceDesc||"",Xe=D.inputKind||"";if(Oe)x.push(`${Oe}`);else if(Xe){const ut={doc:"",result:"",batch_outline:"",outline_selected_batch:"",outline_unprocessed_docs:""};x.push(`${ut[Xe]||Xe}`)}const ct=D.inputContent||D.inputContentExcerpt||"";if(ct){const ut=ct.length>300?ct.substring(0,300)+"...":ct;x.push(`${ut}`)}const Pt=D.targetSectionsDetail||[];if(Pt.length>0)x.push(` ${Pt.length} `),Pt.forEach((ut,cn)=>{const Ir=ut.levelText||`${ut.level||1}`;if(x.push(`  ${cn+1}. ${Ir}${ut.title}`),ut.originalSummary){const Ur=ut.originalSummary.length>100?ut.originalSummary.substring(0,100)+"...":ut.originalSummary;x.push(`     ${Ur}`)}});else{const ut=D.selectedSectionTitles||[];ut.length>0&&x.push(`${ut.join("")}`)}const mt=D.outputTargetDesc||"";mt&&x.push(`${mt}`);const tt=D.outputs||{},dt=tt.edits||[];if(dt.length>0)x.push(` ${dt.length} `),dt.forEach((ut,cn)=>{const Ir=ut.newValueExcerpt||ut.newValue||"",Ur=Ir.length>150?Ir.substring(0,150)+"...":Ir;x.push(`  ${cn+1}. : ${ut.field||"summary"}`),x.push(`     : ${Ur}`)});else if(tt.outputContent){const ut=tt.outputContent.length>300?tt.outputContent.substring(0,300)+"...":tt.outputContent;x.push(`${ut}`)}else tt.summary&&x.push(`${tt.summary}`);const Vt=D.aiGuidance||"";Vt&&x.push(`AI${Vt}`);const dn=D.specialRequirements||"";dn&&dn!==""&&x.push(`${dn}`)}else{D.docName&&x.push(`${D.docName}`),D.outlineTitle&&x.push(`${D.outlineTitle}`),D.process&&x.push(`${D.process}`);const Le=D.outputs||{};Le.summary&&x.push(`${Le.summary}`),x.push(`${D.specialRequirements||""}`)}const De=D.context||{};De.loadedDocsCount>0&&x.push(` ${De.loadedDocsCount} `)}catch{x.push(`${E.slice(0,200)}...`)}else x.push(`${E.slice(0,200)}...`);x.push("")}),x.push("---"),x.push(": AI "),x.join(`
`)},ac=(g,x)=>{if(!g||x<0)return g||"";const K=/(\[\d+\][^\[]*?)(?=\[\d+\]|===\s*Replay|===\s*|$)/gs,$=[...g.matchAll(K)];if($.length>0&&x<$.length)return $[x][1].trim();const E=/(===\s*\s*\d+[:][^=]*?===[\s\S]*?)(?====\s*|===\s*Replay|===\s*|---\n|$)/g,ce=[...g.matchAll(E)];return ce.length>0&&x<ce.length?ce[x][1].trim():g},lc=(g,x,K)=>{if(!g||x<0)return K;const $=/(\[\d+\][^\[]*?)(?=\[\d+\]|===\s*Replay|===\s*|$)/gs,E=[...g.matchAll($)];if(E.length>0&&x<E.length){const D=[];let Pe=0;return E.forEach((De,Le)=>{Le===x?(D.push(g.slice(Pe,De.index)),D.push(K)):D.push(g.slice(Pe,De.index+De[1].length)),Pe=De.index+De[1].length}),D.push(g.slice(Pe)),D.join("")}const ce=/(===\s*\s*\d+[:][^=]*?===[\s\S]*?)(?====\s*|===\s*Replay|===\s*|---\n|$)/g,ue=[...g.matchAll(ce)];if(ue.length>0&&x<ue.length){const D=[];let Pe=0;return ue.forEach((De,Le)=>{Le===x?(D.push(g.slice(Pe,De.index)),D.push(K+`

`)):D.push(g.slice(Pe,De.index+De[1].length)),Pe=De.index+De[1].length}),D.push(g.slice(Pe)),D.join("")}return K},Oo=async(g,x="llm",K=!1)=>{var $;if(!g||g.length===0){console.warn("[processDepositWithAIWithSections] sections "),Ni(E=>({...E,isProcessing:!1,autoProcessing:!1})),A(" ");return}console.log("[processDepositWithAIWithSections]  AI , sections:",g.length),Ni(E=>({...E,isProcessing:!0}));try{const ce=`**** Replay 

** - **
1. ****
2. "68""xxx"
3. "373"""
4. 


${g.map((De,Le)=>`${Le+1}${De.action||""}
${De.content||""}`).join(`

---

`)}

 - 
1. ****"68"  "{{}}"
2. ****
3. ****
4. ****
5. ****






===  1:  ===
 insert_to_summary_multi, dispatch 


XXXX




AI

===  2: ... ===
...

Replay 
`;console.log("[processDepositWithAIWithSections]  AI ...");const ue=new AbortController,D=setTimeout(()=>ue.abort(),6e4),Pe=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:ce}],maxTokens:3e3}),signal:ue.signal});if(clearTimeout(D),Pe.ok){const De=await Pe.json();if(console.log("[processDepositWithAIWithSections] AI :",{usedModel:De.usedModel,contentLength:($=De.content)==null?void 0:$.length}),(De==null?void 0:De.usedModel)===!1||(De==null?void 0:De.content)===null){Ni(Le=>({...Le,isProcessing:!1,autoProcessing:!1})),A(" AI QWEN_API_KEY");return}if(De!=null&&De.content){const Le=De.content.trim(),Me=Le.match(/(.+)/),Oe=Me?Me[1].trim():"";Ni(Xe=>({...Xe,llmRecordContent:Le,depositName:Oe||Xe.depositName,isProcessing:!1,autoProcessing:!1})),A(" ");return}}Ni(De=>({...De,isProcessing:!1,autoProcessing:!1})),A(" AI ")}catch(E){console.error("[processDepositWithAIWithSections] :",E),Ni(ce=>({...ce,isProcessing:!1,autoProcessing:!1})),E.name==="AbortError"?A(" AI "):A(" AI ")}},Us=async(g="llm",x=!1)=>{var K,$;if(ri){Ni(E=>({...E,isProcessing:!0}));try{const E=ri.sections.map((ct,Pt)=>`${Pt+1}${ct.action||""}
${ct.content||""}`).join(`

---

`),ce=((K=ri.userRequirements)==null?void 0:K.trim())||"",ue=ri.accumulatedRequirements||"",D=ue?ce?`${ue}

${ce}`:ue:ce||"";let Pe,De,Le;g==="llm"?(De=ri.llmRecordContent||"",Le=De&&De.length>0,x&&!Le?Pe=`**** Replay 

** - **
1. ****
2. "68""xxx"
3. "373"""
4. 


${E}

 - 
1. ****"68"  "{{}}"
2. ****
3. ****
4. ****
5. ****






===  1:  ===
 insert_to_summary_multi, dispatch 


XXXX




AI

===  2: ... ===
...

Replay 
`:Pe=`

** - **
1. "XXX = A + B + C"
2. 
3. "' XXX 'XXX =  +  +  + "
   
    {{}} 
   {{}} = {{}} + {{}} + {{}} + {{}}
4. 


${E}

${Le?`
${De}
`:""}

${D}

 - 
1. ****
2. ****
3. 
4.  AI 
5. 






===  1:  ===



 {{}} /
{{}} = {{1}} + {{2}} + ...




AI1.  2.  3. 

===  2: ... ===
...`):(De=ri.structuredScript||"",Le=De&&!De.includes(": AI "),Pe=`

** Replay **


${E}

${Le?`
${De}
`:""}

${D}

 - 
1. ****
2. ********
3.  {{}}{{}}
4.  Replay
5. ""






===  ===

[1] 
- :  add_doc, outline_extract, insert_to_summary
- : 
- : 
- : 
- : 
- :   
- : 
- AI:  Replay AI 
- : 

[2] ...

=== Replay  ===


===  ===
 Replay `);const Me=new AbortController,Oe=setTimeout(()=>Me.abort(),6e4);let Xe;try{Xe=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:Pe}],maxTokens:3e3}),signal:Me.signal})}catch(ct){if(clearTimeout(Oe),ct.name==="AbortError"){console.error("AI "),Ni(Pt=>({...Pt,isProcessing:!1,autoProcessing:!1})),A(" AI ");return}throw ct}if(clearTimeout(Oe),Xe.ok){const ct=await Xe.json();if((ct==null?void 0:ct.usedModel)===!1||(ct==null?void 0:ct.content)===null){Ni(Pt=>({...Pt,isProcessing:!1,autoProcessing:!1})),A(" AI QWEN_API_KEY");return}if(ct!=null&&ct.content){const Pt=ct.content.trim(),mt=Pt.match(/(.+)/),tt=mt?mt[1].trim():"",dt=!x&&(($=ri.userRequirements)!=null&&$.trim())?ri.accumulatedRequirements?`${ri.accumulatedRequirements}
${ri.userRequirements.trim()}`:ri.userRequirements.trim():ri.accumulatedRequirements||"";g==="llm"?(Ni(Vt=>({...Vt,llmRecordContent:Pt,depositName:tt||Vt.depositName,accumulatedRequirements:dt,userRequirements:x?Vt.userRequirements:"",isProcessing:!1,autoProcessing:!1,optimizeCount:(Vt.optimizeCount||0)+1})),A(x?" ":" ")):(Ni(Vt=>({...Vt,structuredScript:Pt,depositName:tt||Vt.depositName,accumulatedRequirements:dt,userRequirements:x?Vt.userRequirements:"",isProcessing:!1,autoProcessing:!1,optimizeCount:(Vt.optimizeCount||0)+1})),x||A(" "));return}}Ni(ct=>({...ct,isProcessing:!1,autoProcessing:!1})),A(" AI ")}catch(E){console.error("AI ",E),Ni(ce=>({...ce,isProcessing:!1,autoProcessing:!1})),A(" AI ")}}},Qs=async()=>{var ut,cn,Ir,Ur,hi;if(!ri)return;const g=!!ha,x=g?null:He.length+1;let K;g?K=ha:(K=`_${x}`,He.some(Ct=>Ct.id===K)&&(K=`_${x}_${Date.now()}`));const $=ri.precipitationMode||"llm",E=g?K:`${x}`,ce=((ut=ri.depositName)==null?void 0:ut.trim())||E,ue=((cn=ri.structuredScript)==null?void 0:cn.trim())||"",D=Ct=>{if(!Ct)return[];const Wn=[],Ke=(Zt,bt)=>{const Ut=new RegExp(`-\\s*${bt}[:]\\s*(.*?)(?=-\\s*\\w||$)`,"s"),An=Zt.match(Ut);if(An)return An[1].trim();const $n=new RegExp(`${bt}\\s*(.*?)(?=|===|$)`,"s"),sr=Zt.match($n);return sr?sr[1].trim():""},We=/\[(\d+)\]\s*([^\n]+)([\s\S]*?)(?=\[\d+\]|===\s*Replay|===\s*|$)/g;let Tt;for(;(Tt=We.exec(Ct))!==null;){const Zt=parseInt(Tt[1]),bt=Tt[2].trim(),Ut=Tt[3].trim();Wn.push({stepNum:Zt,title:bt,type:Ke(Ut,""),description:Ke(Ut,""),condition:Ke(Ut,""),contentDescription:Ke(Ut,""),contextBefore:Ke(Ut,""),contextAfter:Ke(Ut,""),targetTitle:Ke(Ut,""),aiGuidance:Ke(Ut,"AI")||Ke(Ut,"AI")||Ke(Ut,""),fallbackParams:Ke(Ut,""),rawContent:Ut})}if(Wn.length===0){const Zt=/===\s*\s*(\d+)[:]\s*([^=\n]+?)\s*===([\s\S]*?)(?====\s*|===\s*Replay|===\s*|---|\n\n\n|$)/g;for(;(Tt=Zt.exec(Ct))!==null;){const bt=parseInt(Tt[1]),Ut=Tt[2].trim(),An=Tt[3].trim();Wn.push({stepNum:bt,title:Ut,type:Ke(An,"")||Ke(An,""),description:Ke(An,"")||Ke(An,"Prompt"),condition:Ke(An,""),contentDescription:Ke(An,""),contextBefore:Ke(An,""),contextAfter:Ke(An,""),targetTitle:Ke(An,"")||Ke(An,""),aiGuidance:Ke(An,"AI")||Ke(An,"AI")||Ke(An,""),inputSource:Ke(An,""),outputTarget:Ke(An,""),outputContent:Ke(An,""),specialRequirements:Ke(An,""),rawContent:An})}}return Wn},Pe=((Ir=ri.llmRecordContent)==null?void 0:Ir.trim())||"",De=D(ue),Le=D(Pe),Oe=(Ct=>{if(!Ct)return"";const Wn=/AI\s*([\s\S]*?)(?=[^A]|AI|\[|\n\n\n|---\n|===|$)/s,Ke=Ct.match(Wn);return Ke?Ke[1].trim():""})(Pe);console.log("[saveDeposit]  llmRecordContent  aiGuidance:",(Oe==null?void 0:Oe.substring(0,200))||"()");const Xe=De.map((Ct,Wn)=>{const Ke=Le[Wn]||{};return{...Ct,aiGuidance:Ke.aiGuidance||Ct.aiGuidance||(Wn===0?Oe:""),description:Ct.description||Ke.description||"",specialRequirements:Ke.specialRequirements||Ct.specialRequirements||"",condition:Ke.condition||Ct.condition||"",contentDescription:Ke.contentDescription||Ct.contentDescription||""}});let ct=Xe.length>0?Xe:Le;ct.length===0&&Oe&&(ct=[{stepNum:1,aiGuidance:Oe}]),console.log("[saveDeposit] :",{structuredStepsCount:De.length,llmRecordStepsCount:Le.length,mergedStepsCount:ct.length,directAiGuidance:(Oe==null?void 0:Oe.substring(0,100))||"()",firstStepAiGuidance:((hi=(Ur=ct[0])==null?void 0:Ur.aiGuidance)==null?void 0:hi.substring(0,100))||"()"});const Pt=$==="llm",mt=Ct=>{if(!Ct)return null;const Wn=Ct.match(/__REPLAY_META__\n(.+)/s);if(Wn)try{return JSON.parse(Wn[1])}catch{}return null},tt=(Ct,Wn,Ke)=>{const We=Wn||{};return{...We,type:(Ct==null?void 0:Ct.type)||We.type||Ke.action,buttonAction:(Ct==null?void 0:Ct.type)||We.buttonAction||"dispatch",intentDescription:(Ct==null?void 0:Ct.description)||We.intentDescription||Ke.action,inputSourceDesc:(Ct==null?void 0:Ct.inputSource)||We.inputSourceDesc||"",outputTargetDesc:(Ct==null?void 0:Ct.outputTarget)||We.outputTargetDesc||"",targetTitle:(Ct==null?void 0:Ct.targetTitle)||We.targetTitle||"",contentDescription:(Ct==null?void 0:Ct.contentDescription)||We.contentDescription||"",contextBefore:(Ct==null?void 0:Ct.contextBefore)||We.contextBefore||"",contextAfter:(Ct==null?void 0:Ct.contextAfter)||We.contextAfter||"",aiGuidance:(Ct==null?void 0:Ct.aiGuidance)||We.aiGuidance||"",specialRequirements:(Ct==null?void 0:Ct.specialRequirements)||We.specialRequirements||"",generatedByLLM:!0,generatedAt:Date.now()}},dt=(Ct,Wn)=>{if(!Ct)return null;const Ke=new RegExp(`(\\[${Wn}\\][^\\[]*?)(?=\\[\\d+\\]|===\\s*Replay|===\\s*|$)`,"s"),We=Ct.match(Ke);if(We)return We[1].trim();const Tt=new RegExp(`(===\\s*\\s*${Wn}[:][^=]*?===.*?)(?====\\s*|===\\s*Replay|===\\s*|---|


|$)`,"s"),Zt=Ct.match(Tt);return Zt?Zt[1].trim():null},Vt=ri.sections.map((Ct,Wn)=>{var sr,Gi;const Ke=ct[Wn]||null,We=mt(Ct.content)||Ct.meta,Tt=dt(ue,Wn+1),Zt=Tt||(Ke==null?void 0:Ke.rawContent)||Ct.content;let bt=We;Pt&&Ke&&(bt=tt(Ke,We,Ct));const Ut=bt?`${Zt}

${Zd}
${JSON.stringify(bt)}`:Zt,An={action:Ct.action,buttonLabel:Ct.buttonLabel,content:Ut,meta:bt,rawContent:Ct.content};let $n=null;return Pt&&($n={title:(Ke==null?void 0:Ke.title)||Ct.action||"",type:(Ke==null?void 0:Ke.type)||(We==null?void 0:We.type)||"",description:(Ke==null?void 0:Ke.description)||(We==null?void 0:We.actionDescription)||"",condition:(Ke==null?void 0:Ke.condition)||"",contentDescription:(Ke==null?void 0:Ke.contentDescription)||"",contextBefore:(Ke==null?void 0:Ke.contextBefore)||(We==null?void 0:We.contextBefore)||"",contextAfter:(Ke==null?void 0:Ke.contextAfter)||(We==null?void 0:We.contextAfter)||"",targetTitle:(Ke==null?void 0:Ke.targetTitle)||(We==null?void 0:We.outputTargetDesc)||"",aiGuidance:(Ke==null?void 0:Ke.aiGuidance)||(We==null?void 0:We.aiGuidance)||"",inputSource:(Ke==null?void 0:Ke.inputSource)||(We==null?void 0:We.inputSourceDesc)||"",outputTarget:(Ke==null?void 0:Ke.outputTarget)||(We==null?void 0:We.outputTargetDesc)||"",specialRequirements:(Ke==null?void 0:Ke.specialRequirements)||(We==null?void 0:We.specialRequirements)||"",structuredScriptContent:Tt||(Ke==null?void 0:Ke.rawContent)||"",rawContent:(Ke==null?void 0:Ke.rawContent)||"",actionDescription:(We==null?void 0:We.actionDescription)||(Ke==null?void 0:Ke.description)||"",instructions:(We==null?void 0:We.instructions)||(We==null?void 0:We.promptContent)||"",promptContent:(We==null?void 0:We.promptContent)||(We==null?void 0:We.instructions)||"",inputKind:(We==null?void 0:We.inputKind)||"",inputSourceType:(We==null?void 0:We.inputSourceType)||(We==null?void 0:We.inputKind)||"",inputSourceDesc:(We==null?void 0:We.inputSourceDesc)||"",inputContent:(We==null?void 0:We.inputContent)||"",inputContentExcerpt:(We==null?void 0:We.inputContentExcerpt)||"",inputContentIsReference:!0,inputs:(We==null?void 0:We.inputs)||[],targetSectionsDetail:(We==null?void 0:We.targetSectionsDetail)||[],selectedSectionIds:(We==null?void 0:We.selectedSectionIds)||[],selectedSectionTitles:(We==null?void 0:We.selectedSectionTitles)||[],outlineSegmentsMeta:(We==null?void 0:We.outlineSegmentsMeta)||[],destinations:(We==null?void 0:We.destinations)||[],outputs:(We==null?void 0:We.outputs)||{},outputContent:(Ke==null?void 0:Ke.outputContent)||((sr=We==null?void 0:We.outputs)==null?void 0:sr.outputContent)||"",outputTargetDesc:(We==null?void 0:We.outputTargetDesc)||"",afterSection:(We==null?void 0:We.afterSection)||null,newSection:(We==null?void 0:We.newSection)||null,targetSection:(We==null?void 0:We.targetSection)||null,removedSections:(We==null?void 0:We.removedSections)||[],generatedSections:((Gi=We==null?void 0:We.outputs)==null?void 0:Gi.generatedSections)||[],docName:(We==null?void 0:We.docName)||"",selectedDocName:(We==null?void 0:We.selectedDocName)||"",originalScriptContent:Ut,originalScriptRawContent:Ct.content,replayMeta:bt}),{...Ct,content:Ut,meta:bt,llmScript:$n,originalScript:An,lastReplayStatus:null,lastReplayMode:null,lastReplayTime:null,lastReplayError:null}}),dn={id:K,name:ce,title:ce,createdAt:Date.now(),precipitationMode:$,validationMode:ri.validationMode||"none",sections:Vt,structuredScript:Pt?ue:null,llmRecordContent:Pt&&ri.llmRecordContent||"",accumulatedRequirements:Pt&&ri.accumulatedRequirements||"",optimizeCount:Pt&&ri.optimizeCount||0,summary:Pt&&cc(ue,"")||"",replayGuidance:Pt&&cc(ue,"Replay ")||"",supportsScriptFallback:!0};if(g){ht(Ct=>Ct.map(Wn=>Wn.id===K?dn:Wn)),A(`${$==="llm"?" Replay":" Replay"}`);try{await zt(`/api/multi/precipitation/records/${K}`,{method:"PUT",body:dn})}catch(Ct){console.error("",Ct);try{await zt("/api/multi/precipitation/records",{method:"POST",body:dn})}catch(Wn){console.error("",Wn)}}}else{ht(Ct=>[...Ct,dn]),A(`${$==="llm"?" Replay":" Replay"}`);try{await zt("/api/multi/precipitation/records",{method:"POST",body:dn})}catch(Ct){console.error("",Ct)}}g||(Ee(!1),$e([])),da(!1),Ni(null),Do(null)},cc=(g,x)=>{if(!g)return"";const K=new RegExp(`${x}(.+?)(?=\\n|$)`),$=g.match(K);return $?$[1].trim():""},us=()=>{da(!1),Ni(null),Xs(-1),Do(null)},ya=g=>{var $;const x=He.find(E=>E.id===g);if(!x){A("");return}let K=x.structuredScript||"";!K&&(($=x.sections)==null?void 0:$.length)>0&&(K=x.sections.map((E,ce)=>{const ue=E.llmScript||{},D=[`[${ce+1}] ${E.action||ue.description||""}`];return ue.description&&D.push(`- : ${ue.description}`),(ue.instructions||ue.promptContent)&&D.push(`- : ${ue.instructions||ue.promptContent}`),ue.inputSourceDesc&&D.push(`- : ${ue.inputSourceDesc}`),(ue.targetTitle||ue.outputTargetDesc)&&D.push(`- : ${ue.targetTitle||ue.outputTargetDesc}`),ue.aiGuidance&&D.push(`- AI : ${ue.aiGuidance}`),ue.specialRequirements&&D.push(`- : ${ue.specialRequirements}`),E.content&&!ue.description&&D.push(`- : ${E.content.substring(0,200)}${E.content.length>200?"...":""}`),D.join(`
`)}).join(`

---

`)),Ni({sections:x.sections||[],depositName:x.name||x.id,precipitationMode:x.precipitationMode||"llm",validationMode:x.validationMode||"none",structuredScript:K,llmRecordContent:x.llmRecordContent||"",userRequirements:"",accumulatedRequirements:x.accumulatedRequirements||"",optimizeCount:x.optimizeCount||0,isProcessing:!1}),Do(g),Xs(-1),da(!0)},Il=()=>{as(!0)},jl=async()=>{var g,x;if(!e||!e.sections.length){A("");return}qo(!0);try{const K={id:`outline_${Date.now()}`,template:je(e),timestamp:Date.now(),docName:((g=o.find($=>$.id===l))==null?void 0:g.name)||"",title:((x=o.find($=>$.id===l))==null?void 0:x.name)||"",sectionMergeType:Object.keys(q).length>0?{...q}:void 0};await zt("/api/multi/outlines",{method:"POST",body:K}),Pa($=>[K,...$]),A("")}catch(K){console.error("",K),A("")}finally{qo(!1)}},va=async g=>{if(g!=null&&g.template){qo(!0);try{const x=await zt(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:g.template}});t(x.template),u(x.scene),I(!0),g.sectionMergeType&&typeof g.sectionMergeType=="object"?Se(g.sectionMergeType):Se({}),Mn("",{type:"restore_history_outline",outlineId:g.id,outlineTitle:g.title||g.docName,process:`${g.title||g.docName}`,destinations:[{kind:"outline_panel"}],outputs:{summary:`${g.title||g.docName}`}}),A(""),as(!1)}catch(x){console.error("",x),A("")}finally{qo(!1)}}},ks=async g=>{if(confirm("")){qo(!0);try{await zt(`/api/multi/outlines/${g}`,{method:"DELETE"}),Pa(x=>x.filter(K=>K.id!==g)),A("")}catch(x){console.error("",x),A("")}finally{qo(!1)}}},fs=async(g,x)=>{qo(!0);try{await zt(`/api/multi/outlines/${g}`,{method:"PATCH",body:{title:x}}),Pa(K=>K.map($=>$.id===g?{...$,title:x}:$)),A("")}catch(K){console.error("",K),A("")}finally{qo(!1)}},Co=async(g=!1)=>{try{const x=await zt("/api/multi/precipitation/records");if(Array.isArray(x)){const K=x.map(E=>({...E,precipitationMode:Pc(E==null?void 0:E.precipitationMode),sections:Array.isArray(E==null?void 0:E.sections)?E.sections:[]}));ht(K);const $=x.reduce((E,ce)=>{const ue=/_(\d+)$/.exec((ce==null?void 0:ce.id)||""),D=ue?Number(ue[1]):0;return Number.isFinite(D)&&D>E?D:E},0);$>0&&tn($)}return!0}catch(x){return console.error("",x),g||A(""),!1}},wa=g=>{if(!g)return null;const x=typeof g.id=="string"&&g.id.trim()?g.id.trim():`group_${Date.now()}`,K=typeof g.name=="string"&&g.name.trim()?g.name.trim():x,$=Array.isArray(g.depositIds)?Array.from(new Set(g.depositIds.filter(Boolean))):[],E=typeof g.createdAt=="number"?g.createdAt:Date.now();return{...g,id:x,name:K,depositIds:$,createdAt:E}},Wo=async(g=!1)=>{try{const x=await zt("/api/multi/precipitation/groups");if(Array.isArray(x)){const K=x.map(wa).filter(Boolean);Kr(K),Jt&&!K.some($=>$.id===Jt)&&Pn("")}return!0}catch(x){return console.error("",x),g||A(""),!1}},ea=async()=>{var K;const g=localStorage.getItem(g1);if(g)try{const $=await zt(`/api/scene/${g}`);if($!=null&&$.scene)return $.scene}catch{}const x=await zt("/api/scene",{method:"POST",body:{docIds:[]}});return(K=x==null?void 0:x.scene)!=null&&K.id&&localStorage.setItem(g1,x.scene.id),(x==null?void 0:x.scene)||null},ds=()=>He.filter(g=>$t==null?void 0:$t[g.id]).map(g=>g.id),ta=async()=>{const g=ds();if(!g.length){A("");return}const x=`_${rr.length+1}`,K=window.prompt(rt.t164,x);if(K===null)return;const $=K.trim()||x,E={id:`group_${Date.now()}`,name:$,depositIds:g,createdAt:Date.now()};Kr(ce=>[...ce,E]),Pn(E.id),re("groups");try{await zt("/api/multi/precipitation/groups",{method:"POST",body:E}),A("")}catch(ce){console.error("",ce),A(""),await Wo(!0)}},Mi=async(g,x,K)=>{if(!g)return;const $={...x};Array.isArray($.depositIds)&&($.depositIds=$.depositIds.filter(Boolean)),Kr(E=>E.map(ce=>ce.id===g?{...ce,...$}:ce));try{await zt(`/api/multi/precipitation/groups/${g}`,{method:"PATCH",body:$}),K&&A(K)}catch(E){console.error("",E),A(""),await Wo(!0)}},Ma=async()=>{const g=rr.find($=>$.id===Jt);if(!g){A("");return}const x=window.prompt("",g.name);if(x===null)return;const K=x.trim()||g.name;await Mi(g.id,{name:K},"")},na=async()=>{if(!ds().length){A("");return}if(rr.length===0){A("");return}ma([]),Ys(!0)},qs=async()=>{const g=ds();if(!g.length){A("");return}if(!Js.length){A("");return}for(const K of Js){const $=rr.find(E=>E.id===K);if($){const E=Array.from(new Set([...$.depositIds||[],...g]));await Mi($.id,{depositIds:E})}}const x=Js.map(K=>{var $;return($=rr.find(E=>E.id===K))==null?void 0:$.name}).filter(Boolean).join("");A(`${x}`),Ys(!1),ma([]),Js.length===1&&Pn(Js[0])},ll=async()=>{const g=rr.find(x=>x.id===Jt);if(!g){A("");return}if(confirm(' "'+g.name+'" ')){Kr(x=>x.filter(K=>K.id!==g.id)),Jt===g.id&&Pn("");try{await zt(`/api/multi/precipitation/groups/${g.id}`,{method:"DELETE"}),A("")}catch(x){console.error("delete deposit group failed",x),A(""),await Wo(!0)}}},xa=async()=>{var K,$;const g=rr.find(E=>E.id===Jt);if(!g){A("");return}if(pi[g.id])return;if(zn(E=>({...E,[g.id]:!0})),A(`Replay${g.name}`),console.log("[Replay] ..."),!e||!e.sections||e.sections.length===0){console.log("[Replay] ..."),A("...");try{const E=await zt("/api/template");(($=(K=E==null?void 0:E.template)==null?void 0:K.sections)==null?void 0:$.length)>0&&(t(E.template),console.log("[Replay] ",E.template.sections.length,""),await new Promise(ce=>setTimeout(ce,200)))}catch(E){console.error("[Replay] :",E),A("Replay ")}}const x=g.depositIds||[];for(let E=0;E<x.length;E++){const ce=x[E],ue=He.find(D=>D.id===ce);if(!ue){console.warn(`[Replay]  ${ce} `);continue}console.log(`[Replay]  ${E+1}/${x.length}: ${ue.name}`),A(` ${E+1}/${x.length}: ${ue.name}`),await Kc(ce),console.log(`[Replay]  ${E+1}/${x.length}: ${ue.name}`)}zn(E=>({...E,[g.id]:!1})),A("Replay")},Pl=g=>!g||!Array.isArray(g.buttons)?Iv:g.buttons.map((x,K)=>{if(!x||typeof x!="object")return null;const $=typeof x.id=="string"&&x.id.trim()?x.id.trim():`app_btn_${K}`,E=typeof x.label=="string"?Iu(x.label).trim():"";if(!E)return null;const ce=Array.isArray(x.groupIds)?x.groupIds.filter(Boolean):[];return{id:$,label:E,groupIds:ce}}).filter(Boolean),cl=(g,x)=>{Ao(K=>K.map($=>$.id===g?{...$,label:x}:$))},ra=(g,x)=>{Ao(K=>K.map($=>{if($.id!==g)return $;const E=Array.isArray($.groupIds)?$.groupIds:[],ue=E.includes(x)?E.filter(D=>D!==x):[...E,x];return{...$,groupIds:ue}}))},ba=async()=>{ns(!0);try{const g=new Set(rr.map(K=>K.id)),x=yr.map(K=>({...K,groupIds:(K.groupIds||[]).filter($=>g.has($))}));Ao(x),await zt("/api/multi/app-buttons",{method:"POST",body:{buttons:x}}),A("")}catch(g){console.error("",g),A("")}finally{ns(!1)}},_a=async()=>{to(!0);try{await zt("/api/multi/replay/config",{method:"POST",body:{dirPath:vr.dirPath,autoLoadFiles:vr.autoLoadFiles}}),A("Replay ")}catch(g){console.error(" Replay ",g),A(" Replay ")}finally{to(!1)}},ul=async()=>{try{const g={globalButtons:{activeButtons:bn,deletedButtons:Ln,version:"2.0",savedAt:Date.now()}};localStorage.setItem("global-buttons-config",JSON.stringify(g.globalButtons)),await zt("/api/config/save",{method:"POST",body:g}),A("")}catch(g){console.error("",g),A("")}},Sa=(g,x)=>{if(!Ue)return;g.preventDefault(),g.stopPropagation();const K=g.clientX,$=g.clientY,E=En[x].position||{left:0,top:0};oc({titleKey:x,startX:K,startY:$,startPos:E})};Qe.useEffect(()=>{if(!Ai)return;const g=K=>{const $=K.clientX-Ai.startX,E=K.clientY-Ai.startY;Dr(ce=>({...ce,[Ai.titleKey]:{...ce[Ai.titleKey],position:{left:Ai.startPos.left+$,top:Ai.startPos.top+E}}}))},x=()=>{oc(null)};return document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x)}},[Ai]);const za=(g,x,K)=>{if(!Ue)return;g.preventDefault(),g.stopPropagation();const $=g.clientX,E=g.clientY,ce={width:En[x].width||200,height:En[x].height||30};nl({titleKey:x,startX:$,startY:E,startSize:ce,direction:K})};Qe.useEffect(()=>{if(!Fs)return;const g=K=>{const $=K.clientX-Fs.startX,E=K.clientY-Fs.startY;Dr(ce=>{const ue=Math.max(50,Fs.startSize.width+$),D=Math.max(20,Fs.startSize.height+E);return{...ce,[Fs.titleKey]:{...ce[Fs.titleKey],width:ue,height:D}}})},x=()=>{nl(null)};return document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x)}},[Fs]),Qe.useEffect(()=>{if(!er)return;const g=K=>{const $=K.clientX-er.startX,E=K.clientY-er.startY;if(er.panelId){const{panelId:ce,buttonId:ue,dragType:D}=er;let Pe=er.originalLeft,De=er.originalTop,Le=er.originalWidth,Me=er.originalHeight;D==="move"?(Pe=er.originalLeft+$,De=er.originalTop+E):D==="resize-e"?Le=Math.max(40,er.originalWidth+$):D==="resize-s"?Me=Math.max(20,er.originalHeight+E):D==="resize-se"&&(Le=Math.max(40,er.originalWidth+$),Me=Math.max(20,er.originalHeight+E)),Vn(Oe=>{const ct=(Oe[ce]||[]).map(Pt=>Pt.id===ue?{...Pt,left:Pe,top:De,width:Le,height:Me}:Pt);return{...Oe,[ce]:ct}});return}if(er.action==="move")Y(er.buttonId,{x:er.startPos.x+$,y:er.startPos.y+E});else if(er.action==="resize"){const ce=Math.max(50,er.startSize.width+$),ue=Math.max(20,er.startSize.height+E);Y(er.buttonId,{width:ce,height:ue})}},x=()=>{$o(null)};return document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x)}},[er,bn]),Qe.useEffect(()=>{En&&(En.eyebrow||En.title)&&(localStorage.setItem("workbench_header_titles",JSON.stringify(En)),console.log("[HeaderTitles] Auto-saved to localStorage:",En))},[En]);const fi=(g,x,K,$="move")=>{var D;if(!Ue)return;const E=(D=Un[x])==null?void 0:D.find(Pe=>Pe.id===K);if(!E)return;const ce=g.clientX,ue=g.clientY;$o({panelId:x,buttonId:K,dragType:$,startX:ce,startY:ue,originalLeft:E.left,originalTop:E.top,originalWidth:E.width,originalHeight:E.height}),g.preventDefault()},Fo=(g,x)=>{an(K=>{const $={...K};return x?$[g]=!0:delete $[g],$})},Xr=()=>an({}),oi=async g=>{const x=(g||[]).map(K=>K.id);if(x.length)try{await zt("/api/multi/precipitation/records/order",{method:"POST",body:{order:x}})}catch(K){console.error("",K),A("")}},zi=(g,x,K)=>{const $=[...g||[]],E=$.findIndex(D=>D.id===x),ce=$.findIndex(D=>D.id===K);if(E===-1||ce===-1||E===ce)return g;const[ue]=$.splice(E,1);return $.splice(ce,0,ue),$},Ji=(g,x,K)=>{const $=[...g||[]],E=$.findIndex(D=>D.id===x);if(E===-1)return g;const ce=Math.max(0,Math.min(K,$.length-1)),[ue]=$.splice(E,1);return $.splice(ce,0,ue),$},As=g=>{let x=null;ht(K=>(x=g(K),x)),x&&oi(x)},uc=()=>{an(()=>{const g={};return He.forEach(x=>{g[x.id]=!0}),g})},$a=async g=>{const x=Array.from(new Set((g||[]).filter(Boolean)));if(!x.length||!window.confirm(`${x.length} `))return;const $=await Promise.allSettled(x.map(D=>zt(`/api/multi/precipitation/records/${D}`,{method:"DELETE"}))),E=x.filter((D,Pe)=>$[Pe].status==="fulfilled"),ce=x.filter((D,Pe)=>$[Pe].status!=="fulfilled");if(E.length&&(ht(D=>D.filter(Pe=>!E.includes(Pe.id))),Kr(D=>D.map(Pe=>({...Pe,depositIds:(Pe.depositIds||[]).filter(De=>!E.includes(De))}))),le(D=>{const Pe={...D};return E.forEach(De=>delete Pe[De]),Pe}),Vr(D=>{const Pe={...D};return E.forEach(De=>delete Pe[De]),Pe}),an(D=>{const Pe={...D};return E.forEach(De=>delete Pe[De]),Pe})),ce.length){console.error("",ce),A(`${ce.length}/${x.length}`),await Co(!0),await Wo(!0);return}await Co(!1)&&A("")},ka=()=>void $a(Object.keys($t||{}).filter(g=>$t[g])),ia=(g,x,K)=>{qn($=>({...$,[`${g}||${x}`]:(K??"").toString()}))},fl=(g,x)=>{ia(g,"order",String(x))},Ho=(g,x)=>{qn(K=>{const $={...K};return delete $[`${g}||${x}`],$})},fc=async g=>{const x=`${g}||name`,$=(Rn[x]??"").toString().trim()||g;try{await zt(`/api/multi/precipitation/records/${g}`,{method:"PATCH",body:{name:$,title:$}}),ht(E=>E.map(ce=>ce.id===g?{...ce,name:$,title:$}:ce)),Ho(g,"name"),A("")}catch(E){console.error("",E),A("")}},Dl=async(g,x)=>{const K=Pc(x),$=He.find(ue=>ue.id===g);if(!$){A("");return}const E=($.sections||[]).map(ue=>({...ue,sectionReplayMode:K})),ce={...$,precipitationMode:K,sections:E,updatedAt:Date.now()};ht(ue=>ue.map(D=>D.id===g?ce:D));try{await zt(`/api/multi/precipitation/records/${g}`,{method:"PUT",body:ce});const ue=K==="llm"?" Replay":" Replay",D=E.length;A(`${ue}${D}`)}catch(ue){console.error("",ue),A(""),await Co(!0)}},Ua=()=>{const g=Un["processing-tabs"]||[],x=Ec["processing-tabs"]||[],K=new Map(g.filter($=>Qd.includes($==null?void 0:$.kind)).map($=>[$.kind,$]));return Qd.map($=>K.get($)||x.find(E=>E.kind===$)).filter(Boolean)},qa={tab_outline:{bg:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",inactiveBg:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",color:"#1e40af",activeColor:"#ffffff",border:"#3b82f6",shadow:"rgba(59, 130, 246, 0.4)"},tab_records:{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",inactiveBg:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",color:"#047857",activeColor:"#ffffff",border:"#10b981",shadow:"rgba(16, 185, 129, 0.4)"},tab_config:{bg:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",inactiveBg:"linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%)",color:"#6d28d9",activeColor:"#ffffff",border:"#8b5cf6",shadow:"rgba(139, 92, 246, 0.4)"},tab_strategy:{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",inactiveBg:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",color:"#b45309",activeColor:"#ffffff",border:"#f59e0b",shadow:"rgba(245, 158, 11, 0.4)"}},Bc=()=>Ua().map(x=>{const K=Dc(x.label,""),$={...x,label:Rv[x.kind]||K||x.label},E=x.kind==="tab_outline"&&R==="outline"||x.kind==="tab_config"&&R==="config"||x.kind==="tab_records"&&R==="records"||x.kind==="tab_strategy"&&R==="strategy",ce=qa[x.kind]||qa.tab_outline;return{...$,style:{...$.style||{},background:E?ce.bg:ce.inactiveBg,color:E?ce.activeColor:ce.color,border:E?"none":`1px solid ${ce.border}40`,borderRadius:"14px",boxShadow:E?`0 4px 14px ${ce.shadow}`:"0 1px 3px rgba(0,0,0,0.08)",fontWeight:E?700:600,transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",transform:E?"translateY(-1px)":"none"}}}),dl=g=>{const x=`${g}||order`,K=(Rn[x]??"").toString().trim(),$=Number.parseInt(K,10);if(!Number.isFinite($)){Ho(g,"order");return}As(E=>Ji(E,g,Math.max(0,$-1))),Ho(g,"order")},Mc=(g,x)=>{g.key==="Enter"&&(g.preventDefault(),dl(x))},zc=g=>x=>{Fi(g),_n("");try{x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",g)}catch{}},$c=g=>x=>{!Xi||Xi===g||(x.preventDefault(),_n(g))},Uc=g=>x=>{var $,E;x.preventDefault();const K=Xi||((E=($=x.dataTransfer)==null?void 0:$.getData)==null?void 0:E.call($,"text/plain"));!K||K===g||(As(ce=>zi(ce,K,g)),Fi(""),_n(""))},qc=()=>{Fi(""),_n("")},Wc=()=>{const g=Ua();if(!g.length)return null;const x={};return g.forEach(K=>{K!=null&&K.kind&&(x[K.kind]=K)}),Qd.slice(0,-1).map((K,$)=>{const E=x[K],ce=x[Qd[$+1]];if(!E||!ce)return null;const ue=E.left+E.width,D=ce.left,Pe=ue+(D-ue)/2,De=E.top+(E.height-16)/2;return y.jsx("span",{className:"tab-seq-arrow",style:{left:`${Math.max(0,Pe-10)}px`,top:`${Math.max(0,De)}px`},children:"-->"},`tab-seq-${K}`)})},Ws=new Set(["batch_replay","select_all","delete_selected","clear_selection","group_new","group_update"]),hl=new Set(["group_rename","group_delete","group_replay"]),co=g=>{const x=rr.find(D=>D.id===Jt)||null,$=ds().length>0,E=He.length>0&&Object.keys($t||{}).filter(D=>$t[D]).length===He.length,ce=Un["processing-records-toolbar"]||[];return(g?ce.filter(D=>g.has(D.kind)):ce).map(D=>{let Pe=!1;switch(D.kind){case"batch_replay":case"delete_selected":case"clear_selection":Pe=!$;break;case"select_all":Pe=He.length===0;break;case"group_new":Pe=!$;break;case"group_update":Pe=!$;break;case"group_rename":case"group_delete":case"group_replay":Pe=!x;break}D.kind==="batch_replay"&&$r&&(Pe=!0),D.kind==="group_replay"&&x&&pi[x.id]&&(Pe=!0);let De=D.label;return D.kind==="select_all"&&(De=E?"":""),{...D,label:De,disabled:Pe}})},Go=g=>{var ue;const x=((ue=_r==null?void 0:_r[g==null?void 0:g.id])==null?void 0:ue.bySection)||{},K=((g==null?void 0:g.sections)||[]).map(D=>{var Pe;return(Pe=x==null?void 0:x[D.id])==null?void 0:Pe.status}).filter(Boolean);if(!K.length)return"";if(K.every(D=>D==="done"))return"done";if(K.every(D=>D==="fail"))return"fail";if(K.every(D=>D==="pass"))return"pass";const $=K.some(D=>D==="done"),E=K.some(D=>D==="pass"),ce=K.some(D=>D==="fail");return $&&!ce?"partial done":E&&!ce&&!$?"pass":"partial done"},Ol=g=>{var $;const x=(($=_r==null?void 0:_r[g==null?void 0:g.id])==null?void 0:$.bySection)||{},K=((g==null?void 0:g.sections)||[]).map(E=>{const ce=x==null?void 0:x[E.id];if(!ce||ce.status==="done"||ce.status==="running")return null;const ue=(E.action||E.id||"").toString(),D=(ce.message||"").toString().trim();return D?`${ue}${ce.status} - ${D}`:`${ue}${ce.status}`}).filter(Boolean);return K.length?K.length<=3?K.join(""):`${K.slice(0,3).join("")}  ${K.length} `:""},Aa=()=>y.jsx(lA,{depositGroups:rr,selectedDepositGroupId:Jt,setSelectedDepositGroupId:Pn,renameDepositGroup:Ma,replayDepositGroup:xa,depositGroupReplay:pi}),fu=()=>y.jsx(cA,{depositGroups:rr,selectedDepositGroupId:Jt,deposits:He,depositEditing:Rn,startEditDeposit:ia,applyDepositName:fc,handleDepositNameKeyDown:Wa,replayDepositGroup:xa,replayDeposit:Gc,depositGroupReplay:pi,replayState:_r,getDepositReplayStatus:Go,getDepositReplayReason:Ol}),Fl=(g,x)=>{ht(K=>K.map($=>$.id===g?{...$,sections:($.sections||[]).filter(E=>E.id!==x)}:$)),Vr(K=>{const $={...K};return $[g]&&($[g]={...$[g]||{}},delete $[g][x]),$}),Ho(g,`${x}||action`),Ho(g,`${x}||exec`),Ho(g,`${x}||summary`),Ho(g,`${x}||location`),Ho(g,`${x}||req_input`),Ho(g,`${x}||req_exec`),Ho(g,`${x}||req_summary`),Ho(g,`${x}||req_location`),A(" section")},Bl=async(g,x)=>{var K;try{const $=Ze((x==null?void 0:x.content)||"")||{},E=(((K=$==null?void 0:$.docSelector)==null?void 0:K.description)||"").toString(),ce=window.prompt("202410 .txt ",E);if(ce===null)return;const ue=ce.toString().trim();if(!ue){A("");return}const D=await zt("/api/replay/file-selector",{method:"POST",body:{description:ue,exampleName:(($==null?void 0:$.docName)||"").toString()}}),Pe=D==null?void 0:D.selector;if(!Pe||typeof Pe!="object"){A("");return}const De={...$||{},type:"add_doc",source:"upload",docSelector:Pe},Le=Pe.kind==="regex"?`regex=${(Pe.pattern||"").toString()}`:`keywords=${Array.isArray(Pe.keywords)?Pe.keywords.join("??"):""}${Pe.extension?` ext=${Pe.extension}`:""}`,Me=`${Pe.mode==="multi"?"":""}`,Oe=[`${ue}`,`${Le}`].join(`
`),Xe=qe([Me,Oe].join(`
`),De),Pt=(He||[]).find(dt=>dt.id===g);if(!Pt){A("");return}const mt=(Pt.sections||[]).map(dt=>dt.id!==x.id?dt:{...dt,content:Xe,llmScript:{...dt.llmScript||{},docSelector:Pe,flexKeywords:ue}}),tt={...Pt,sections:mt,updatedAt:Date.now()};ht(dt=>dt.map(Vt=>Vt.id===g?tt:Vt));try{const dt=await zt(`/api/multi/precipitation/records/${g}`,{method:"PUT",body:tt});console.log("[] :",dt),A((D==null?void 0:D.usedModel)===!1?"":"")}catch(dt){console.error("[] :",dt),A("")}}catch($){console.error($),A(($==null?void 0:$.message)||"")}},si=(g,x)=>{const K=`${g}_${x}`;ss($=>({...$,[K]:!$[K]}))},dc=async(g,x,K)=>{const $=He.find(ue=>ue.id===g);if(!$){A("");return}const E=($.sections||[]).map(ue=>ue.id!==x?ue:{...ue,sectionReplayMode:K}),ce={...$,sections:E,updatedAt:Date.now()};ht(ue=>ue.map(D=>D.id===g?ce:D));try{await zt(`/api/multi/precipitation/records/${g}`,{method:"PUT",body:ce}),A(`${K==="llm"?" ":" "} Replay`)}catch(ue){console.error(" section replay ",ue),A("")}},pl=async(g,x)=>{var ce;const K=He.find(ue=>ue.id===g);if(!K){A("");return}const $=(ce=K.sections)==null?void 0:ce.find(ue=>ue.id===x);if(!$){A("");return}ms(g,x,"running","");const E=yc();try{const ue=$.sectionReplayMode||K.precipitationMode||"llm",D={...K,precipitationMode:ue},Pe=await ql(D,$);ms(g,x,Pe.status,Pe.message||"",Pe.replayMode||"script"),A(` Replay ${Pe.status==="done"?"":""}`)}catch(ue){await Hs(E),ms(g,x,"fail",(ue==null?void 0:ue.message)||"Replay ",null),A(` Replay : ${(ue==null?void 0:ue.message)||""}`)}},Wa=(g,x)=>{g.key==="Enter"&&(g.preventDefault(),fc(x))},hc=async()=>{var x,K;const g=Object.keys($t||{}).filter($=>$t[$]);if(!g.length){A(" Replay ");return}if(!$r){ei(!0);try{if(console.log("[Replay] ..."),!e||!e.sections||e.sections.length===0){console.log("[Replay] ..."),A("...");try{const $=await zt("/api/template");((K=(x=$==null?void 0:$.template)==null?void 0:x.sections)==null?void 0:K.length)>0?(t($.template),console.log("[Replay] ",$.template.sections.length,""),await new Promise(E=>setTimeout(E,200))):console.warn("[Replay] ")}catch($){console.error("[Replay] :",$),A("Replay ")}}else console.log("[Replay] ",e.sections.length,"");for(let $=0;$<g.length;$++){const E=g[$],ce=He.find(D=>D.id===E),ue=(ce==null?void 0:ce.name)||E;console.log(`[Replay]  ${$+1}/${g.length}: ${ue}`),A(` ${$+1}/${g.length}: ${ue}`),await Kc(E),console.log(`[Replay]  ${$+1}/${g.length}: ${ue}`)}A(" Replay ")}finally{ei(!1)}}},pc=async g=>{const x=g instanceof HTMLFormElement?g:Vs.current;if(x)try{const K=new FormData(x),$=(K.get("name")||"").toString().trim()||"",E=(K.get("content")||"").toString();if(!E.trim()){A("");return}if(typeof E!="string"){A("content ");return}const ce=await zt("/api/docs",{method:"POST",body:{name:$,content:E}}),ue=ce==null?void 0:ce.doc;if(a(D=>eh(D,[ue])),f(ue.id),Mn("",{type:"add_doc",docName:(ue==null?void 0:ue.name)||$,source:"manual",overwritten:!!(ce!=null&&ce.overwritten),inputs:[{kind:"manual_text",length:(E||"").toString().length}],process:ce!=null&&ce.overwritten?"":"",outputs:{summary:""+((ue==null?void 0:ue.name)||$)+(ce!=null&&ce.overwritten?"":"")},destinations:[{kind:"docs_list"}]}),s){const D=Array.from(new Set([ue.id,...s.docIds||[]])),{scene:Pe}=await zt(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:D}});u(Pe)}x.reset(),A("")}catch(K){console.error(K),A(K.message||"")}};async function mc(g){await pc(g.target)}function Ha(g){if(!g)return"";if(typeof g!="string")return String(g);const x=g.trim();if(x.startsWith("{")||x.startsWith("["))try{const K=JSON.parse(x);if(typeof K=="string")return K;if(K.detail&&typeof K.detail=="string")return K.detail;if(K.content&&typeof K.content=="string")return K.content;if(K.summary&&typeof K.summary=="string")return K.summary;const $=Object.values(K).find(E=>typeof E=="string");if($)return $}catch{return x}return x}async function Ga(g){const x=g==null?void 0:g.target,K=Array.from((x==null?void 0:x.files)||[]);if(!K.length)return;const $=[],E=[];try{for(const ue of K)try{const D=(ue==null?void 0:ue.name)||"",Pe=Zk(D),De=Pe?await Pv(ue):await Jk(ue),Le=typeof De=="string"?De:String(De??""),Me=await zt("/api/docs",{method:"POST",body:{name:D,content:Le}}),Oe=Me==null?void 0:Me.doc;$.push(Oe),Mn("",{type:"add_doc",docName:(Oe==null?void 0:Oe.name)||D,source:"upload",overwritten:!!(Me!=null&&Me.overwritten),inputs:[{kind:"upload_file",docName:(Oe==null?void 0:Oe.name)||D,length:Le.length,format:Pe?"docx":"text"}],process:(Pe?" Word(.docx) ":"")+(Me!=null&&Me.overwritten?"":""),outputs:{summary:""+((Oe==null?void 0:Oe.name)||D)+(Me!=null&&Me.overwritten?"":"")},destinations:[{kind:"docs_list"}]})}catch(D){console.error(D),E.push({name:(ue==null?void 0:ue.name)||"(unknown)",error:(D==null?void 0:D.message)||""})}const ce=Lw($);if(ce.length&&(a(ue=>eh(ue,ce)),f(ce[0].id),s)){const ue=ce.map(De=>De.id),D=Array.from(new Set([...ue,...s.docIds||[]])),{scene:Pe}=await zt(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:D}});u(Pe)}if(ce.length&&E.length)A(` ${ce.length}  ${E.length} `);else if(ce.length)A(` ${ce.length} `);else{const ue=E[0];A(ue!=null&&ue.error?`${ue.error}`:"")}}catch(ce){console.error(ce),A((ce==null?void 0:ce.message)||"")}finally{qi.current&&(qi.current.value="")}}async function Hc(g){var Le;console.log("[autoTemplate] Called with buttonConfig:",g);let x=s;if(!x)try{x=(await zt("/api/scene",{method:"POST",body:{docIds:l?[l]:[]}})).scene,u(x),A("")}catch(Me){console.error("[autoTemplate] Scene creation failed:",Me),A("");return}let K=g;if(K&&!K.io){const Me=au(),Oe=Me.find(Xe=>Xe.kind===K.kind)||Me[0];K={...Oe,...K,io:Oe.io}}K||(K=au()[0]);const $=K;console.log("[autoTemplate] Using resolved config:",$);const E=o.find(Me=>Me.id===l);if(!E)return console.warn("[autoTemplate] No document selected"),A("");const ue=af($==null?void 0:$.io,{dataSource:$==null?void 0:$.dataSource,outputTarget:$==null?void 0:$.outputTarget}).filter(Me=>Me.enabled);if(!ue.some(Me=>Me.output==="titles")){A("");return}const D=Array.from(new Set(ue.map(Me=>Me.dataSource))),Pe=D.map(Me=>Me==="selected_doc"?`
${E.content||""}`.trim():`
${M||""}`.trim()),De=`${E.name||""}

${Pe.join(`

---

`)}`.trim();if(!De.trim())return A("");console.log("[autoTemplate] Sending to API, text length:",De.length),h(!0);try{const Me=await zt("/api/template/auto",{method:"POST",body:{text:De,prompt:$.prompt||""}});console.log("[autoTemplate] API response:",Me);const Oe=ue.some(tt=>tt.output==="summaries"&&tt.target==="summary"),Xe=ue.some(tt=>tt.output==="summaries"&&tt.target==="title"),ct=ue.some(tt=>tt.output==="titles"&&tt.target==="summary"),Pt={...Me.template,sections:(((Le=Me.template)==null?void 0:Le.sections)||[]).map(tt=>{const dt=((tt==null?void 0:tt.title)||"").toString(),Vt=((tt==null?void 0:tt.summary)||"").toString().trim(),dn=Xe&&Vt?`${dt} - ${Vt}`:dt,ut=[];ct&&dt&&ut.push(dt),Oe&&Vt&&ut.push(Vt);const cn=ut.join(`
`).trim();return{...tt,title:dn,summary:cn}})},mt=await zt(`/api/scene/${x.id}/apply-template`,{method:"POST",body:{template:Pt}});t(mt.template),u(mt.scene),I(!0),Mn("",{type:"outline_extract",actionDescription:`${E.name}`,buttonId:$.id,buttonLabel:$.label,prompt:$.prompt,io:ue,selectedDocName:E.name,selectedDocId:E.id,inputContentExcerpt:(E.content||"").toString().substring(0,500),inputContentLength:(E.content||"").toString().length,inputs:D.map(tt=>tt==="selected_doc"?{kind:"doc_resource",docName:E.name,docId:E.id,length:(E.content||"").toString().length,contentExcerpt:(E.content||"").toString().substring(0,300)}:{kind:"doc_preview",docName:E.name,length:(M||"").toString().length,contentExcerpt:(M||"").toString().substring(0,300)}),process:" 1-3 /",outputs:{summary:" "+mt.template.sections.length+((Me==null?void 0:Me.usedModel)===!1?Me!=null&&Me.blocked?"":"":""),sectionsCount:mt.template.sections.length,usedModel:(Me==null?void 0:Me.usedModel)!==!1,generatedSections:(mt.template.sections||[]).map(tt=>({id:tt.id,level:tt.level,levelText:tt.level===1?"":tt.level===2?"":tt.level===3?"":`${tt.level}`,title:tt.title||"",summary:tt.summary||"",hint:tt.hint||""})),sectionsSample:(mt.template.sections||[]).slice(0,8).map(tt=>({id:tt.id,level:tt.level,title:wt(tt.title||"",80),summaryExcerpt:wt(tt.summary||tt.hint||"",120)}))},destinations:[{kind:"outline_apply",count:mt.template.sections.length}],outputTarget:"",aiGuidance:"1-3Replay ",specialRequirements:""}),A((Me==null?void 0:Me.usedModel)===!1?Me!=null&&Me.blocked?"":" QWEN_API_KEY":"")}catch(Me){A(Me.message)}finally{h(!1)}}const du=async()=>{var K;if(!(s!=null&&s.id)){A("scene ");return}if(!window.confirm(""))return;const x=((e==null?void 0:e.sections)||[]).length;h(!0);try{const $={id:"template_empty",name:"",sections:[]};try{await zt(`/api/scene/${s.id}`,{method:"PATCH",body:{sectionDocLinks:{}}})}catch{}const E=await zt(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:$}});E!=null&&E.scene&&u(E.scene),E!=null&&E.template&&t(E.template),ne(((K=E==null?void 0:E.scene)==null?void 0:K.sectionDocLinks)||{}),ae({}),de({}),pe({}),H({}),C({}),Mn("",{type:"outline_clear",inputs:[{kind:"outline_selected",count:x,sectionIds:((e==null?void 0:e.sections)||[]).map(ce=>ce.id)}],process:"",outputs:{summary:` ${x} `,clearedCount:x},destinations:[{kind:"outline_apply",count:0}]}),A("")}catch($){console.error($),A(($==null?void 0:$.message)||"")}finally{h(!1)}},Af=async g=>{if(!(g!=null&&g.enabled)||!s||!e)return;const x=(e.sections||[]).filter(Xe=>fe[Xe.id]);if(!x.length){A("");return}const $=af(g==null?void 0:g.io,{dataSource:g==null?void 0:g.dataSource,outputTarget:g==null?void 0:g.outputTarget}).filter(Xe=>Xe.enabled),E=$.some(Xe=>Xe.output==="summaries"&&Xe.target==="summary"),ce=$.some(Xe=>Xe.output==="summaries"&&Xe.target==="title");if(!E&&!ce){A("/");return}const ue=o.find(Xe=>Xe.id===l)||null;if(!ue){A("");return}const D=ue!=null&&ue.id&&ue.id===l&&(M||"").toString().trim()?M:(ue.content||"").toString(),Pe=Array.from(new Set($.map(Xe=>Xe.dataSource))),De=Pe.map(Xe=>Xe==="selected_doc"?`
${ue.content||""}`.trim():`
${D}`.trim()),Le=`${ue.name||""}

${De.join(`

---

`)}`.trim();if(!Le.trim()){A("");return}const Me=(((g==null?void 0:g.label)||"").toString().trim()||"").toString(),Oe=x.map((Xe,ct)=>({sectionId:Xe.id,field:"summary",label:(Xe.title||`${ct+1}`).toString(),content:(Xe.summary||Xe.hint||"").toString()}));h(!0);try{const Xe=await zt("/api/dispatch",{method:"POST",body:{sceneId:s.id,instructions:Me,docContent:Le,outlineSegments:Oe,systemPrompt:g==null?void 0:g.prompt}});if((Xe==null?void 0:Xe.usedModel)===!1)throw new Error("QWEN_API_KEY `server.js` ");const ct=Ha(Xe.summary||"")||"",Pt=Ha(Xe.detail||"")||"";if(Pt.trim()){const mt=x.map(tt=>tt.id);t(tt=>{if(!tt)return tt;const dt=tt.sections.map(dn=>mt.includes(dn.id)?{...dn,title:ce?Pt:dn.title,summary:E?Pt:dn.summary}:dn),Vt={...tt,sections:dt};return s!=null&&s.customTemplate&&u({...s,customTemplate:Vt}),Vt})}Mn("",{type:"outline_action",buttonId:g==null?void 0:g.id,buttonLabel:g==null?void 0:g.label,prompt:g==null?void 0:g.prompt,selectedSectionIds:x.map(mt=>mt.id),inputs:[{kind:"outline_selected",sectionIds:x.map(mt=>mt.id)},...Pe.map(mt=>({kind:mt==="selected_doc"?"selected_doc":"preview",length:Le.length}))],process:"",outputs:{summary:ct,detailLength:Pt.length},destinations:[{kind:"outline_section_summary_batch",sectionIds:x.map(mt=>mt.id),count:x.length}]}),A(ct)}catch(Xe){console.error(Xe),A((Xe==null?void 0:Xe.message)||"")}finally{h(!1)}};async function Ml(){var De,Le;if(!s)return;const g=ti.find(Me=>Me.kind==="dispatch");if(g&&!g.enabled){A("");return}const x=((De=Yi.current)==null?void 0:De.value)||"";if(!x.trim()){A("");return}Yi.current&&(Yi.current.value="");let $=((Le=o.find(Me=>Me.id===l))==null?void 0:Le.content)||"",E=[];const ce=[];let ue=be==="result"?"result":"doc",D=[],Pe=null;if(be==="batch_outline"){const Me=((e==null?void 0:e.sections)||[]).filter(Xe=>fe[Xe.id]);if(!Me.length){A("");return}D=Me.map(Xe=>Xe.id),ce.push({kind:"outline_selected",sectionIds:D}),ue="outline_selected_batch",E=Me.map((Xe,ct)=>({sectionId:Xe.id,field:"summary",content:`${Xe.title}
${Xe.summary||Xe.hint||""}`,label:`${ct+1}`})),$=E.map(Xe=>`${Xe.label} | ID=${Xe.sectionId}
${Xe.content}`).join(`

`)}else if(w){const Me=Object.keys(ee||{}).filter(Oe=>ee[Oe]);if(Me.length>0){const Oe=Me.map(ct=>{const[Pt,mt]=ct.split("_"),tt=parseInt(mt,10),dt=((e==null?void 0:e.sections)||[]).find(Vt=>Vt.id===Pt);return{sectionId:Pt,sumIdx:tt,section:dt,key:ct}}).filter(ct=>ct.section);if(!Oe.length){A("");return}ue="outline_summaries_multi",D=[...new Set(Oe.map(ct=>ct.sectionId))],E=Oe.map((ct,Pt)=>{const mt=ct.section;let tt="";return Array.isArray(mt.summaries)&&mt.summaries[ct.sumIdx]?tt=mt.summaries[ct.sumIdx].content||"":ct.sumIdx===0&&(tt=mt.summary||mt.hint||""),{sectionId:ct.sectionId,summaryIndex:ct.sumIdx,summaryKey:ct.key,field:"summary",content:tt,label:`${Pt+1}${mt.title||""}[${ct.sumIdx}]`}}),ce.push({kind:"outline_summaries_selected",summaryKeys:Me,sectionIds:D}),$=E.map(ct=>`${ct.label} | ID=${ct.sectionId}_${ct.summaryIndex}
${ct.content}`).join(`

`)}else{const Oe=((e==null?void 0:e.sections)||[]).filter(mt=>fe[mt.id]);if(!Oe.length){A("");return}if(D=Oe.map(mt=>mt.id),ce.push({kind:"outline_selected",sectionIds:D}),!(Oe.length>0)){A("");return}let ct=[],Pt=[];if(Oe.forEach(mt=>{const tt=Z[mt.id]||[],dt=se[mt.id]||{},Vt=tt.filter(dn=>!dt[dn]);Vt.length?ct.push({sec:mt,unprocessed:Vt}):Pt.push(mt)}),ct.length&&Pt.length){A("");return}if(ct.length){ue="outline_unprocessed_docs";const tt=ct.flatMap(dt=>dt.unprocessed).map(dt=>o.find(Vt=>Vt.id===dt)).filter(Boolean);if(!tt.length){A("");return}tt.forEach(dt=>ce.push({kind:"doc_resource",docName:dt.name,length:(dt.content||"").toString().length})),$=tt.map((dt,Vt)=>`${Vt+1}${dt.name}
${dt.content}`).join(`

---

`),E=ct.map((dt,Vt)=>({sectionId:dt.sec.id,field:"summary",content:dt.sec.summary||dt.sec.hint||dt.sec.title||"",label:`${Vt+1}`}))}else ue="outline_summaries",E=Oe.map((tt,dt)=>({sectionId:tt.id,field:"summary",content:tt.summary||tt.hint||tt.title||"",label:`${dt+1}`})),$=E.map(tt=>`${tt.label} | ID=${tt.sectionId}
${tt.content}`).join(`

`)}}else if(be==="result"){ue="result";const Me=Object.entries(ke).filter(([,Xe])=>typeof Xe=="string"&&Xe.trim());if(!Me.length){A("");return}Pe=Me.map(([Xe,ct])=>({key:Xe,length:(ct||"").toString().trim().length,text:wt((ct||"").toString().trim(),2200)})),ce.push(`${Me.length}`),$=Me.map(([Xe,ct],Pt)=>{const mt=Xe.includes("detail")?"":"/";return`${Pt+1}${mt}
${ct.trim()}`}).join(`

`)}else{if(ue="doc",!$.trim()){A("");return}const Me=o.find(Oe=>Oe.id===l);Me&&ce.push({kind:"doc_resource",docName:Me.name,length:(Me.content||"").toString().length})}ie(Me=>[...Me,{role:"user",text:x}]),b(!0);try{const Me=await zt("/api/dispatch",{method:"POST",body:{sceneId:s.id,instructions:x,docContent:$,outlineSegments:E,systemPrompt:g==null?void 0:g.prompt}}),Oe=(Me==null?void 0:Me.usedModel)!==!1,Xe=Ha(Me.summary||"")||(Oe?"":""),ct=Ha(Me.detail||"");ie(Ke=>[...Ke,{role:"system",text:Xe,detail:ct}]),P(ct||Xe),Fe({}),A(Xe||""),Yi.current&&(Yi.current.value="");let Pt=0;const mt=(Ke,We)=>{if(!Ke)return null;const Tt=String(Ke).trim(),Zt=Tt.match(/ID\s*=\s*(.+)/i);if(Zt)return Zt[1].trim();const bt=Tt.match(/\d+\s*[:]\s*(.+)/);if(bt)return bt[1].trim();const Ut=Tt.match(/\|\s*ID\s*=\s*(.+)/i);if(Ut)return Ut[1].trim();const An=Tt.match(/(\d+)/);if(An){const sr=parseInt(An[1],10)-1;if(sr>=0&&sr<We.length)return We[sr]}if(/^\d+$/.test(Tt)){const sr=parseInt(Tt,10)-1;if(sr>=0&&sr<We.length)return We[sr]}const $n=Tt.match(/(\d+)/);if($n){const sr=parseInt($n[1],10)-1;if(sr>=0&&sr<We.length)return We[sr]}return Tt},tt=ue==="outline_summaries_multi",dt=E.map(Ke=>tt?Ke.summaryKey:Ke.sectionId);Array.isArray(Me.edits)&&Me.edits.length&&(Pt=Me.edits.length,t(Ke=>{if(!Ke)return Ke;if(tt){const Zt=Ke.sections.map(Ut=>{const An=Me.edits.filter($n=>{const sr=mt($n.sectionId,dt);return sr&&sr.startsWith(Ut.id+"_")});if(!An.length)return Ut;if(Array.isArray(Ut.summaries)&&Ut.summaries.length>0){const $n=Ut.summaries.map((Gi,uo)=>{const so=An.find(go=>mt(go.sectionId,dt)===`${Ut.id}_${uo}`);return so&&so.field==="summary"&&so.content?{...Gi,content:so.content}:Gi}),sr=$n.map(Gi=>Gi.content||"").filter(Boolean).join(`

`);return{...Ut,summaries:$n,summary:sr}}else{const $n=An.find(sr=>mt(sr.sectionId,dt)===`${Ut.id}_0`);return $n&&$n.field==="summary"&&$n.content?{...Ut,summary:$n.content}:Ut}}),bt={...Ke,sections:Zt};return s!=null&&s.customTemplate&&u({...s,customTemplate:bt}),bt}const We=Ke.sections.map(Zt=>{const bt=Me.edits.find(Ut=>mt(Ut.sectionId,dt)===Zt.id||Ut.sectionId===Zt.id);return bt?{...Zt,title:bt.field==="title"&&bt.content?bt.content:Zt.title,summary:bt.field==="summary"&&bt.content?bt.content:Zt.summary}:Zt}),Tt={...Ke,sections:We};return s!=null&&s.customTemplate&&u({...s,customTemplate:Tt}),Tt}));const Vt=new Set;Array.isArray(Me.edits)&&Me.edits.forEach(Ke=>{const We=mt(Ke.sectionId,dt);We&&Vt.add(We),Ke.sectionId&&Vt.add(Ke.sectionId)});let dn=0;if(w&&ct){const We=Object.keys(fe).filter(Tt=>fe[Tt]).filter(Tt=>!Vt.has(Tt));We.length&&(dn=We.length,t(Tt=>{if(!Tt)return Tt;const Zt=Tt.sections.map(Ut=>We.includes(Ut.id)?{...Ut,summary:ct}:Ut),bt={...Tt,sections:Zt};return s!=null&&s.customTemplate&&u({...s,customTemplate:bt}),bt}))}const ut=[{kind:"dispatch_result"}];w&&dn&&ut.push({kind:"dispatch_apply",count:dn}),Pt&&ut.push(`/ edits ${Pt}`);const cn=(()=>{var Tt;const Ke=[],We=Zt=>{const bt=((e==null?void 0:e.sections)||[]).find(An=>An.id===Zt);return bt?`${bt.level===1?"":bt.level===2?"":bt.level===3?"":`${bt.level}`}${bt.title}`:Zt};if(ue==="doc"){const Zt=(Tt=o.find(bt=>bt.id===l))==null?void 0:Tt.name;Ke.push(`${Zt||""}`)}else if(ue==="result")Ke.push("");else if(ue==="outline_selected_batch"){const Zt=D.map(We);Ke.push(`${Zt.join("")}`)}else if(ue==="outline_summaries"){const Zt=D.map(We);Ke.push(`${Zt.join("")}`)}else if(ue==="outline_unprocessed_docs"){const Zt=D.map(We);Ke.push(`${Zt.join("")}`)}else if(ue==="batch_outline"){const Zt=D.map(We);Ke.push(`${Zt.join("")}`)}return Ke.join("")||""})(),Ir=(()=>{const Ke=[];if(w&&dn){const We=D.map(Tt=>{const Zt=((e==null?void 0:e.sections)||[]).find(Ut=>Ut.id===Tt);return Zt?`${Zt.level===1?"":Zt.level===2?"":Zt.level===3?"":`${Zt.level}`}${Zt.title}`:Tt});Ke.push(`${We.join("")}`)}if(Pt&&Array.isArray(Me.edits)){const We=Me.edits.map(Tt=>{const Zt=E.find(Ut=>Ut.sectionId===Tt.sectionId),bt=((e==null?void 0:e.sections)||[]).find(Ut=>Ut.id===Tt.sectionId);return bt?`${bt.level===1?"":bt.level===2?"":bt.level===3?"":`${bt.level}`}${bt.title}${Tt.field==="title"?"":""}`:`${Tt.sectionId}${Tt.field||"summary"}`});Ke.push(`${We.join("")}`)}return Ke.push(""),Ke.join("")})(),Ur=ue==="result"&&Array.isArray(Pe)&&Pe.length?Pe.map((Ke,We)=>`${We+1}${(Ke==null?void 0:Ke.key)||""}
${(Ke==null?void 0:Ke.text)||""}`).join(`

`):E&&E.length>0?E.map((Ke,We)=>`${Ke.label||`${We+1}`}
${Ke.content||""}`).join(`

`):"",hi=D.map(Ke=>{const We=((e==null?void 0:e.sections)||[]).find(Zt=>Zt.id===Ke);if(!We)return{id:Ke,found:!1};const Tt=We.level===1?"":We.level===2?"":We.level===3?"":`${We.level}`;return{id:We.id,level:We.level,levelText:Tt,title:We.title,originalSummary:We.summary||"",originalHint:We.hint||"",found:!0}}),Ct=ue==="outline_summaries_multi",Wn=Ct?E.map(Ke=>{const We=((e==null?void 0:e.sections)||[]).find(Ut=>Ut.id===Ke.sectionId),Tt=Ke.content||"",Zt=Tt.slice(0,50).trim(),bt=Tt.slice(-50).trim();return{sectionId:Ke.sectionId,summaryIndex:Ke.summaryIndex,summaryKey:Ke.summaryKey,sectionTitle:(We==null?void 0:We.title)||"",sectionLevel:(We==null?void 0:We.level)||1,originalContent:Tt,originalContentExcerpt:Tt.length>200?Tt.substring(0,200)+"...":Tt,originalContentLength:Tt.length,contentFeatures:{startsWith:Zt,endsWith:bt,charCount:Tt.length,lineCount:Tt.split(`
`).length,hasNumbers:/\d/.test(Tt),hasDates:/\d{4}|\d{1,2}|\d{1,2}/.test(Tt),isEmpty:!Tt.trim()}}}):[];if(Mn("",{type:Ct?"dispatch_multi_summary":"dispatch",actionDescription:Ct?` ${E.length} ${x}`:`${x}`,promptContent:x,instructions:x,inputKind:ue,inputSourceType:ue,inputSourceDesc:cn,inputContent:Ur,inputContentExcerpt:Ur.length>500?Ur.substring(0,500)+"...":Ur,selectedSectionTitles:D.map(Ke=>{const We=((e==null?void 0:e.sections)||[]).find(Tt=>Tt.id===Ke);return(We==null?void 0:We.title)||Ke}),selectedSectionIds:D,inputs:ce,isMultiSummaryMode:Ct,targetSummaries:Wn,targetSectionsDetail:hi,outlineSegmentsMeta:(E||[]).map(Ke=>({sectionTitle:Ke.label||Ke.title||"",sectionId:Ke.sectionId,summaryIndex:Ke.summaryIndex,summaryKey:Ke.summaryKey,field:Ke.field,originalContent:Ke.content||""})),outputTargetDesc:Ir,process:`${x}`,outputs:{summary:Xe,usedModel:Oe,outputContent:ct||Xe,outputContentExcerpt:ct?ct.substring(0,500):Xe,detailExcerpt:ct,edits:Array.isArray(Me.edits)?Me.edits.map(Ke=>({sectionId:Ke.sectionId,field:Ke.field||"summary",newValue:Ke.newValue,newValueExcerpt:(Ke.newValue||"").substring(0,200)})):[],editsCount:Array.isArray(Me.edits)?Me.edits.length:0,status:"done"},destinations:ut,aiGuidance:Ct?`${x} ${Wn.length} ${Wn.map(Ke=>`${Ke.sectionLevel}${Ke.sectionTitle}[${Ke.summaryIndex}]`).join("")}Replay `:`${x}Replay `,specialRequirements:Ct?` ${Wn.length} `:""}),w){const Ke=Object.keys(fe).filter(We=>fe[We]);pe(We=>{const Tt={...We};return Ke.forEach(Zt=>{(Z[Zt]||[]).forEach(Ut=>{Tt[Zt]||(Tt[Zt]={}),Tt[Zt][Ut]=!0})}),Tt})}}catch(Me){A(Me.message),ie(Oe=>[...Oe,{role:"system",text:`${Me.message}`}])}finally{b(!1)}}async function gc(g){var x;try{await zt(`/api/docs/${g}`,{method:"DELETE"});const K=o.filter($=>$.id!==g);if(a(K),ne($=>{const E={...$};return Object.keys(E).forEach(ce=>{E[ce]=(E[ce]||[]).filter(ue=>ue!==g),E[ce].length||delete E[ce]}),E}),s){const $=(s.docIds||[]).filter(ce=>ce!==g),E={...s,docIds:$};u(E)}l===g&&f(((x=K[0])==null?void 0:x.id)||null),A("")}catch(K){console.error(K),A(K.message||"")}}const zl=async()=>{if(o.length&&confirm(""))try{for(const g of o)await zt(`/api/docs/${g.id}`,{method:"DELETE"});a([]),f(null),ne({}),ae({}),pe({}),s&&u({...s,docIds:[]}),A("")}catch(g){console.error(g),A(g.message||"")}};Qe.useEffect(()=>{if(!yr.length){Gn("");return}Gn(g=>g&&yr.some(x=>x.id===g)?g:yr[0].id)},[yr]),o.find(g=>g.id===l);const ml={1:"",2:"",3:"",4:"",5:""};Object.keys(oe).length;const gl=(g,x,K,$=null)=>{const E=$!==null?`${g}||${x}||${$}`:`${g}||${x}`;C(ce=>({...ce,[E]:K??""}))},hu=g=>{var D;const x=ye[g]||l;if(!x){A("");return}const K=Z[g]||[];if(K.includes(x))return;const $={...Z,[g]:[...K,x]};ne($),Ka($);const E=((e==null?void 0:e.sections)||[]).find(Pe=>Pe.id===g),ce=((D=o.find(Pe=>Pe.id===x))==null?void 0:D.name)||x,ue=E?E.level===1?"":E.level===2?"":E.level===3?"":`${E.level}`:"";Mn("",{type:"outline_link_doc",sectionId:g,docId:x,docName:ce,targetSectionTitle:(E==null?void 0:E.title)||"",targetSection:E?{id:E.id,level:E.level,levelText:ue,title:E.title||"",summary:(E.summary||E.hint||"").substring(0,100)}:null,inputs:[{kind:"doc_link_pick",sectionId:g,docName:ce,contextSummary:`${ce}${ue}${(E==null?void 0:E.title)||g}`}],actionDescription:`${ce}${ue}${(E==null?void 0:E.title)||""}`,process:"/",outputs:{summary:`${ce}`,targetSectionTitle:(E==null?void 0:E.title)||"",targetSectionLevel:(E==null?void 0:E.level)||1},destinations:[{kind:"outline_section_docs",sectionId:g,sectionTitle:(E==null?void 0:E.title)||""}],aiGuidance:`${ue}${(E==null?void 0:E.title)||""}${ce}`},[E?`${E.title||""}${Number(E.level)||1}`:`${g}`])},pu=(g,x)=>{var Me;const K=x||ye[g]||l,$=o.find(Oe=>Oe.id===K),E=K&&K===l?M||($==null?void 0:$.content)||"":($==null?void 0:$.content)||"";t(Oe=>{if(!Oe)return Oe;const Xe=Oe.sections.map(Pt=>{if(Pt.id!==g)return Pt;const mt=Array.isArray(Pt.summaries)?[...Pt.summaries]:[];if(mt.length>0){const tt=`${Pt.id}_sum_copy_${Date.now()}`;mt.push({id:tt,content:E});const dt=mt.map(Vt=>Vt.content).filter(Boolean).join(`

`);return{...Pt,summaries:mt,summary:dt}}else return{...Pt,summary:E}}),ct={...Oe,sections:Xe};return s!=null&&s.customTemplate&&u({...s,customTemplate:ct}),ct});const ce=((e==null?void 0:e.sections)||[]).find(Oe=>Oe.id===g),ue=($==null?void 0:$.name)||K||"",D=ce?ce.level===1?"":ce.level===2?"":ce.level===3?"":`${ce.level}`:"",Pe=(E||"").toString(),De=Pe.substring(0,100),Le=Pe.length>100?Pe.substring(Pe.length-100):"";Mn("",{type:"copy_full_to_summary",sectionId:g,docId:K,docName:ue,targetSectionTitle:(ce==null?void 0:ce.title)||"",targetSection:ce?{id:ce.id,level:ce.level,levelText:D,title:ce.title||"",originalSummary:(ce.summary||ce.hint||"").substring(0,100)}:null,inputs:[{kind:K&&K===l?"doc_preview":"doc_resource",docName:ue,contextSummary:`${ue}`,textLength:Pe.length,textExcerptStart:De,textExcerptEnd:Le,contentFeatures:{totalLength:Pe.length,lineCount:Pe.split(`
`).length,hasTitle:Pe.includes("")||Pe.includes("")||Pe.includes("1."),firstLine:((Me=Pe.split(`
`)[0])==null?void 0:Me.substring(0,50))||""}}],actionDescription:`${ue}${D}${(ce==null?void 0:ce.title)||""}`,process:"",outputs:{summary:`${Pe.length}`,targetSectionTitle:(ce==null?void 0:ce.title)||"",newSummaryLength:Pe.length},destinations:[{kind:"outline_section_summary",sectionId:g,sectionTitle:(ce==null?void 0:ce.title)||""}],aiGuidance:`${D}${(ce==null?void 0:ce.title)||""}${ue}Replay `},[ce?`${ce.title||""}${Number(ce.level)||1}`:`${g}`]),A(E.toString().trim().length?"":"")},Uu=(g,x)=>{var D;const $=(Z[g]||[]).filter(Pe=>Pe!==x),E={...Z,[g]:$};$.length||delete E[g],ne(E),Ka(E),pe(Pe=>{const De={...Pe};return De[g]&&(delete De[g][x],Object.keys(De[g]).length||delete De[g]),De});const ce=((e==null?void 0:e.sections)||[]).find(Pe=>Pe.id===g),ue=((D=o.find(Pe=>Pe.id===x))==null?void 0:D.name)||x;Mn("",{type:"outline_unlink_doc",sectionId:g,docId:x,docName:ue,inputs:[{kind:"doc_link_pick",sectionId:g,docName:ue}],process:"",outputs:{summary:`${ue}`},destinations:[{kind:"outline_section_docs",sectionId:g}]},[ce?`${ce.title||""}${Number(ce.level)||1}`:`${g}`])},Ka=async g=>{if(!s)return null;try{const{scene:x}=await zt(`/api/scene/${s.id}`,{method:"PATCH",body:{sectionDocLinks:g}});return u(x),ne((x==null?void 0:x.sectionDocLinks)||{}),x}catch(x){console.error(x),A(x.message||"")}return null},qu=async()=>{if(l)try{const{doc:g}=await zt(`/api/docs/${l}`,{method:"PATCH",body:{content:M}});a(x=>x.map(K=>K.id===g.id?g:K)),A("")}catch(g){console.error(g),A(g.message||"")}},mu=(g,x,K=null)=>{const $=K!==null?`${g}||${x}||${K}`:`${g}||${x}`;C(E=>{const ce={...E};return delete ce[$],ce})},gu=(g,x,K,$=null)=>{const E=e==null?void 0:e.sections.find(ue=>ue.id===g);E!=null&&E.summary;const ce=(E==null?void 0:E.title)||"";if(t(ue=>{if(!ue)return ue;const D=ue.sections.map(De=>{if(De.id!==g)return De;if(x==="summary"&&$!==null){const Le=Array.isArray(De.summaries)?[...De.summaries]:De.summary||De.hint?[{id:`${De.id}_sum_0`,content:De.summary||De.hint||""}]:[];$>=0&&$<Le.length&&(Le[$]={...Le[$],content:K});const Me=Le.map(Oe=>Oe.content).filter(Boolean).join(`

`);return{...De,summaries:Le,summary:Me}}return{...De,[x]:K}}),Pe={...ue,sections:D};return u(De=>De&&(De.customTemplate||ue.id==="template_auto"||ue.id==="template_empty"?{...De,customTemplate:Pe}:De)),Pe}),mu(g,x,$),x==="summary"){const ue=((e==null?void 0:e.sections)||[]).find(D=>D.id===g);Mn("",{type:"edit_outline_summary",sectionTitle:(ue==null?void 0:ue.title)||"",sectionId:g,inputs:[{kind:"manual_edit",sourceType:"user_edit"}],process:"",outputs:{summary:"",status:"done"},destinations:[{kind:"outline_section_summary",sectionTitle:(ue==null?void 0:ue.title)||"",sectionId:g}]},[ue?`${ue.title||""}${Number(ue.level)||1}`:`${g}`])}else if(x==="title"){const ue=((e==null?void 0:e.sections)||[]).find(D=>D.id===g);Mn("",{type:"edit_outline_title",sectionTitle:ce||"",sectionId:g,inputs:[{kind:"manual_edit",sourceType:"user_edit"}],process:"",outputs:{summary:"",status:"done"},destinations:[{kind:"outline_section_title",sectionTitle:ce||"",sectionId:g}]},[ue?`${ce||""}`:`${g}`])}},Lo=(g,x=null)=>{const K=e==null?void 0:e.sections.find($=>$.id===g);K&&(t($=>{if(!$)return $;const E=$.sections.map(ue=>{if(ue.id!==g)return ue;const D=Array.isArray(ue.summaries)?[...ue.summaries]:ue.summary||ue.hint?[{id:`${ue.id}_sum_0`,content:ue.summary||ue.hint||""}]:[],De={id:`${ue.id}_sum_${Date.now()}`,content:""};return x!==null&&x>=0&&x<=D.length?D.splice(x,0,De):D.push(De),{...ue,summaries:D}}),ce={...$,sections:E};return u(ue=>ue&&(ue.customTemplate||$.id==="template_auto"||$.id==="template_empty"?{...ue,customTemplate:ce}:ue)),ce}),Mn("",{type:"add_summary_to_section",sectionId:g,sectionTitle:(K==null?void 0:K.title)||"",insertAtIndex:x,process:"",outputs:{summary:""}},[`${(K==null?void 0:K.title)||""}${Number(K==null?void 0:K.level)||1}`]))},hs=(g,x)=>{const K=e==null?void 0:e.sections.find($=>$.id===g);K&&(t($=>{if(!$)return $;const E=$.sections.map(ue=>{if(ue.id!==g)return ue;const D=Array.isArray(ue.summaries)?[...ue.summaries]:ue.summary||ue.hint?[{id:`${ue.id}_sum_0`,content:ue.summary||ue.hint||""}]:[];x>=0&&x<D.length&&D.splice(x,1);const Pe=D.map(De=>De.content).filter(Boolean).join(`

`);return{...ue,summaries:D,summary:Pe}}),ce={...$,sections:E};return u(ue=>ue&&(ue.customTemplate||$.id==="template_auto"||$.id==="template_empty"?{...ue,customTemplate:ce}:ue)),ce}),Mn("",{type:"remove_summary_from_section",sectionId:g,sectionTitle:(K==null?void 0:K.title)||"",summaryIndex:x,process:"",outputs:{summary:""}},[`${(K==null?void 0:K.title)||""}${Number(K==null?void 0:K.level)||1}`]))},Ko=(g,x)=>{const K=q[g];Se(K===x?$=>{const E={...$};return delete E[g],E}:$=>({...$,[g]:x}))},oa=(g,x="paragraph")=>{const K=e==null?void 0:e.sections.find(D=>D.id===g);if(!K)return;const $=Array.isArray(K.summaries)?[...K.summaries]:K.summary||K.hint?[{id:`${K.id}_sum_0`,content:K.summary||K.hint||""}]:[];if($.length<2)return;const E=x==="sentence"?"":`

`,ce=$.map(D=>(D.content||"").trim()).filter(Boolean).join(E),ue={id:`${g}_sum_merged_${Date.now()}`,content:ce};t(D=>{if(!D)return D;const Pe=D.sections.map(Le=>Le.id!==g?Le:{...Le,summaries:[ue],summary:ce}),De={...D,sections:Pe};return u(Le=>Le&&(Le.customTemplate||D.id==="template_auto"||D.id==="template_empty"?{...Le,customTemplate:De}:Le)),De}),Mn("",{type:"merge_summaries_in_section",sectionId:g,sectionTitle:(K==null?void 0:K.title)||"",mergeType:x,originalCount:$.length,process:` ${$.length} ${x==="sentence"?"":""}`,outputs:{summary:""}},[`${(K==null?void 0:K.title)||""}${Number(K==null?void 0:K.level)||1}`])},$l=g=>{const x=e==null?void 0:e.sections.find($=>$.id===g),K=(x==null?void 0:x.summary)||(x==null?void 0:x.hint)||"";t($=>{if(!$)return $;const E=$.sections.map(ue=>ue.id===g?{...ue,summary:"",hint:""}:ue),ce={...$,sections:E};return u(ue=>ue&&(ue.customTemplate||$.id==="template_auto"||$.id==="template_empty"?{...ue,customTemplate:ce}:ue)),ce}),H($=>({...$,[g]:!1})),mu(g,"summary"),Mn("",{type:"clear_outline_summary",sectionId:g,inputs:[{kind:"outline_selected",sectionIds:[g]}],process:"/",outputs:{summary:`${(K||"").toString().length}`,beforeExcerpt:wt(K||"",260)},destinations:[{kind:"outline_section_summary",sectionId:g}]},[x?`${x.title||""}${Number(x.level)||1}`:`${g}`]),A("")},Ro=(g,x)=>{const K=Number(x)||1;t($=>{if(!$)return $;const E=$.sections.map(ue=>ue.id===g?{...ue,level:Math.max(1,Math.min(4,K))}:ue),ce={...$,sections:E};return u(ue=>ue&&(ue.customTemplate||$.id==="template_auto"||$.id==="template_empty"?{...ue,customTemplate:ce}:ue)),ce})},Io=g=>{t(x=>{if(!x)return x;const K=g(x.sections||[]),$={...x,sections:K};return u(E=>E&&(E.customTemplate||x.id==="template_auto"||x.id==="template_empty"?{...E,customTemplate:$}:E)),$})},Nf=g=>{const K=((e==null?void 0:e.sections)||[]).find(ue=>ue.id===g),$=(K==null?void 0:K.level)||1,E=$===1?"":$===2?"":$===3?"":`${$}`,ce={id:`sec_local_${Date.now()}_${Math.floor(Math.random()*1e3)}`,title:"",summary:"",hint:"",level:$};Io(ue=>{var Oe,Xe;if(!ue.length)return[ce];const D=ue.findIndex(ct=>ct.id===g);if(D===-1)return[...ue,ce];const Pe=Math.max(1,Math.min(4,Number((Oe=ue[D])==null?void 0:Oe.level)||1));let De=D+1;for(;De<ue.length&&!(Math.max(1,Math.min(4,Number((Xe=ue[De])==null?void 0:Xe.level)||1))<=Pe);)De++;const Le=ue.slice(0,De),Me=ue.slice(De);return[...Le,ce,...Me]}),Mn("",{type:"add_outline_section",actionDescription:K?`${E}${K.title}`:"",afterSectionId:g,afterSection:K?{id:K.id,level:K.level,levelText:E,title:K.title||"",summary:K.summary||""}:null,inputs:[{kind:"outline_position",afterSectionId:g}],newSection:{id:ce.id,level:ce.level,levelText:E,title:ce.title,summary:ce.summary},process:"",outputs:{summary:`${(K==null?void 0:K.title)||""}`,newSectionId:ce.id,newSectionTitle:ce.title},destinations:["/"],outputTarget:"",aiGuidance:`Replay ${(K==null?void 0:K.title)||""}`,specialRequirements:""})},Ef=g=>{var Pe,De;const x=(e==null?void 0:e.sections)||[],K=x.findIndex(Le=>Le.id===g);if(K===-1)return;const $=Math.max(1,Math.min(3,Number((Pe=x[K])==null?void 0:Pe.level)||1)),E=[x[K].id];for(let Le=K+1;Le<x.length&&!(Math.max(1,Math.min(3,Number((De=x[Le])==null?void 0:De.level)||1))<=$);Le+=1)E.push(x[Le].id);const ce=x.filter(Le=>E.includes(Le.id));Io(Le=>(Le||[]).filter(Me=>!E.includes(Me.id))),ne(Le=>{const Me={...Le};return E.forEach(Oe=>delete Me[Oe]),Ka(Me),Me}),ae(Le=>{const Me={...Le};return E.forEach(Oe=>delete Me[Oe]),Me}),de(Le=>{const Me={...Le};return E.forEach(Oe=>delete Me[Oe]),Me}),pe(Le=>{const Me={...Le};return E.forEach(Oe=>delete Me[Oe]),Me}),H(Le=>{const Me={...Le};return E.forEach(Oe=>delete Me[Oe]),Me}),C(Le=>{const Me={...Le};return E.forEach(Oe=>{delete Me[`${Oe}||title`],delete Me[`${Oe}||summary`]}),Me});const ue=x[K],D=$===1?"":$===2?"":$===3?"":`${$}`;Mn("",{type:"delete_outline_section",actionDescription:`${D}${(ue==null?void 0:ue.title)||""}`,sectionId:g,removedIds:E,baseLevel:$,inputs:[{kind:"outline_selected",sectionIds:[g]}],targetSection:{id:ue==null?void 0:ue.id,level:ue==null?void 0:ue.level,levelText:D,title:(ue==null?void 0:ue.title)||"",summary:(ue==null?void 0:ue.summary)||"",hint:(ue==null?void 0:ue.hint)||""},removedSections:ce.map(Le=>({id:Le.id,level:Le.level,levelText:Le.level===1?"":Le.level===2?"":Le.level===3?"":`${Le.level}`,title:Le.title||"",summary:Le.summary||"",hint:Le.hint||""})),process:`${$}`,outputs:{summary:`${(ue==null?void 0:ue.title)||g}${E.length}`,deletedCount:E.length,removedSample:ce.slice(0,8).map(Le=>({id:Le.id,level:Le.level,title:wt(Le.title||"",80)}))},destinations:["/"],outputTarget:"",aiGuidance:`Replay ${(ue==null?void 0:ue.title)||""}`,specialRequirements:""},[])};nA((e==null?void 0:e.sections)||[]);const ps=()=>{const g=Eo.current;if(!g)return;const x=Number(g.selectionStart??0),K=Number(g.selectionEnd??0);if(!Number.isFinite(x)||!Number.isFinite(K)||K<=x){Dn({text:"",start:0,end:0});return}const $=(g.value||"").slice(x,K);if(!$.toString().trim()){Dn({text:"",start:0,end:0});return}Dn({text:$,start:x,end:K})},Ul=()=>{const g=Eo.current;if(!g)return null;const x=Number(g.selectionStart??0),K=Number(g.selectionEnd??0);if(!Number.isFinite(x)||!Number.isFinite(K)||K<=x)return null;const $=(g.value||"").slice(x,K);return $.toString().trim()?{text:$,start:x,end:K}:null},Va=async()=>{var Vt,dn;const g=Ul(),K=(os.text||(g==null?void 0:g.text)||"").toString().trim();if(!K){A("");return}if(!w||R!=="outline"){A("");return}const $=o.find(ut=>ut.id===l),E=($==null?void 0:$.name)||"",ce=Object.keys(ee||{}).filter(ut=>ee[ut]);if(ce.length>0){const ut=ce.map(bt=>{const[Ut,An]=bt.split("_"),$n=parseInt(An,10),sr=((e==null?void 0:e.sections)||[]).find(Gi=>Gi.id===Ut);return{sectionId:Ut,sumIdx:$n,section:sr,key:bt}}).filter(bt=>bt.section);if(!ut.length){A("");return}const cn=(()=>{const bt=e;if(!bt||!Array.isArray(bt.sections))return null;const Ut=bt.sections.map(An=>{const $n=ut.filter(sr=>sr.sectionId===An.id);if(!$n.length)return An;if(Array.isArray(An.summaries)&&An.summaries.length>0){const sr=An.summaries.map((uo,so)=>$n.find(Na=>Na.sumIdx===so)?{...uo,content:K}:uo),Gi=sr.map(uo=>uo.content||"").filter(Boolean).join(`

`);return{...An,summaries:sr,summary:Gi}}else return $n.find(Gi=>Gi.sumIdx===0)?{...An,summary:K}:An});return{...bt,sections:Ut}})();if(cn&&(t(cn),u(bt=>bt&&{...bt,customTemplate:cn}),s!=null&&s.id))try{const bt=await zt(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:cn}});bt!=null&&bt.template&&t(bt.template),bt!=null&&bt.scene&&u(bt.scene)}catch(bt){console.error(bt),A((bt==null?void 0:bt.message)||"")}const Ir=($==null?void 0:$.content)||"",Ur=(g==null?void 0:g.start)??os.start,hi=(g==null?void 0:g.end)??os.end,Ct=Ir.slice(Math.max(0,Ur-100),Ur).trim(),Wn=Ir.slice(hi,hi+100).trim(),Ke=K.slice(0,50).trim(),We=K.slice(-50).trim(),Tt=ut.map(bt=>{var $n;const Ut=bt.section;let An="";return Array.isArray(Ut==null?void 0:Ut.summaries)&&Ut.summaries.length>0?An=((($n=Ut.summaries[bt.sumIdx])==null?void 0:$n.content)||"").toString().trim():An=((Ut==null?void 0:Ut.summary)||"").toString().trim(),{sectionId:bt.sectionId,summaryIndex:bt.sumIdx,sectionTitle:(Ut==null?void 0:Ut.title)||"",sectionLevel:(Ut==null?void 0:Ut.level)||1,summaryKey:bt.key,hadContentBefore:!!An,originalContentExcerpt:wt(An,100),originalContentLength:An.length}}),Zt=Tt.map(bt=>`${bt.sectionLevel===1?"":bt.sectionLevel===2?"":""}${bt.sectionTitle}[${bt.summaryIndex}]`);Mn("",{type:"insert_to_summary_multi",intentDescription:`${E} ${ut.length} `,docName:E,docId:($==null?void 0:$.id)||"",selection:{start:Ur,end:hi},targetSummaries:Tt,targetSectionIds:[...new Set(ut.map(bt=>bt.sectionId))],selectedSectionTitles:[...new Set(Tt.map(bt=>bt.sectionTitle))],targetSectionsDetail:Tt.map(bt=>({id:bt.sectionId,title:bt.sectionTitle,level:bt.sectionLevel,summaryIndex:bt.summaryIndex})),inputs:[{kind:"selection",docName:E,contextSummary:`${E}`,sourceType:"selection",text:K,textExcerpt:wt(K,200),textLength:K.length,textHead:Ke,textTail:We,contextBefore:wt(Ct,80),contextAfter:wt(Wn,80),contentFeatures:{startsWith:Ke,endsWith:We,charCount:K.length,lineCount:K.split(`
`).length,hasNumbers:/\d/.test(K),hasDates:/\d{4}|\d{1,2}|\d{1,2}/.test(K)}},{kind:"outline_summaries_selected",contextSummary:`${ut.length}`,sourceType:"outline_summaries_selected",summaryKeys:ce,targetDescriptions:Zt}],process:` ${ut.length} `,outputs:{summary:` ${ut.length} ${K.length}`,usedModel:"",status:"done",targetSummaries:Tt,writtenContent:K,writtenContentExcerpt:wt(K,200)},destinations:Tt.map(bt=>({kind:"outline_section_summary_item",sectionId:bt.sectionId,sectionTitle:bt.sectionTitle,sectionLevel:bt.sectionLevel,summaryIndex:bt.summaryIndex,hadContentBefore:bt.hadContentBefore,originalContentExcerpt:bt.originalContentExcerpt})),aiGuidance:`${Zt.join("")}${E}${Ke}${We}${K.length}Replay`,specialRequirements:` ${ut.length} `},["",` ${ut.length} `]),X({}),Dn({text:"",start:0,end:0}),A(` ${ut.length} `);return}const ue=Object.keys(fe||{}).filter(ut=>fe[ut]);if(!ue.length){A("");return}const D=((e==null?void 0:e.sections)||[]).filter(ut=>ue.includes(ut.id)),Pe=D.map(ut=>{const cn=Number(ut.level)||1;return`- ${ml[cn]||ml[1]||""}${(ut.title||"").toString()}`}),De=[],Le=[];D.forEach(ut=>{((ut==null?void 0:ut.summary)||"").toString().trim().length?De.push(ut.id):Le.push(ut.id)});const Me=(()=>{const ut=e;if(!ut||!Array.isArray(ut.sections))return null;const cn=(ut.sections||[]).map(Ir=>ue.includes(Ir.id)?{...Ir,summary:K}:Ir);return{...ut,sections:cn}})();if(Me){if(t(Me),u(ut=>ut&&{...ut,customTemplate:Me}),s!=null&&s.id)try{const ut=await zt(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:Me}});ut!=null&&ut.template&&t(ut.template),ut!=null&&ut.scene&&u(ut.scene)}catch(ut){console.error(ut),A((ut==null?void 0:ut.message)||"")}}else Io(ut=>(ut||[]).map(cn=>{if(!ue.includes(cn.id))return cn;const Ir=(cn.summary||"").toString(),Ur=Ir.trim()?`${Ir}

${K}`:K;return{...cn,summary:Ur}}));const Oe=($==null?void 0:$.content)||"",Xe=(g==null?void 0:g.start)??os.start,ct=(g==null?void 0:g.end)??os.end,Pt=Oe.slice(Math.max(0,Xe-100),Xe).trim(),mt=Oe.slice(ct,ct+100).trim(),tt=D.map(ut=>{var cn;return{id:ut.id,title:ut.title||"",level:ut.level||1,hadContentBefore:!!((cn=ut.summary)!=null&&cn.toString().trim())}});Mn("",{type:"insert_to_summary",intentDescription:"",docName:E,docId:($==null?void 0:$.id)||"",selection:{start:Xe,end:ct},targetSectionIds:ue,inputs:[{kind:"selection",docName:E,contextSummary:E,sourceType:"selection",textExcerpt:wt(K,200),textLength:K.length,contextBefore:wt(Pt,80),contextAfter:wt(mt,80)},{kind:"outline_selected",contextSummary:`${ue.length}`,sourceType:"outline_selected"}],process:"",outputs:{summary:`${ue.length} ${K.length}`,usedModel:"",status:"done",targetSections:tt},destinations:[{kind:"outline_section_summary_batch",sectionTitle:tt.map(ut=>ut.title).join(""),count:ue.length}],overwrittenSectionIds:De,emptyBeforeSectionIds:Le},["",Pe.length?Pe.slice(0,8).join(`
`):"()"]);const dt=(g==null?void 0:g.end)??os.end;Dn({text:"",start:0,end:0});try{(dn=(Vt=Eo.current)==null?void 0:Vt.setSelectionRange)==null||dn.call(Vt,dt,dt)}catch{}A("")},ms=(g,x,K,$,E=null)=>{const ce=$||(K==="pass"?"":K==="fail"?"":"");rl(ue=>{const D=ue[g]||{running:!1,bySection:{}};return{...ue,[g]:{...D,bySection:{...D.bySection||{},[x]:{status:K,message:ce,replayMode:E||(K==="done"?"script":null)}}}}})},yc=()=>je({docs:o,selectedDocId:l,docDraft:M,template:e,scene:s,sectionDocLinks:Z,sectionDocPick:ye,selectedOutlineExec:fe,sectionDocDone:se,dispatchLogs:Q,processedContent:te,finalSlots:oe,summaryExpanded:Be}),Hs=async g=>{if(g)try{const x=await ys();g.selectedDocId&&Array.isArray(x)&&x.some($=>$.id===g.selectedDocId)&&f(g.selectedDocId);const K=await ea();if(K!=null&&K.id){const $=await zt(`/api/scene/${K.id}`),E=($==null?void 0:$.scene)||K;u(E);const ce=(E==null?void 0:E.customTemplate)||(E==null?void 0:E.template)||null;ce&&t(ce),E!=null&&E.sectionDocLinks&&ne(E.sectionDocLinks)}}catch{}},gs=(g,x)=>{const K=(g||"").toString().trim().toLowerCase();if(!K)return null;const $=(x||[]).find(E=>((E==null?void 0:E.name)||"").toString().trim().toLowerCase()===K);return($==null?void 0:$.id)||null},wr=g=>gs(g,o),nr=()=>new Promise(g=>setTimeout(g,0)),ys=async()=>{try{const g=await zt("/api/docs");if(Array.isArray(g==null?void 0:g.docs))return a(g.docs),g.docs}catch{}return null},Ri=async g=>{const x=(g||(s==null?void 0:s.id)||"").toString();if(!x)return null;try{const K=await zt(`/api/scene/${x}`),$=K==null?void 0:K.scene;return $&&(u($),ne($.sectionDocLinks||{}),$.customTemplate&&t($.customTemplate)),$||null}catch{return null}},Zi=async g=>{const x=await Ri(g);if(x!=null&&x.customTemplate)return x.customTemplate;try{const K=await zt("/api/template");return(K==null?void 0:K.template)||null}catch{return null}},Xa=async()=>{var g,x,K,$;try{const E=await Zi(s==null?void 0:s.id);if(((g=E==null?void 0:E.sections)==null?void 0:g.length)>0)return E.sections}catch(E){console.warn("[getLatestTemplateSections] :",E)}try{const E=await zt("/api/template");if(((K=(x=E==null?void 0:E.template)==null?void 0:x.sections)==null?void 0:K.length)>0)return E.template.sections}catch(E){console.warn("[getLatestTemplateSections] API :",E)}return(($=e==null?void 0:e.sections)==null?void 0:$.length)>0?e.sections:[]},Gs=async g=>{var K;if(!(s!=null&&s.id))throw new Error("scene ");if(!g||!Array.isArray(g.sections))throw new Error("template ");const x=await zt(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:g}});return x!=null&&x.scene&&u(x.scene),x!=null&&x.template&&t(x.template),(K=x==null?void 0:x.scene)!=null&&K.sectionDocLinks&&ne(x.scene.sectionDocLinks||{}),(x==null?void 0:x.template)||null},Vo=(g,x)=>{if(g&&typeof g=="object")return!1;const K=(x||"").toString();return!(K===""||K===""||K===""||K===""||K==="")},ql=async(g,x)=>{var ct,Pt,mt,tt,dt,Vt,dn,ut,cn,Ir,Ur,hi,Ct,Wn,Ke,We,Tt,Zt,bt,Ut,An,$n,sr,Gi,uo,so,go,Na,vc,Ea,yu,Vc,vu,Xc,wu,yl,wc,Gl,Xo,sa,Ns,Ja,xc,bc,xu,_c,Sc,Cf;const K=(x==null?void 0:x.sectionReplayMode)||(g==null?void 0:g.precipitationMode)||"llm",$=Pc(K);try{let At="";try{const qt=await zt("/api/multi/replay/config");At=(qt==null?void 0:qt.dirPath)||""}catch(qt){console.log("[Replay]  replayDir ",qt)}const Et=await zt("/api/replay/execute-section",{method:"POST",body:{sceneId:(s==null?void 0:s.id)||"main",section:x,mode:$,replayDirPath:At}});if(Et!=null&&Et.template){t(Et.template);try{await zt("/api/outline/cache",{method:"POST",body:{template:Et.template}})}catch(qt){console.log("[Replay] ",qt)}}return{status:(Et==null?void 0:Et.status)||"done",message:(Et==null?void 0:Et.reason)||"",replayMode:(Et==null?void 0:Et.replayMode)||$}}catch(At){return console.error("[Replay]  API ",At),{status:"fail",message:(At==null?void 0:At.message)||"",replayMode:$}}let E=(x==null?void 0:x.llmScript)||{};const ce=(x==null?void 0:x.originalScript)||{};if(console.log("[Replay]  llmScript.aiGuidance:",((ct=E==null?void 0:E.aiGuidance)==null?void 0:ct.substring(0,100))||"()"),console.log("[Replay] deposit.llmRecordContent :",((Pt=g==null?void 0:g.llmRecordContent)==null?void 0:Pt.length)||0),console.log("[Replay] section.meta?.aiGuidance:",((tt=(mt=x==null?void 0:x.meta)==null?void 0:mt.aiGuidance)==null?void 0:tt.substring(0,100))||"()"),$==="llm"&&!E.aiGuidance){let At="";if(!At&&((dt=x==null?void 0:x.meta)!=null&&dt.aiGuidance)&&(At=x.meta.aiGuidance,console.log("[Replay]  section.meta.aiGuidance ")),!At&&((Vt=x==null?void 0:x.llmScript)!=null&&Vt.structuredScriptContent)){const Et=x.llmScript.structuredScriptContent,qt=/AI\s*([\s\S]*?)(?=[^A]|\[|\n\n\n|---\n|===|$)/s,Ft=Et.match(qt);Ft&&(At=Ft[1].trim(),console.log("[Replay]  structuredScriptContent "))}if(!At&&(g!=null&&g.llmRecordContent)){const Et=g.llmRecordContent,qt=/AI\s*([\s\S]*?)(?=[^A]|\[|\n\n\n|---\n|===|$)/s,Ft=Et.match(qt);Ft&&(At=Ft[1].trim(),console.log("[Replay]  llmRecordContent "))}if(!At&&(x!=null&&x.content)){const Et=/AI\s*([\s\S]*?)(?=[^A]|\[|\n\n\n|---\n|===|$)/s,qt=x.content.match(Et);qt&&(At=qt[1].trim(),console.log("[Replay]  section.content "))}At?(console.log("[Replay]  aiGuidance :",At.substring(0,100)),E={...E,aiGuidance:At}):console.log("[Replay]  aiGuidance")}else $==="llm"&&E.aiGuidance&&console.log("[Replay] llmScript  aiGuidance");const ue=Ze((x==null?void 0:x.content)||"");let D;$==="llm"?(D={...ue},E.type&&(D.type=E.type),E.docName&&(D.docName=E.docName),E.targetSectionId&&(D.sectionId=E.targetSectionId),E.docSelector&&typeof E.docSelector=="object"&&(D.docSelector=E.docSelector),!D.docSelector&&E.flexKeywords&&(D.docSelector={kind:"keywords",keywords:E.flexKeywords.split(/[,\s]+/).filter(Boolean),description:E.flexKeywords,mode:"single"}),(E.instructions||E.promptContent)&&(D.instructions=E.instructions||E.promptContent,D.promptContent=E.promptContent||E.instructions),E.aiGuidance&&(D.aiGuidance=E.aiGuidance),E.specialRequirements&&(D.specialRequirements=E.specialRequirements),E.buttonId&&(D.buttonId=E.buttonId),E.selectedDocName&&(D.selectedDocName=E.selectedDocName)):D={...ue,type:ce.type||(ue==null?void 0:ue.type),docName:ce.docName||(ue==null?void 0:ue.docName),sectionId:ce.sectionId||(ue==null?void 0:ue.sectionId),instructions:ce.instructions||(ue==null?void 0:ue.instructions),promptContent:ce.promptContent||(ue==null?void 0:ue.promptContent),buttonId:ce.buttonId||(ue==null?void 0:ue.buttonId),selectedDocName:ce.selectedDocName||(ue==null?void 0:ue.selectedDocName)};const Pe=((x==null?void 0:x.action)||"").toString(),De=(g==null?void 0:g.validationMode)||"none",Le=$==="script"?!0:De==="strict",Me=[],Oe=(At,Et,qt={})=>{if(At)return!0;if($==="script")throw new Error(Et||"Replay ");if(!qt.strict&&!Le)return Me.push(Et||"Replay "),!1;throw new Error(Et||"Replay ")},Xe=At=>{if(!At||!Me.length)return At;if(At.status==="done"){const Et=At.replayMode||"llm",qt=Me.join("");let Ft="";return Et==="llm"?Ft=`  Replay Done${qt}`:Ft=`  Replay Done${qt}`,{...At,status:"pass",message:Ft,softErrors:[...Me]}}return{...At,softErrors:[...Me]}};if(Vo(D,Pe))throw new Error(" section  Replay");if((D==null?void 0:D.type)==="dispatch_input"||Pe==="")return{status:"pass",message:""};if((D==null?void 0:D.type)==="edit_outline_title"||(D==null?void 0:D.type)==="edit_outline_summary"||(D==null?void 0:D.type)==="clear_outline_summary"||Pe===""||Pe===""||Pe==="")return Xe({status:"done",message:$==="llm"?"  Replay Done":"  Replay Done",replayMode:$});if((D==null?void 0:D.type)==="add_summary_to_section"||Pe===""){const At=(D==null?void 0:D.sectionId)||(D==null?void 0:D.targetSectionId),Et=(D==null?void 0:D.sectionTitle)||(E==null?void 0:E.targetSectionTitle),qt=D==null?void 0:D.insertAtIndex;let Ft=null;if($==="llm"&&Et){const Tn=((e==null?void 0:e.sections)||[]).map(Sn=>({id:Sn.id,level:Sn.level,title:Sn.title}));try{const Sn=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:{targetTitle:Et,description:""},candidates:Tn}});console.log("[Replay add_summary] :",Sn),Sn.matchedId&&(Ft=((e==null?void 0:e.sections)||[]).find(On=>On.id===Sn.matchedId),console.log("[Replay] :",Ft==null?void 0:Ft.title))}catch(Sn){console.warn("[Replay add_summary] :",Sn)}}else Et&&(Ft=((e==null?void 0:e.sections)||[]).find(Tn=>Tn.title===Et)),!Ft&&At&&(Ft=((e==null?void 0:e.sections)||[]).find(Tn=>Tn.id===At));if(!Ft){if($==="llm")return Xe({status:"pass",message:` ${Et||At}`,replayMode:"skipped",passReason:"target_section_not_found"});throw console.warn("[Replay] ",{sectionTitle:Et,sectionId:At}),new Error(`${Et||At}`)}Lo(Ft.id,qt),await nr();const Yn=$==="llm"?` ${Ft.title}`:"  Replay Done";return Xe({status:"done",message:Yn,replayMode:$})}if((D==null?void 0:D.type)==="remove_summary_from_section"){const At=(D==null?void 0:D.sectionId)||(D==null?void 0:D.targetSectionId),Et=(D==null?void 0:D.sectionTitle)||(E==null?void 0:E.targetSectionTitle),qt=D==null?void 0:D.summaryIndex;let Ft=null;if($==="llm"&&Et){const Tn=((e==null?void 0:e.sections)||[]).map(Sn=>({id:Sn.id,level:Sn.level,title:Sn.title}));try{const Sn=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:{targetTitle:Et,description:""},candidates:Tn}});console.log("[Replay remove_summary] :",Sn),Sn.matchedId&&(Ft=((e==null?void 0:e.sections)||[]).find(On=>On.id===Sn.matchedId),console.log("[Replay] :",Ft==null?void 0:Ft.title))}catch(Sn){console.warn("[Replay remove_summary] :",Sn)}}else Et&&(Ft=((e==null?void 0:e.sections)||[]).find(Tn=>Tn.title===Et)),!Ft&&At&&(Ft=((e==null?void 0:e.sections)||[]).find(Tn=>Tn.id===At));if(!Ft||typeof qt!="number"){if($==="llm")return Xe({status:"pass",message:` ${Et||At}${typeof qt!="number"?"":""}`,replayMode:"skipped",passReason:"target_section_not_found"});throw console.warn("[Replay] ",{sectionTitle:Et,sectionId:At,sumIdx:qt}),new Error(`${Et||At}`)}hs(Ft.id,qt),await nr();const Yn=$==="llm"?` ${Ft.title}`:"  Replay Done";return Xe({status:"done",message:Yn,replayMode:$})}if((D==null?void 0:D.type)==="merge_summaries_in_section"||Pe===""){const At=(D==null?void 0:D.sectionId)||(D==null?void 0:D.targetSectionId),Et=(D==null?void 0:D.sectionTitle)||(E==null?void 0:E.targetSectionTitle),qt=(D==null?void 0:D.mergeType)||"paragraph";let Ft=null;if($==="llm"&&Et){const Tn=((e==null?void 0:e.sections)||[]).map(Sn=>({id:Sn.id,level:Sn.level,title:Sn.title}));try{const Sn=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:{targetTitle:Et,description:""},candidates:Tn}});console.log("[Replay merge_summaries] :",Sn),Sn.matchedId&&(Ft=((e==null?void 0:e.sections)||[]).find(On=>On.id===Sn.matchedId),console.log("[Replay] :",Ft==null?void 0:Ft.title))}catch(Sn){console.warn("[Replay merge_summaries] :",Sn)}}else Et&&(Ft=((e==null?void 0:e.sections)||[]).find(Tn=>Tn.title===Et)),!Ft&&At&&(Ft=((e==null?void 0:e.sections)||[]).find(Tn=>Tn.id===At));if(!Ft){if($==="llm")return Xe({status:"pass",message:` ${Et||At}`,replayMode:"skipped",passReason:"target_section_not_found"});throw console.warn("[Replay] ",{sectionTitle:Et,sectionId:At}),new Error(`${Et||At}`)}oa(Ft.id,qt),await nr();const Yn=$==="llm"?` ${Ft.title}`:"  Replay Done";return Xe({status:"done",message:Yn,replayMode:$})}if((D==null?void 0:D.type)==="add_doc"||Pe===""){const At=(D==null?void 0:D.docName)||(((x==null?void 0:x.content)||"").toString().split("")[1]||"").trim(),Et=(D==null?void 0:D.source)==="upload"||((x==null?void 0:x.content)||"").toString().includes(""),qt=$,Ft=$==="llm"?"  Replay Done":"  Replay Done";if(Et){if($==="llm"&&(D!=null&&D.docSelector)&&typeof D.docSelector=="object"){const jr=ii(D.docSelector),Lr=await ro(jr);return Oe(Lr.count>0,"",{strict:!0}),jr.mode!=="multi"&&Oe(Lr.count===1,` ${Lr.count} `),await nr(),await ys(),Xe({status:"done",message:Ft,replayMode:qt})}Oe(!!At,"",{strict:!0});const Sn=typeof(D==null?void 0:D.overwritten)=="boolean"?D.overwritten:null;if(Sn===!0&&!wr(At)){const jr=await zt("/api/docs",{method:"POST",body:{name:At,content:""}}),Lr=jr==null?void 0:jr.doc;if(Lr!=null&&Lr.id&&(a(xr=>eh(xr,[Lr])),s))try{const xr=Array.from(new Set([Lr.id,...s.docIds||[]])),{scene:un}=await zt(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:xr}});u(un)}catch{}await nr();const Ui=await ys()||[];Oe(!!gs(At,Ui),`${At}`)}const{doc:On,overwritten:Nr,text:lr}=await gi(At);Sn!==null&&Nr!==Sn&&console.log(`[Replay] ${Sn?"":""}${Nr?"":""}`),Oe(!!(On!=null&&On.id)," doc",{strict:!0}),Oe(((On==null?void 0:On.name)||"").toString().trim()===At.trim(),`${(On==null?void 0:On.name)||""}`),Oe(((On==null?void 0:On.content)||"").toString()===(lr||"").toString(),""),await nr();const mr=await ys()||[],Hn=gs(At,mr);return Oe(!!Hn,`${At}`),Xe({status:"done",message:Ft,replayMode:qt})}let Yn=wr(At);if(!Yn&&$==="llm"&&o.length>0){const Sn=((dn=E==null?void 0:E.docSelector)==null?void 0:dn.keywords)||[],On=((E==null?void 0:E.flexKeywords)||"").split(/[,\s]+/).filter(Boolean),Nr=(At||"").replace(/[()\[\].txt.docx.doc\-_]/g," ").trim().split(/\s+/).filter(Boolean),lr=[...new Set([...Sn,...On,...Nr])],mr={docName:At,description:(E==null?void 0:E.actionDescription)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||"",keywords:lr.join(" "),selectorDescription:((ut=E==null?void 0:E.docSelector)==null?void 0:ut.description)||"",flexKeywords:(E==null?void 0:E.flexKeywords)||"",structuredContent:typeof(E==null?void 0:E.structuredScriptContent)=="string"?E.structuredScriptContent.substring(0,500):""},Hn=o.map(jr=>({id:jr.id,name:jr.name}));try{const jr=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_document",recordedInfo:mr,candidates:Hn}});console.log("[Replay add_doc] :",jr),jr.matchedIndex>=0&&jr.matchedIndex<Hn.length&&(Yn=Hn[jr.matchedIndex].id)}catch(jr){console.warn("[Replay add_doc] :",jr)}}if(!Yn){if($==="llm")return Xe({status:"pass",message:` ${At}`,replayMode:"skipped",passReason:"source_doc_not_found"});throw new Error(`${At||"()"}`)}f(Yn);const Tn=o.find(Sn=>Sn.id===Yn);return z((Tn==null?void 0:Tn.content)||""),await nr(),Xe({status:"done",message:Ft,replayMode:qt})}if((D==null?void 0:D.type)==="outline_extract"||Pe===""){const At=D==null?void 0:D.buttonId,Et=At&&ti.find(On=>On.id===At)||ti.find(On=>On.kind==="outline_extract"&&On.enabled);if(!Et){if($==="llm")return Xe({status:"pass",message:' ""',replayMode:"skipped",passReason:"button_not_found"});throw new Error('""')}const qt=(D==null?void 0:D.selectedDocName)||(D==null?void 0:D.docName);let Ft=null;if(qt){if(Ft=wr(qt),!Ft&&$==="llm"&&o.length>0){const On=((cn=E==null?void 0:E.docSelector)==null?void 0:cn.keywords)||[],Nr=((E==null?void 0:E.flexKeywords)||"").split(/[,\s]+/).filter(Boolean),lr=(qt||"").replace(/[()\[\].txt.docx.doc\-_]/g," ").trim().split(/\s+/).filter(Boolean),mr=[...new Set([...On,...Nr,...lr])],Hn={docName:qt,description:(E==null?void 0:E.actionDescription)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||"",keywords:mr.join(" "),selectorDescription:((Ir=E==null?void 0:E.docSelector)==null?void 0:Ir.description)||"",flexKeywords:(E==null?void 0:E.flexKeywords)||"",structuredContent:typeof(E==null?void 0:E.structuredScriptContent)=="string"?E.structuredScriptContent.substring(0,500):""},jr=o.map(Lr=>({id:Lr.id,name:Lr.name}));try{const Lr=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_document",recordedInfo:Hn,candidates:jr}});console.log("[Replay outline_extract] :",Lr),Lr.matchedIndex>=0&&Lr.matchedIndex<jr.length&&(Ft=jr[Lr.matchedIndex].id)}catch(Lr){console.warn("[Replay outline_extract] :",Lr)}}if(Ft){const On=o.find(Nr=>Nr.id===Ft);f(Ft),z((On==null?void 0:On.content)||""),await nr()}else if($==="llm")return Xe({status:"pass",message:` ${qt}`,replayMode:"skipped",passReason:"source_doc_not_found"})}const Yn=Number.isFinite((Ur=D==null?void 0:D.outputs)==null?void 0:Ur.sectionsCount)?Number(D.outputs.sectionsCount):null,Tn=await ga({btn:Et,preferDocName:D==null?void 0:D.selectedDocName});Oe(Tn>0," 0 "),Yn!==null&&Oe(Tn===Yn,`${Yn} ${Tn}`),await Ri(s==null?void 0:s.id);const Sn=$==="llm"?` ${Tn} `:` ${Tn} `;return Xe({status:"done",message:Sn,replayMode:$})}if((D==null?void 0:D.type)==="copy_full_to_summary"||Pe===""){if($==="llm"){console.log("[Replay copy_full_to_summary LLM]",{meta:D,llmScript:E});const Hn=((hi=E==null?void 0:E.docSelector)==null?void 0:hi.keywords)||[],jr=((E==null?void 0:E.flexKeywords)||"").split(/[,\s]+/).filter(Boolean),Lr=((D==null?void 0:D.docName)||(E==null?void 0:E.docName)||"").replace(/[()\[\].txt.docx.doc\-_]/g," ").trim().split(/\s+/).filter(Boolean),Ui=[...new Set([...Hn,...jr,...Lr])],xr={docName:(D==null?void 0:D.docName)||(E==null?void 0:E.docName)||"",description:(E==null?void 0:E.actionDescription)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||(D==null?void 0:D.aiGuidance)||"",keywords:Ui.join(" "),selectorDescription:((Ct=E==null?void 0:E.docSelector)==null?void 0:Ct.description)||"",flexKeywords:(E==null?void 0:E.flexKeywords)||"",targetSectionTitle:(E==null?void 0:E.targetSectionTitle)||(D==null?void 0:D.targetSectionTitle)||"",structuredContent:typeof(E==null?void 0:E.structuredScriptContent)=="string"?E.structuredScriptContent.substring(0,500):"",contentFeatures:((Ke=(Wn=E==null?void 0:E.inputs)==null?void 0:Wn[0])==null?void 0:Ke.contentFeatures)||((Tt=(We=D==null?void 0:D.inputs)==null?void 0:We[0])==null?void 0:Tt.contentFeatures)||null},un=o.map(Dt=>({id:Dt.id,name:Dt.name}));let cr=null,Sr=null;if(un.length>0)try{const Dt=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_document",recordedInfo:xr,candidates:un}});console.log("[Replay copy_full_to_summary] :",Dt),Dt.matchedIndex>=0&&Dt.matchedIndex<un.length&&(cr=un[Dt.matchedIndex].id,Sr=o.find(In=>In.id===cr),console.log("[Replay] :",Sr==null?void 0:Sr.name))}catch(Dt){console.warn("[Replay] :",Dt)}if(!cr&&(vr!=null&&vr.dirPath))try{const Dt={kind:"keywords",keywords:xr.keywords.split(/\s+/).filter(Boolean),description:xr.docName,mode:"single"},In=await ro(Dt);In.count>0&&In.names[0]&&(cr=wr(In.names[0]),Sr=o.find(Jn=>Jn.id===cr)||await zt("/api/docs").then(Jn=>{var bi;return(bi=Jn.docs)==null?void 0:bi.find(Br=>Br.id===cr)}))}catch(Dt){console.warn("[Replay] :",Dt)}if(!cr||!Sr)return Xe({status:"pass",message:` ${xr.docName}`,replayMode:"skipped",passReason:"source_doc_not_found"});const Or={targetTitle:(D==null?void 0:D.targetSectionTitle)||(E==null?void 0:E.targetSectionTitle)||((Zt=E==null?void 0:E.targetSection)==null?void 0:Zt.title)||"",targetLevel:((bt=E==null?void 0:E.targetSection)==null?void 0:bt.level)||"",description:(E==null?void 0:E.actionDescription)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||""};let Bn=await Zi(s==null?void 0:s.id);if((!Bn||!Array.isArray(Bn.sections)||Bn.sections.length===0)&&((Ut=e==null?void 0:e.sections)==null?void 0:Ut.length)>0&&(Bn=e),!Bn||!Array.isArray(Bn.sections)||Bn.sections.length===0)throw new Error("");const wi=Bn.sections.map(Dt=>({id:Dt.id,level:Dt.level,title:Dt.title,summary:(Dt.summary||"").substring(0,100)}));console.log("[Replay copy_full_to_summary] :",wi.map(Dt=>Dt.title)),console.log("[Replay copy_full_to_summary] :",Or.targetTitle),console.log("[Replay copy_full_to_summary] :",wi.length);let xi=null,Qt="";if(wi.length>0)try{const Dt=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:Or,candidates:wi}});if(console.log("[Replay copy_full_to_summary] :",Dt),console.log("[Replay copy_full_to_summary]  matchedId:",Dt.matchedId),console.log("[Replay copy_full_to_summary]  ID:",wi.map(In=>In.id)),Dt.matchedId){const In=wi.find(Jn=>Jn.id===Dt.matchedId);if(console.log("[Replay copy_full_to_summary] :",In?"":""),In)xi=Dt.matchedId,Qt=In.title,console.log("[Replay] :",In.title,"(:",Or.targetTitle,")");else if(console.warn("[Replay]  matchedId :",Dt.matchedId),Dt.matchedTitle){const Jn=wi.find(bi=>{var Br,vs;return bi.title===Dt.matchedTitle||((Br=bi.title)==null?void 0:Br.includes(Dt.matchedTitle))||((vs=Dt.matchedTitle)==null?void 0:vs.includes(bi.title))});Jn&&(xi=Jn.id,Qt=Jn.title,console.log("[Replay] :",Jn.title))}}else console.warn("[Replay copy_full_to_summary]  matchedId")}catch(Dt){console.warn("[Replay] :",Dt)}else console.warn("[Replay copy_full_to_summary] ");if(!xi)return Xe({status:"pass",message:` ${Or.targetTitle}`,replayMode:"skipped",passReason:"target_section_not_found"});const Kn=wi.find(Dt=>Dt.id===xi);if(!Kn)return Xe({status:"pass",message:` ID${xi}`,replayMode:"skipped",passReason:"target_section_not_found"});const Yt=(Sr.content||"").toString(),qr={...Bn,sections:Bn.sections.map(Dt=>Dt.id===xi?{...Dt,summary:Yt}:Dt)},Xt=await Gs(qr);((Xt==null?void 0:Xt.sections)||[]).find(Dt=>Dt.id===xi)||Me.push(""),await nr();const Fr=Qt||Kn.title,Es=` ${Sr.name} ${Fr}`;return console.log("[Replay copy_full_to_summary] :",Fr,"(:",Or.targetTitle,")"),Xe({status:"done",message:Es,replayMode:$})}const At=D==null?void 0:D.sectionId,Et=D==null?void 0:D.docName;if(!At)throw new Error(" sectionId");if(!Et)throw new Error(" docName");let qt=wr(Et),Ft=qt?o.find(Hn=>Hn.id===qt):null;if(!qt&&(vr!=null&&vr.dirPath)){const Hn=await Ei(Et);qt=(Hn==null?void 0:Hn.id)||null,Ft=Hn||null}if(!qt)throw new Error(`${Et}`);const Yn=((Ft==null?void 0:Ft.content)||"").toString(),Tn=await Zi(s==null?void 0:s.id);Oe(!!Tn&&Array.isArray(Tn.sections),"",{strict:!0});const Sn=(Tn.sections||[]).find(Hn=>Hn.id===At);Oe(!!Sn,`${At}`,{strict:!0});const On={...Tn,sections:(Tn.sections||[]).map(Hn=>Hn.id===At?{...Hn,summary:Yn}:Hn)},Nr=await Gs(On),lr=((Nr==null?void 0:Nr.sections)||[]).find(Hn=>Hn.id===At);Oe(!!lr,`${At}`,{strict:!0}),Oe((lr.summary||"")===Yn,""),await nr();const mr=` ${Et}`;return Xe({status:"done",message:mr,replayMode:$})}if((D==null?void 0:D.type)==="outline_link_doc"||Pe===""){if($==="llm"){console.log("[Replay outline_link_doc LLM]",{meta:D,llmScript:E});const Nr=((An=E==null?void 0:E.docSelector)==null?void 0:An.keywords)||[],lr=((E==null?void 0:E.flexKeywords)||"").split(/[,\s]+/).filter(Boolean),mr=((D==null?void 0:D.docName)||(E==null?void 0:E.docName)||"").replace(/[()\[\].txt.docx.doc\-_]/g," ").trim().split(/\s+/).filter(Boolean),Hn=[...new Set([...Nr,...lr,...mr])],jr={docName:(D==null?void 0:D.docName)||(E==null?void 0:E.docName)||"",description:(E==null?void 0:E.actionDescription)||(E==null?void 0:E.description)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||(D==null?void 0:D.aiGuidance)||"",keywords:Hn.join(" "),selectorDescription:(($n=E==null?void 0:E.docSelector)==null?void 0:$n.description)||"",flexKeywords:(E==null?void 0:E.flexKeywords)||"",targetSectionTitle:(E==null?void 0:E.targetSectionTitle)||(D==null?void 0:D.targetSectionTitle)||"",structuredContent:typeof(E==null?void 0:E.structuredScriptContent)=="string"?E.structuredScriptContent.substring(0,500):""},Lr=o.map(Xt=>({id:Xt.id,name:Xt.name}));let Ui=null,xr="";if(Lr.length>0)try{const Xt=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_document",recordedInfo:jr,candidates:Lr}});console.log("[Replay outline_link_doc] :",Xt),Xt.matchedIndex>=0&&Xt.matchedIndex<Lr.length?(Ui=Lr[Xt.matchedIndex].id,xr=Lr[Xt.matchedIndex].name,console.log("[Replay] :",xr)):Xt.matchedName&&(Ui=wr(Xt.matchedName),xr=Xt.matchedName)}catch(Xt){console.warn("[Replay] :",Xt)}if(!Ui&&(vr!=null&&vr.dirPath))try{const Xt={kind:"keywords",keywords:jr.keywords.split(/\s+/).filter(Boolean),description:jr.docName,mode:"single"},Er=await ro(Xt);Er.count>0&&Er.names[0]&&(Ui=wr(Er.names[0]),xr=Er.names[0],console.log("[Replay] :",xr))}catch(Xt){console.warn("[Replay] :",Xt)}if(!Ui)return console.log("[Replay outline_link_doc] "),Xe({status:"pass",message:` ${jr.docName}`,replayMode:"skipped",passReason:"source_doc_not_found"});const un={targetTitle:(D==null?void 0:D.targetSectionTitle)||(E==null?void 0:E.targetSectionTitle)||((sr=E==null?void 0:E.targetSection)==null?void 0:sr.title)||"",targetLevel:((Gi=D==null?void 0:D.targetSection)==null?void 0:Gi.level)||((uo=E==null?void 0:E.targetSection)==null?void 0:uo.level)||"",description:(E==null?void 0:E.actionDescription)||`${(D==null?void 0:D.targetSectionTitle)||""}`,aiGuidance:(E==null?void 0:E.aiGuidance)||(D==null?void 0:D.aiGuidance)||"",targetSummary:((so=E==null?void 0:E.targetSection)==null?void 0:so.summary)||""},Sr=(await Xa()).map(Xt=>({id:Xt.id,level:Xt.level,title:Xt.title,summary:(Xt.summary||Xt.hint||"").substring(0,100)}));console.log("[Replay outline_link_doc] :",Sr.length,":",Sr.map(Xt=>Xt.title).slice(0,5));let Or=null,Bn="";if(Sr.length>0)try{const Xt=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:un,candidates:Sr}});if(console.log("[Replay outline_link_doc] :",Xt),console.log("[Replay outline_link_doc]  matchedId:",Xt.matchedId),Xt.matchedId){const Er=Sr.find(Fr=>Fr.id===Xt.matchedId);if(Er)Or=Xt.matchedId,Bn=Er.title,console.log("[Replay] :",Er.title,"(:",un.targetTitle,")");else if(console.warn("[Replay]  matchedId :",Xt.matchedId),Xt.matchedTitle){const Fr=Sr.find(Es=>{var Dt,In;return Es.title===Xt.matchedTitle||((Dt=Es.title)==null?void 0:Dt.includes(Xt.matchedTitle))||((In=Xt.matchedTitle)==null?void 0:In.includes(Es.title))});Fr&&(Or=Fr.id,Bn=Fr.title,console.log("[Replay] :",Fr.title))}}}catch(Xt){console.warn("[Replay] :",Xt)}if(!Or)return console.log("[Replay outline_link_doc] "),Xe({status:"pass",message:` ${un.targetTitle}`,replayMode:"skipped",passReason:"target_section_not_found"});const wi=Z[Or]||[],xi=wi.includes(Ui)?Z:{...Z,[Or]:[...wi,Ui]};ne(xi),ae(Xt=>({...Xt,[Or]:Ui})),await Ka(xi);const Qt=await Ri(s==null?void 0:s.id);(((go=Qt==null?void 0:Qt.sectionDocLinks)==null?void 0:go[Or])||[]).includes(Ui)||Me.push(`${xr}`),await nr(),await ys();const Yt=Bn||((Na=Sr.find(Xt=>Xt.id===Or))==null?void 0:Na.title)||Or,qr=` ${xr} ${Yt}`;return console.log("[Replay outline_link_doc] :",Yt,"(:",un.targetTitle,")"),Xe({status:"done",message:qr,replayMode:$})}const At=D==null?void 0:D.sectionId,Et=D==null?void 0:D.docName;if(!At)throw new Error(" sectionId");if(!Et)throw new Error(" docName");let qt=wr(Et);if(!qt&&(vr!=null&&vr.dirPath)){const Nr=await Ei(Et);qt=(Nr==null?void 0:Nr.id)||null}if(!qt)throw new Error(`${Et}`);const Ft=Z[At]||[],Yn=Ft.includes(qt)?Z:{...Z,[At]:[...Ft,qt]};ne(Yn),ae(Nr=>({...Nr,[At]:qt})),await Ka(Yn);const Tn=await Ri(s==null?void 0:s.id),Sn=((vc=Tn==null?void 0:Tn.sectionDocLinks)==null?void 0:vc[At])||[];Oe(Sn.includes(qt),`${Et}`,{strict:!0}),await nr(),await ys();const On=` ${Et}`;return Xe({status:"done",message:On,replayMode:$})}if((D==null?void 0:D.type)==="outline_unlink_doc"||Pe===""){if($==="llm"){const lr=((Ea=E==null?void 0:E.docSelector)==null?void 0:Ea.keywords)||[],mr=((E==null?void 0:E.flexKeywords)||"").split(/[,\s]+/).filter(Boolean),Hn=((D==null?void 0:D.docName)||(E==null?void 0:E.docName)||"").replace(/[()\[\].txt.docx.doc\-_]/g," ").trim().split(/\s+/).filter(Boolean),jr=[...new Set([...lr,...mr,...Hn])],Lr={docName:(D==null?void 0:D.docName)||(E==null?void 0:E.docName)||"",description:(E==null?void 0:E.actionDescription)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||"",keywords:jr.join(" "),selectorDescription:((yu=E==null?void 0:E.docSelector)==null?void 0:yu.description)||"",flexKeywords:(E==null?void 0:E.flexKeywords)||"",targetSectionTitle:(E==null?void 0:E.targetSectionTitle)||(D==null?void 0:D.targetSectionTitle)||"",structuredContent:typeof(E==null?void 0:E.structuredScriptContent)=="string"?E.structuredScriptContent.substring(0,500):""},Ui={targetTitle:(D==null?void 0:D.targetSectionTitle)||(E==null?void 0:E.targetSectionTitle)||"",targetLevel:((Vc=E==null?void 0:E.targetSection)==null?void 0:Vc.level)||"",description:(E==null?void 0:E.actionDescription)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||""},xr=o.map(Yt=>({id:Yt.id,name:Yt.name}));let un=null,cr="";if(xr.length>0)try{const Yt=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_document",recordedInfo:Lr,candidates:xr}});console.log("[Replay unlink] :",Yt),Yt.matchedIndex>=0&&Yt.matchedIndex<xr.length&&(un=xr[Yt.matchedIndex].id,cr=xr[Yt.matchedIndex].name,console.log("[Replay] :",cr))}catch(Yt){console.warn("[Replay unlink] :",Yt)}if(!un)return Xe({status:"pass",message:` ${Lr.docName}`,replayMode:"skipped",passReason:"source_doc_not_found"});const Or=(await Xa()).map(Yt=>({id:Yt.id,level:Yt.level,title:Yt.title,summary:(Yt.summary||"").substring(0,100)}));console.log("[Replay unlink] :",Or.length);let Bn=null;if(Ui.targetTitle&&Or.length>0)try{const Yt=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:Ui,candidates:Or}});if(console.log("[Replay unlink] :",Yt),Yt.matchedId){Bn=Yt.matchedId;const qr=Or.find(Xt=>Xt.id===Bn);console.log("[Replay] :",qr==null?void 0:qr.title)}}catch(Yt){console.warn("[Replay unlink] :",Yt)}if(!Bn)return Xe({status:"pass",message:" ",replayMode:"skipped",passReason:"target_section_not_found"});const xi=(Z[Bn]||[]).filter(Yt=>Yt!==un),Qt={...Z,[Bn]:xi};xi.length||delete Qt[Bn],ne(Qt),ae(Yt=>{const qr={...Yt};return qr[Bn]===un&&delete qr[Bn],qr}),await Ka(Qt),await Ri(s==null?void 0:s.id),await nr();const Kn=Or.find(Yt=>Yt.id===Bn);return Xe({status:"done",message:` ${cr} ${(Kn==null?void 0:Kn.title)||Bn}`,replayMode:"llm"})}const At=D==null?void 0:D.sectionId,Et=D==null?void 0:D.docName;if(!At)throw new Error(" sectionId");if(!Et)throw new Error(" docName");const qt=wr(Et);if(!qt)throw new Error(`${Et}`);const Yn=(Z[At]||[]).filter(lr=>lr!==qt),Tn={...Z,[At]:Yn};Yn.length||delete Tn[At],ne(Tn),ae(lr=>{const mr={...lr};return mr[At]===qt&&delete mr[At],mr}),await Ka(Tn);const Sn=await Ri(s==null?void 0:s.id),On=((vu=Sn==null?void 0:Sn.sectionDocLinks)==null?void 0:vu[At])||[];Oe(!On.includes(qt),`${Et}`,{strict:!0}),pe(lr=>{const mr={...lr};return mr[At]&&(delete mr[At][qt],Object.keys(mr[At]).length||delete mr[At]),mr}),await nr();const Nr=$==="llm"?` ${Et}`:` ${Et}`;return Xe({status:"done",message:Nr,replayMode:$})}if((D==null?void 0:D.type)==="insert_to_summary"||(D==null?void 0:D.type)==="insert_to_summary_multi"||Pe===""||Pe===""||Pe===""){const At=(D==null?void 0:D.type)==="insert_to_summary_multi";let Et=Array.isArray(D==null?void 0:D.targetSectionIds)?D.targetSectionIds:[];const qt=Array.isArray(D==null?void 0:D.inputs)?D.inputs.find(un=>(un==null?void 0:un.kind)==="selection"):null;let Ft=((qt==null?void 0:qt.text)||(qt==null?void 0:qt.textExcerpt)||"").toString().trim();if(!Et.length){if($==="llm")return Xe({status:"pass",message:" ID",replayMode:"skipped",passReason:"no_target_section_ids"});throw new Error(" targetSectionIds")}if(!Ft){if($==="llm")return Xe({status:"pass",message:" ",replayMode:"skipped",passReason:"no_selection_text"});throw new Error("")}if($==="llm"){const un=await Zi(s==null?void 0:s.id);if(un&&Array.isArray(un.sections)){const cr=un.sections.map(Bn=>({id:Bn.id,level:Bn.level,title:Bn.title,summary:(Bn.summary||"").substring(0,100)})),Or=(Array.isArray(D==null?void 0:D.destinations)?D.destinations:[]).map(Bn=>(Bn==null?void 0:Bn.sectionTitle)||"").filter(Boolean);if(Or.length>0&&cr.length>0){const Bn=[];for(const wi of Or)try{const xi=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:{targetTitle:wi,description:(E==null?void 0:E.actionDescription)||`${wi}`,aiGuidance:(E==null?void 0:E.aiGuidance)||""},candidates:cr}});if(console.log("[Replay insert_to_summary] :",xi),xi.matchedId){Bn.push(xi.matchedId);const Qt=cr.find(Kn=>Kn.id===xi.matchedId);console.log("[Replay] :",Qt==null?void 0:Qt.title)}}catch(xi){console.warn("[Replay insert_to_summary] :",xi)}if(Bn.length>0)Et=Bn,console.log("[Replay insert_to_summary] :",Et);else{const wi=Or.join("")||"()";return Xe({status:"pass",message:` ${wi}`,replayMode:"skipped",passReason:"target_section_not_found"})}}}}const Yn=$==="llm"&&(E==null?void 0:E.aiGuidance)||"",Tn=$==="llm"&&(E==null?void 0:E.specialRequirements)||"";console.log("[insert_to_summary] ==========  AI  =========="),console.log("[insert_to_summary] mode:",$),console.log("[insert_to_summary] copyAiGuidance :",(Yn==null?void 0:Yn.length)||0),console.log("[insert_to_summary] copyAiGuidance :",(Yn==null?void 0:Yn.substring(0,200))||"()"),console.log("[insert_to_summary] llmScript.aiGuidance:",((Xc=E==null?void 0:E.aiGuidance)==null?void 0:Xc.substring(0,200))||"()"),console.log("[insert_to_summary] text () :",(Ft==null?void 0:Ft.length)||0);let Sn=!1,On="";if($==="llm"){A(" ...");try{const un=Yn&&(Yn.includes("")||Yn.includes("")||Yn.includes("{{")||/\d+\s*[+\-*/]\s*\d+/.test(Yn)||/|||/.test(Yn));console.log("[insert_to_summary] hasCalculation:",un);const cr=!!(Yn||Tn);let Sr;un?Sr=`


${Ft}


${Yn}

${Tn?`
${Tn}`:""}


1. 
2. "XX""XX"
3. 
4. 


"XXX =  +  +  + "
"688937329"

- =68, =89, =373, =29
- 68 + 89 + 373 + 29 = 559
- " 559 "


- 
- 
- 

`:cr?Sr=`


${Ft}


${Yn||""}


${Tn||""}



- """"""
- ""
- ""


- 
- 
- 

`:Sr=`


${Ft}


1. +" "
2. 
3. 
4. 


- 
- 
- 

`,console.log("[insert_to_summary] :",un,":",Yn==null?void 0:Yn.substring(0,100));const Or=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:Sr}],maxTokens:2e3})});if(Or.ok){const Bn=await Or.json();if(Bn!=null&&Bn.content){const wi=Bn.content.trim();console.log(" :",wi),A(" AI "),Ft=wi,Sn=!0}else On="",console.log(" ")}else{const Bn=await Or.text().catch(()=>"");On=`API  (${Or.status}): ${Bn||""}`,console.error(" API :",On)}}catch(un){On=(un==null?void 0:un.message)||"",console.error(":",un)}!Sn&&On&&A(` ${On}`)}const Nr=await Zi(s==null?void 0:s.id);Oe(!!Nr&&Array.isArray(Nr.sections),"",{strict:!0}),Et.forEach(un=>Oe(!!(Nr.sections||[]).find(cr=>cr.id===un),`${un}`,{strict:!0}));const lr=Array.isArray((wu=D==null?void 0:D.outputs)==null?void 0:wu.overwrittenSectionIds)?D.outputs.overwrittenSectionIds:[],mr=Array.isArray((yl=D==null?void 0:D.outputs)==null?void 0:yl.emptyBeforeSectionIds)?D.outputs.emptyBeforeSectionIds:[];(lr.length||mr.length)&&(lr.forEach(un=>{const cr=(Nr.sections||[]).find(Sr=>Sr.id===un);Oe(((cr==null?void 0:cr.summary)||"").toString().trim().length>0,`${un}`)}),mr.forEach(un=>{const cr=(Nr.sections||[]).find(Sr=>Sr.id===un);Oe(((cr==null?void 0:cr.summary)||"").toString().trim().length===0,`${un}`)}));const Hn=At&&Array.isArray(D==null?void 0:D.targetSummaries)?D.targetSummaries:[],jr={...Nr,sections:(Nr.sections||[]).map(un=>{if(At){const cr=Hn.filter(Sr=>Sr.sectionId===un.id);if(!cr.length)return un;if(Array.isArray(un.summaries)&&un.summaries.length>0){const Sr=un.summaries.map((Bn,wi)=>cr.find(Qt=>Qt.summaryIndex===wi)?{...Bn,content:Ft}:Bn),Or=Sr.map(Bn=>Bn.content||"").filter(Boolean).join(`

`);return{...un,summaries:Sr,summary:Or}}else return cr.find(Or=>Or.summaryIndex===0)?{...un,summary:Ft}:un}return Et.includes(un.id)?{...un,summary:Ft}:un})},Lr=await Gs(jr);(((wc=D==null?void 0:D.outputs)==null?void 0:wc.insertedExcerpt)||Ft).toString().trim(),At||Et.forEach(un=>{const cr=((Lr==null?void 0:Lr.sections)||[]).find(Sr=>Sr.id===un);Oe(!!cr,`${un}`,{strict:!0}),$!=="llm"&&Oe((cr.summary||"").toString()===Ft,`""${un}`)}),await nr();let Ui="",xr="script";return $==="llm"?Sn?(xr="llm",Ui="  Replay Done"):On?(xr="script_fallback",Ui=`  Replay Done${On}`):Ui="  Replay Done":Ui="  Replay Done",Xe({status:"done",message:Ui,replayMode:xr,llmFailReason:On})}if((D==null?void 0:D.type)==="delete_outline_section"||Pe===""){const At=await Zi(s==null?void 0:s.id);if(!At||!Array.isArray(At.sections))throw new Error("");const Et=At.sections||[];let qt=D==null?void 0:D.sectionId;if($==="llm"){const lr={targetTitle:(D==null?void 0:D.targetSectionTitle)||(E==null?void 0:E.targetSectionTitle)||((Gl=E==null?void 0:E.targetSection)==null?void 0:Gl.title)||"",targetLevel:((Xo=E==null?void 0:E.targetSection)==null?void 0:Xo.level)||"",description:(E==null?void 0:E.actionDescription)||"",aiGuidance:(E==null?void 0:E.aiGuidance)||""},mr=Et.map(Hn=>({id:Hn.id,level:Hn.level,title:Hn.title,summary:(Hn.summary||"").substring(0,50)}));if(lr.targetTitle&&mr.length>0)try{const Hn=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:lr,candidates:mr}});if(console.log("[Replay delete_section] :",Hn),Hn.matchedId){qt=Hn.matchedId;const jr=mr.find(Lr=>Lr.id===qt);console.log("[Replay] :",jr==null?void 0:jr.title)}}catch(Hn){console.warn("[Replay delete_section] :",Hn)}}if(!qt){if($==="llm"){const lr=(D==null?void 0:D.targetSectionTitle)||(E==null?void 0:E.targetSectionTitle)||"()";return Xe({status:"pass",message:` ${lr}`,replayMode:"skipped",passReason:"target_section_not_found"})}throw new Error(" sectionId")}const Ft=Et.findIndex(lr=>lr.id===qt);if(Ft===-1&&$==="llm")return Xe({status:"pass",message:` ${qt}`,replayMode:"skipped",passReason:"target_section_not_found"});Oe(Ft!==-1,`${qt}`,{strict:!0});const Yn=Math.max(1,Math.min(3,Number((sa=Et[Ft])==null?void 0:sa.level)||1)),Tn=[Et[Ft].id];for(let lr=Ft+1;lr<Et.length&&!(Math.max(1,Math.min(3,Number((Ns=Et[lr])==null?void 0:Ns.level)||1))<=Yn);lr+=1)Tn.push(Et[lr].id);const Sn={...At,sections:(Et||[]).filter(lr=>!Tn.includes(lr.id))},On=await Gs(Sn);return Tn.forEach(lr=>{Oe(!((On==null?void 0:On.sections)||[]).some(mr=>mr.id===lr),`${lr}`,{strict:!0})}),await nr(),Xe({status:"done",message:$==="llm"?" ":" ",replayMode:$})}if((D==null?void 0:D.type)==="outline_clear"||Pe===""){Oe(!!(s!=null&&s.id),"scene ",{strict:!0}),await zt(`/api/scene/${s.id}`,{method:"PATCH",body:{sectionDocLinks:{}}});const Et=await Gs({id:"template_empty",name:"",sections:[]});Oe(Array.isArray(Et==null?void 0:Et.sections)&&Et.sections.length===0,"",{strict:!0});const qt=await Ri(s==null?void 0:s.id);return Oe(!(qt!=null&&qt.sectionDocLinks)||Object.keys(qt.sectionDocLinks||{}).length===0,"",{strict:!0}),ae({}),de({}),pe({}),H({}),C({}),await nr(),Xe({status:"done",message:$==="llm"?"  Replay Done":"  Replay Done",replayMode:$})}if((D==null?void 0:D.type)==="restore_history_outline"||Pe===""){const At=D==null?void 0:D.outlineId,Et=D==null?void 0:D.outlineTitle,qt=Bs.find(Tn=>Tn.id===At)||Bs.find(Tn=>(Tn.title||Tn.docName)===Et);if(!qt){if($==="llm")return Xe({status:"pass",message:` ${Et||At}`,replayMode:"skipped",passReason:"history_outline_not_found"});throw new Error(`: ${Et||At}`)}const Ft=await zt(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:qt.template}});return t(Ft.template),u(Ft.scene),I(!0),qt.sectionMergeType&&typeof qt.sectionMergeType=="object"?Se(qt.sectionMergeType):Se({}),await nr(),Xe({status:"done",message:$==="llm"?"  Replay Done":"  Replay Done",replayMode:$})}if((D==null?void 0:D.type)==="dispatch"||(D==null?void 0:D.type)==="dispatch_multi_summary"||Pe===""){if(!(s!=null&&s.id))throw new Error("scene ");const At=(D==null?void 0:D.type)==="dispatch_multi_summary"||(D==null?void 0:D.isMultiSummaryMode),Et=$==="llm"&&(E==null?void 0:E.aiGuidance)||"",qt=$==="llm"&&(E==null?void 0:E.specialRequirements)||"";let Ft=(D==null?void 0:D.instructions)||(D==null?void 0:D.promptContent)||(()=>{const Qt=/?([\\s\\S]*?)(\\n|$)/.exec(((x==null?void 0:x.content)||"").toString());return((Qt==null?void 0:Qt[1])||"").trim()})();if(!Ft)throw new Error("");$==="llm"&&(Et||qt)?(A("  AI ..."),Ft=`${Ft}


${Et||""}


${qt||""}`,console.log("  Replay - :",Ft)):$==="script"&&console.log("  Replay - :",Ft);const Yn=ti.find(Qt=>Qt.kind==="dispatch"),Tn=(D==null?void 0:D.prompt)||(Yn==null?void 0:Yn.prompt);/?([\\s\\S]*?)(\\n|$)/.exec(((x==null?void 0:x.content)||"").toString());const Sn=((D==null?void 0:D.inputKind)||"").toString(),On=Array.isArray(D==null?void 0:D.selectedSectionIds)?D.selectedSectionIds:[];if(Le){const Qt=(x==null?void 0:x.llmScript)||{};if(!!!(Sn||D!=null&&D.inputSourceDesc||D!=null&&D.docName||D!=null&&D.selectedDocName||Qt!=null&&Qt.inputSourceDesc||Array.isArray(D==null?void 0:D.inputs)&&D.inputs.length>0||Array.isArray(D==null?void 0:D.selectedSectionIds)&&D.selectedSectionIds.length>0||Array.isArray(D==null?void 0:D.selectedSectionTitles)&&D.selectedSectionTitles.length>0))return console.warn("[dispatch replay]  "),Xe({status:"pass",message:" ",replayMode:"skipped",passReason:"strict_no_input_source"})}let Nr="",lr=[];if(Sn==="result"&&Array.isArray(D==null?void 0:D.historyInputs)&&D.historyInputs.length)Nr=D.historyInputs.map((Qt,Kn)=>`${Kn+1}${((Qt==null?void 0:Qt.key)||"").toString()}
${((Qt==null?void 0:Qt.text)||"").toString()}`).join(`

`);else if(Sn.startsWith("outline_")){const Qt=Array.isArray(D==null?void 0:D.selectedSectionTitles)?D.selectedSectionTitles:[],Kn=Array.isArray(D==null?void 0:D.targetSectionsDetail)?D.targetSectionsDetail:[],Yt=(x==null?void 0:x.llmScript)||{},qr=Array.isArray(Yt==null?void 0:Yt.targetSectionsDetail)?Yt.targetSectionsDetail:[],Xt=(e==null?void 0:e.sections)||[];let Er=[];const Fr=Kn.length>0?Kn:qr;if($==="llm"){const Dt=Xt.map(Jn=>({id:Jn.id,level:Jn.level,title:Jn.title,summary:(Jn.summary||"").substring(0,100)})),In={targetTitle:(Yt==null?void 0:Yt.targetTitle)||Qt[0]||((Ja=Fr[0])==null?void 0:Ja.title)||"",targetLevel:((xc=Fr[0])==null?void 0:xc.level)||(Yt==null?void 0:Yt.targetLevel)||"",description:(Yt==null?void 0:Yt.actionDescription)||Ft,aiGuidance:Et};if(In.targetTitle&&Dt.length>0)try{const Jn=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_outline_section",recordedInfo:In,candidates:Dt}});if(console.log("[dispatch replay] :",Jn),Jn.matchedId){const bi=Xt.find(Br=>Br.id===Jn.matchedId);bi&&(Er=[bi],console.log("[dispatch replay] :",bi.title))}}catch(Jn){console.warn("[dispatch replay] :",Jn)}}else if(Fr.length>0&&(Er=Fr.map(Dt=>{let In=Xt.find(Jn=>Jn.title===Dt.title);return!In&&Dt.id&&(In=Xt.find(Jn=>Jn.id===Dt.id)),In}).filter(Boolean)),Er.length===0&&Qt.length>0&&(Er=Qt.map(Dt=>Xt.find(In=>In.title===Dt)).filter(Boolean)),Er.length===0&&On.length>0&&(Er=Xt.filter(Dt=>On.includes(Dt.id))),Er.length===0&&(Yt!=null&&Yt.targetTitle)){const Dt=Xt.find(In=>{var Jn,bi;return((Jn=In.title)==null?void 0:Jn.includes(Yt.targetTitle))||((bi=Yt.targetTitle)==null?void 0:bi.includes(In.title))});Dt&&(Er=[Dt])}if(Er.length===0){console.warn("[dispatch replay]  section");const Dt=Object.keys(fe||{}).filter(In=>fe[In]);Er=Xt.filter(In=>Dt.includes(In.id))}if(console.log("[dispatch replay] :",{picked:Er.map(Dt=>Dt==null?void 0:Dt.title),isStrictValidation:Le}),Er.length===0)return Xe({status:"pass",message:" ",replayMode:"skipped",passReason:"target_section_not_found"});if(Le){console.log("[dispatch replay]  ");const Dt=(Yt==null?void 0:Yt.contextBefore)||(D==null?void 0:D.contextBefore)||"",In=(Yt==null?void 0:Yt.contextAfter)||(D==null?void 0:D.contextAfter)||"";Yt!=null&&Yt.inputContentExcerpt||D!=null&&D.inputContentExcerpt||D!=null&&D.inputContent;const Jn=(Fr.length>0?Fr:qr).map(Ci=>Ci.originalSummary||"").filter(Boolean);let bi=!1;const Br=[],vs=(Ci,Yo)=>{if(!Yo||!Ci)return!1;const Ta=Yo.substring(0,50).trim();return Ta?Ci.includes(Ta)||Yo.includes(Ci.substring(0,50)):!1};if(Dt||In){for(const Ci of Er){const Yo=Ci.summary||Ci.hint||"",Ta=!Dt||vs(Yo,Dt),ws=!In||vs(Yo,In);if(Ta||ws){bi=!0;break}}bi||Br.push("")}if(!bi&&Jn.length>0){for(let Ci=0;Ci<Er.length;Ci++){const Yo=Er[Ci],Ta=Yo.summary||Yo.hint||"",ws=Jn[Ci]||"";if(ws&&vs(Ta,ws)){bi=!0;break}}bi||Br.push("")}if(!Dt&&!In&&Jn.length===0){const Ci=(Fr.length>0?Fr:Qt.map(ws=>({title:ws}))).map(ws=>ws.title).filter(Boolean),Yo=Er.map(ws=>ws.title);Ci.every(ws=>Yo.includes(ws))?bi=!0:Br.push("")}if(!bi&&Br.length>0)return console.warn("[dispatch replay]  :",Br),Xe({status:"pass",message:` ${Br.join("")}`,replayMode:"skipped",passReason:"strict_validation_failed"});console.log("[dispatch replay]  ")}const Es=Er.filter(Dt=>!(Dt.summary||Dt.hint));if(Es.length===Er.length){const Dt=Es.map(In=>In.title).join("");return console.warn("[dispatch replay] :",Dt),Xe({status:"pass",message:` ${Dt}`,replayMode:"skipped",passReason:"input_source_empty"})}if(Es.length>0&&(console.warn("[dispatch replay]  section :",Es.map(Dt=>Dt.title)),Me.push(`${Es.map(Dt=>Dt.title).join("")}`)),lr=Er.map((Dt,In)=>({sectionId:Dt.id,field:"summary",content:Sn==="outline_selected_batch"?`${Dt.title}
${Dt.summary||Dt.hint||"()"}`:Dt.summary||Dt.hint||Dt.title||"()",label:`${In+1}`})),Sn==="outline_unprocessed_docs"){const In=(Array.isArray(D==null?void 0:D.inputs)?D.inputs.filter(Br=>(Br==null?void 0:Br.kind)==="doc_resource"):[]).map(Br=>((Br==null?void 0:Br.docName)||"").toString()).filter(Boolean),Jn=[],bi=o.map(Br=>({id:Br.id,name:Br.name}));for(const Br of In){let vs=wr(Br),Ci=vs?o.find(Yo=>Yo.id===vs):null;if(!Ci&&$==="llm"&&bi.length>0){const Yo=((bc=E==null?void 0:E.docSelector)==null?void 0:bc.keywords)||[],Ta=((E==null?void 0:E.flexKeywords)||"").split(/[,\s]+/).filter(Boolean),ws=(Br||"").replace(/[()\[\].txt.docx.doc\-_]/g," ").trim().split(/\s+/).filter(Boolean),Lf=[...new Set([...Yo,...Ta,...ws])],cd={docName:Br,description:(E==null?void 0:E.actionDescription)||"-",aiGuidance:Et,keywords:Lf.join(" "),selectorDescription:((xu=E==null?void 0:E.docSelector)==null?void 0:xu.description)||"",flexKeywords:(E==null?void 0:E.flexKeywords)||"",structuredContent:typeof(E==null?void 0:E.structuredScriptContent)=="string"?E.structuredScriptContent.substring(0,500):""};try{const kc=await zt("/api/replay/llm-match",{method:"POST",body:{taskType:"find_document",recordedInfo:cd,candidates:bi}});console.log(`[Replay dispatch] ${Br}:`,kc),kc.matchedIndex>=0&&kc.matchedIndex<bi.length&&(vs=bi[kc.matchedIndex].id,Ci=o.find(Rf=>Rf.id===vs))}catch(kc){console.warn(`[Replay dispatch] ${Br}:`,kc)}}if(!Ci&&(vr!=null&&vr.dirPath)&&(Ci=await Ei(Br),vs=(Ci==null?void 0:Ci.id)||null),!Ci)if($==="llm"){console.warn(`[Replay dispatch] ${Br}`);continue}else throw new Error(`${Br}`);Jn.push(Ci)}Nr=Jn.filter(Boolean).map((Br,vs)=>`${vs+1}${Br.name}
${Br.content}`).join(`

---

`)}else Nr=lr.map(Dt=>`${Dt.label} | ID=${Dt.sectionId}
${Dt.content}`).join(`

`)}else{const Kn=(((_c=(Array.isArray(D==null?void 0:D.inputs)?D.inputs.filter(Xt=>(Xt==null?void 0:Xt.kind)==="doc_resource"):[])[0])==null?void 0:_c.docName)||(D==null?void 0:D.docName)||"").toString();let Yt=Kn?wr(Kn):l,qr=Yt?o.find(Xt=>Xt.id===Yt):null;if(!Yt&&Kn&&(vr!=null&&vr.dirPath)&&(qr=await Ei(Kn),Yt=(qr==null?void 0:qr.id)||null),!qr)return Xe({status:"pass",message:` ${Kn||"()"}`,replayMode:"skipped",passReason:"input_doc_not_found"});if(Nr=((qr==null?void 0:qr.content)||"").toString(),!Nr.trim())return Xe({status:"pass",message:` ${qr.name||Kn}`,replayMode:"skipped",passReason:"input_doc_empty"})}if(!Nr.trim()&&lr.length===0)return Xe({status:"pass",message:" ",replayMode:"skipped",passReason:"no_valid_input"});const mr=await zt("/api/dispatch",{method:"POST",body:{sceneId:s==null?void 0:s.id,instructions:Ft,docContent:Nr,outlineSegments:lr,systemPrompt:Tn}});if((mr==null?void 0:mr.usedModel)===!1)throw new Error("QWEN_API_KEYReplay ");const Hn=Ha(mr.detail||""),jr=Number.isFinite((Sc=D==null?void 0:D.outputs)==null?void 0:Sc.detailLength)?Number(D.outputs.detailLength):null,Lr=Number.isFinite((Cf=D==null?void 0:D.outputs)==null?void 0:Cf.editsCount)?Number(D.outputs.editsCount):null;jr!==null&&jr>0&&Oe(Hn.toString().trim().length>0,"Replay  detail ");const Ui=Hn&&Hn.trim().length>0||Array.isArray(mr.edits)&&mr.edits.length>0;Lr!==null&&Lr>0&&Oe(Ui,"Replay detail  edits ");const xr=await Zi(s==null?void 0:s.id);Oe(!!xr&&Array.isArray(xr.sections),"",{strict:!0});const un=On.length?On:Object.keys(fe||{}).filter(Qt=>fe[Qt]),cr=lr.map(Qt=>At&&Qt.summaryKey?Qt.summaryKey:Qt.sectionId),Sr=Qt=>{if(!Qt)return null;const Kn=String(Qt).trim(),Yt=Kn.match(/ID\s*=\s*(.+)/i);if(Yt)return Yt[1].trim();const qr=Kn.match(/\d+\s*[:]\s*(.+)/);if(qr)return qr[1].trim();const Xt=Kn.match(/(\d+)/);if(Xt){const Fr=parseInt(Xt[1],10)-1;if(Fr>=0&&Fr<cr.length)return cr[Fr]}if(/^\d+$/.test(Kn)){const Fr=parseInt(Kn,10)-1;if(Fr>=0&&Fr<cr.length)return cr[Fr]}const Er=Kn.match(/(\d+)/);if(Er){const Fr=parseInt(Er[1],10)-1;if(Fr>=0&&Fr<cr.length)return cr[Fr]}return Kn},Or={...xr,sections:(xr.sections||[]).map(Qt=>{if(At){const qr=Array.isArray(mr.edits)?mr.edits.filter(Xt=>{const Er=Sr(Xt.sectionId);return Er&&Er.startsWith(Qt.id+"_")}):[];if(!qr.length)return Qt;if(Array.isArray(Qt.summaries)&&Qt.summaries.length>0){const Xt=Qt.summaries.map((Fr,Es)=>{const Dt=qr.find(In=>Sr(In.sectionId)===`${Qt.id}_${Es}`);return Dt&&Dt.field==="summary"&&Dt.content?{...Fr,content:Dt.content}:Fr}),Er=Xt.map(Fr=>Fr.content||"").filter(Boolean).join(`

`);return{...Qt,summaries:Xt,summary:Er}}else{const Xt=qr.find(Er=>Sr(Er.sectionId)===`${Qt.id}_0`);return Xt&&Xt.field==="summary"&&Xt.content?{...Qt,summary:Xt.content}:Qt}}const Kn=Array.isArray(mr.edits)?mr.edits.find(qr=>Sr(qr.sectionId)===Qt.id||qr.sectionId===Qt.id):null,Yt={...Qt,title:!At&&(Kn==null?void 0:Kn.field)==="title"&&Kn.content?Kn.content:Qt.title,summary:(Kn==null?void 0:Kn.field)==="summary"&&Kn.content?Kn.content:Qt.summary};return Hn&&un.includes(Qt.id)?{...Yt,summary:Hn}:Yt})},Bn=await Gs(Or);un.length&&Hn&&un.forEach(Qt=>{const Kn=((Bn==null?void 0:Bn.sections)||[]).find(Yt=>Yt.id===Qt);Oe(!!Kn,`${Qt}`,{strict:!0}),Oe((Kn.summary||"")===Hn,` Replay ${Qt}`)}),un.length&&pe(Qt=>{const Kn={...Qt};return un.forEach(Yt=>{(Z[Yt]||[]).forEach(Xt=>{Kn[Yt]||(Kn[Yt]={}),Kn[Yt][Xt]=!0})}),Kn}),await nr();const wi=$==="llm"&&(Et||qt);return Xe({status:"done",message:wi?"  Replay Done":"  Replay Done",replayMode:wi?"llm":"script"})}return(D==null?void 0:D.type)==="final_generate"||Pe===""?{status:"pass",message:""}:{status:"pass",message:"/"}},Gc=async g=>{var K;const x=He.find($=>$.id===g);if(x&&!((K=_r==null?void 0:_r[g])!=null&&K.running)){le($=>({...$,[g]:!0})),rl($=>({...$,[g]:{running:!0,bySection:{}}})),A("Replay");for(const $ of x.sections||[]){ms(g,$.id,"running","");const E=yc();try{const ce=await ql(x,$);ms(g,$.id,ce.status,ce.message||"",ce.replayMode||"script")}catch(ce){await Hs(E),ms(g,$.id,"fail",(ce==null?void 0:ce.message)||"Replay ",null)}}rl($=>({...$,[g]:{...($==null?void 0:$[g])||{},running:!1}})),A("Replay ")}},Kc=async g=>{var K,$;const x=He.find(E=>E.id===g);if(!x){console.warn(`[Replay]  ${g} `);return}if(!e||!e.sections||e.sections.length===0){console.log("[Replay] ...");try{const E=await zt("/api/template");(($=(K=E==null?void 0:E.template)==null?void 0:K.sections)==null?void 0:$.length)>0&&(t(E.template),console.log("[Replay] ",E.template.sections.length,""),await new Promise(ce=>setTimeout(ce,100)))}catch(E){console.warn("[Replay] :",E)}}le(E=>({...E,[g]:!0})),rl(E=>({...E,[g]:{running:!0,bySection:{}}}));for(let E=0;E<(x.sections||[]).length;E++){const ce=x.sections[E];console.log(`[Replay] ${x.name} ${E+1}/${x.sections.length}: ${ce.action||ce.id}`),ms(g,ce.id,"running","");const ue=yc();try{const D=await ql(x,ce);ms(g,ce.id,D.status,D.message||"",D.replayMode||"script"),console.log(`[Replay]  ${E+1} : ${D.status}`)}catch(D){await Hs(ue),ms(g,ce.id,"fail",(D==null?void 0:D.message)||"Replay ",null),console.error(`[Replay]  ${E+1} :`,D==null?void 0:D.message)}}rl(E=>({...E,[g]:{...(E==null?void 0:E[g])||{},running:!1}})),console.log(`[Replay] ${x.name}`)},Hl=fA({levelLabel:ml,outlineEditing:J,sectionDocLinks:Z,sectionDocDone:se,sectionDocPick:ye,showOutlineMode:w,processingTab:R,selectedOutlineExec:fe,sectionCollapsed:T,summaryExpanded:Be,sectionMergeType:q,selectedSummaries:ee,docs:o,isSectionHiddenByParent:g=>{const x=(e==null?void 0:e.sections)||[],K=x[g];if(!K)return!1;const $=K.level||1;for(let E=g-1;E>=0;E--){const ce=x[E];if(((ce==null?void 0:ce.level)||1)<$&&T[ce.id])return!0}return!1},updateSectionLevel:Ro,setOutlineEditing:C,applyOutlineUpdate:gu,cancelEditOutline:mu,startEditOutline:gl,setSelectedOutlineExec:de,addSectionBelow:Nf,removeSectionById:Ef,hasChildSections:g=>{var ce;const x=(e==null?void 0:e.sections)||[],K=x.findIndex(ue=>ue.id===g);if(K===-1||K===x.length-1)return!1;const $=((ce=x[K])==null?void 0:ce.level)||1,E=x[K+1];return E&&(E.level||1)>$},toggleSectionCollapse:g=>{L(x=>({...x,[g]:!x[g]}))},clearOutlineSummary:$l,setSummaryExpanded:H,setSelectedSummaries:X,setSectionDocPick:ae,addDocToSection:hu,removeDocFromSection:Uu,copyPreviewToSummary:pu,addSummaryToSection:Lo,removeSummaryFromSection:hs,selectSectionMergeType:Ko}),m=(g,x)=>{Oi(JSON.stringify({panelId:g,buttonId:x}))},_=g=>{var K,$;if(Ue)return;console.log("Workbench button clicked:",g.kind,g.label);const x=He.length>0&&Object.keys($t||{}).filter(E=>$t[E]).length===He.length;switch(g.kind){case"save":mc({});break;case"upload":(K=qi.current)==null||K.click();break;case"pick_dir":case"clear_dir":console.log("");break;case"fill_summary":console.log("Fill summary triggered");break;case"tab_outline":k("outline");break;case"tab_records":k("records");break;case"tab_config":k("config"),(async()=>{try{const ce=await zt("/api/multi/precipitation/groups");if(Array.isArray(ce)){const ue=ce.map(wa).filter(Boolean);Kr(ue);const D=new Set(ue.map(Pe=>Pe.id));Ao(Pe=>Pe.map(De=>({...De,groupIds:(De.groupIds||[]).filter(Le=>D.has(Le))})))}}catch(ce){console.error("",ce)}})();break;case"tab_strategy":k("strategy");break;case"batch_replay":hc();break;case"select_all":x?Xr():uc();break;case"delete_selected":ka();break;case"clear_selection":Xr();break;case"group_new":ta();break;case"group_update":na();break;case"group_rename":Ma();break;case"group_delete":ll();break;case"group_replay":xa();break;case"outline_extract":const E=ti.find(ce=>ce.kind==="outline_extract");E?Hc(E):A("");break;case"clear_outline":du();break;case"add_button":Rl(),k("config");break;case"start_deposit":lo();break;case"end_deposit":Ba();break;case"dispatch":Ml();break;default:if(($=g.kind)!=null&&$.startsWith("slot_")||g.kind==="custom"){const ce=ti.find(ue=>ue.id===g.id)||g;Af(ce)}break}},W=(g,x,{style:K,label:$,kind:E,prompt:ce})=>{console.log("[DEBUG] handleButtonUpdate called:",{panelId:g,buttonId:x,style:K,label:$,kind:E,prompt:ce}),Vn(ue=>{const Pe=(ue[g]||[]).map(De=>{if(De.id===x){const Le={...De,style:K?{...De.style,...K}:De.style,label:$!==void 0?$:De.label,kind:E!==void 0?E:De.kind,prompt:ce!==void 0?ce:De.prompt};return console.log("[DEBUG] Updated button:",Le),Le}return De});return{...ue,[g]:Pe}})},Y=(g,x)=>{console.log("[GlobalButton] Update:",g,x),en(K=>K.map($=>$.id===g?{...$,...x}:$))},he=(g,{style:x,label:K,kind:$,prompt:E})=>{console.log("[GlobalButton] Style update:",g,{style:x,label:K,kind:$,prompt:E}),en(ce=>ce.map(ue=>ue.id===g?{...ue,style:x?{...ue.style,...x}:ue.style,label:K!==void 0?K:ue.label,kind:$!==void 0?$:ue.kind,prompt:E!==void 0?E:ue.prompt}:ue))},we=g=>{const x=bn.find($=>$.id===g);if(!x)return;console.log("[GlobalButton] Delete (to recycle):",g);const K={...x,deletedAt:Date.now()};kr($=>[...$,K]),en($=>$.filter(E=>E.id!==g)),setTimeout(()=>{const $=[...Ln,K];localStorage.setItem("deleted-buttons-config",JSON.stringify($))},0)},_e=g=>{const x=Ln.find(ce=>ce.id===g);if(!x)return;const{deletedAt:K,...$}=x,E={...$};en(ce=>[...ce,E]),kr(ce=>{const ue=ce.filter(D=>D.id!==g);return localStorage.setItem("deleted-buttons-config",JSON.stringify(ue)),ue})},Ne=g=>{kr(x=>{const K=x.filter($=>$.id!==g);return localStorage.setItem("deleted-buttons-config",JSON.stringify(K)),K})},Te=()=>{kr([]),localStorage.removeItem("deleted-buttons-config")},Re=(g,x,K="move")=>{if(!Ue)return;g.preventDefault(),g.stopPropagation();const $=bn.find(ue=>ue.id===x);if(!$)return;const E=g.clientX,ce=g.clientY;$o({buttonId:x,action:K,startX:E,startY:ce,startPos:{x:$.x,y:$.y},startSize:{width:$.width,height:$.height}})},Ge=g=>{Oi(g)},nt=g=>{const x=bn.find(K=>K.id===g);x?(kr(K=>[...K,x]),en(K=>K.filter($=>$.id!==g))):console.warn("Button not found in global buttons:",g)};return y.jsxs(y.Fragment,{children:[Ps&&y.jsx("div",{className:"modal-backdrop",onClick:()=>rs(!1),children:y.jsxs("div",{className:"modal-card",onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"modal-head",children:[y.jsx("h3",{children:rt.t80}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>rs(!1),children:rt.t45})]}),y.jsx("div",{className:"modal-body",children:y.jsx(aA,{globalButtons:bn,setGlobalButtons:en,saveButtonConfig:X0,showToast:A})}),y.jsxs("div",{className:"modal-foot",children:[y.jsx("button",{className:"ghost small",type:"button",onClick:()=>rs(!1),children:rt.t22}),y.jsx("button",{className:"ghost small",type:"button",onClick:ul,children:rt.t59})]})]})}),Cl&&ri&&y.jsx(dA,{data:ri,setData:Ni,selectedSectionIndex:Ss,setSelectedSectionIndex:Xs,onCancel:us,onDiscard:()=>{Ee(!1),$e([]),da(!1),Ni(null),Do(null)},onConfirm:Qs,onAIProcess:Us,getScriptForSection:ac,updateScriptForSection:lc,isEditMode:!!ha}),y.jsx(hA,{show:pa,onClose:()=>Ys(!1),depositGroups:rr,selectedGroupIds:Js,setSelectedGroupIds:ma,selectedDepositCount:ds().length,onConfirm:qs}),Ue&&zr&&y.jsx(xb,{deletedButtons:Ln,deletedBlocks:on,onRestore:_e,onPermanentDelete:Ne,onRestoreBlock:sl,onPermanentDeleteBlock:Oa,onClearAll:Te,onClose:()=>_s(!1),onSave:()=>{ft(!1),X0(bn),localStorage.setItem("layout_panel_positions",JSON.stringify(lt)),localStorage.setItem("layout_content_blocks",JSON.stringify(Bt)),localStorage.setItem("layout_deleted_blocks",JSON.stringify(on)),localStorage.setItem("layout_size",JSON.stringify(Ot)),zt("/api/config/save",{method:"POST",body:{layout:lt,globalButtons:{activeButtons:bn,deletedButtons:Ln,version:"2.0",savedAt:Date.now()},contentBlocks:Bt,deletedBlocks:on,headerTitles:En,layoutSize:Ot}}).then(()=>{console.log("Saved config to backend")}).catch(g=>{console.error("Failed to save to backend",g),alert(rt.t154)})},onCancel:()=>{confirm(rt.t155)&&(ft(!1),window.location.reload())},onReset:()=>{confirm(rt.t156)&&(localStorage.removeItem("layout_panel_positions"),localStorage.removeItem("layout_content_blocks"),localStorage.removeItem("button_config_v2"),window.location.reload())}}),Ue&&!zr&&y.jsx("button",{onClick:()=>_s(!0),style:{position:"fixed",right:0,top:"50%",transform:"translateY(-50%)",zIndex:1e4,background:"#fff",border:"1px solid #e2e8f0",borderRight:"none",borderRadius:"8px 0 0 8px",padding:"8px",boxShadow:"-2px 0 8px rgba(0,0,0,0.1)",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:rt.t130,children:y.jsx(Hv,{size:20,color:"#64748b"})}),Ue&&y.jsxs("button",{onClick:()=>{ft(!1),localStorage.setItem("global-buttons-config",JSON.stringify({activeButtons:bn,deletedButtons:Ln,version:"2.0",savedAt:Date.now()})),localStorage.setItem("layout_panel_positions",JSON.stringify(lt)),localStorage.setItem("layout_content_blocks",JSON.stringify(Bt)),localStorage.setItem("layout_deleted_blocks",JSON.stringify(on)),localStorage.setItem("layout_size",JSON.stringify(Ot)),zt("/api/config/save",{method:"POST",body:{layout:lt,globalButtons:{activeButtons:bn,deletedButtons:Ln,version:"2.0",savedAt:Date.now()},contentBlocks:Bt,deletedBlocks:on,headerTitles:En,layoutSize:Ot}}).then(()=>{console.log("Saved config to backend")}).catch(g=>{console.error("Failed to save to backend",g),alert(rt.t154)})},style:{position:"fixed",right:"20px",top:"20px",zIndex:10001,background:"#000",color:"#fff",border:"none",borderRadius:"999px",padding:"10px 24px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",fontSize:"14px",fontWeight:500},children:[y.jsx($1,{size:16}),rt.t81]}),y.jsxs("main",{className:`layout-multi ${Ue?"editing-mode":""}`,style:{position:"relative"},children:[y.jsxs("header",{className:"hero",style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx(Kv,{size:22,style:{color:"var(--primary-accent)",marginTop:"4px"}}),y.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",gap:"4px"},children:[Ue?y.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${En.eyebrow.width||200}px`,height:`${En.eyebrow.height||30}px`,border:"2px dashed #cbd5e1",borderRadius:"4px",background:"transparent",cursor:(Ai==null?void 0:Ai.titleKey)==="eyebrow"?"grabbing":"grab",zIndex:(Ai==null?void 0:Ai.titleKey)==="eyebrow"?200:100,transform:`translate(${((Ie=En.eyebrow.position)==null?void 0:Ie.left)||0}px, ${((Ye=En.eyebrow.position)==null?void 0:Ye.top)||0}px)`},onMouseDown:g=>Sa(g,"eyebrow"),children:[y.jsx("p",{className:"eyebrow",style:{margin:0,flex:1,display:"flex",alignItems:"center",justifyContent:((et=En.eyebrow.style)==null?void 0:et.textAlign)==="left"?"flex-start":((vt=En.eyebrow.style)==null?void 0:vt.textAlign)==="right"?"flex-end":"center",textAlign:((it=En.eyebrow.style)==null?void 0:it.textAlign)||"center",...En.eyebrow.style},children:En.eyebrow.text}),y.jsx("button",{onClick:g=>{g.stopPropagation(),Os("eyebrow")},onMouseDown:g=>g.stopPropagation(),style:{width:"20px",height:"20px",borderRadius:"50%",background:"#3b82f6",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)",padding:0,flexShrink:0},title:rt.t82,children:y.jsx(ig,{size:12})}),y.jsx("div",{onMouseDown:g=>za(g,"eyebrow","se"),style:{position:"absolute",right:"-4px",bottom:"-4px",width:"12px",height:"12px",background:"#3b82f6",border:"2px solid #fff",borderRadius:"50%",cursor:"nwse-resize",zIndex:120,boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"}})]}):y.jsx("p",{className:"eyebrow",style:{...En.eyebrow.style,transform:`translate(${((gt=En.eyebrow.position)==null?void 0:gt.left)||0}px, ${((yt=En.eyebrow.position)==null?void 0:yt.top)||0}px)`,position:"relative",width:`${En.eyebrow.width||200}px`,height:`${En.eyebrow.height||30}px`,display:"flex",alignItems:"center",justifyContent:((_t=En.eyebrow.style)==null?void 0:_t.textAlign)==="left"?"flex-start":((St=En.eyebrow.style)==null?void 0:St.textAlign)==="right"?"flex-end":"center",textAlign:((gn=En.eyebrow.style)==null?void 0:gn.textAlign)||"center",margin:0},children:En.eyebrow.text}),Ue?y.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${En.title.width||200}px`,height:`${En.title.height||40}px`,border:"2px dashed #cbd5e1",borderRadius:"4px",background:"transparent",cursor:(Ai==null?void 0:Ai.titleKey)==="title"?"grabbing":"grab",zIndex:(Ai==null?void 0:Ai.titleKey)==="title"?200:100,transform:`translate(${((nn=En.title.position)==null?void 0:nn.left)||0}px, ${((or=En.title.position)==null?void 0:or.top)||0}px)`},onMouseDown:g=>Sa(g,"title"),children:[y.jsx("h1",{style:{margin:0,flex:1,display:"flex",alignItems:"center",justifyContent:((ln=En.title.style)==null?void 0:ln.textAlign)==="left"?"flex-start":((Cr=En.title.style)==null?void 0:Cr.textAlign)==="right"?"flex-end":"center",textAlign:((Ii=En.title.style)==null?void 0:Ii.textAlign)||"center",...En.title.style},children:En.title.text}),y.jsx("button",{onClick:g=>{g.stopPropagation(),Os("title")},onMouseDown:g=>g.stopPropagation(),style:{width:"24px",height:"24px",borderRadius:"50%",background:"#3b82f6",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)",padding:0,flexShrink:0},title:rt.t82,children:y.jsx(ig,{size:12})}),y.jsx("div",{onMouseDown:g=>za(g,"title","se"),style:{position:"absolute",right:"-4px",bottom:"-4px",width:"12px",height:"12px",background:"#3b82f6",border:"2px solid #fff",borderRadius:"50%",cursor:"nwse-resize",zIndex:120,boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"}})]}):y.jsx("h1",{style:{...En.title.style,transform:`translate(${((ar=En.title.position)==null?void 0:ar.left)||0}px, ${((rn=En.title.position)==null?void 0:rn.top)||0}px)`,position:"relative",width:`${En.title.width||200}px`,height:`${En.title.height||40}px`,display:"flex",alignItems:"center",justifyContent:((Gt=En.title.style)==null?void 0:Gt.textAlign)==="left"?"flex-start":(($i=En.title.style)==null?void 0:$i.textAlign)==="right"?"flex-end":"center",textAlign:((Xn=En.title.style)==null?void 0:Xn.textAlign)||"center",margin:0},children:En.title.text})]})]}),y.jsxs("div",{className:"actions",style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[y.jsxs("button",{onClick:r,className:"ghost",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",borderRadius:"999px",fontSize:"16px",fontWeight:600,marginRight:Ue?"280px":"0"},children:[y.jsx(Gv,{size:18})," ",rt.t83]}),!Ue&&y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("button",{className:`ghost ${Ce?"active":""}`,onClick:lo,children:[y.jsx(eg,{size:18})," ",Ce?rt.t131:rt.t141]}),Ce&&y.jsx("button",{className:"ghost",onClick:Ba,children:rt.t87})]}),Ue&&y.jsx("span",{className:"hint",children:rt.t88})]}),!Ue&&y.jsxs("div",{style:{position:"fixed",right:"24px",bottom:"24px",display:"flex",gap:"8px",zIndex:100},children:[y.jsxs("button",{className:"ghost",onClick:()=>rs(!0),title:rt.t84,style:{fontSize:"11px",padding:"4px 8px"},children:[y.jsx(fh,{size:14}),rt.t80]}),y.jsxs("button",{className:"ghost",onClick:()=>ft(!0),title:rt.t85,style:{fontSize:"11px",padding:"4px 8px"},children:[y.jsx(Vv,{size:14}),rt.t86]})]})]}),Ue?y.jsx(Jv,{isEditing:!0,size:Ot,onSizeChange:Kt,style:{position:"relative"},children:y.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[y.jsx(Sl,{panelId:"document-list-panel",panelName:is("document-list-panel"),isEditing:Ue,onTitleEdit:()=>Qr("document-list-panel"),titleStyle:(Ar=lt["document-list-panel"])==null?void 0:Ar.titleStyle,className:"document-list-panel",position:lt["document-list-panel"],onPositionChange:g=>Nt(x=>({...x,"document-list-panel":g})),children:y.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:y.jsx(Ra,{blockId:"document-list-content",panelId:"document-list-panel",isEditing:Ue,position:Bt["document-list-panel"],onPositionChange:g=>pr(x=>({...x,"document-list-panel":g})),hidden:on.includes("document-list-panel"),onDelete:()=>$s("document-list-panel"),children:y.jsx(lg,{docs:o,setDocs:a,selectedDocId:l,setSelectedDocId:f,deleteDoc:gc,uploadInputRef:qi,handleFilePick:Ga,replayDirConfig:vr,setReplayDirConfig:Bi,saveReplayDirConfig:_a,replayDirConfigSaving:mi})})})}),y.jsx(Sl,{panelId:"preview-panel",panelName:is("preview-panel"),isEditing:Ue,onTitleEdit:()=>Qr("preview-panel"),titleStyle:(di=lt["preview-panel"])==null?void 0:di.titleStyle,className:"preview-panel",position:lt["preview-panel"],onPositionChange:g=>Nt(x=>({...x,"preview-panel":g})),children:y.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:y.jsx(Ra,{blockId:"preview-textarea",panelId:"preview-panel",isEditing:Ue,position:Bt["preview-textarea"],onPositionChange:g=>pr(x=>({...x,"preview-textarea":g})),hidden:on.includes("preview-textarea"),onDelete:()=>$s("preview-textarea"),children:y.jsxs("div",{className:"card",style:{width:"100%",height:"100%",padding:"0",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[y.jsx("div",{style:{position:"absolute",top:8,right:24,zIndex:10},children:y.jsxs("button",{type:"button",onClick:Va,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[y.jsx(Z0,{size:14}),rt.t89]})}),y.jsx("textarea",{ref:Eo,className:"preview full",value:M,onChange:g=>z(g.target.value),onMouseUp:ps,onKeyUp:ps,onSelect:ps,onBlur:qu,placeholder:rt.t90,style:{border:"none",width:"100%",height:"100%",resize:"none",padding:"48px 12px 12px",boxSizing:"border-box"}})]})})})}),y.jsx(Sl,{panelId:"processing-panel",panelName:is("processing-panel"),isEditing:Ue,onTitleEdit:()=>Qr("processing-panel"),titleStyle:(io=lt["processing-panel"])==null?void 0:io.titleStyle,className:"processing-panel",position:lt["processing-panel"],onPositionChange:g=>Nt(x=>({...x,"processing-panel":g})),children:y.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[y.jsx(Ra,{blockId:"processing-tabs",panelId:"processing-panel",isEditing:Ue,position:Bt["processing-tabs"],onPositionChange:g=>pr(x=>({...x,"processing-tabs":g})),allowChildPointerEvents:!0,children:y.jsxs("div",{className:"editable-button-group processing-tabs-bar",children:[Bc().map(g=>y.jsx(Cu,{button:g,isEditing:Ue,panelId:"processing-tabs",onMouseDown:fi,onStyleEdit:m,onClick:_},g.id)),Wc()]})}),R!=="records"&&y.jsx(Ra,{blockId:"processing-content",panelId:"processing-panel",isEditing:Ue,position:Bt["processing-panel"],onPositionChange:g=>pr(x=>({...x,"processing-panel":g})),hidden:on.includes("processing-panel"),onDelete:()=>$s("processing-panel"),children:y.jsx("div",{style:{fontSize:"12px",color:"#666",minHeight:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:y.jsxs("div",{style:{padding:"0 12px 12px",overflowY:"auto",flex:1},children:[R==="outline"&&y.jsxs("div",{children:[y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginBottom:"12px",position:"sticky",top:0,backgroundColor:"#fff",zIndex:10,paddingTop:"12px",paddingBottom:"8px",borderBottom:"1px solid #f1f5f9"},children:[y.jsx("button",{className:"ghost small",onClick:()=>To(!0),disabled:!((Hi=e==null?void 0:e.sections)!=null&&Hi.length),style:{background:"#3b82f6",color:"#fff",border:"none"},children:rt.t91}),y.jsx("button",{className:"ghost small",onClick:du,style:{color:"#ef4444",borderColor:"#ef4444"},children:rt.t92})]}),!e||!e.sections||e.sections.length===0?y.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",padding:"20px",textAlign:"center"},children:rt.t93}):e.sections.map((g,x)=>Hl({section:g,index:x}))]}),R==="config"&&y.jsx(Ov,{appButtonsConfig:yr,selectedAppButtonId:Uo,setSelectedAppButtonId:Gn,depositGroups:rr,updateAppButtonLabel:cl,toggleAppButtonGroup:ra,saveAppButtonsConfig:ba,appButtonsSaving:No})]})})}),R==="records"&&y.jsxs(y.Fragment,{children:[y.jsxs(Ra,{blockId:"processing-records-toolbar",panelId:"processing-panel",isEditing:Ue,position:{...Bt["processing-records-toolbar"],height:70},onPositionChange:g=>pr(x=>({...x,"processing-records-toolbar":g})),allowChildPointerEvents:!0,children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0"},children:[y.jsx("button",{type:"button",className:`ghost small ${G==="deposits"?"active":""}`,onClick:()=>re("deposits"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:rt.t61}),y.jsx("button",{type:"button",className:`ghost small ${G==="groups"?"active":""}`,onClick:()=>re("groups"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:rt.t62})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"2px 0",borderBottom:"1px solid #e5e7eb",marginBottom:"4px",flexWrap:"nowrap",overflowX:"auto",minHeight:"32px"},children:[G==="deposits"&&co(Ws).map(g=>y.jsx(Cu,{button:g,isEditing:Ue,panelId:"processing-records-toolbar",onMouseDown:fi,onStyleEdit:m,onClick:_},g.id)),G==="groups"&&co(hl).map(g=>y.jsx(Cu,{button:g,isEditing:Ue,panelId:"processing-records-toolbar",onMouseDown:fi,onStyleEdit:m,onClick:_},g.id))]})]}),y.jsx(Ra,{blockId:"processing-records-list",panelId:"processing-panel",isEditing:Ue,position:Bt["processing-records-list"],onPositionChange:g=>pr(x=>({...x,"processing-records-list":g})),children:y.jsxs("div",{className:"sections history-scroll",style:{height:"100%",overflow:"auto"},children:[G==="groups"&&Aa(),G==="groups"&&fu(),G==="deposits"&&He.length===0&&y.jsx("p",{className:"hint",style:{padding:"20px",textAlign:"center"},children:rt.t63}),G==="deposits"&&He.length>0&&y.jsx(y.Fragment,{children:He.map((g,x)=>{var D,Pe,De;const K=`${g.id}||order`,$=Rn[K]!==void 0,E=Go(g),ce=Ol(g),ue=E?E.replace(" ","-"):"";return y.jsxs("div",{className:"section",onDragOver:$c(g.id),onDrop:Uc(g.id),style:Tr===g.id?{outline:"2px dashed #3b82f6",outlineOffset:2}:void 0,children:[y.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[y.jsx("label",{className:"inline-check",style:{gap:6},children:y.jsx("input",{type:"checkbox",checked:!!($t!=null&&$t[g.id]),onChange:Le=>Fo(g.id,Le.target.checked)})}),y.jsx("button",{className:"icon-btn tiny deposit-drag-handle",type:"button",draggable:!0,onDragStart:zc(g.id),onDragEnd:qc,title:rt.t64,children:y.jsx(w1,{size:12})}),$?y.jsx("input",{className:"deposit-order-input",type:"number",min:1,max:He.length,value:Rn[K],onChange:Le=>ia(g.id,"order",Le.target.value),onBlur:()=>dl(g.id),onKeyDown:Le=>Mc(Le,g.id)}):y.jsx("button",{className:"pill muted deposit-order-pill",type:"button",onClick:()=>fl(g.id,x+1),title:rt.t65,children:x+1}),y.jsx("span",{className:"deposit-name",children:g.name||rt.t144})]}),y.jsxs("div",{className:"section-actions",style:{gap:6},children:[E&&(E==="done"||E!=="done")&&(E!=="done"||((D=g.sections)==null?void 0:D.length)>0&&((Pe=_r==null?void 0:_r[g.id])!=null&&Pe.bySection)&&Object.keys(_r[g.id].bySection).length===g.sections.length?y.jsx("span",{className:`status ${ue}`,title:ce||rt.t122,children:E==="done"?"DONE":E}):null),y.jsx(Fv,{deposit:g,updateDepositMode:Dl}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>ya(g.id),title:"",children:" "}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Gc(g.id),disabled:!!((De=_r==null?void 0:_r[g.id])!=null&&De.running),children:"Replay"}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>$a([g.id]),children:rt.t25}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>le(Le=>({...Le,[g.id]:!Le[g.id]})),children:U[g.id]?rt.t142:rt.t143})]})]}),E&&E!=="done"&&ce?y.jsxs("div",{className:"hint",style:{marginTop:6,color:"#92400e"},children:[rt.t70,ce]}):null,U[g.id]&&y.jsxs("div",{className:"sections",style:{gap:6,marginTop:"8px"},children:[(g.sections||[]).length===0&&y.jsx("div",{className:"hint",children:rt.t71}),(g.sections||[]).map((Le,Me)=>{var Pt,mt;const Oe=(mt=(Pt=_r==null?void 0:_r[g.id])==null?void 0:Pt.bySection)==null?void 0:mt[Le.id],Xe=Ze((Le==null?void 0:Le.content)||""),ct=(Xe==null?void 0:Xe.type)==="add_doc"&&((Xe==null?void 0:Xe.source)==="upload"||((Le==null?void 0:Le.content)||"").toString().includes(rt.t162));return y.jsxs("div",{className:"section",style:{background:"#fff"},children:[y.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[y.jsx("span",{className:"pill muted",children:Me+1}),y.jsx("span",{className:"section-action-name",children:Le.action||rt.t123}),y.jsx("span",{style:{fontSize:"10px",padding:"2px 5px",borderRadius:"3px",background:g.validationMode==="strict"?"#fef3c7":"#f0fdf4",color:g.validationMode==="strict"?"#b45309":"#059669",marginLeft:"4px"},title:g.validationMode==="strict"?"":"",children:g.validationMode==="strict"?"":""}),Oe!=null&&Oe.status?y.jsxs("span",{className:`status ${Oe.status}`,title:Oe.message||"",style:{display:"inline-flex",alignItems:"center",gap:"4px",fontSize:"10px",padding:"2px 6px",borderRadius:"3px",background:Oe.status==="done"?Oe.replayMode==="llm"?"#dbeafe":"#dcfce7":Oe.status==="fail"?"#fee2e2":"#fef3c7",color:Oe.status==="done"?Oe.replayMode==="llm"?"#1e40af":"#166534":Oe.status==="fail"?"#b91c1c":"#b45309"},children:[Oe.status==="done"&&Oe.replayMode==="llm"&&"",Oe.status==="done"&&Oe.replayMode!=="llm"&&"",Oe.status==="fail"&&"",Oe.status==="pass"&&"",Oe.status==="running"&&"",Oe.status.toUpperCase(),Oe.status==="done"&&Oe.replayMode==="llm"&&" ()",Oe.status==="done"&&Oe.replayMode==="script"&&" ()",Oe.status==="done"&&Oe.replayMode==="script_fallback"&&" ()"]}):null]}),y.jsxs("div",{className:"section-actions",style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap"},children:[y.jsxs("select",{value:Le.sectionReplayMode||g.precipitationMode||"llm",onChange:tt=>dc(g.id,Le.id,tt.target.value),title:" Replay ",style:{fontSize:10,padding:"2px 6px",background:(Le.sectionReplayMode||g.precipitationMode||"llm")==="llm"?"#dbeafe":"#dcfce7",color:(Le.sectionReplayMode||g.precipitationMode||"llm")==="llm"?"#1e40af":"#166534",borderRadius:4,border:"1px solid #d1d5db",cursor:"pointer",minWidth:"85px"},children:[y.jsx("option",{value:"llm",children:" "}),y.jsx("option",{value:"script",children:" "})]}),y.jsx("button",{className:"ghost xsmall",type:"button",title:" Replay",onClick:()=>pl(g.id,Le.id),disabled:(Oe==null?void 0:Oe.status)==="running",style:{fontSize:10,padding:"2px 6px"},children:"Replay"}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>si(g.id,Le.id),style:{fontSize:10,padding:"2px 6px"},children:il[`${g.id}_${Le.id}`]?"":""}),ct&&y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Bl(g.id,Le),style:{fontSize:10},children:rt.t73}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Fl(g.id,Le.id),style:{fontSize:10,color:"#b91c1c"},children:""})]})]}),il[`${g.id}_${Le.id}`]!==!1&&y.jsxs(y.Fragment,{children:[(()=>{var Ur,hi,Ct,Wn,Ke,We,Tt,Zt,bt;const tt=((Ur=Le.llmScript)==null?void 0:Ur.structuredScriptContent)||((hi=Le.llmScript)==null?void 0:hi.rawContent)||((Ct=Le.originalScript)==null?void 0:Ct.content)||(Le.content&&!Le.content.includes("__REPLAY_META__")?Le.content:(Ke=(Wn=Le.content)==null?void 0:Wn.split("__REPLAY_META__")[0])==null?void 0:Ke.trim()),dt=(Ut,An)=>{if(!Ut)return"";const $n=new RegExp(`${An}([^]*?)(?=|$)`,"s"),sr=Ut.match($n);return sr?sr[1].trim():""},Vt=dt(tt,"")||((We=Le.llmScript)==null?void 0:We.type)||"",dn=dt(tt,"")||((Tt=Le.llmScript)==null?void 0:Tt.docName)||"",ut=dt(tt,"")||((bt=(Zt=Le.llmScript)==null?void 0:Zt.outputs)==null?void 0:bt.summary)||"",cn=dt(tt,"");return tt||Vt||dn||ut?y.jsxs("div",{style:{background:"linear-gradient(135deg, #fefce8 0%, #fef9c3 100%)",border:"1px solid #fcd34d",borderRadius:6,padding:8,marginTop:8},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:[y.jsx("span",{style:{background:"#f59e0b",color:"#fff",fontSize:10,padding:"2px 6px",borderRadius:4},children:" "}),Vt&&y.jsx("span",{style:{fontSize:11,color:"#92400e",background:"#fef3c7",padding:"1px 4px",borderRadius:3},children:Vt})]}),dn&&y.jsxs("div",{style:{fontSize:11,color:"#78350f",marginBottom:2},children:[" : ",dn]}),ut&&y.jsxs("div",{style:{fontSize:11,color:"#78350f",marginBottom:2},children:[" : ",ut.length>80?ut.substring(0,80)+"...":ut]}),cn&&cn!==""&&y.jsxs("div",{style:{fontSize:11,color:"#78350f"},children:[" : ",cn]}),tt&&y.jsxs("details",{style:{marginTop:6},children:[y.jsx("summary",{style:{fontSize:10,color:"#a16207",cursor:"pointer",userSelect:"none"},children:"..."}),y.jsx("pre",{style:{fontSize:10,color:"#713f12",background:"#fffbeb",padding:6,borderRadius:4,marginTop:4,whiteSpace:"pre-wrap",wordBreak:"break-all",maxHeight:200,overflow:"auto"},children:tt})]})]}):null})(),(()=>{var Ir,Ur,hi,Ct;const tt=Le.llmScript||{},dt=Xe||Le.meta||{},Vt=((Ir=dt==null?void 0:dt.docSelector)==null?void 0:Ir.description)||((Ur=tt==null?void 0:tt.docSelector)==null?void 0:Ur.description)||"",dn=tt.inputSourceDesc||((Ct=(hi=dt==null?void 0:dt.inputs)==null?void 0:hi[0])==null?void 0:Ct.contextSummary)||"",ut=tt.aiGuidance||(dt==null?void 0:dt.aiGuidance)||"",cn=tt.specialRequirements||(dt==null?void 0:dt.specialRequirements)||"";return y.jsxs("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #7dd3fc",borderRadius:6,padding:8,marginTop:8},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[y.jsx("span",{style:{background:"#0ea5e9",color:"#fff",fontSize:10,padding:"2px 6px",borderRadius:4},children:" "}),tt.type&&y.jsx("span",{style:{fontSize:11,color:"#0369a1",background:"#e0f2fe",padding:"1px 4px",borderRadius:3},children:tt.type})]}),tt.description&&y.jsxs("div",{style:{fontSize:11,color:"#0c4a6e",marginBottom:2},children:[" : ",tt.description]}),Vt&&y.jsxs("div",{style:{fontSize:11,color:"#0c4a6e",marginBottom:2},children:[" : ",y.jsx("span",{style:{color:"#0369a1",fontWeight:500},children:Vt})]}),(tt.instructions||tt.promptContent)&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" : ",(tt.instructions||tt.promptContent).substring(0,80),(tt.instructions||tt.promptContent).length>80?"...":""]}),dn&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" : ",dn]}),tt.targetTitle&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" : ",tt.targetTitle]}),ut&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" AI: ",ut.substring(0,100),ut.length>100?"...":""]}),cn&&cn!==""&&y.jsxs("div",{style:{fontSize:11,color:"#64748b"},children:[" : ",cn]}),!tt.description&&!Vt&&!(tt.instructions||tt.promptContent)&&!dn&&!tt.targetTitle&&!ut&&(!cn||cn==="")&&y.jsx("div",{style:{fontSize:11,color:"#94a3b8",fontStyle:"italic"},children:"AI"})]})})()]}),(Oe==null?void 0:Oe.status)&&y.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap",color:Oe.status==="fail"?"#b91c1c":Oe.status==="done"?"#166534":"#92400e",marginTop:4,fontSize:11,background:Oe.status==="done"?"#f0fdf4":Oe.status==="fail"?"#fef2f2":"transparent",padding:Oe.status==="done"||Oe.status==="fail"?"4px 8px":0,borderRadius:"4px"},children:Oe.message||(Oe.status==="done"?" Replay ":rt.t129)})]},Le.id)})]})]},`${g.id}-${x}`)})})]})})]})]})}),y.jsx(Sl,{panelId:"operations-panel",panelName:is("operations-panel"),isEditing:Ue,onTitleEdit:()=>Qr("operations-panel"),titleStyle:(Ti=lt["operations-panel"])==null?void 0:Ti.titleStyle,className:"operations-panel",position:lt["operations-panel"],onPositionChange:g=>Nt(x=>({...x,"operations-panel":g})),children:y.jsx(Ra,{blockId:"operations-content",panelId:"operations-panel",isEditing:Ue,position:Bt["operations-panel"],onPositionChange:g=>pr(x=>({...x,"operations-panel":g})),hidden:on.includes("operations-panel"),onDelete:()=>$s("operations-panel"),children:y.jsxs("div",{className:"card",children:[y.jsx("div",{className:"card-head",children:y.jsx("div",{className:"actions",style:{gap:"6px"},children:w?y.jsxs("button",{type:"button",className:`ghost small ${be==="batch_outline"?"active":""}`,onClick:()=>Ae("batch_outline"),children:[y.jsx(Jf,{size:14}),rt.t97]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",className:`ghost small ${be==="doc"?"active":""}`,onClick:()=>Ae("doc"),children:[y.jsx(ed,{size:14}),rt.t95]}),y.jsxs("button",{type:"button",className:`ghost small ${be==="result"?"active":""}`,onClick:()=>Ae("result"),children:[y.jsx(td,{size:14}),rt.t96]})]})})}),y.jsx("textarea",{ref:Yi,className:"dispatch-input",style:{height:`${ge}px`,resize:"vertical",minHeight:"40px"},placeholder:rt.t98,onMouseUp:g=>{const x=g.target.offsetHeight;x&&x!==ge&&xe(x)}}),cs!=null&&cs.enabled?y.jsxs("button",{className:"ghost",onClick:Ml,disabled:S||d,children:[y.jsx(ng,{size:16})," ",(cs.label||rt.t145).toString()]}):y.jsx("div",{className:"hint",children:rt.t99})]})})}),y.jsx(sg,{buttons:bn.filter(g=>g.kind!=="outline_extract"&&g.kind!=="upload_file"&&g.kind!=="fill_summary"),isEditing:Ue,onMouseDown:Re,onStyleEdit:Ge,onClick:g=>{g.action==="run_block"&&runOutlineBlock(g.targetId),g.action==="toggle_section"&&toggleSection(g.targetId),g.kind==="dispatch"&&Ml(),g.kind==="final_generate"&&runFinalGenerate()},onDelete:nt})]})}):y.jsxs("div",{style:{flex:1,position:"relative",minHeight:"600px",overflow:"visible"},children:[y.jsx(Sl,{panelId:"document-list-panel",panelName:is("document-list-panel"),isEditing:!1,titleStyle:(Qi=lt["document-list-panel"])==null?void 0:Qi.titleStyle,className:"document-list-panel",position:lt["document-list-panel"],onPositionChange:()=>{},headerActions:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[((oo=bn.find(g=>g.kind==="upload_file"))==null?void 0:oo.enabled)!==!1&&y.jsxs("button",{type:"button",onClick:()=>{var g;console.log("Upload button clicked",qi.current),(g=qi.current)==null||g.click()},title:((yi=bn.find(g=>g.kind==="upload_file"))==null?void 0:yi.label)||rt.t146,style:{pointerEvents:"auto",backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[y.jsx(db,{size:14})," ",((Rr=bn.find(g=>g.kind==="upload_file"))==null?void 0:Rr.label)||rt.t146]}),y.jsx("button",{type:"button",onClick:()=>void zl(),disabled:o.length===0,title:rt.t100,style:{pointerEvents:"auto",backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:o.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",opacity:o.length===0?.6:1},children:rt.t92})]}),children:y.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:y.jsx(Ra,{blockId:"document-list-content",panelId:"document-list-panel",isEditing:!1,position:Bt["document-list-panel"],onPositionChange:()=>{},hidden:on.includes("document-list-panel"),children:y.jsx(lg,{docs:o,setDocs:a,selectedDocId:l,setSelectedDocId:f,deleteDoc:gc,uploadInputRef:qi,handleFilePick:Ga,replayDirConfig:vr,setReplayDirConfig:Bi,saveReplayDirConfig:_a,replayDirConfigSaving:mi})})})}),y.jsx(Sl,{panelId:"preview-panel",panelName:is("preview-panel"),isEditing:!1,titleStyle:(Yr=lt["preview-panel"])==null?void 0:Yr.titleStyle,className:"preview-panel",position:lt["preview-panel"],onPositionChange:()=>{},children:y.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:y.jsx(Ra,{blockId:"preview-textarea",panelId:"preview-panel",isEditing:!1,position:Bt["preview-textarea"],onPositionChange:()=>{},hidden:on.includes("preview-textarea"),children:y.jsxs("div",{className:"card",style:{width:"100%",height:"100%",padding:"0",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[y.jsx("div",{style:{position:"absolute",top:8,right:24,zIndex:10},children:y.jsxs("button",{type:"button",onClick:Va,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[y.jsx(Z0,{size:14}),rt.t89]})}),y.jsx("textarea",{ref:Eo,className:"preview full",value:M,onChange:g=>z(g.target.value),onMouseUp:ps,onKeyUp:ps,onSelect:ps,onBlur:qu,placeholder:rt.t90,style:{border:"none",width:"100%",height:"100%",resize:"none",padding:"48px 12px 12px",boxSizing:"border-box"}})]})})})}),y.jsx(Sl,{panelId:"processing-panel",panelName:is("processing-panel"),isEditing:!1,titleStyle:(vi=lt["processing-panel"])==null?void 0:vi.titleStyle,className:"processing-panel",position:lt["processing-panel"],onPositionChange:()=>{},children:y.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[y.jsx(Ra,{blockId:"processing-tabs",panelId:"processing-panel",isEditing:!1,position:Bt["processing-tabs"],onPositionChange:()=>{},allowChildPointerEvents:!0,children:y.jsxs("div",{className:"editable-button-group processing-tabs-bar",children:[Bc().map(g=>y.jsx(Cu,{button:g,isEditing:!1,panelId:"processing-tabs",onMouseDown:fi,onStyleEdit:m,onClick:_},g.id)),Wc()]})}),R!=="records"&&y.jsx(Ra,{blockId:"processing-content",panelId:"processing-panel",isEditing:!1,position:Bt["processing-panel"],onPositionChange:()=>{},hidden:on.includes("processing-panel"),children:y.jsx("div",{style:{fontSize:"12px",color:"#666",minHeight:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:y.jsxs("div",{style:{padding:"0 12px 12px",overflowY:"auto",flex:1},children:[R==="outline"&&y.jsxs("div",{children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",position:"sticky",top:0,backgroundColor:"#fff",zIndex:10,paddingTop:"12px",paddingBottom:"8px",borderBottom:"1px solid #f1f5f9"},children:[y.jsxs("button",{onClick:Il,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[y.jsx(eg,{size:14}),rt.t101]}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[bn.filter(g=>g.kind==="outline_extract"&&g.enabled!==!1).slice(0,1).map(g=>y.jsx("button",{onClick:()=>Hc(g),title:g.prompt?`Prompt: ${g.prompt.slice(0,50)}...`:rt.t147,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:g.label},g.id)),y.jsx("button",{onClick:du,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:rt.t92}),y.jsx("button",{onClick:()=>To(!0),disabled:!((Jr=e==null?void 0:e.sections)!=null&&Jr.length),style:{backgroundColor:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",opacity:(ji=e==null?void 0:e.sections)!=null&&ji.length?1:.5},children:rt.t91})]})]}),!e||!e.sections||e.sections.length===0?y.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",padding:"20px",textAlign:"center"},children:rt.t93}):e.sections.map((g,x)=>Hl({section:g,index:x}))]}),R==="config"&&y.jsx(Ov,{appButtonsConfig:yr,selectedAppButtonId:Uo,setSelectedAppButtonId:Gn,depositGroups:rr,updateAppButtonLabel:cl,toggleAppButtonGroup:ra,saveAppButtonsConfig:ba,appButtonsSaving:No}),R==="strategy"&&y.jsxs("div",{style:{height:"100%",overflow:"auto"},children:[y.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f0f0f0",background:"#fafafa"},children:[y.jsx("h4",{style:{margin:"0 0 4px",fontSize:"15px",fontWeight:600},children:rt.t138}),y.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b"},children:rt.t139})]}),y.jsxs("div",{style:{padding:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsxs("div",{className:"card",style:{padding:"20px",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",background:"#fff"},children:[y.jsx("h5",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:600,borderBottom:"1px solid #f1f5f9",paddingBottom:"12px",color:"#334155"},children:rt.t102}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569",cursor:"pointer"},children:[y.jsx("span",{children:rt.t103}),y.jsx("input",{type:"checkbox",defaultChecked:!0,style:{width:"16px",height:"16px"}})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[y.jsx("span",{children:rt.t104}),y.jsx("input",{type:"number",defaultValue:5,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[y.jsx("span",{children:rt.t105}),y.jsx("input",{type:"number",defaultValue:100,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]})]})]}),y.jsxs("div",{className:"card",style:{padding:"20px",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",background:"#fff"},children:[y.jsx("h5",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:600,borderBottom:"1px solid #f1f5f9",paddingBottom:"12px",color:"#334155"},children:rt.t140}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569",cursor:"pointer"},children:[y.jsx("span",{children:rt.t106}),y.jsx("input",{type:"checkbox",defaultChecked:!0,style:{width:"16px",height:"16px"}})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[y.jsx("span",{children:rt.t107}),y.jsxs("select",{style:{width:"80px",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px",background:"#fff"},children:[y.jsx("option",{}),y.jsx("option",{}),y.jsx("option",{})]})]})]})]}),y.jsxs("div",{className:"card",style:{padding:"20px",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",background:"#fff"},children:[y.jsx("h5",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:600,borderBottom:"1px solid #f1f5f9",paddingBottom:"12px",color:"#334155"},children:rt.t108}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569",cursor:"pointer"},children:[y.jsx("span",{children:rt.t109}),y.jsx("input",{type:"checkbox",style:{width:"16px",height:"16px"}})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[y.jsx("span",{children:rt.t110}),y.jsx("input",{type:"number",defaultValue:10,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[y.jsx("span",{children:rt.t137}),y.jsx("input",{type:"number",defaultValue:.8,step:.1,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]})]})]})]})]})]})})}),R==="records"&&y.jsxs(y.Fragment,{children:[y.jsxs(Ra,{blockId:"processing-records-toolbar",panelId:"processing-panel",isEditing:!1,position:Bt["processing-records-toolbar"],onPositionChange:()=>{},allowChildPointerEvents:!0,children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0"},children:[y.jsx("button",{type:"button",className:`ghost small ${G==="deposits"?"active":""}`,onClick:()=>re("deposits"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:rt.t61}),y.jsx("button",{type:"button",className:`ghost small ${G==="groups"?"active":""}`,onClick:()=>re("groups"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:rt.t62})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"2px 0",borderBottom:"1px solid #e5e7eb",marginBottom:"4px",flexWrap:"nowrap",overflowX:"auto",minHeight:"32px"},children:[G==="deposits"&&co(Ws).map(g=>y.jsx(Cu,{button:g,isEditing:!1,panelId:"processing-records-toolbar",onMouseDown:fi,onStyleEdit:m,onClick:_},g.id)),G==="groups"&&co(hl).map(g=>y.jsx(Cu,{button:g,isEditing:!1,panelId:"processing-records-toolbar",onMouseDown:fi,onStyleEdit:m,onClick:_},g.id))]})]}),y.jsx(Ra,{blockId:"processing-records-list",panelId:"processing-panel",isEditing:!1,position:Bt["processing-records-list"],onPositionChange:()=>{},children:y.jsxs("div",{className:"sections history-scroll",style:{height:"100%",overflow:"auto"},children:[G==="groups"&&Aa(),G==="groups"&&fu(),G==="deposits"&&He.length===0&&y.jsx("p",{className:"hint",style:{padding:"20px",textAlign:"center"},children:rt.t63}),G==="deposits"&&He.length>0&&y.jsx(y.Fragment,{children:He.map((g,x)=>{var D,Pe,De;const K=`${g.id}||order`,$=Rn[K]!==void 0,E=Go(g),ce=Ol(g),ue=E?E.replace(" ","-"):"";return y.jsxs("div",{className:"section",onDragOver:$c(g.id),onDrop:Uc(g.id),style:Tr===g.id?{outline:"2px dashed #3b82f6",outlineOffset:2}:void 0,children:[y.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[y.jsx("label",{className:"inline-check",style:{gap:6},children:y.jsx("input",{type:"checkbox",checked:!!($t!=null&&$t[g.id]),onChange:Le=>Fo(g.id,Le.target.checked)})}),y.jsx("button",{className:"icon-btn tiny deposit-drag-handle",type:"button",draggable:!0,onDragStart:zc(g.id),onDragEnd:qc,title:rt.t64,children:y.jsx(w1,{size:12})}),$?y.jsx("input",{className:"deposit-order-input",type:"number",min:1,max:He.length,value:Rn[K],onChange:Le=>ia(g.id,"order",Le.target.value),onBlur:()=>dl(g.id),onKeyDown:Le=>Mc(Le,g.id)}):y.jsx("button",{className:"pill muted deposit-order-pill",type:"button",onClick:()=>fl(g.id,x+1),title:rt.t65,children:x+1}),Rn[`${g.id}||name`]!==void 0?y.jsx("input",{className:"deposit-name-input",value:Rn[`${g.id}||name`],onChange:Le=>ia(g.id,"name",Le.target.value),onBlur:()=>void fc(g.id),onKeyDown:Le=>Wa(Le,g.id),autoFocus:!0,onClick:Le=>Le.stopPropagation(),style:{border:"1px solid #1a73e8",padding:"2px 6px",borderRadius:"4px",fontSize:"16px",width:"200px"}}):y.jsx("span",{className:"deposit-name",onDoubleClick:Le=>{Le.stopPropagation(),ia(g.id,"name",g.name||g.id)},title:rt.t120,style:{cursor:"text",fontWeight:500},children:g.name||rt.t144}),y.jsx("button",{className:"icon-btn tiny",type:"button",onClick:Le=>{Le.stopPropagation(),ia(g.id,"name",g.name||g.id)},title:rt.t67,style:{width:20,height:20,padding:2,opacity:.5},children:y.jsx(Jf,{size:12})})]}),y.jsxs("div",{className:"section-actions",style:{gap:6},children:[E&&(E==="done"||E!=="done")&&(E!=="done"||((D=g.sections)==null?void 0:D.length)>0&&((Pe=_r==null?void 0:_r[g.id])!=null&&Pe.bySection)&&Object.keys(_r[g.id].bySection).length===g.sections.length?y.jsx("span",{className:`status ${ue}`,title:ce||rt.t122,children:E==="done"?"DONE":E}):null),y.jsx(Fv,{deposit:g,updateDepositMode:Dl}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>ya(g.id),title:"",children:" "}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Gc(g.id),disabled:!!((De=_r==null?void 0:_r[g.id])!=null&&De.running),children:"Replay"}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>$a([g.id]),children:rt.t25}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>le(Le=>({...Le,[g.id]:!Le[g.id]})),children:U[g.id]?rt.t142:rt.t143})]})]}),E&&E!=="done"&&ce?y.jsxs("div",{className:"hint",style:{marginTop:6,color:"#92400e"},children:[rt.t70,ce]}):null,U[g.id]&&y.jsxs("div",{className:"sections",style:{gap:6,marginTop:"8px"},children:[(g.sections||[]).length===0&&y.jsx("div",{className:"hint",children:rt.t71}),(g.sections||[]).map((Le,Me)=>{var Pt,mt;const Oe=(mt=(Pt=_r==null?void 0:_r[g.id])==null?void 0:Pt.bySection)==null?void 0:mt[Le.id],Xe=Ze((Le==null?void 0:Le.content)||""),ct=(Xe==null?void 0:Xe.type)==="add_doc"&&((Xe==null?void 0:Xe.source)==="upload"||((Le==null?void 0:Le.content)||"").toString().includes(rt.t162));return y.jsxs("div",{className:"section",style:{background:"#fff"},children:[y.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[y.jsx("span",{className:"pill muted",children:Me+1}),y.jsx("span",{className:"section-action-name",children:Le.action||rt.t123}),y.jsx("span",{style:{fontSize:"10px",padding:"2px 5px",borderRadius:"3px",background:g.validationMode==="strict"?"#fef3c7":"#f0fdf4",color:g.validationMode==="strict"?"#b45309":"#059669",marginLeft:"4px"},title:g.validationMode==="strict"?"":"",children:g.validationMode==="strict"?"":""}),Oe!=null&&Oe.status?y.jsxs("span",{className:`status ${Oe.status}`,title:Oe.message||"",style:{display:"inline-flex",alignItems:"center",gap:"4px",fontSize:"10px",padding:"2px 6px",borderRadius:"3px",background:Oe.status==="done"?Oe.replayMode==="llm"?"#dbeafe":"#dcfce7":Oe.status==="fail"?"#fee2e2":"#fef3c7",color:Oe.status==="done"?Oe.replayMode==="llm"?"#1e40af":"#166534":Oe.status==="fail"?"#b91c1c":"#b45309"},children:[Oe.status==="done"&&Oe.replayMode==="llm"&&"",Oe.status==="done"&&Oe.replayMode!=="llm"&&"",Oe.status==="fail"&&"",Oe.status==="pass"&&"",Oe.status==="running"&&"",Oe.status.toUpperCase(),Oe.status==="done"&&Oe.replayMode==="llm"&&" ()",Oe.status==="done"&&Oe.replayMode==="script"&&" ()",Oe.status==="done"&&Oe.replayMode==="script_fallback"&&" ()"]}):null]}),y.jsxs("div",{className:"section-actions",style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap"},children:[y.jsxs("select",{value:Le.sectionReplayMode||g.precipitationMode||"llm",onChange:tt=>dc(g.id,Le.id,tt.target.value),title:" Replay ",style:{fontSize:10,padding:"2px 6px",background:(Le.sectionReplayMode||g.precipitationMode||"llm")==="llm"?"#dbeafe":"#dcfce7",color:(Le.sectionReplayMode||g.precipitationMode||"llm")==="llm"?"#1e40af":"#166534",borderRadius:4,border:"1px solid #d1d5db",cursor:"pointer",minWidth:"85px"},children:[y.jsx("option",{value:"llm",children:" "}),y.jsx("option",{value:"script",children:" "})]}),y.jsx("button",{className:"ghost xsmall",type:"button",title:" Replay",onClick:()=>pl(g.id,Le.id),disabled:(Oe==null?void 0:Oe.status)==="running",style:{fontSize:10,padding:"2px 6px"},children:"Replay"}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>si(g.id,Le.id),style:{fontSize:10,padding:"2px 6px"},children:il[`${g.id}_${Le.id}`]?"":""}),ct&&y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Bl(g.id,Le),style:{fontSize:10},children:rt.t73}),y.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Fl(g.id,Le.id),style:{fontSize:10,color:"#b91c1c"},children:""})]})]}),il[`${g.id}_${Le.id}`]!==!1&&y.jsxs(y.Fragment,{children:[(()=>{var Ur,hi,Ct,Wn,Ke,We,Tt,Zt,bt;const tt=((Ur=Le.llmScript)==null?void 0:Ur.structuredScriptContent)||((hi=Le.llmScript)==null?void 0:hi.rawContent)||((Ct=Le.originalScript)==null?void 0:Ct.content)||(Le.content&&!Le.content.includes("__REPLAY_META__")?Le.content:(Ke=(Wn=Le.content)==null?void 0:Wn.split("__REPLAY_META__")[0])==null?void 0:Ke.trim()),dt=(Ut,An)=>{if(!Ut)return"";const $n=new RegExp(`${An}([^]*?)(?=|$)`,"s"),sr=Ut.match($n);return sr?sr[1].trim():""},Vt=dt(tt,"")||((We=Le.llmScript)==null?void 0:We.type)||"",dn=dt(tt,"")||((Tt=Le.llmScript)==null?void 0:Tt.docName)||"",ut=dt(tt,"")||((bt=(Zt=Le.llmScript)==null?void 0:Zt.outputs)==null?void 0:bt.summary)||"",cn=dt(tt,"");return tt||Vt||dn||ut?y.jsxs("div",{style:{background:"linear-gradient(135deg, #fefce8 0%, #fef9c3 100%)",border:"1px solid #fcd34d",borderRadius:6,padding:8,marginTop:8},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:[y.jsx("span",{style:{background:"#f59e0b",color:"#fff",fontSize:10,padding:"2px 6px",borderRadius:4},children:" "}),Vt&&y.jsx("span",{style:{fontSize:11,color:"#92400e",background:"#fef3c7",padding:"1px 4px",borderRadius:3},children:Vt})]}),dn&&y.jsxs("div",{style:{fontSize:11,color:"#78350f",marginBottom:2},children:[" : ",dn]}),ut&&y.jsxs("div",{style:{fontSize:11,color:"#78350f",marginBottom:2},children:[" : ",ut.length>80?ut.substring(0,80)+"...":ut]}),cn&&cn!==""&&y.jsxs("div",{style:{fontSize:11,color:"#78350f"},children:[" : ",cn]}),tt&&y.jsxs("details",{style:{marginTop:6},children:[y.jsx("summary",{style:{fontSize:10,color:"#a16207",cursor:"pointer",userSelect:"none"},children:"..."}),y.jsx("pre",{style:{fontSize:10,color:"#713f12",background:"#fffbeb",padding:6,borderRadius:4,marginTop:4,whiteSpace:"pre-wrap",wordBreak:"break-all",maxHeight:200,overflow:"auto"},children:tt})]})]}):null})(),(()=>{var Ir,Ur,hi,Ct;const tt=Le.llmScript||{},dt=Xe||Le.meta||{},Vt=((Ir=dt==null?void 0:dt.docSelector)==null?void 0:Ir.description)||((Ur=tt==null?void 0:tt.docSelector)==null?void 0:Ur.description)||"",dn=tt.inputSourceDesc||((Ct=(hi=dt==null?void 0:dt.inputs)==null?void 0:hi[0])==null?void 0:Ct.contextSummary)||"",ut=tt.aiGuidance||(dt==null?void 0:dt.aiGuidance)||"",cn=tt.specialRequirements||(dt==null?void 0:dt.specialRequirements)||"";return y.jsxs("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #7dd3fc",borderRadius:6,padding:8,marginTop:8},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[y.jsx("span",{style:{background:"#0ea5e9",color:"#fff",fontSize:10,padding:"2px 6px",borderRadius:4},children:" "}),tt.type&&y.jsx("span",{style:{fontSize:11,color:"#0369a1",background:"#e0f2fe",padding:"1px 4px",borderRadius:3},children:tt.type})]}),tt.description&&y.jsxs("div",{style:{fontSize:11,color:"#0c4a6e",marginBottom:2},children:[" : ",tt.description]}),Vt&&y.jsxs("div",{style:{fontSize:11,color:"#0c4a6e",marginBottom:2},children:[" : ",y.jsx("span",{style:{color:"#0369a1",fontWeight:500},children:Vt})]}),(tt.instructions||tt.promptContent)&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" : ",(tt.instructions||tt.promptContent).substring(0,80),(tt.instructions||tt.promptContent).length>80?"...":""]}),dn&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" : ",dn]}),tt.targetTitle&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" : ",tt.targetTitle]}),ut&&y.jsxs("div",{style:{fontSize:11,color:"#64748b",marginBottom:2},children:[" AI: ",ut.substring(0,100),ut.length>100?"...":""]}),cn&&cn!==""&&y.jsxs("div",{style:{fontSize:11,color:"#64748b"},children:[" : ",cn]}),!tt.description&&!Vt&&!(tt.instructions||tt.promptContent)&&!dn&&!tt.targetTitle&&!ut&&(!cn||cn==="")&&y.jsx("div",{style:{fontSize:11,color:"#94a3b8",fontStyle:"italic"},children:"AI"})]})})()]}),(Oe==null?void 0:Oe.status)&&y.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap",color:Oe.status==="fail"?"#b91c1c":Oe.status==="done"?"#166534":"#92400e",marginTop:4,fontSize:11,background:Oe.status==="done"?"#f0fdf4":Oe.status==="fail"?"#fef2f2":"transparent",padding:Oe.status==="done"||Oe.status==="fail"?"4px 8px":0,borderRadius:"4px"},children:Oe.message||(Oe.status==="done"?" Replay ":rt.t129)})]},Le.id)})]})]},`${g.id}-${x}`)})})]})})]})]})}),y.jsx(Sl,{panelId:"operations-panel",panelName:is("operations-panel"),isEditing:!1,titleStyle:(Pi=lt["operations-panel"])==null?void 0:Pi.titleStyle,className:"operations-panel",position:lt["operations-panel"],onPositionChange:()=>{},children:y.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsx("textarea",{ref:Yi,className:"dispatch-input",style:{height:`${ge}px`,resize:"vertical",minHeight:"40px"},placeholder:rt.t98,onMouseUp:g=>{const x=g.target.offsetHeight;x&&x!==ge&&xe(x)}}),cs!=null&&cs.enabled?y.jsxs("button",{className:"ghost",onClick:Ml,disabled:S||d,children:[y.jsx(ng,{size:16})," ",(cs.label||rt.t145).toString()]}):y.jsx("div",{className:"hint",children:rt.t99})]})})}),y.jsx(sg,{buttons:bn.filter(g=>g.kind!=="outline_extract"&&g.kind!=="upload_file"&&g.kind!=="fill_summary"),isEditing:!1,onMouseDown:()=>{},onStyleEdit:()=>{},onClick:g=>{var x;g.action==="run_block"&&runOutlineBlock(g.targetId),g.action==="toggle_section"&&toggleSection(g.targetId),g.kind==="dispatch"&&Ml(),g.kind==="final_generate"&&runFinalGenerate(),g.kind==="outline_extract"&&Hc(g),g.kind==="upload_file"&&((x=qi.current)==null||x.click())},onDelete:void 0})]}),ki&&(()=>{var x;const g=bn.find(K=>K.id===ki);if(g)return y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>Oi(null)}),y.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:y.jsx(rf,{button:g,label:g.label,onStyleChange:he.bind(null,ki),onLogicChange:K=>{he(ki,{...g,kind:K.kind,prompt:K.prompt})},onDelete:()=>{confirm(rt.t148)&&(we(ki),Oi(null))},onClose:()=>Oi(null)})})]});try{const{panelId:K,buttonId:$}=JSON.parse(ki),E=(x=Un[K])==null?void 0:x.find(ce=>ce.id===$);if(E)return y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>Oi(null)}),y.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:y.jsx(rf,{button:E,label:E.label,onStyleChange:ce=>W(K,$,ce),onLogicChange:ce=>{W(K,$,{style:E.style,label:E.label,kind:ce.kind,prompt:ce.prompt})},onDelete:()=>nt(),onClose:()=>Oi(null)})})]})}catch(K){console.error(K)}return null})(),Pr&&(()=>{var K,$;const g={"input-form-panel":rt.t149,"document-list-panel":rt.t150,"processing-panel":rt.t151,"preview-panel":rt.t152,"operations-panel":rt.t153}[Pr]||Pr,x=((K=lt[Pr])==null?void 0:K.titleStyle)||{};return y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>Qr(null)}),y.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:y.jsx(rf,{button:{id:"title",label:(($=lt[Pr])==null?void 0:$.customTitle)||g,style:x},onStyleChange:({style:E,label:ce})=>{Nt(ue=>({...ue,[Pr]:{...ue[Pr],titleStyle:E,customTitle:ce}}))},onClose:()=>Qr(null),onDelete:void 0})})]})})(),Ds&&(()=>{const g=En[Ds];return y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>Os(null)}),y.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:y.jsx(rf,{button:{id:Ds,label:g.text,style:g.style||{}},onStyleChange:({style:x,label:K})=>{Dr($=>({...$,[Ds]:{...$[Ds],text:K,style:x}}))},onClose:()=>Os(null),onDelete:void 0})})]})})(),N&&y.jsx("div",{className:"toast",children:N}),sc&&y.jsx(oA,{onClose:()=>as(!1),onSave:jl,onUse:va,onDelete:ks,onRename:fs,historyList:Bs,loading:Tl}),y.jsx(Vk,{isOpen:ol,onClose:()=>To(!1),sections:(e==null?void 0:e.sections)||[],docName:((ai=o.find(g=>g.id===l))==null?void 0:ai.name)||rt.t135})]})]})}const Po={t1:"",t2:"",t3:"",t4:"",t5:" + ",t6:"",t7:"",t8:"",t9:"",t10:"",t11:" Studio",t12:"...",t13:" Enter Shift + Enter ",t14:"",t15:"Studio ",t16:" Pin ",t17:"",t18:"...",t19:"",t20:""};function gA({sources:r=[],onUpload:e,onDelete:t,onSelect:o,onClearAll:a}){const s=Qe.useRef(null);return y.jsxs("div",{className:"panel-content",style:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsxs("div",{className:"panel-header",style:{padding:"20px 24px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(tg,{className:"text-primary",size:20}),y.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600},children:Po.t1}),y.jsx("span",{className:"pill muted",children:r.length})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("button",{className:"ghost icon-btn",onClick:()=>{var u;return(u=s.current)==null?void 0:u.click()},title:Po.t2,children:y.jsx(Xv,{size:20})}),y.jsx("button",{className:"ghost icon-btn",onClick:()=>a==null?void 0:a(),title:Po.t3,disabled:!r.length,children:y.jsx(gf,{size:18})})]}),y.jsx("input",{type:"file",multiple:!0,ref:s,style:{display:"none"},onChange:e,accept:".txt,.md,.pdf,.docx"})]}),y.jsx("div",{className:"scroll-y",style:{flex:1,padding:"0 16px 20px"},children:r.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx(tg,{size:48,opacity:.1}),y.jsxs("p",{children:[Po.t4,y.jsx("br",{}),y.jsx("span",{className:"sub",children:Po.t5})]})]}):y.jsx("div",{className:"list",children:r.map(u=>y.jsxs("div",{className:`list-item ${u.selected?"active":""}`,onClick:()=>o(u.id),children:[y.jsx("div",{className:"icon-box",children:y.jsx(ed,{size:16})}),y.jsxs("div",{className:"content",children:[y.jsx("div",{className:"title",children:u.name}),y.jsxs("div",{className:"meta",children:[u.type,"  ",u.size]})]}),y.jsx("button",{className:"ghost icon-btn small delete-btn",onClick:l=>{l.stopPropagation(),t(u.id)},children:y.jsx(gf,{size:14})})]},u.id))})})]})}function yA({messages:r=[],onSendMessage:e,thinking:t=!1,appButtons:o=[],onAppButtonClick:a,onClearMessages:s}){const[u,l]=Qe.useState(""),f=Qe.useRef(null);Qe.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[r,t]);const d=()=>{u.trim()&&(e(u),l(""))};return y.jsxs("div",{className:"panel-content",style:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsx("div",{className:"panel-header",style:{padding:"20px 24px",borderBottom:"1px solid var(--border-light)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[y.jsx(Vx,{size:20,className:"text-primary"}),y.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600},children:Po.t6})]})}),o.length>0&&y.jsxs("div",{className:"chat-app-actions",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[y.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:o.map(h=>y.jsx("button",{type:"button",className:"ghost chat-app-btn",onClick:()=>a==null?void 0:a(h),children:h.label},h.id))}),s&&y.jsxs("button",{type:"button",className:"ghost",onClick:s,title:"",style:{padding:"6px 12px",fontSize:"13px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[y.jsx(gf,{size:14}),""]})]}),y.jsxs("div",{className:"chat-area scroll-y",ref:f,style:{flex:1,padding:"20px"},children:[r.length===0&&y.jsxs("div",{className:"empty-state",children:[y.jsx(td,{size:48,opacity:.1}),y.jsxs("p",{children:[Po.t7,y.jsx("br",{}),y.jsx("span",{className:"sub",children:Po.t8})]}),y.jsxs("div",{className:"suggestions",children:[y.jsx("button",{className:"suggestion-pill",onClick:()=>e(Po.t19),children:Po.t9}),y.jsx("button",{className:"suggestion-pill",onClick:()=>e(Po.t20),children:Po.t10})]})]}),r.map((h,S)=>y.jsxs("div",{className:`message ${h.role}`,children:[y.jsx("div",{className:"avatar",children:h.role==="user"?y.jsx(pb,{size:16}):y.jsx(J0,{size:16})}),y.jsxs("div",{className:"bubble",children:[h.content,h.citations&&h.citations.length>0&&y.jsx("div",{className:"citations",children:h.citations.map((b,p)=>y.jsx("span",{className:"citation-chip",children:b},p))})]}),h.role==="assistant"&&y.jsx("div",{className:"msg-actions",children:y.jsx("button",{className:"ghost icon-btn xsmall",title:Po.t11,children:y.jsx(Qx,{size:14})})})]},`${h.id||"msg"}_${S}`)),t&&y.jsxs("div",{className:"message assistant thinking",children:[y.jsx("div",{className:"avatar",children:y.jsx(J0,{size:16})}),y.jsxs("div",{className:"bubble",children:[y.jsx("span",{className:"dot",children:"."}),y.jsx("span",{className:"dot",children:"."}),y.jsx("span",{className:"dot",children:"."})]})]})]}),y.jsxs("div",{className:"input-area",style:{padding:"20px",borderTop:"1px solid var(--border-light)"},children:[y.jsxs("div",{className:"input-box",children:[y.jsx("textarea",{className:"chat-input",rows:1,placeholder:Po.t12,value:u,onChange:h=>l(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())}}),y.jsx("button",{className:`send-btn ${u.trim()?"active":""}`,onClick:d,disabled:!u.trim(),children:y.jsx(sb,{size:18})})]}),y.jsx("div",{className:"input-hint",children:Po.t13})]})]})}function vA({notes:r=[],onAddNote:e,onDeleteNote:t}){return y.jsxs("div",{className:"panel-content",style:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsxs("div",{className:"panel-header",style:{padding:"20px 24px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(td,{className:"text-accent",size:20}),y.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600},children:"Studio"})]}),y.jsx("button",{className:"ghost icon-btn",onClick:e,title:Po.t14,children:y.jsx(Xv,{size:20})})]}),y.jsx("div",{className:"scroll-y",style:{flex:1,padding:"0 16px 20px"},children:r.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx(ed,{size:48,opacity:.1}),y.jsxs("p",{children:[Po.t15,y.jsx("br",{}),y.jsx("span",{className:"sub",children:Po.t16})]})]}):y.jsx("div",{className:"notes-grid",children:r.map(o=>y.jsxs("div",{className:"note-card",children:[y.jsxs("div",{className:"note-header",children:[y.jsx("input",{className:"note-title-input",defaultValue:o.title,placeholder:Po.t17}),y.jsx("button",{className:"ghost icon-btn xsmall",onClick:()=>t(o.id),children:y.jsx(nd,{size:14})})]}),y.jsx("textarea",{className:"note-content-input",defaultValue:o.content,placeholder:Po.t18})]},o.id))})})]})}const vo={t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:"",t9:"",t10:"",t11:"",t12:"",t13:""},Bv="__REPLAY_META__",wA="shared_scene_id",Mv=[{id:"app_btn_daily_merge",label:"",groupIds:[]},{id:"app_btn_competitor_report",label:"",groupIds:[]},{id:"app_btn_custom_write",label:"",groupIds:[]}],ci={SOURCES:"sources-panel",CHAT:"chat-panel",STUDIO:"studio-panel"},th={"sources-panel":!0,"chat-panel":!0,"studio-panel":!0},nh={"sources-panel":{left:20,top:40,width:320,height:900},"chat-panel":{left:360,top:40,width:800,height:900},"studio-panel":{left:1180,top:40,width:460,height:900}},xA={"sources-panel":["","",""],"chat-panel":["","",""],"studio-panel":["Studio","",""]},bA=[{id:"1",role:"assistant",content:""}],_A=[{id:"1",title:"",content:""}],Rw=async(r,e={})=>{const t=await fetch(r,{headers:{"Content-Type":"application/json"},...e,body:e.body?JSON.stringify(e.body):void 0});if(!t.ok){const a=await t.text().catch(()=>"");let s=a;try{const u=JSON.parse(a);u!=null&&u.error&&(s=u.error)}catch{}throw new Error(s)}return(t.headers.get("content-type")||"").includes("application/json")?t.json():t.text()},SA=r=>{const e=(r||"").toString(),t=e.indexOf(Bv);if(t===-1)return null;const o=e.slice(t+Bv.length).trim();try{const a=JSON.parse(o);return a&&typeof a=="object"?a:null}catch{return null}},zv=async()=>{try{const r=localStorage.getItem(wA);if(!r)return null;const e=await Rw(`/api/scene/${r}`);return(e==null?void 0:e.scene)||null}catch{return null}},kA=r=>r.toString().trim().toLowerCase().endsWith(".docx"),AA=async()=>{const r=await lf(()=>import("./mammoth.browser-Kab4wxww.js").then(e=>e.m),[]);return(r==null?void 0:r.default)||r},NA=r=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{var a;return e(((a=o.result)==null?void 0:a.toString())||"")},o.onerror=t,o.readAsText(r,"utf-8")}),EA=r=>{var l;const e=(r||"").toString();if(!e.trim())return"";let t;try{t=new DOMParser().parseFromString(e,"text/html")}catch{return e.replace(/<[^>]+>/g," ").replace(/\s+\n/g,`
`).trim()}const o=[],a=(f="")=>{const d=(f||"").toString().replace(/\s+/g," ").trim();d&&o.push(d)},s=()=>{o.length&&o[o.length-1]!==""&&o.push("")},u=(f,d=0)=>{if(!f||f.nodeType===3)return;const h=f;if(!h.tagName){Array.from(h.childNodes||[]).forEach(b=>u(b,d));return}const S=h.tagName.toUpperCase();if(/^H[1-6]$/.test(S)){const b=Math.max(1,Math.min(6,Number(S.slice(1))||1)),p=(h.textContent||"").toString().trim();p&&a(`${"#".repeat(b)} ${p}`),s();return}if(S==="P"){const b=(h.textContent||"").toString().trim();b&&a(b),s();return}if(S==="LI"){const b=(h.textContent||"").toString().trim();b&&a(`${"  ".repeat(Math.max(0,d))}- ${b}`);return}if(S==="UL"||S==="OL"){Array.from(h.children||[]).forEach(b=>u(b,d+1)),s();return}if(S==="BR"){s();return}Array.from(h.childNodes||[]).forEach(b=>u(b,d))};return Array.from(((l=t.body)==null?void 0:l.childNodes)||[]).forEach(f=>u(f,0)),o.join(`
`).replace(/\n{3,}/g,`

`).trim()},TA=async r=>{const e=await r.arrayBuffer(),o=await(await AA()).convertToHtml({arrayBuffer:e}),a=((o==null?void 0:o.value)||"").toString(),s=EA(a);return s.trim()?s:""},CA=r=>{const e=(r||"").length;return e<1e3?`${e} `:e<1e4?`${(e/1e3).toFixed(1)}K `:`${(e/1e3).toFixed(0)}K `};function LA({onSwitch:r}){var es,ki,Oi,Pr,Qr,er,$o,ts;const[e,t]=Qe.useState([]),[o,a]=Qe.useState({}),[s,u]=Qe.useState(bA),[l,f]=Qe.useState(_A),[d,h]=Qe.useState(!1),[S,b]=Qe.useState(Mv),[p,j]=Qe.useState([]),N=e.map($e=>{const He=(($e==null?void 0:$e.name)||"").toString(),ht=He.includes(".")?He.split(".").pop().toUpperCase():"TXT";return{id:($e==null?void 0:$e.id)||He,name:He||"",type:ht||"TXT",size:CA(($e==null?void 0:$e.content)||""),selected:!!o[$e==null?void 0:$e.id]}}),[A,w]=Qe.useState(!1),[I,R]=Qe.useState([]),[k,G]=Qe.useState([]),re=async()=>{try{const $e=await fetch("/api/docs");if(!$e.ok)throw new Error("load docs failed");const He=await $e.json();if(Array.isArray(He==null?void 0:He.docs))return t(He.docs),He.docs}catch($e){console.error("Failed to load docs",$e)}return null};Qe.useEffect(()=>{re(),fetch("/api/chat/cache").then($e=>$e.ok?$e.json():null).then($e=>{$e!=null&&$e.messages&&Array.isArray($e.messages)&&$e.messages.length>0&&u($e.messages)}).catch($e=>console.log("",$e))},[]),Qe.useEffect(()=>{a($e=>{const He={};return e.forEach(ht=>{$e[ht.id]&&(He[ht.id]=!0)}),He})},[e]),Qe.useEffect(()=>{var $e;s.length===1&&(($e=s[0])==null?void 0:$e.id)==="1"||fetch("/api/chat/cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:s})}).catch(He=>console.log("",He))},[s]),Qe.useEffect(()=>{fetch("/api/multi/precipitation/records").then($e=>$e.json()).then($e=>{Array.isArray($e)&&R($e.sort((He,ht)=>ht.createdAt-He.createdAt))}).catch($e=>console.error("Failed to load records",$e))},[]),Qe.useEffect(()=>{fetch("/api/multi/precipitation/groups").then($e=>$e.ok?$e.json():[]).then($e=>{Array.isArray($e)&&j($e)}).catch($e=>console.error("Failed to load deposit groups",$e))},[]);const[Q,ie]=Qe.useState(!1),[U,le]=Qe.useState(""),oe=$e=>!$e||!Array.isArray($e.buttons)?Mv:$e.buttons.map((He,ht)=>{if(!He||typeof He!="object")return null;const Ht=typeof He.id=="string"&&He.id.trim()?He.id.trim():`app_btn_${ht}`,tn=typeof He.label=="string"?He.label.trim():"";if(!tn)return null;const $t=Array.isArray(He.groupIds)?He.groupIds.filter(Boolean):[];return{id:Ht,label:tn,groupIds:$t}}).filter(Boolean),B=$e=>{u(He=>[...He,{id:`msg_${Date.now()}`,role:"assistant",content:$e}])},te=async($e,He,ht={})=>{var Fi,Tr,_n,rr,Kr;const{precipitationMode:Ht="llm"}=ht,tn=Jt=>new Promise(Pn=>setTimeout(Pn,Jt)),$t=[];let an="main";try{const Jt=await fetch("/api/scene/main");if(Jt.ok){const Pn=await Jt.json();an=((Fi=Pn==null?void 0:Pn.scene)==null?void 0:Fi.id)||"main"}}catch(Jt){console.error("Replay:  scene ",Jt)}let Rn="";try{Rn=(await(await fetch("/api/multi/replay/config")).json().catch(()=>({}))).dirPath||""}catch(Jt){console.warn("[Replay]  replayDirPath :",Jt)}for(let Jt=0;Jt<$e.length;Jt++){const Pn=$e[Jt],pi=Pn.action||((_n=(Tr=Pn.content)==null?void 0:Tr.split(`
`)[0])==null?void 0:_n.substring(0,20))||` ${Jt+1}`;le(`${He} [${Jt+1}/${$e.length}] ${Ht==="llm"?"":""} Replay: ${pi}`);try{const zn=await fetch("/api/replay/execute-section",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sceneId:an,section:Pn,mode:Ht,replayDirPath:Rn})}),$r=await zn.json(),ei=Pn.action||((rr=Pn.meta)==null?void 0:rr.type)||` ${Jt+1}`;zn.ok?($t.push({sectionIndex:Jt,action:ei,status:$r.status||"done",reason:$r.reason||"",replayMode:$r.replayMode||Ht}),$r.template&&await fetch("/api/outline/cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:$r.template})})):$t.push({sectionIndex:Jt,action:ei,status:"fail",reason:$r.error||"",replayMode:"script"})}catch(zn){console.error(`Replay section ${Jt} :`,zn),$t.push({sectionIndex:Jt,action:Pn.action||((Kr=Pn.meta)==null?void 0:Kr.type)||` ${Jt+1}`,status:"fail",reason:zn.message||"",replayMode:"script"})}Jt<$e.length-1&&await tn(300)}try{const Jt=await fetch("/api/docs");if(Jt.ok){const Pn=await Jt.json();Array.isArray(Pn==null?void 0:Pn.docs)&&t(Pn.docs)}}catch(Jt){console.error("Replay: ",Jt)}const qn=$t.filter(Jt=>Jt.status==="done").length,Gr=$t.filter(Jt=>Jt.status==="fail").length,Vr=$t.filter(Jt=>Jt.status==="pass"||Jt.status==="skipped").length,Vi=$t.filter(Jt=>Jt.status==="done"&&Jt.replayMode==="llm").length,hr=$t.filter(Jt=>Jt.status==="done"&&Jt.replayMode!=="llm").length,Xi=Vi>hr?"llm":"script";return{total:$e.length,done:qn,fail:Gr,skipped:Vr,llmDone:Vi,scriptDone:hr,results:$t,overallStatus:qn===$e.length?"done":qn>0||Vr>0?"partial_done":"fail",aiExecuted:Vi>0,replayMode:Xi}},P=async $e=>{const He=Array.isArray($e.groupIds)?$e.groupIds.filter(Boolean):[];if(!He.length){B(`"${$e.label}" 

""`);return}B(`"${$e.label}"... `),ie(!0),le(`: ${$e.label}`);const ht={buttonLabel:$e.label,groupNames:[],groupDetails:[],loadedDocs:[],successSteps:[],failedSteps:[],totalSteps:0,completedSteps:0};try{let Ht=[];try{const Kr=(await(await fetch("/api/multi/replay/config")).json().catch(()=>({}))).dirPath;if(Kr){console.log("[Replay] :",Kr);const Jt=await fetch("/api/multi/replay/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupIds:He,buttonLabel:$e.label})});if(Jt.ok){const Pn=await Jt.json();if(console.log("[Replay] :",Pn),Array.isArray(Pn.docsLoaded)&&Pn.docsLoaded.length>0){const pi=[];for(const zn of Pn.docsLoaded)try{const $r=await fetch("/api/docs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:zn.name,content:zn.content})});if($r.ok){const{doc:ei,overwritten:yr}=await $r.json();if(ei){pi.push(ei),Ht.push(ei),ht.loadedDocs.push(ei.name);const Ao=yr?"":"";ht.successSteps.push({type:"",name:`${Ao}${ei.name}`,status:"success"}),console.log(`[Replay] ${Ao}:`,ei.name,ei.id)}}else console.error("[Replay] :",zn.name,await $r.text()),ht.failedSteps.push({type:"",name:zn.name,status:"fail",reason:""})}catch($r){console.error("[Replay] :",zn.name,$r),ht.failedSteps.push({type:"",name:zn.name,status:"fail",reason:$r.message})}if(pi.length>0){t($r=>{const ei=new Map($r.map(yr=>[yr.id,yr]));return pi.forEach(yr=>ei.set(yr.id,yr)),Array.from(ei.values())});const zn=await zv();if(zn!=null&&zn.id){const $r=Array.from(new Set([...pi.map(ei=>ei.id),...zn.docIds||[]]));await Rw(`/api/scene/${zn.id}`,{method:"PATCH",body:{docIds:$r}}),console.log("[Replay] :",$r.length,"")}}}}else console.error("[Replay] :",Jt.status,await Jt.text())}else console.log("[Replay] ")}catch(_n){console.error("[Replay] :",_n)}Ht.length>0&&B(`  ${Ht.length} 
${Ht.map(_n=>`   ${_n.name}`).join(`
`)}`);const $t=await(await fetch("/api/multi/precipitation/records")).json().catch(()=>[]),an=Array.isArray($t)?$t:Array.isArray($t==null?void 0:$t.records)?$t.records:[],qn=await(await fetch("/api/multi/precipitation/groups")).json().catch(()=>[]),Vr=(Array.isArray(qn)?qn:Array.isArray(qn==null?void 0:qn.groups)?qn.groups:[]).filter(_n=>He.includes(_n.id));if(Vr.length===0){B(" ");return}let Vi=0,hr=0;for(const _n of Vr){const rr=_n.depositIds||_n.recordIds||[],Kr=an.filter(Jt=>rr.includes(Jt.id));Vi+=Kr.length,hr+=Kr.reduce((Jt,Pn)=>{var pi;return Jt+(((pi=Pn.sections)==null?void 0:pi.length)||0)},0)}ht.totalSteps=hr;const Xi=Vr.map(_n=>`${_n.name||""}`).join("");B(` **${$e.label}**

${Xi}
 ${Vi} ${hr} 

---`);let Fi=0;for(const _n of Vr){Fi++;const rr=_n.name||"",Kr=_n.depositIds||_n.recordIds||[],Jt=an.filter(zn=>Kr.includes(zn.id));ht.groupNames.push(rr),B(`
 ** ${Fi}/${Vr.length}${rr}**${Jt.length} `),le(`: ${rr}`);const Pn={name:rr,recordCount:Jt.length,records:[]};let pi=0;for(const zn of Jt){pi++;const $r=zn.name||zn.title||"",ei=Array.isArray(zn.sections)?zn.sections:[],yr=zn.precipitationMode||"llm",Ao=zn.structuredScript||"",No=yr==="llm"?"":"",ns=yr==="llm"?"Replay":"Replay";le(`${rr} > ${$r} [${pi}/${Jt.length}]`);const vr=await te(ei,$r,{precipitationMode:yr,structuredScript:Ao});let Bi=`
  ${No} ** ${pi}${$r}** (${ns})
`;const mi={title:$r,sectionCount:ei.length,mode:yr,results:[]};if(vr){ht.completedSteps+=vr.done;const to=vr.replayMode||"script",Ps=vr.results.filter(Gn=>Gn.status==="done").length,rs=vr.results.filter(Gn=>Gn.status==="fail").length,Uo=vr.results.filter(Gn=>Gn.status==="pass"||Gn.status==="skipped").length;rs===0&&Uo===0?Bi+=`      ${Ps}/${ei.length} 
`:Ps>0?Bi+=`      ${Ps} ${rs} ${Uo}
`:Uo>0&&rs===0?Bi+=`      ${Uo}/${ei.length} 
`:Bi+=`      ${rs+Uo}/${ei.length} 
`,vr.results.filter(Gn=>Gn.status==="done").forEach(Gn=>{ht.successSteps.push({type:Gn.action,record:$r,group:rr,status:"success",detail:Gn.reason,replayMode:Gn.replayMode||to,replayStatus:Gn.replayStatus||(Gn.replayMode==="llm"?"llm_done":"script_done")}),mi.results.push({action:Gn.action,status:"done",reason:Gn.reason})}),vr.results.filter(Gn=>Gn.status==="fail"||Gn.status==="pass"||Gn.status==="skipped").forEach(Gn=>{const En=Gn.status==="pass"||Gn.status==="skipped"?"":"";Bi+=`     ${En} ${Gn.action}: ${Gn.reason}
`,ht.failedSteps.push({type:Gn.action,record:$r,group:rr,status:Gn.status==="pass"||Gn.status==="skipped"?"skipped":yr==="llm"?"partial_fail":"fail",reason:Gn.reason,replayMode:Gn.replayMode||to,replayStatus:Gn.replayStatus||Gn.status}),mi.results.push({action:Gn.action,status:Gn.status,reason:Gn.reason})})}else Bi+=`      ${ei.length} 
`,ht.completedSteps+=ei.length,ei.forEach(to=>{const Ps=SA(to.content||"")||{};ht.successSteps.push({type:to.action||Ps.type||"",record:$r,group:rr,status:"success",replayMode:"script",replayStatus:"script_done"}),mi.results.push({action:to.action,status:"done"})});Pn.records.push(mi),B(Bi)}ht.groupDetails.push(Pn)}const Tr=be(ht,$e.label);B(Tr);try{const _n=await fetch("/api/docs");if(_n.ok){const rr=await _n.json();Array.isArray(rr==null?void 0:rr.docs)&&t(rr.docs)}}catch(_n){console.error("",_n)}try{const _n=await zv();(_n!=null&&_n.customTemplate||_n!=null&&_n.template)&&await fetch("/api/outline/cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:_n.customTemplate||_n.template})})}catch(_n){console.error("",_n)}}catch(Ht){console.error("Replay :",Ht),B(`
 ****

${$e.label}${Ht.message||""}

 `)}finally{ie(!1),le("")}},be=($e,He)=>{const{groupNames:ht,groupDetails:Ht,loadedDocs:tn,successSteps:$t,failedSteps:an,totalSteps:Rn}=$e,qn=[];qn.push(`
---`),qn.push(`
 **${He}**
`);const Gr=$t.length,Vr=an.length,Vi=an.filter(Tr=>Tr.status==="skipped").length,hr=Vr-Vi;let Xi,Fi;return Vr===0?(Xi="",Fi=""):Gr>0?(Xi="",Fi=""):(Xi="",Fi=""),qn.push(`**${Xi} ${Fi}**
`),qn.push(` ${ht.length} ${ht.join("")}`),qn.push(` ${tn.length} `),qn.push(` ${Rn} `),qn.push(`   -  ${Gr} `),hr>0&&qn.push(`   -  ${hr} `),Vi>0&&qn.push(`   -  ${Vi} `),Ht.length>0&&(qn.push(`
****`),Ht.forEach((Tr,_n)=>{const rr=Tr.records.reduce((Pn,pi)=>Pn+pi.results.filter(zn=>zn.status==="done").length,0),Kr=Tr.records.reduce((Pn,pi)=>Pn+pi.results.length,0),Jt=rr===Kr?"":rr>0?"":"";qn.push(`  ${_n+1}. ${Tr.name}${Jt} ${rr}/${Kr} `)})),Vr>0&&(qn.push(`
** **`),[...new Set(an.map(Tr=>Tr.type))],an.some(Tr=>{var _n;return(_n=Tr.reason)==null?void 0:_n.includes("")})&&qn.push("  - "),an.some(Tr=>{var _n;return((_n=Tr.reason)==null?void 0:_n.includes(""))||Tr.replayMode==="llm"})&&qn.push("  - Replay"),qn.push('  - ""')),Vr===0?qn.push(`
 `):Gr>0&&qn.push(`
 `),qn.join(`
`)},[Ae,ge]=Qe.useState(!1),[xe,ke]=Qe.useState(!1),[Fe,J]=Qe.useState({width:1680,height:1050}),[C,Z]=Qe.useState(()=>{try{const $e=localStorage.getItem("multidoc_header_titles");if($e)return JSON.parse($e)}catch{}return{title:{text:"",style:{fontSize:"24px",fontWeight:400,color:"#202124",textAlign:"left"},position:{left:0,top:0},width:300,height:40},eyebrow:{text:"KNOWLEDGE STUDIO",style:{fontSize:"11px",letterSpacing:"1px",color:"#5f6368",textTransform:"uppercase",textAlign:"left"},position:{left:0,top:0},width:200,height:30}}}),[ne,ye]=Qe.useState(null),[ae,M]=Qe.useState(null),[z,fe]=Qe.useState(null);Qe.useEffect(()=>{C&&localStorage.setItem("multidoc_header_titles",JSON.stringify(C))},[C]),Qe.useEffect(()=>{ke(!!Ae)},[Ae]);const[de,se]=Qe.useState(nh),[pe,Be]=Qe.useState({[ci.SOURCES]:"",[ci.CHAT]:"",[ci.STUDIO]:"Studio"}),[H,ee]=Qe.useState(th),[X,T]=Qe.useState({}),[L,q]=Qe.useState(null),[Se,Ce]=Qe.useState(null),Ee=$e=>{const He={...th};return $e&&typeof $e=="object"&&Object.keys(He).forEach(ht=>{He[ht]=$e[ht]!==!1}),He},Ue=$e=>{const He={...nh};if(!$e||typeof $e!="object")return He;const ht=(Ht,tn)=>{if(!tn||typeof tn!="object")return!1;const $t=Number(tn.left),an=Number(tn.top),Rn=Number(tn.width),qn=Number(tn.height);return!Number.isFinite($t)||!Number.isFinite(an)||!Number.isFinite(Rn)||!Number.isFinite(qn)||Rn<=0||qn<=0?!1:(He[Ht]={left:$t,top:an,width:Rn,height:qn},!0)};return Object.values(ci).forEach(Ht=>{$e[Ht]&&ht(Ht,$e[Ht])}),Object.entries(xA).forEach(([Ht,tn])=>{if(!(He[Ht]&&He[Ht]!==nh[Ht])&&Array.isArray(tn)){for(const $t of tn)if($e[$t]&&ht(Ht,$e[$t]))break}}),He},ft=$e=>{ee(He=>({...He,[$e]:!1}))},ot=$e=>{ee(He=>({...He,[$e]:!0}))};Qe.useEffect(()=>{fetch("/api/multi/buttons").then(He=>He.ok?He.json():{}).then(He=>T(He)).catch(He=>console.error("Failed to load buttons:",He)),fetch("/api/multi/app-buttons").then(He=>He.ok?He.json():null).then(He=>{const ht=oe(He);ht.length&&b(ht)}).catch(He=>console.error("Failed to load app buttons:",He));let $e=!1;try{const He=localStorage.getItem("multidoc_layout_config");if(He){const ht=JSON.parse(He);console.log("[MultiDoc] Loaded layout from localStorage:",ht),ht.layoutSize&&J(ht.layoutSize),ht.panelPositions&&(se(Ue(ht.panelPositions)),$e=!0),ht.panelTitles&&Be(ht.panelTitles),ht.panelVisibility&&ee(Ee(ht.panelVisibility)),ht.headerTitles&&Z(Ht=>({...Ht,...ht.headerTitles}))}}catch(He){console.error("[MultiDoc] Failed to load layout from localStorage:",He)}$e?console.log("[MultiDoc] Using localStorage config, skipping server fetch"):fetch("/api/multi/layout").then(He=>He.ok?He.json():null).then(He=>{if(console.log("[MultiDoc] Loaded layout from server (fallback):",He),!He){console.log("[MultiDoc] No layout data from server, using defaults");return}He.layoutSize&&J(He.layoutSize),He.panelPositions?(console.log("[MultiDoc] Applying panel positions from server:",He.panelPositions),se(Ue(He.panelPositions)),localStorage.setItem("multidoc_layout_config",JSON.stringify(He))):He["doc-classify"]&&se(Ue(He)),He.panelTitles&&Be(He.panelTitles),He.panelVisibility&&ee(Ee(He.panelVisibility)),He.headerTitles&&Z(ht=>({...ht,...He.headerTitles}))}).catch(He=>console.error("[MultiDoc] Failed to load layout from server:",He)),fetch("/api/multi/panels").then(He=>He.ok?He.json():null).then(He=>{He&&ee(Ee(He))}).catch(He=>console.error("Failed to load panel visibility:",He))},[]);const lt=async()=>{try{await fetch("/api/multi/buttons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)});const $e={layoutSize:Fe,panelPositions:de,panelTitles:pe,panelVisibility:H,headerTitles:C};localStorage.setItem("multidoc_layout_config",JSON.stringify($e)),localStorage.setItem("multidoc_header_titles",JSON.stringify(C)),(await fetch("/api/multi/layout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)})).ok?console.log("[MultiDoc] Layout saved to server successfully"):console.error("[MultiDoc] Failed to save layout to server"),(await fetch("/api/multi/panels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})).ok||console.error("[MultiDoc] Failed to save panels to server"),console.log("[MultiDoc] Configuration saved")}catch($e){console.error("Failed to save configuration:",$e),alert("")}},Nt=()=>{Ae?Ot():(Ce({buttons:JSON.parse(JSON.stringify(X)),panels:JSON.parse(JSON.stringify(de)),titles:JSON.parse(JSON.stringify(pe)),visibility:JSON.parse(JSON.stringify(H)),size:{...Fe}}),ge(!0))},Ot=async()=>{await lt(),ge(!1),q(null),Ce(null)},Kt=()=>{Se&&(T(Se.buttons),se(Se.panels),Be(Se.titles),Se.visibility&&ee(Ee(Se.visibility)),J(Se.size)),ge(!1),q(null),Ce(null)},xn=async()=>{if(confirm(""))try{const $e=localStorage.getItem("multidoc_layout_config"),He=localStorage.getItem("multidoc_header_titles");if($e){const ht=JSON.parse($e);ht.layoutSize&&J(ht.layoutSize),ht.panelPositions&&se(Ue(ht.panelPositions)),ht.panelTitles&&Be(ht.panelTitles),ht.panelVisibility&&ee(Ee(ht.panelVisibility));const Ht=await fetch("/api/multi/buttons");if(Ht.ok){const tn=await Ht.json();T(tn)}ht.headerTitles?Z(tn=>({...tn,...ht.headerTitles})):He&&Z(JSON.parse(He))}else{const ht=await fetch("/api/multi/buttons/reset",{method:"POST"});if(ht.ok){const Ht=await ht.json();T(Ht)}localStorage.removeItem("multidoc_layout_config"),se(nh),Be({[ci.SOURCES]:"",[ci.CHAT]:"",[ci.STUDIO]:"Studio"}),ee(th),Z({title:{text:"",style:{fontSize:"24px",fontWeight:400,color:"#202124",textAlign:"left"},position:{left:0,top:0},width:300,height:40},eyebrow:{text:"KNOWLEDGE STUDIO",style:{fontSize:"11px",letterSpacing:"1px",color:"#5f6368",textTransform:"uppercase",textAlign:"left"},position:{left:0,top:0},width:200,height:30}}),localStorage.removeItem("multidoc_header_titles"),J({width:1680,height:1050})}q(null),ge(!1),Ce(null)}catch($e){console.error("Reset failed",$e),alert("")}},Bt=($e,He)=>{if(!Ae)return;$e.preventDefault(),$e.stopPropagation();const ht=$e.clientX,Ht=$e.clientY,tn=C[He].position||{left:0,top:0};ye({titleKey:He,startX:ht,startY:Ht,startPos:tn})};Qe.useEffect(()=>{if(!ne)return;const $e=ht=>{const Ht=ht.clientX-ne.startX,tn=ht.clientY-ne.startY;Z($t=>({...$t,[ne.titleKey]:{...$t[ne.titleKey],position:{left:ne.startPos.left+Ht,top:ne.startPos.top+tn}}}))},He=()=>ye(null);return document.addEventListener("mousemove",$e),document.addEventListener("mouseup",He),()=>{document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",He)}},[ne]);const pr=($e,He,ht)=>{if(!Ae)return;$e.preventDefault(),$e.stopPropagation();const Ht=$e.clientX,tn=$e.clientY,$t={width:C[He].width||200,height:C[He].height||30};M({titleKey:He,startX:Ht,startY:tn,startSize:$t,direction:ht})};Qe.useEffect(()=>{if(!ae)return;const $e=ht=>{const Ht=ht.clientX-ae.startX,tn=ht.clientY-ae.startY;Z($t=>{const an=Math.max(50,ae.startSize.width+Ht),Rn=Math.max(20,ae.startSize.height+tn);return{...$t,[ae.titleKey]:{...$t[ae.titleKey],width:an,height:Rn}}})},He=()=>M(null);return document.addEventListener("mousemove",$e),document.addEventListener("mouseup",He),()=>{document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",He)}},[ae]);const mn=($e,He,ht,Ht)=>{if(!Ae)return;$e.stopPropagation();const tn=X[He]||[],$t=tn.findIndex(Tr=>Tr.id===ht);if($t===-1)return;const an=tn[$t],Rn=$e.clientX,qn=$e.clientY,Gr=an.left,Vr=an.top,Vi=an.width,hr=an.height,Xi=Tr=>{const _n=Tr.clientX-Rn,rr=Tr.clientY-qn,Kr={...an};Ht==="move"?(Kr.left=Gr+_n,Kr.top=Vr+rr):Ht==="resize-e"?Kr.width=Math.max(20,Vi+_n):Ht==="resize-s"?Kr.height=Math.max(20,hr+rr):Ht==="resize-se"&&(Kr.width=Math.max(20,Vi+_n),Kr.height=Math.max(20,hr+rr)),T(Jt=>{const Pn=[...Jt[He]||[]];return Pn[$t]=Kr,{...Jt,[He]:Pn}})},Fi=()=>{document.removeEventListener("mousemove",Xi),document.removeEventListener("mouseup",Fi)};document.addEventListener("mousemove",Xi),document.addEventListener("mouseup",Fi)},Un=($e,He)=>{const Ht=(X[$e]||[]).find(tn=>tn.id===He);Ht&&q({panelId:$e,buttonId:He,button:Ht})},Vn=()=>{if(!L)return;const{panelId:$e,buttonId:He}=L;confirm("")&&(T(ht=>{const Ht=(ht[$e]||[]).filter(tn=>tn.id!==He);return{...ht,[$e]:Ht}}),q(null))},bn=({style:$e,label:He})=>{if(!L)return;const{panelId:ht,buttonId:Ht}=L;T(tn=>{const $t=[...tn[ht]||[]],an=$t.findIndex(Rn=>Rn.id===Ht);return an!==-1&&($t[an]={...$t[an],label:He!==void 0?He:$t[an].label,style:{...$t[an].style,...$e}}),{...tn,[ht]:$t}})},en=$e=>{if(!Ae){if(console.log("Button clicked:",$e.label,$e.kind),A){const He=e.filter(tn=>o[tn.id]),ht=He.map(tn=>{var $t;return{docName:tn.name||"",docType:(($t=(tn.name||"").split(".").pop())==null?void 0:$t.toUpperCase())||"TXT"}}),Ht={id:`sec_${Date.now()}`,order:k.length+1,buttonId:$e.id,buttonLabel:$e.label,buttonKind:$e.kind,timestamp:Date.now(),input:{sourceType:$e.kind||"button_click",inputContext:ht,selectedDocCount:He.length},action:{type:"button_click",buttonKind:$e.kind,buttonLabel:$e.label},output:{targetLocation:"pending",status:"pending"}};G(tn=>[...tn,Ht])}switch($e.kind){case"switch":r==null||r();break;case"edit":Nt();break;case"action":alert(`: ${$e.label}`);break}}},Hr=$e=>{const He=pe[$e],ht=prompt("",He);ht!==null&&ht.trim()!==""&&Be(Ht=>({...Ht,[$e]:ht.trim()}))},jn=async $e=>{const He=$e==null?void 0:$e.target,ht=Array.from((He==null?void 0:He.files)||[]);if(!ht.length)return;const Ht=[],tn=[];for(const $t of ht)try{const an=($t==null?void 0:$t.name)||"",qn=kA(an)?await TA($t):await NA($t),Gr=typeof qn=="string"?qn:String(qn??""),Vr=Gr.trim()?Gr:"",Vi=await fetch("/api/docs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:an,content:Vr})});if(!Vi.ok){const Xi=await Vi.text();throw new Error(Xi||"")}const hr=await Vi.json();hr!=null&&hr.doc&&Ht.push(hr.doc)}catch(an){console.error(an),tn.push({name:($t==null?void 0:$t.name)||"(unknown)",reason:an==null?void 0:an.message})}if(Ht.length&&t($t=>{const an=new Map(($t||[]).filter(Boolean).map(Rn=>[Rn.id,Rn]));return Ht.forEach(Rn=>{Rn!=null&&Rn.id&&an.set(Rn.id,Rn)}),Array.from(an.values())}),await re(),He&&(He.value=""),tn.length){const $t=tn.map(an=>an.reason?`${an.name} (${an.reason})`:an.name).join(", ");B(`${$t}`)}if(A){const $t=ht.map(Rn=>Rn.name).join(", "),an={id:`sec_${Date.now()}`,order:k.length+1,buttonId:"source_upload_trigger",buttonLabel:"",buttonKind:"action",timestamp:Date.now(),input:{sourceType:"file_system",contentPreview:` ${ht.length} ${$t}`},action:{type:"upload_file",buttonData:{label:"",kind:"upload"}},output:{targetLocation:"sources_list",summary:` ${ht.length} `},meta:{fileCount:ht.length,fileDetails:Ht.map(Rn=>({id:Rn.id,name:Rn.name})),reproducibility:{requiresLocalFile:!0,fileNames:ht.map(Rn=>Rn.name)}}};G(Rn=>[...Rn,an])}},Ln=async $e=>{try{await fetch(`/api/docs/${$e}`,{method:"DELETE"}),await re(),a(He=>{const ht={...He};return delete ht[$e],ht})}catch(He){console.error("Failed to delete doc",He)}},kr=async()=>{if(e.length&&confirm(""))try{for(const $e of e)await fetch(`/api/docs/${$e.id}`,{method:"DELETE"});await re(),a({})}catch($e){console.error("Failed to clear docs",$e)}},on=$e=>a(He=>({...He,[$e]:!He[$e]})),pn=()=>{const $e={id:"1",role:"assistant",content:""};u([$e]),fetch("/api/chat/cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[$e]})}).catch(He=>console.log("",He))},zr=async $e=>{const He={id:`u_${Date.now()}`,role:"user",content:$e};u(ht=>[...ht,He]),h(!0);try{const ht=e.map(Gr=>{var Vr;return{name:Gr.name,content:((Vr=Gr.content)==null?void 0:Vr.substring(0,5e3))||""}}).filter(Gr=>Gr.content),Ht=ht.length>0?`

${ht.map(Gr=>`${Gr.name}
${Gr.content}`).join(`

---

`)}

---

`:"",$t=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:`

`},{role:"user",content:`${Ht}${$e}`}],maxTokens:1e3})});let an="";const Rn=[];if($t.ok){const Gr=await $t.json();Gr!=null&&Gr.content&&(an=Gr.content,ht.forEach(Vr=>{(an.includes(Vr.name)||$e.includes(Vr.name))&&Rn.push(Vr.name)}))}const qn={id:`a_${Date.now()}`,role:"assistant",content:an,citations:Rn.length>0?Rn:ht.length>0?[ht[0].name]:[]};u(Gr=>[...Gr,qn])}catch(ht){console.error("AI :",ht);const Ht={id:`a_${Date.now()}`,role:"assistant",content:" AI "};u(tn=>[...tn,Ht])}finally{h(!1)}},_s=()=>f($e=>[{id:`n_${Date.now()}`,title:"",content:""},...$e]),ao=$e=>f(He=>He.filter(ht=>ht.id!==$e)),ko=$e=>y.jsx(vb,{panelId:$e,buttons:X[$e]||[],isEditing:Ae,onButtonMouseDown:mn,onStyleEdit:Un,onClick:en,style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"}}),Mo=($e,He)=>{Z(ht=>({...ht,[$e]:{...ht[$e],text:He}}))},Nn=Object.keys(th).filter($e=>H[$e]===!1),zo=$e=>pe!=null&&pe[$e]?pe[$e]:$e===ci.SOURCES?"":$e===ci.CHAT?"":$e===ci.STUDIO?"Studio":$e;return y.jsxs("div",{className:`layout-multi ${Ae?"editing-mode":""}`,style:{position:"relative",height:"100%",padding:"16px",boxSizing:"border-box"},children:[y.jsxs("header",{className:"hero multi-header",style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx(Kv,{size:22,style:{color:"var(--primary-accent)",marginTop:"4px"}}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px",position:"relative"},children:Ae?y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${C.title.width}px`,height:`${C.title.height}px`,border:"1px dashed #94a3b8",borderRadius:"4px",zIndex:(ne==null?void 0:ne.titleKey)==="title"?200:100,transform:`translate(${((es=C.title.position)==null?void 0:es.left)||0}px, ${((ki=C.title.position)==null?void 0:ki.top)||0}px)`,transition:(ne==null?void 0:ne.titleKey)==="title"?"none":"transform 0.2s"},children:[y.jsxs("div",{style:{position:"absolute",top:"-24px",left:0,display:"flex",gap:"4px",background:"#f1f5f9",padding:"2px 4px",borderRadius:"4px",border:"1px solid #e2e8f0"},children:[y.jsx("div",{onMouseDown:$e=>Bt($e,"title"),style:{cursor:"move",display:"flex",alignItems:"center",color:"#64748b"},title:vo.t1,children:y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("polyline",{points:"5 9 2 12 5 15"}),y.jsx("polyline",{points:"9 5 12 2 15 5"}),y.jsx("polyline",{points:"19 9 22 12 19 15"}),y.jsx("polyline",{points:"9 19 12 22 15 19"}),y.jsx("circle",{cx:"12",cy:"12",r:"1"})]})}),y.jsx("div",{onClick:()=>fe("title"),style:{cursor:"pointer",display:"flex",alignItems:"center",color:"#64748b"},title:vo.t2,children:y.jsx(fh,{size:14})})]}),y.jsx("input",{value:C.title.text,onChange:$e=>Mo("title",$e.target.value),style:{...C.title.style,margin:0,width:"100%",height:"100%",border:"none",background:"transparent",outline:"none",padding:0}}),y.jsx("div",{className:"resize-handle e",onMouseDown:$e=>pr($e,"title","e")}),y.jsx("div",{className:"resize-handle s",onMouseDown:$e=>pr($e,"title","s")}),y.jsx("div",{className:"resize-handle se",onMouseDown:$e=>pr($e,"title","se")})]}),y.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${C.eyebrow.width}px`,height:`${C.eyebrow.height}px`,border:"1px dashed #94a3b8",borderRadius:"4px",zIndex:(ne==null?void 0:ne.titleKey)==="eyebrow"?200:100,transform:`translate(${((Oi=C.eyebrow.position)==null?void 0:Oi.left)||0}px, ${((Pr=C.eyebrow.position)==null?void 0:Pr.top)||0}px)`,transition:(ne==null?void 0:ne.titleKey)==="eyebrow"?"none":"transform 0.2s"},children:[y.jsxs("div",{style:{position:"absolute",top:"-24px",left:0,display:"flex",gap:"4px",background:"#f1f5f9",padding:"2px 4px",borderRadius:"4px",border:"1px solid #e2e8f0"},children:[y.jsx("div",{onMouseDown:$e=>Bt($e,"eyebrow"),style:{cursor:"move",display:"flex",alignItems:"center",color:"#64748b"},title:vo.t1,children:y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("polyline",{points:"5 9 2 12 5 15"}),y.jsx("polyline",{points:"9 5 12 2 15 5"}),y.jsx("polyline",{points:"19 9 22 12 19 15"}),y.jsx("polyline",{points:"9 19 12 22 15 19"}),y.jsx("circle",{cx:"12",cy:"12",r:"1"})]})}),y.jsx("div",{onClick:()=>fe("eyebrow"),style:{cursor:"pointer",display:"flex",alignItems:"center",color:"#64748b"},title:vo.t2,children:y.jsx(fh,{size:14})})]}),y.jsx("input",{value:C.eyebrow.text,onChange:$e=>Mo("eyebrow",$e.target.value),style:{...C.eyebrow.style,margin:0,width:"100%",height:"100%",border:"none",background:"transparent",outline:"none",padding:0}}),y.jsx("div",{className:"resize-handle e",onMouseDown:$e=>pr($e,"eyebrow","e")}),y.jsx("div",{className:"resize-handle s",onMouseDown:$e=>pr($e,"eyebrow","s")}),y.jsx("div",{className:"resize-handle se",onMouseDown:$e=>pr($e,"eyebrow","se")})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("h1",{style:{...C.title.style,margin:0,width:`${C.title.width}px`,height:`${C.title.height}px`,display:"flex",alignItems:"center",transform:`translate(${((Qr=C.title.position)==null?void 0:Qr.left)||0}px, ${((er=C.title.position)==null?void 0:er.top)||0}px)`,transition:"transform 0.2s"},children:C.title.text}),y.jsx("p",{className:"eyebrow",style:{...C.eyebrow.style,margin:0,width:`${C.eyebrow.width}px`,height:`${C.eyebrow.height}px`,display:"flex",alignItems:"center",transform:`translate(${(($o=C.eyebrow.position)==null?void 0:$o.left)||0}px, ${((ts=C.eyebrow.position)==null?void 0:ts.top)||0}px)`,transition:"transform 0.2s"},children:C.eyebrow.text})]})})]}),y.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px",alignItems:"center"},children:[y.jsxs("button",{onClick:r,className:"ghost",style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"999px",fontSize:"16px",fontWeight:600},children:[y.jsx(Gv,{size:18})," ",vo.t3]}),Ae&&y.jsxs("div",{className:"edit-toolbar",style:{display:"flex",alignItems:"center",gap:"8px",background:"white",padding:"4px 8px",borderRadius:"8px",boxShadow:"var(--shadow-sm)",border:"1px solid #e2e8f0"},children:[y.jsx("button",{className:"ghost small",onClick:xn,title:vo.t5,children:y.jsx(Yv,{size:16})}),y.jsx("button",{className:"ghost small",onClick:Kt,title:vo.t6,children:y.jsx(nd,{size:16})}),y.jsxs("button",{className:"primary small",onClick:Ot,title:vo.t7,children:[y.jsx($1,{size:16}),vo.t7]})]})]}),ko(ci.HEADER)]}),!Ae&&y.jsx("div",{style:{position:"fixed",right:"24px",bottom:"24px",zIndex:100},children:y.jsxs("button",{className:"ghost",onClick:Nt,title:vo.t4,style:{fontSize:"11px",padding:"4px 8px"},children:[y.jsx(Vv,{size:14}),vo.t4]})}),y.jsx("div",{className:"multi-content-area",style:{flex:1,overflow:"auto",position:"relative"},children:y.jsxs(Jv,{isEditing:Ae,size:Fe,onSizeChange:J,minWidth:600,minHeight:400,style:{background:"#f8fafc"},children:[H[ci.SOURCES]!==!1&&y.jsxs(Sl,{panelId:ci.SOURCES,panelName:pe[ci.SOURCES],isEditing:Ae,position:de[ci.SOURCES],onPositionChange:$e=>se(He=>({...He,[ci.SOURCES]:$e})),onTitleEdit:Hr,editHeaderActions:Ae?y.jsx("button",{type:"button",className:"ghost",onClick:$e=>{$e.stopPropagation(),ft(ci.SOURCES)},style:{padding:"4px 8px",fontSize:"12px"},children:vo.t8}):null,children:[y.jsx(gA,{sources:N,onUpload:jn,onDelete:Ln,onSelect:on,onClearAll:kr}),ko(ci.SOURCES)]}),H[ci.CHAT]!==!1&&y.jsxs(Sl,{panelId:ci.CHAT,panelName:pe[ci.CHAT],isEditing:Ae,position:de[ci.CHAT],onPositionChange:$e=>se(He=>({...He,[ci.CHAT]:$e})),onTitleEdit:Hr,editHeaderActions:Ae?y.jsx("button",{type:"button",className:"ghost",onClick:$e=>{$e.stopPropagation(),ft(ci.CHAT)},style:{padding:"4px 8px",fontSize:"12px"},children:vo.t8}):null,children:[y.jsx(yA,{messages:s,onSendMessage:zr,thinking:d,appButtons:S,onAppButtonClick:P,onClearMessages:pn}),ko(ci.CHAT)]}),H[ci.STUDIO]!==!1&&y.jsxs(Sl,{panelId:ci.STUDIO,panelName:pe[ci.STUDIO],isEditing:Ae,position:de[ci.STUDIO],onPositionChange:$e=>se(He=>({...He,[ci.STUDIO]:$e})),onTitleEdit:Hr,editHeaderActions:Ae?y.jsx("button",{type:"button",className:"ghost",onClick:$e=>{$e.stopPropagation(),ft(ci.STUDIO)},style:{padding:"4px 8px",fontSize:"12px"},children:vo.t8}):null,children:[y.jsx(vA,{notes:l,onAddNote:_s,onDeleteNote:ao}),ko(ci.STUDIO)]})]})}),Ae&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:`multi-hidden-sidebar ${xe?"is-open":"is-closed"}`,children:[y.jsxs("div",{className:"multi-hidden-header",children:[y.jsxs("div",{className:"multi-hidden-title",children:[vo.t9,y.jsx("span",{className:"multi-hidden-count",children:Nn.length})]}),y.jsx("button",{type:"button",className:"ghost icon-btn multi-hidden-close",onClick:()=>ke(!1),title:vo.t10,children:y.jsx(Dx,{size:18})})]}),y.jsx("div",{className:"multi-hidden-body",children:Nn.length===0?y.jsx("div",{className:"multi-hidden-empty",children:vo.t11}):Nn.map($e=>y.jsxs("div",{className:"multi-hidden-item",children:[y.jsx("span",{className:"multi-hidden-name",children:zo($e)}),y.jsx("button",{type:"button",className:"ghost multi-hidden-restore",onClick:He=>{He.stopPropagation(),ot($e)},children:vo.t12})]},$e))})]}),!xe&&y.jsxs("button",{type:"button",className:"multi-hidden-toggle",onClick:()=>ke(!0),title:vo.t9,children:[y.jsx(Hv,{size:16}),y.jsx("span",{children:vo.t9})]})]}),Q&&y.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"rgba(30, 41, 59, 0.9)",color:"white",padding:"12px 24px",borderRadius:"999px",zIndex:9999,display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",backdropFilter:"blur(4px)",fontSize:"14px",fontWeight:500},children:[y.jsx("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),y.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"}),U]}),L&&y.jsxs(y.Fragment,{children:[y.jsx(og,{onClose:()=>q(null)}),y.jsx(rf,{button:L.button,onStyleChange:bn,onDelete:Vn,onClose:()=>q(null)})]}),z&&y.jsxs(y.Fragment,{children:[y.jsx(og,{onClose:()=>fe(null)}),y.jsx(rf,{button:{label:C[z].text,style:C[z].style},onStyleChange:$e=>{Z(He=>({...He,[z]:{...He[z],text:$e.label,style:{...He[z].style,...$e.style}}}))},onClose:()=>fe(null),onDelete:()=>{}})]})]})}class RA extends M1.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?y.jsx("div",{children:vo.t13}):this.props.children}}function IA(r){return y.jsx(RA,{children:y.jsx(LA,{...r})})}function jA(){const[r,e]=Qe.useState("multi"),t=()=>{e(o=>o==="sop"?"multi":"sop")};return y.jsx("div",{className:"app-shell",children:r==="sop"?y.jsx(M1.Fragment,{children:y.jsx("div",{className:"sop-wrapper",children:y.jsx(mA,{onSwitch:t})})}):y.jsx(IA,{onSwitch:t})})}hx.createRoot(document.getElementById("root")).render(y.jsx(M1.StrictMode,{children:y.jsx(jA,{})}));export{Si as _,Ld as c,$v as g};
