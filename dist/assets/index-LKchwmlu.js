var ux=Object.defineProperty;var fx=(r,e,t)=>e in r?ux(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var _i=(r,e,t)=>fx(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Eh={exports:{}},Zu={},Ch={exports:{}},Dr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function dx(){if(M0)return Dr;M0=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),k=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=k&&X[k]||X["@@iterator"],typeof X=="function"?X:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function O(X,E,Y){this.props=X,this.context=E,this.refs=N,this.updater=Y||g}O.prototype.isReactComponent={},O.prototype.setState=function(X,E){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,E,"setState")},O.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function x(){}x.prototype=O.prototype;function R(X,E,Y){this.props=X,this.context=E,this.refs=N,this.updater=Y||g}var T=R.prototype=new x;T.constructor=R,j(T,O.prototype),T.isPureReactComponent=!0;var A=Array.isArray,q=Object.prototype.hasOwnProperty,ie={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function ne(X,E,Y){var Q,me={},ae=null,B=null;if(E!=null)for(Q in E.ref!==void 0&&(B=E.ref),E.key!==void 0&&(ae=""+E.key),E)q.call(E,Q)&&!oe.hasOwnProperty(Q)&&(me[Q]=E[Q]);var M=arguments.length-2;if(M===1)me.children=Y;else if(1<M){for(var de=Array(M),ce=0;ce<M;ce++)de[ce]=arguments[ce+2];me.children=de}if(X&&X.defaultProps)for(Q in M=X.defaultProps,M)me[Q]===void 0&&(me[Q]=M[Q]);return{$$typeof:r,type:X,key:ae,ref:B,props:me,_owner:ie.current}}function z(X,E){return{$$typeof:r,type:X.type,key:E,ref:X.ref,props:X.props,_owner:X._owner}}function le(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function re(X){var E={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Y){return E[Y]})}var F=/\/+/g;function J(X,E){return typeof X=="object"&&X!==null&&X.key!=null?re(""+X.key):E.toString(36)}function P(X,E,Y,Q,me){var ae=typeof X;(ae==="undefined"||ae==="boolean")&&(X=null);var B=!1;if(X===null)B=!0;else switch(ae){case"string":case"number":B=!0;break;case"object":switch(X.$$typeof){case r:case e:B=!0}}if(B)return B=X,me=me(B),X=Q===""?"."+J(B,0):Q,A(me)?(Y="",X!=null&&(Y=X.replace(F,"$&/")+"/"),P(me,E,Y,"",function(ce){return ce})):me!=null&&(le(me)&&(me=z(me,Y+(!me.key||B&&B.key===me.key?"":(""+me.key).replace(F,"$&/")+"/")+X)),E.push(me)),1;if(B=0,Q=Q===""?".":Q+":",A(X))for(var M=0;M<X.length;M++){ae=X[M];var de=Q+J(ae,M);B+=P(ae,E,Y,de,me)}else if(de=b(X),typeof de=="function")for(X=de.call(X),M=0;!(ae=X.next()).done;)ae=ae.value,de=Q+J(ae,M++),B+=P(ae,E,Y,de,me);else if(ae==="object")throw E=String(X),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return B}function be(X,E,Y){if(X==null)return X;var Q=[],me=0;return P(X,Q,"","",function(ae){return E.call(Y,ae,me++)}),Q}function Ee(X){if(X._status===-1){var E=X._result;E=E(),E.then(function(Y){(X._status===0||X._status===-1)&&(X._status=1,X._result=Y)},function(Y){(X._status===0||X._status===-1)&&(X._status=2,X._result=Y)}),X._status===-1&&(X._status=0,X._result=E)}if(X._status===1)return X._result.default;throw X._result}var pe={current:null},xe={transition:null},Se={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:xe,ReactCurrentOwner:ie};function De(){throw Error("act(...) is not supported in production builds of React.")}return Dr.Children={map:be,forEach:function(X,E,Y){be(X,function(){E.apply(this,arguments)},Y)},count:function(X){var E=0;return be(X,function(){E++}),E},toArray:function(X){return be(X,function(E){return E})||[]},only:function(X){if(!le(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Dr.Component=O,Dr.Fragment=t,Dr.Profiler=a,Dr.PureComponent=R,Dr.StrictMode=o,Dr.Suspense=f,Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,Dr.act=De,Dr.cloneElement=function(X,E,Y){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var Q=j({},X.props),me=X.key,ae=X.ref,B=X._owner;if(E!=null){if(E.ref!==void 0&&(ae=E.ref,B=ie.current),E.key!==void 0&&(me=""+E.key),X.type&&X.type.defaultProps)var M=X.type.defaultProps;for(de in E)q.call(E,de)&&!oe.hasOwnProperty(de)&&(Q[de]=E[de]===void 0&&M!==void 0?M[de]:E[de])}var de=arguments.length-2;if(de===1)Q.children=Y;else if(1<de){M=Array(de);for(var ce=0;ce<de;ce++)M[ce]=arguments[ce+2];Q.children=M}return{$$typeof:r,type:X.type,key:me,ref:ae,props:Q,_owner:B}},Dr.createContext=function(X){return X={$$typeof:u,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},Dr.createElement=ne,Dr.createFactory=function(X){var E=ne.bind(null,X);return E.type=X,E},Dr.createRef=function(){return{current:null}},Dr.forwardRef=function(X){return{$$typeof:l,render:X}},Dr.isValidElement=le,Dr.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:Ee}},Dr.memo=function(X,E){return{$$typeof:d,type:X,compare:E===void 0?null:E}},Dr.startTransition=function(X){var E=xe.transition;xe.transition={};try{X()}finally{xe.transition=E}},Dr.unstable_act=De,Dr.useCallback=function(X,E){return pe.current.useCallback(X,E)},Dr.useContext=function(X){return pe.current.useContext(X)},Dr.useDebugValue=function(){},Dr.useDeferredValue=function(X){return pe.current.useDeferredValue(X)},Dr.useEffect=function(X,E){return pe.current.useEffect(X,E)},Dr.useId=function(){return pe.current.useId()},Dr.useImperativeHandle=function(X,E,Y){return pe.current.useImperativeHandle(X,E,Y)},Dr.useInsertionEffect=function(X,E){return pe.current.useInsertionEffect(X,E)},Dr.useLayoutEffect=function(X,E){return pe.current.useLayoutEffect(X,E)},Dr.useMemo=function(X,E){return pe.current.useMemo(X,E)},Dr.useReducer=function(X,E,Y){return pe.current.useReducer(X,E,Y)},Dr.useRef=function(X){return pe.current.useRef(X)},Dr.useState=function(X){return pe.current.useState(X)},Dr.useSyncExternalStore=function(X,E,Y){return pe.current.useSyncExternalStore(X,E,Y)},Dr.useTransition=function(){return pe.current.useTransition()},Dr.version="18.3.1",Dr}var z0;function hm(){return z0||(z0=1,Ch.exports=dx()),Ch.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function hx(){if(U0)return Zu;U0=1;var r=hm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(l,f,d){var m,k={},b=null,g=null;d!==void 0&&(b=""+d),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(g=f.ref);for(m in f)o.call(f,m)&&!s.hasOwnProperty(m)&&(k[m]=f[m]);if(l&&l.defaultProps)for(m in f=l.defaultProps,f)k[m]===void 0&&(k[m]=f[m]);return{$$typeof:e,type:l,key:b,ref:g,props:k,_owner:a.current}}return Zu.Fragment=t,Zu.jsx=u,Zu.jsxs=u,Zu}var $0;function px(){return $0||($0=1,Eh.exports=hx()),Eh.exports}var v=px(),tt=hm();const pm=Uv(tt);var Yf={},Th={exports:{}},Ys={},Lh={exports:{}},jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function mx(){return q0||(q0=1,(function(r){function e(xe,Se){var De=xe.length;xe.push(Se);e:for(;0<De;){var X=De-1>>>1,E=xe[X];if(0<a(E,Se))xe[X]=Se,xe[De]=E,De=X;else break e}}function t(xe){return xe.length===0?null:xe[0]}function o(xe){if(xe.length===0)return null;var Se=xe[0],De=xe.pop();if(De!==Se){xe[0]=De;e:for(var X=0,E=xe.length,Y=E>>>1;X<Y;){var Q=2*(X+1)-1,me=xe[Q],ae=Q+1,B=xe[ae];if(0>a(me,De))ae<E&&0>a(B,me)?(xe[X]=B,xe[ae]=De,X=ae):(xe[X]=me,xe[Q]=De,X=Q);else if(ae<E&&0>a(B,De))xe[X]=B,xe[ae]=De,X=ae;else break e}}return Se}function a(xe,Se){var De=xe.sortIndex-Se.sortIndex;return De!==0?De:xe.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();r.unstable_now=function(){return u.now()-l}}var f=[],d=[],m=1,k=null,b=3,g=!1,j=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(xe){for(var Se=t(d);Se!==null;){if(Se.callback===null)o(d);else if(Se.startTime<=xe)o(d),Se.sortIndex=Se.expirationTime,e(f,Se);else break;Se=t(d)}}function A(xe){if(N=!1,T(xe),!j)if(t(f)!==null)j=!0,Ee(q);else{var Se=t(d);Se!==null&&pe(A,Se.startTime-xe)}}function q(xe,Se){j=!1,N&&(N=!1,x(ne),ne=-1),g=!0;var De=b;try{for(T(Se),k=t(f);k!==null&&(!(k.expirationTime>Se)||xe&&!re());){var X=k.callback;if(typeof X=="function"){k.callback=null,b=k.priorityLevel;var E=X(k.expirationTime<=Se);Se=r.unstable_now(),typeof E=="function"?k.callback=E:k===t(f)&&o(f),T(Se)}else o(f);k=t(f)}if(k!==null)var Y=!0;else{var Q=t(d);Q!==null&&pe(A,Q.startTime-Se),Y=!1}return Y}finally{k=null,b=De,g=!1}}var ie=!1,oe=null,ne=-1,z=5,le=-1;function re(){return!(r.unstable_now()-le<z)}function F(){if(oe!==null){var xe=r.unstable_now();le=xe;var Se=!0;try{Se=oe(!0,xe)}finally{Se?J():(ie=!1,oe=null)}}else ie=!1}var J;if(typeof R=="function")J=function(){R(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,be=P.port2;P.port1.onmessage=F,J=function(){be.postMessage(null)}}else J=function(){O(F,0)};function Ee(xe){oe=xe,ie||(ie=!0,J())}function pe(xe,Se){ne=O(function(){xe(r.unstable_now())},Se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(xe){xe.callback=null},r.unstable_continueExecution=function(){j||g||(j=!0,Ee(q))},r.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<xe?Math.floor(1e3/xe):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(xe){switch(b){case 1:case 2:case 3:var Se=3;break;default:Se=b}var De=b;b=Se;try{return xe()}finally{b=De}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(xe,Se){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var De=b;b=xe;try{return Se()}finally{b=De}},r.unstable_scheduleCallback=function(xe,Se,De){var X=r.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?X+De:X):De=X,xe){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=De+E,xe={id:m++,callback:Se,priorityLevel:xe,startTime:De,expirationTime:E,sortIndex:-1},De>X?(xe.sortIndex=De,e(d,xe),t(f)===null&&xe===t(d)&&(N?(x(ne),ne=-1):N=!0,pe(A,De-X))):(xe.sortIndex=E,e(f,xe),j||g||(j=!0,Ee(q))),xe},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(xe){var Se=b;return function(){var De=b;b=Se;try{return xe.apply(this,arguments)}finally{b=De}}}})(jh)),jh}var W0;function gx(){return W0||(W0=1,Lh.exports=mx()),Lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function yx(){if(H0)return Ys;H0=1;var r=hm(),e=gx();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function s(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(a[n]=i,n=0;n<i.length;n++)o.add(i[n])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},k={};function b(n){return f.call(k,n)?!0:f.call(m,n)?!1:d.test(n)?k[n]=!0:(m[n]=!0,!1)}function g(n,i,c,w){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return w?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,c,w){if(i===null||typeof i>"u"||g(n,i,c,w))return!0;if(w)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(n,i,c,w,D,H,ye){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=w,this.attributeNamespace=D,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=H,this.removeEmptyString=ye}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){O[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];O[i]=new N(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){O[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){O[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){O[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){O[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){O[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){O[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){O[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(x,R);O[i]=new N(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(x,R);O[i]=new N(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(x,R);O[i]=new N(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){O[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),O.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){O[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function T(n,i,c,w){var D=O.hasOwnProperty(i)?O[i]:null;(D!==null?D.type!==0:w||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,c,D,w)&&(c=null),w||D===null?b(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):D.mustUseProperty?n[D.propertyName]=c===null?D.type===3?!1:"":c:(i=D.attributeName,w=D.attributeNamespace,c===null?n.removeAttribute(i):(D=D.type,c=D===3||D===4&&c===!0?"":""+c,w?n.setAttributeNS(w,i,c):n.setAttribute(i,c))))}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),ie=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),re=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),xe=Symbol.iterator;function Se(n){return n===null||typeof n!="object"?null:(n=xe&&n[xe]||n["@@iterator"],typeof n=="function"?n:null)}var De=Object.assign,X;function E(n){if(X===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);X=i&&i[1]||""}return`
`+X+n}var Y=!1;function Q(n,i){if(!n||Y)return"";Y=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ut){var w=ut}Reflect.construct(n,[],i)}else{try{i.call()}catch(ut){w=ut}n.call(i.prototype)}else{try{throw Error()}catch(ut){w=ut}n()}}catch(ut){if(ut&&w&&typeof ut.stack=="string"){for(var D=ut.stack.split(`
`),H=w.stack.split(`
`),ye=D.length-1,Fe=H.length-1;1<=ye&&0<=Fe&&D[ye]!==H[Fe];)Fe--;for(;1<=ye&&0<=Fe;ye--,Fe--)if(D[ye]!==H[Fe]){if(ye!==1||Fe!==1)do if(ye--,Fe--,0>Fe||D[ye]!==H[Fe]){var qe=`
`+D[ye].replace(" at new "," at ");return n.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",n.displayName)),qe}while(1<=ye&&0<=Fe);break}}}finally{Y=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?E(n):""}function me(n){switch(n.tag){case 5:return E(n.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return n=Q(n.type,!1),n;case 11:return n=Q(n.type.render,!1),n;case 1:return n=Q(n.type,!0),n;default:return""}}function ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case oe:return"Fragment";case ie:return"Portal";case z:return"Profiler";case ne:return"StrictMode";case J:return"Suspense";case P:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case re:return(n.displayName||"Context")+".Consumer";case le:return(n._context.displayName||"Context")+".Provider";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case be:return i=n.displayName||null,i!==null?i:ae(n.type)||"Memo";case Ee:i=n._payload,n=n._init;try{return ae(n(i))}catch{}}return null}function B(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(i);case 8:return i===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function M(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function de(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ce(n){var i=de(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),w=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var D=c.get,H=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return D.call(this)},set:function(ye){w=""+ye,H.call(this,ye)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return w},setValue:function(ye){w=""+ye},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function te(n){n._valueTracker||(n._valueTracker=ce(n))}function fe(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),w="";return n&&(w=de(n)?n.checked?"true":"false":n.value),n=w,n!==c?(i.setValue(n),!0):!1}function Oe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function W(n,i){var c=i.checked;return De({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function ee(n,i){var c=i.defaultValue==null?"":i.defaultValue,w=i.checked!=null?i.checked:i.defaultChecked;c=M(i.value!=null?i.value:c),n._wrapperState={initialChecked:w,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function V(n,i){i=i.checked,i!=null&&T(n,"checked",i,!1)}function S(n,i){V(n,i);var c=M(i.value),w=i.type;if(c!=null)w==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(w==="submit"||w==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?U(n,i.type,c):i.hasOwnProperty("defaultValue")&&U(n,i.type,M(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function C(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var w=i.type;if(!(w!=="submit"&&w!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function U(n,i,c){(i!=="number"||Oe(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var we=Array.isArray;function Le(n,i,c,w){if(n=n.options,i){i={};for(var D=0;D<c.length;D++)i["$"+c[D]]=!0;for(c=0;c<n.length;c++)D=i.hasOwnProperty("$"+n[c].value),n[c].selected!==D&&(n[c].selected=D),D&&w&&(n[c].defaultSelected=!0)}else{for(c=""+M(c),i=null,D=0;D<n.length;D++){if(n[D].value===c){n[D].selected=!0,w&&(n[D].defaultSelected=!0);return}i!==null||n[D].disabled||(i=n[D])}i!==null&&(i.selected=!0)}}function Ce(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return De({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function He(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(we(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:M(c)}}function at(n,i){var c=M(i.value),w=M(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),w!=null&&(n.defaultValue=""+w)}function Je(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ht(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ht(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var $t,Jt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,w,D){MSApp.execUnsafeLocalFunction(function(){return n(i,c,w,D)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for($t=$t||document.createElement("div"),$t.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=$t.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Zt(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Or=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(n){Or.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Gt[i]=Gt[n]})});function Nn(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Gt.hasOwnProperty(n)&&Gt[n]?(""+i).trim():i+"px"}function On(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var w=c.indexOf("--")===0,D=Nn(c,i[c],w);c==="float"&&(c="cssFloat"),w?n.setProperty(c,D):n[c]=D}}var $n=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function In(n,i){if(i){if($n[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function pn(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jr=null;function En(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wn=null,Ir=null,zn=null;function Sn(n){if(n=Is(n)){if(typeof Wn!="function")throw Error(t(280));var i=n.stateNode;i&&(i=yl(i),Wn(n.stateNode,n.type,i))}}function Ur(n){Ir?zn?zn.push(n):zn=[n]:Ir=n}function Zs(){if(Ir){var n=Ir,i=zn;if(zn=Ir=null,Sn(n),i)for(n=0;n<i.length;n++)Sn(i[n])}}function ki(n,i){return n(i)}function Oi(){}var $i=!1;function wn(n,i,c){if($i)return n(i,c);$i=!0;try{return ki(n,i,c)}finally{$i=!1,(Ir!==null||zn!==null)&&(Oi(),Zs())}}function yr(n,i){var c=n.stateNode;if(c===null)return null;var w=yl(c);if(w===null)return null;c=w[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(n=n.type,w=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!w;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Po=!1;if(l)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Po=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Po=!1}function ao(n,i,c,w,D,H,ye,Fe,qe){var ut=Array.prototype.slice.call(arguments,3);try{i.apply(c,ut)}catch(Dt){this.onError(Dt)}}var Bn=!1,Fr=null,fi=!1,Xo=null,di={onError:function(n){Bn=!0,Fr=n}};function Ie(n,i,c,w,D,H,ye,Fe,qe){Bn=!1,Fr=null,ao.apply(di,arguments)}function Ke(n,i,c,w,D,H,ye,Fe,qe){if(Ie.apply(this,arguments),Bn){if(Bn){var ut=Fr;Bn=!1,Fr=null}else throw Error(t(198));fi||(fi=!0,Xo=ut)}}function bt(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function Qt(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function cn(n){if(bt(n)!==n)throw Error(t(188))}function on(n){var i=n.alternate;if(!i){if(i=bt(n),i===null)throw Error(t(188));return i!==n?null:n}for(var c=n,w=i;;){var D=c.return;if(D===null)break;var H=D.alternate;if(H===null){if(w=D.return,w!==null){c=w;continue}break}if(D.child===H.child){for(H=D.child;H;){if(H===c)return cn(D),n;if(H===w)return cn(D),i;H=H.sibling}throw Error(t(188))}if(c.return!==w.return)c=D,w=H;else{for(var ye=!1,Fe=D.child;Fe;){if(Fe===c){ye=!0,c=D,w=H;break}if(Fe===w){ye=!0,w=D,c=H;break}Fe=Fe.sibling}if(!ye){for(Fe=H.child;Fe;){if(Fe===c){ye=!0,c=H,w=D;break}if(Fe===w){ye=!0,w=H,c=D;break}Fe=Fe.sibling}if(!ye)throw Error(t(189))}}if(c.alternate!==w)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?n:i}function sn(n){return n=on(n),n!==null?en(n):null}function en(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=en(n);if(i!==null)return i;n=n.sibling}return null}var Fn=e.unstable_scheduleCallback,mr=e.unstable_cancelCallback,Br=e.unstable_shouldYield,_r=e.unstable_requestPaint,Jn=e.unstable_now,hi=e.unstable_getCurrentPriorityLevel,ii=e.unstable_ImmediatePriority,ur=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,Mr=e.unstable_LowPriority,Qr=e.unstable_IdlePriority,Er=null,Sr=null;function Ai(n){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Er,n,void 0,(n.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:vr,$r=Math.log,ei=Math.LN2;function vr(n){return n>>>=0,n===0?32:31-($r(n)/ei|0)|0}var Ro=64,lo=4194304;function co(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ki(n,i){var c=n.pendingLanes;if(c===0)return 0;var w=0,D=n.suspendedLanes,H=n.pingedLanes,ye=c&268435455;if(ye!==0){var Fe=ye&~D;Fe!==0?w=co(Fe):(H&=ye,H!==0&&(w=co(H)))}else ye=c&~D,ye!==0?w=co(ye):H!==0&&(w=co(H));if(w===0)return 0;if(i!==0&&i!==w&&(i&D)===0&&(D=w&-w,H=i&-i,D>=H||D===16&&(H&4194240)!==0))return i;if((w&4)!==0&&(w|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=w;0<i;)c=31-Hn(i),D=1<<c,w|=n[c],i&=~D;return w}function Ni(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tn(n,i){for(var c=n.suspendedLanes,w=n.pingedLanes,D=n.expirationTimes,H=n.pendingLanes;0<H;){var ye=31-Hn(H),Fe=1<<ye,qe=D[ye];qe===-1?((Fe&c)===0||(Fe&w)!==0)&&(D[ye]=Ni(Fe,i)):qe<=i&&(n.expiredLanes|=Fe),H&=~Fe}}function Ei(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function uo(){var n=Ro;return Ro<<=1,(Ro&4194240)===0&&(Ro=64),n}function $o(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function zr(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Hn(i),n[i]=c}function Qn(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var w=n.eventTimes;for(n=n.expirationTimes;0<c;){var D=31-Hn(c),H=1<<D;i[D]=0,w[D]=-1,n[D]=-1,c&=~H}}function fo(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var w=31-Hn(c),D=1<<w;D&i|n[w]&i&&(n[w]|=i),c&=~D}}var Cr=0;function xo(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ho,ha,qn,qr,gr,_s=!1,dr=[],Et=null,Kr=null,eo=null,to=new Map,dn=new Map,Jo=[],Qs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function il(n,i){switch(n){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":to.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function Ln(n,i,c,w,D,H){return n===null||n.nativeEvent!==H?(n={blockedOn:i,domEventName:c,eventSystemFlags:w,nativeEvent:H,targetContainers:[D]},i!==null&&(i=Is(i),i!==null&&ha(i)),n):(n.eventSystemFlags|=w,i=n.targetContainers,D!==null&&i.indexOf(D)===-1&&i.push(D),n)}function kn(n,i,c,w,D){switch(i){case"focusin":return Et=Ln(Et,n,i,c,w,D),!0;case"dragenter":return Kr=Ln(Kr,n,i,c,w,D),!0;case"mouseover":return eo=Ln(eo,n,i,c,w,D),!0;case"pointerover":var H=D.pointerId;return to.set(H,Ln(to.get(H)||null,n,i,c,w,D)),!0;case"gotpointercapture":return H=D.pointerId,dn.set(H,Ln(dn.get(H)||null,n,i,c,w,D)),!0}return!1}function Yr(n){var i=Ea(n.target);if(i!==null){var c=bt(i);if(c!==null){if(i=c.tag,i===13){if(i=Qt(c),i!==null){n.blockedOn=i,gr(n.priority,function(){qn(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ss(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Gn(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var w=new c.constructor(c.type,c);jr=w,c.target.dispatchEvent(w),jr=null}else return i=Is(c),i!==null&&ha(i),n.blockedOn=c,!1;i.shift()}return!0}function ss(n,i,c){Ss(n)&&c.delete(i)}function Ms(){_s=!1,Et!==null&&Ss(Et)&&(Et=null),Kr!==null&&Ss(Kr)&&(Kr=null),eo!==null&&Ss(eo)&&(eo=null),to.forEach(ss),dn.forEach(ss)}function Do(n,i){n.blockedOn===i&&(n.blockedOn=null,_s||(_s=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ms)))}function Cn(n){function i(D){return Do(D,n)}if(0<dr.length){Do(dr[0],n);for(var c=1;c<dr.length;c++){var w=dr[c];w.blockedOn===n&&(w.blockedOn=null)}}for(Et!==null&&Do(Et,n),Kr!==null&&Do(Kr,n),eo!==null&&Do(eo,n),to.forEach(i),dn.forEach(i),c=0;c<Jo.length;c++)w=Jo[c],w.blockedOn===n&&(w.blockedOn=null);for(;0<Jo.length&&(c=Jo[0],c.blockedOn===null);)Yr(c),c.blockedOn===null&&Jo.shift()}var _t=A.ReactCurrentBatchConfig,Vt=!0;function Ht(n,i,c,w){var D=Cr,H=_t.transition;_t.transition=null;try{Cr=1,yn(n,i,c,w)}finally{Cr=D,_t.transition=H}}function tr(n,i,c,w){var D=Cr,H=_t.transition;_t.transition=null;try{Cr=4,yn(n,i,c,w)}finally{Cr=D,_t.transition=H}}function yn(n,i,c,w){if(Vt){var D=Gn(n,i,c,w);if(D===null)ml(n,i,w,Yt,c),il(n,w);else if(kn(D,n,i,c,w))w.stopPropagation();else if(il(n,w),i&4&&-1<Qs.indexOf(n)){for(;D!==null;){var H=Is(D);if(H!==null&&ho(H),H=Gn(n,i,c,w),H===null&&ml(n,i,w,Yt,c),H===D)break;D=H}D!==null&&w.stopPropagation()}else ml(n,i,w,null,c)}}var Yt=null;function Gn(n,i,c,w){if(Yt=null,n=En(w),n=Ea(n),n!==null)if(i=bt(n),i===null)n=null;else if(c=i.tag,c===13){if(n=Qt(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Yt=n,null}function Zn(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hi()){case ii:return 1;case ur:return 4;case Pn:case Mr:return 16;case Qr:return 536870912;default:return 16}default:return 16}}var Rn=null,vn=null,zt=null;function Ft(){if(zt)return zt;var n,i=vn,c=i.length,w,D="value"in Rn?Rn.value:Rn.textContent,H=D.length;for(n=0;n<c&&i[n]===D[n];n++);var ye=c-n;for(w=1;w<=ye&&i[c-w]===D[H-w];w++);return zt=D.slice(n,1<w?1-w:void 0)}function nr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Mn(){return!0}function hr(){return!1}function wr(n){function i(c,w,D,H,ye){this._reactName=c,this._targetInst=D,this.type=w,this.nativeEvent=H,this.target=ye,this.currentTarget=null;for(var Fe in n)n.hasOwnProperty(Fe)&&(c=n[Fe],this[Fe]=c?c(H):H[Fe]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Mn:hr,this.isPropagationStopped=hr,this}return De(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),i}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=wr(Xr),I=De({},Xr,{view:0,detail:0}),se=wr(I),je,Be,Ve,ft=De({},I,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ol,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ve&&(Ve&&n.type==="mousemove"?(je=n.screenX-Ve.screenX,Be=n.screenY-Ve.screenY):Be=je=0,Ve=n),je)},movementY:function(n){return"movementY"in n?n.movementY:Be}}),St=wr(ft),rn=De({},ft,{dataTransfer:0}),nn=wr(rn),Vn=De({},I,{relatedTarget:0}),er=wr(Vn),Rr=De({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=wr(Rr),Ci=De({},Xr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),oi=wr(Ci),ro=De({},Xr,{data:0}),Wi=wr(ro),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ea={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ta(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=pt[n])?!!i[n]:!1}function ol(){return ta}var Il=De({},I,{key:function(n){if(n.key){var i=bo[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=nr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ea[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ol,charCode:function(n){return n.type==="keypress"?nr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?nr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pa=wr(Il),ks=De({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ma=wr(ks),ga=De({},I,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ol}),_o=wr(ga),ya=De({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=wr(ya),Pl=De({},ft,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rl=wr(Pl),qo=[9,13,27,32],As=l&&"CompositionEvent"in window,zs=null;l&&"documentMode"in document&&(zs=document.documentMode);var Dl=l&&"TextEvent"in window&&!zs,Wo=l&&(!As||zs&&8<zs&&11>=zs),wa=" ",sl=!1;function al(n,i){switch(n){case"keyup":return qo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ds=!1;function Oo(n,i){switch(n){case"compositionend":return na(i);case"keypress":return i.which!==32?null:(sl=!0,wa);case"textInput":return n=i.data,n===wa&&sl?null:n;default:return null}}function Zo(n,i){if(ds)return n==="compositionend"||!As&&al(n,i)?(n=Ft(),zt=vn=Rn=null,ds=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wo&&i.locale!=="ko"?null:i.data;default:return null}}var hs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ns(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!hs[n.type]:i==="textarea"}function as(n,i,c,w){Ur(w),i=Ml(i,"onChange"),0<i.length&&(c=new no("onChange","change",null,c,w),n.push({event:c,listeners:i}))}var ra=null,Es=null;function Fi(n){pl(n,0)}function Ia(n){var i=Wa(n);if(fe(i))return n}function Us(n,i){if(n==="change")return i}var Cs=!1;if(l){var ia;if(l){var Pa="oninput"in document;if(!Pa){var ll=document.createElement("div");ll.setAttribute("oninput","return;"),Pa=typeof ll.oninput=="function"}ia=Pa}else ia=!1;Cs=ia&&(!document.documentMode||9<document.documentMode)}function cl(){ra&&(ra.detachEvent("onpropertychange",oa),Es=ra=null)}function oa(n){if(n.propertyName==="value"&&Ia(Es)){var i=[];as(i,Es,n,En(n)),wn(Fi,i)}}function sa(n,i,c){n==="focusin"?(cl(),ra=i,Es=c,ra.attachEvent("onpropertychange",oa)):n==="focusout"&&cl()}function xa(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ia(Es)}function ba(n,i){if(n==="click")return Ia(i)}function _a(n,i){if(n==="input"||n==="change")return Ia(i)}function Sa(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ji=typeof Object.is=="function"?Object.is:Sa;function io(n,i){if(ji(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),w=Object.keys(i);if(c.length!==w.length)return!1;for(w=0;w<c.length;w++){var D=c[w];if(!f.call(i,D)||!ji(n[D],i[D]))return!1}return!0}function Wr(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ti(n,i){var c=Wr(n);n=0;for(var w;c;){if(c.nodeType===3){if(w=n+c.textContent.length,n<=i&&w>=i)return{node:c,offset:i-n};n=w}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Wr(c)}}function Bi(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Bi(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Yi(){for(var n=window,i=Oe();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=Oe(n.document)}return i}function Ts(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function ul(n){var i=Yi(),c=n.focusedElem,w=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&Bi(c.ownerDocument.documentElement,c)){if(w!==null&&Ts(c)){if(i=w.start,n=w.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var D=c.textContent.length,H=Math.min(w.start,D);w=w.end===void 0?H:Math.min(w.end,D),!n.extend&&H>w&&(D=w,w=H,H=D),D=ti(c,H);var ye=ti(c,w);D&&ye&&(n.rangeCount!==1||n.anchorNode!==D.node||n.anchorOffset!==D.offset||n.focusNode!==ye.node||n.focusOffset!==ye.offset)&&(i=i.createRange(),i.setStart(D.node,D.offset),n.removeAllRanges(),H>w?(n.addRange(i),n.extend(ye.node,ye.offset)):(i.setEnd(ye.node,ye.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fl=l&&"documentMode"in document&&11>=document.documentMode,Ls=null,rc=null,rr=null,Ol=!1;function pi(n,i,c){var w=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ol||Ls==null||Ls!==Oe(w)||(w=Ls,"selectionStart"in w&&Ts(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),rr&&io(rr,w)||(rr=w,w=Ml(rc,"onSelect"),0<w.length&&(i=new no("onSelect","select",null,i,c),n.push({event:i,listeners:w}),i.target=Ls)))}function Ra(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Da={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},ka={},ic={};l&&(ic=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function dl(n){if(ka[n])return ka[n];if(!Da[n])return n;var i=Da[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in ic)return ka[n]=i[c];return n}var oc=dl("animationend"),Fl=dl("animationiteration"),sc=dl("animationstart"),ac=dl("transitionend"),lc=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(n,i){lc.set(n,i),s(i,[n])}for(var Oa=0;Oa<cc.length;Oa++){var Fo=cc[Oa],ls=Fo.toLowerCase(),Fa=Fo[0].toUpperCase()+Fo.slice(1);js(ls,"on"+Fa)}js(oc,"onAnimationEnd"),js(Fl,"onAnimationIteration"),js(sc,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(ac,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function hl(n,i,c){var w=n.type||"unknown-event";n.currentTarget=c,Ke(w,i,void 0,n),n.currentTarget=null}function pl(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var w=n[c],D=w.event;w=w.listeners;e:{var H=void 0;if(i)for(var ye=w.length-1;0<=ye;ye--){var Fe=w[ye],qe=Fe.instance,ut=Fe.currentTarget;if(Fe=Fe.listener,qe!==H&&D.isPropagationStopped())break e;hl(D,Fe,ut),H=qe}else for(ye=0;ye<w.length;ye++){if(Fe=w[ye],qe=Fe.instance,ut=Fe.currentTarget,Fe=Fe.listener,qe!==H&&D.isPropagationStopped())break e;hl(D,Fe,ut),H=qe}}}if(fi)throw n=Xo,fi=!1,Xo=null,n}function si(n,i){var c=i[Qo];c===void 0&&(c=i[Qo]=new Set);var w=n+"__bubble";c.has(w)||(Ma(i,n,2,!1),c.add(w))}function Bl(n,i,c){var w=0;i&&(w|=4),Ma(c,n,w,i)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function aa(n){if(!n[Ba]){n[Ba]=!0,o.forEach(function(c){c!=="selectionchange"&&(uc.has(c)||Bl(c,!1,n),Bl(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ba]||(i[Ba]=!0,Bl("selectionchange",!1,i))}}function Ma(n,i,c,w){switch(Zn(i)){case 1:var D=Ht;break;case 4:D=tr;break;default:D=yn}c=D.bind(null,i,c,n),D=void 0,!Po||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(D=!0),w?D!==void 0?n.addEventListener(i,c,{capture:!0,passive:D}):n.addEventListener(i,c,!0):D!==void 0?n.addEventListener(i,c,{passive:D}):n.addEventListener(i,c,!1)}function ml(n,i,c,w,D){var H=w;if((i&1)===0&&(i&2)===0&&w!==null)e:for(;;){if(w===null)return;var ye=w.tag;if(ye===3||ye===4){var Fe=w.stateNode.containerInfo;if(Fe===D||Fe.nodeType===8&&Fe.parentNode===D)break;if(ye===4)for(ye=w.return;ye!==null;){var qe=ye.tag;if((qe===3||qe===4)&&(qe=ye.stateNode.containerInfo,qe===D||qe.nodeType===8&&qe.parentNode===D))return;ye=ye.return}for(;Fe!==null;){if(ye=Ea(Fe),ye===null)return;if(qe=ye.tag,qe===5||qe===6){w=H=ye;continue e}Fe=Fe.parentNode}}w=w.return}wn(function(){var ut=H,Dt=En(c),qt=[];e:{var It=lc.get(n);if(It!==void 0){var fn=no,bn=n;switch(n){case"keypress":if(nr(c)===0)break e;case"keydown":case"keyup":fn=pa;break;case"focusin":bn="focus",fn=er;break;case"focusout":bn="blur",fn=er;break;case"beforeblur":case"afterblur":fn=er;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fn=St;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fn=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fn=_o;break;case oc:case Fl:case sc:fn=yi;break;case ac:fn=va;break;case"scroll":fn=se;break;case"wheel":fn=Rl;break;case"copy":case"cut":case"paste":fn=oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fn=ma}var An=(i&4)!==0,No=!An&&n==="scroll",it=An?It!==null?It+"Capture":null:It;An=[];for(var Ye=ut,ot;Ye!==null;){ot=Ye;var Kt=ot.stateNode;if(ot.tag===5&&Kt!==null&&(ot=Kt,it!==null&&(Kt=yr(Ye,it),Kt!=null&&An.push(ms(Ye,Kt,ot)))),No)break;Ye=Ye.return}0<An.length&&(It=new fn(It,bn,null,c,Dt),qt.push({event:It,listeners:An}))}}if((i&7)===0){e:{if(It=n==="mouseover"||n==="pointerover",fn=n==="mouseout"||n==="pointerout",It&&c!==jr&&(bn=c.relatedTarget||c.fromElement)&&(Ea(bn)||bn[Mo]))break e;if((fn||It)&&(It=Dt.window===Dt?Dt:(It=Dt.ownerDocument)?It.defaultView||It.parentWindow:window,fn?(bn=c.relatedTarget||c.toElement,fn=ut,bn=bn?Ea(bn):null,bn!==null&&(No=bt(bn),bn!==No||bn.tag!==5&&bn.tag!==6)&&(bn=null)):(fn=null,bn=ut),fn!==bn)){if(An=St,Kt="onMouseLeave",it="onMouseEnter",Ye="mouse",(n==="pointerout"||n==="pointerover")&&(An=ma,Kt="onPointerLeave",it="onPointerEnter",Ye="pointer"),No=fn==null?It:Wa(fn),ot=bn==null?It:Wa(bn),It=new An(Kt,Ye+"leave",fn,c,Dt),It.target=No,It.relatedTarget=ot,Kt=null,Ea(Dt)===ut&&(An=new An(it,Ye+"enter",bn,c,Dt),An.target=ot,An.relatedTarget=No,Kt=An),No=Kt,fn&&bn)t:{for(An=fn,it=bn,Ye=0,ot=An;ot;ot=Aa(ot))Ye++;for(ot=0,Kt=it;Kt;Kt=Aa(Kt))ot++;for(;0<Ye-ot;)An=Aa(An),Ye--;for(;0<ot-Ye;)it=Aa(it),ot--;for(;Ye--;){if(An===it||it!==null&&An===it.alternate)break t;An=Aa(An),it=Aa(it)}An=null}else An=null;fn!==null&&eu(qt,It,fn,An,!1),bn!==null&&No!==null&&eu(qt,No,bn,An,!0)}}e:{if(It=ut?Wa(ut):window,fn=It.nodeName&&It.nodeName.toLowerCase(),fn==="select"||fn==="input"&&It.type==="file")var jn=Us;else if(Ns(It))if(Cs)jn=_a;else{jn=xa;var Yn=sa}else(fn=It.nodeName)&&fn.toLowerCase()==="input"&&(It.type==="checkbox"||It.type==="radio")&&(jn=ba);if(jn&&(jn=jn(n,ut))){as(qt,jn,c,Dt);break e}Yn&&Yn(n,It,ut),n==="focusout"&&(Yn=It._wrapperState)&&Yn.controlled&&It.type==="number"&&U(It,"number",It.value)}switch(Yn=ut?Wa(ut):window,n){case"focusin":(Ns(Yn)||Yn.contentEditable==="true")&&(Ls=Yn,rc=ut,rr=null);break;case"focusout":rr=rc=Ls=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,pi(qt,c,Dt);break;case"selectionchange":if(fl)break;case"keydown":case"keyup":pi(qt,c,Dt)}var Xn;if(As)e:{switch(n){case"compositionstart":var ar="onCompositionStart";break e;case"compositionend":ar="onCompositionEnd";break e;case"compositionupdate":ar="onCompositionUpdate";break e}ar=void 0}else ds?al(n,c)&&(ar="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(ar="onCompositionStart");ar&&(Wo&&c.locale!=="ko"&&(ds||ar!=="onCompositionStart"?ar==="onCompositionEnd"&&ds&&(Xn=Ft()):(Rn=Dt,vn="value"in Rn?Rn.value:Rn.textContent,ds=!0)),Yn=Ml(ut,ar),0<Yn.length&&(ar=new Wi(ar,n,null,c,Dt),qt.push({event:ar,listeners:Yn}),Xn?ar.data=Xn:(Xn=na(c),Xn!==null&&(ar.data=Xn)))),(Xn=Dl?Oo(n,c):Zo(n,c))&&(ut=Ml(ut,"onBeforeInput"),0<ut.length&&(Dt=new Wi("onBeforeInput","beforeinput",null,c,Dt),qt.push({event:Dt,listeners:ut}),Dt.data=Xn))}pl(qt,i)})}function ms(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Ml(n,i){for(var c=i+"Capture",w=[];n!==null;){var D=n,H=D.stateNode;D.tag===5&&H!==null&&(D=H,H=yr(n,c),H!=null&&w.unshift(ms(n,H,D)),H=yr(n,i),H!=null&&w.push(ms(n,H,D))),n=n.return}return w}function Aa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function eu(n,i,c,w,D){for(var H=i._reactName,ye=[];c!==null&&c!==w;){var Fe=c,qe=Fe.alternate,ut=Fe.stateNode;if(qe!==null&&qe===w)break;Fe.tag===5&&ut!==null&&(Fe=ut,D?(qe=yr(c,H),qe!=null&&ye.unshift(ms(c,qe,Fe))):D||(qe=yr(c,H),qe!=null&&ye.push(ms(c,qe,Fe)))),c=c.return}ye.length!==0&&n.push({event:i,listeners:ye})}var $u=/\r\n?/g,qu=/\u0000|\uFFFD/g;function gl(n){return(typeof n=="string"?n:""+n).replace($u,`
`).replace(qu,"")}function zl(n,i,c){if(i=gl(i),gl(n)!==i&&c)throw Error(t(425))}function Na(){}var za=null,Ua=null;function $a(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fc=typeof setTimeout=="function"?setTimeout:void 0,tu=typeof clearTimeout=="function"?clearTimeout:void 0,Ul=typeof Promise=="function"?Promise:void 0,nu=typeof queueMicrotask=="function"?queueMicrotask:typeof Ul<"u"?function(n){return Ul.resolve(null).then(n).catch(Wu)}:fc;function Wu(n){setTimeout(function(){throw n})}function Tc(n,i){var c=i,w=0;do{var D=c.nextSibling;if(n.removeChild(c),D&&D.nodeType===8)if(c=D.data,c==="/$"){if(w===0){n.removeChild(D),Cn(i);return}w--}else c!=="$"&&c!=="$?"&&c!=="$!"||w++;c=D}while(c);Cn(i)}function Ho(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Bo(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Go=Math.random().toString(36).slice(2),cs="__reactFiber$"+Go,qa="__reactProps$"+Go,Mo="__reactContainer$"+Go,Qo="__reactEvents$"+Go,Lc="__reactListeners$"+Go,Hu="__reactHandles$"+Go;function Ea(n){var i=n[cs];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Mo]||c[cs]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Bo(n);n!==null;){if(c=n[cs])return c;n=Bo(n)}return i}n=c,c=n.parentNode}return null}function Is(n){return n=n[cs]||n[Mo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Wa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function yl(n){return n[qa]||null}var $l=[],la=-1;function Ps(n){return{current:n}}function Jr(n){0>la||(n.current=$l[la],$l[la]=null,la--)}function Tr(n,i){la++,$l[la]=n.current,n.current=i}var Xi={},Hi=Ps(Xi),po=Ps(!1),$s=Xi;function qs(n,i){var c=n.type.contextTypes;if(!c)return Xi;var w=n.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===i)return w.__reactInternalMemoizedMaskedChildContext;var D={},H;for(H in c)D[H]=i[H];return w&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=D),D}function es(n){return n=n.childContextTypes,n!=null}function dc(){Jr(po),Jr(Hi)}function vl(n,i,c){if(Hi.current!==Xi)throw Error(t(168));Tr(Hi,i),Tr(po,c)}function jc(n,i,c){var w=n.stateNode;if(i=i.childContextTypes,typeof w.getChildContext!="function")return c;w=w.getChildContext();for(var D in w)if(!(D in i))throw Error(t(108,B(n)||"Unknown",D));return De({},c,w)}function Ha(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xi,$s=Hi.current,Tr(Hi,n),Tr(po,po.current),!0}function ru(n,i,c){var w=n.stateNode;if(!w)throw Error(t(169));c?(n=jc(n,i,$s),w.__reactInternalMemoizedMergedChildContext=n,Jr(po),Jr(Hi),Tr(Hi,n)):Jr(po),Tr(po,c)}var Rs=null,Ws=!1,p=!1;function _(n){Rs===null?Rs=[n]:Rs.push(n)}function $(n){Ws=!0,_(n)}function K(){if(!p&&Rs!==null){p=!0;var n=0,i=Cr;try{var c=Rs;for(Cr=1;n<c.length;n++){var w=c[n];do w=w(!0);while(w!==null)}Rs=null,Ws=!1}catch(D){throw Rs!==null&&(Rs=Rs.slice(n+1)),Fn(ii,K),D}finally{Cr=i,p=!1}}return null}var ue=[],ve=0,_e=null,Ne=0,Te=[],Pe=0,$e=null,nt=1,Re="";function We(n,i){ue[ve++]=Ne,ue[ve++]=_e,_e=n,Ne=i}function et(n,i,c){Te[Pe++]=nt,Te[Pe++]=Re,Te[Pe++]=$e,$e=n;var w=nt;n=Re;var D=32-Hn(w)-1;w&=~(1<<D),c+=1;var H=32-Hn(i)+D;if(30<H){var ye=D-D%5;H=(w&(1<<ye)-1).toString(32),w>>=ye,D-=ye,nt=1<<32-Hn(i)+D|c<<D|w,Re=H+n}else nt=1<<H|c<<D|w,Re=n}function gt(n){n.return!==null&&(We(n,1),et(n,1,0))}function rt(n){for(;n===_e;)_e=ue[--ve],ue[ve]=null,Ne=ue[--ve],ue[ve]=null;for(;n===$e;)$e=Te[--Pe],Te[Pe]=null,Re=Te[--Pe],Te[Pe]=null,nt=Te[--Pe],Te[Pe]=null}var dt=null,mt=null,vt=!1,wt=null;function xn(n,i){var c=Ta(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function an(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,dt=n,mt=Ho(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,dt=n,mt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=$e!==null?{id:nt,overflow:Re}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Ta(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,dt=n,mt=null,!0):!1;default:return!1}}function ir(n){return(n.mode&1)!==0&&(n.flags&128)===0}function hn(n){if(vt){var i=mt;if(i){var c=i;if(!an(n,i)){if(ir(n))throw Error(t(418));i=Ho(c.nextSibling);var w=dt;i&&an(n,i)?xn(w,c):(n.flags=n.flags&-4097|2,vt=!1,dt=n)}}else{if(ir(n))throw Error(t(418));n.flags=n.flags&-4097|2,vt=!1,dt=n}}}function kr(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dt=n}function Ii(n){if(n!==dt)return!1;if(!vt)return kr(n),vt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!$a(n.type,n.memoizedProps)),i&&(i=mt)){if(ir(n))throw or(),Error(t(418));for(;i;)xn(n,i),i=Ho(i.nextSibling)}if(kr(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){mt=Ho(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}mt=null}}else mt=dt?Ho(n.stateNode.nextSibling):null;return!0}function or(){for(var n=mt;n;)n=Ho(n.nextSibling)}function ln(){mt=dt=null,vt=!1}function Xt(n){wt===null?wt=[n]:wt.push(n)}var Mi=A.ReactCurrentBatchConfig;function Kn(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var w=c.stateNode}if(!w)throw Error(t(147,n));var D=w,H=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===H?i.ref:(i=function(ye){var Fe=D.refs;ye===null?delete Fe[H]:Fe[H]=ye},i._stringRef=H,i)}if(typeof n!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,n))}return n}function xr(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function mi(n){var i=n._init;return i(n._payload)}function oo(n){function i(it,Ye){if(n){var ot=it.deletions;ot===null?(it.deletions=[Ye],it.flags|=16):ot.push(Ye)}}function c(it,Ye){if(!n)return null;for(;Ye!==null;)i(it,Ye),Ye=Ye.sibling;return null}function w(it,Ye){for(it=new Map;Ye!==null;)Ye.key!==null?it.set(Ye.key,Ye):it.set(Ye.index,Ye),Ye=Ye.sibling;return it}function D(it,Ye){return it=wc(it,Ye),it.index=0,it.sibling=null,it}function H(it,Ye,ot){return it.index=ot,n?(ot=it.alternate,ot!==null?(ot=ot.index,ot<Ye?(it.flags|=2,Ye):ot):(it.flags|=2,Ye)):(it.flags|=1048576,Ye)}function ye(it){return n&&it.alternate===null&&(it.flags|=2),it}function Fe(it,Ye,ot,Kt){return Ye===null||Ye.tag!==6?(Ye=bh(ot,it.mode,Kt),Ye.return=it,Ye):(Ye=D(Ye,ot),Ye.return=it,Ye)}function qe(it,Ye,ot,Kt){var jn=ot.type;return jn===oe?Dt(it,Ye,ot.props.children,Kt,ot.key):Ye!==null&&(Ye.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===Ee&&mi(jn)===Ye.type)?(Kt=D(Ye,ot.props),Kt.ref=Kn(it,Ye,ot),Kt.return=it,Kt):(Kt=zf(ot.type,ot.key,ot.props,null,it.mode,Kt),Kt.ref=Kn(it,Ye,ot),Kt.return=it,Kt)}function ut(it,Ye,ot,Kt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==ot.containerInfo||Ye.stateNode.implementation!==ot.implementation?(Ye=_h(ot,it.mode,Kt),Ye.return=it,Ye):(Ye=D(Ye,ot.children||[]),Ye.return=it,Ye)}function Dt(it,Ye,ot,Kt,jn){return Ye===null||Ye.tag!==7?(Ye=Fc(ot,it.mode,Kt,jn),Ye.return=it,Ye):(Ye=D(Ye,ot),Ye.return=it,Ye)}function qt(it,Ye,ot){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Ye=bh(""+Ye,it.mode,ot),Ye.return=it,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case q:return ot=zf(Ye.type,Ye.key,Ye.props,null,it.mode,ot),ot.ref=Kn(it,null,Ye),ot.return=it,ot;case ie:return Ye=_h(Ye,it.mode,ot),Ye.return=it,Ye;case Ee:var Kt=Ye._init;return qt(it,Kt(Ye._payload),ot)}if(we(Ye)||Se(Ye))return Ye=Fc(Ye,it.mode,ot,null),Ye.return=it,Ye;xr(it,Ye)}return null}function It(it,Ye,ot,Kt){var jn=Ye!==null?Ye.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return jn!==null?null:Fe(it,Ye,""+ot,Kt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case q:return ot.key===jn?qe(it,Ye,ot,Kt):null;case ie:return ot.key===jn?ut(it,Ye,ot,Kt):null;case Ee:return jn=ot._init,It(it,Ye,jn(ot._payload),Kt)}if(we(ot)||Se(ot))return jn!==null?null:Dt(it,Ye,ot,Kt,null);xr(it,ot)}return null}function fn(it,Ye,ot,Kt,jn){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return it=it.get(ot)||null,Fe(Ye,it,""+Kt,jn);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case q:return it=it.get(Kt.key===null?ot:Kt.key)||null,qe(Ye,it,Kt,jn);case ie:return it=it.get(Kt.key===null?ot:Kt.key)||null,ut(Ye,it,Kt,jn);case Ee:var Yn=Kt._init;return fn(it,Ye,ot,Yn(Kt._payload),jn)}if(we(Kt)||Se(Kt))return it=it.get(ot)||null,Dt(Ye,it,Kt,jn,null);xr(Ye,Kt)}return null}function bn(it,Ye,ot,Kt){for(var jn=null,Yn=null,Xn=Ye,ar=Ye=0,is=null;Xn!==null&&ar<ot.length;ar++){Xn.index>ar?(is=Xn,Xn=null):is=Xn.sibling;var ci=It(it,Xn,ot[ar],Kt);if(ci===null){Xn===null&&(Xn=is);break}n&&Xn&&ci.alternate===null&&i(it,Xn),Ye=H(ci,Ye,ar),Yn===null?jn=ci:Yn.sibling=ci,Yn=ci,Xn=is}if(ar===ot.length)return c(it,Xn),vt&&We(it,ar),jn;if(Xn===null){for(;ar<ot.length;ar++)Xn=qt(it,ot[ar],Kt),Xn!==null&&(Ye=H(Xn,Ye,ar),Yn===null?jn=Xn:Yn.sibling=Xn,Yn=Xn);return vt&&We(it,ar),jn}for(Xn=w(it,Xn);ar<ot.length;ar++)is=fn(Xn,it,ar,ot[ar],Kt),is!==null&&(n&&is.alternate!==null&&Xn.delete(is.key===null?ar:is.key),Ye=H(is,Ye,ar),Yn===null?jn=is:Yn.sibling=is,Yn=is);return n&&Xn.forEach(function(xc){return i(it,xc)}),vt&&We(it,ar),jn}function An(it,Ye,ot,Kt){var jn=Se(ot);if(typeof jn!="function")throw Error(t(150));if(ot=jn.call(ot),ot==null)throw Error(t(151));for(var Yn=jn=null,Xn=Ye,ar=Ye=0,is=null,ci=ot.next();Xn!==null&&!ci.done;ar++,ci=ot.next()){Xn.index>ar?(is=Xn,Xn=null):is=Xn.sibling;var xc=It(it,Xn,ci.value,Kt);if(xc===null){Xn===null&&(Xn=is);break}n&&Xn&&xc.alternate===null&&i(it,Xn),Ye=H(xc,Ye,ar),Yn===null?jn=xc:Yn.sibling=xc,Yn=xc,Xn=is}if(ci.done)return c(it,Xn),vt&&We(it,ar),jn;if(Xn===null){for(;!ci.done;ar++,ci=ot.next())ci=qt(it,ci.value,Kt),ci!==null&&(Ye=H(ci,Ye,ar),Yn===null?jn=ci:Yn.sibling=ci,Yn=ci);return vt&&We(it,ar),jn}for(Xn=w(it,Xn);!ci.done;ar++,ci=ot.next())ci=fn(Xn,it,ar,ci.value,Kt),ci!==null&&(n&&ci.alternate!==null&&Xn.delete(ci.key===null?ar:ci.key),Ye=H(ci,Ye,ar),Yn===null?jn=ci:Yn.sibling=ci,Yn=ci);return n&&Xn.forEach(function(cx){return i(it,cx)}),vt&&We(it,ar),jn}function No(it,Ye,ot,Kt){if(typeof ot=="object"&&ot!==null&&ot.type===oe&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case q:e:{for(var jn=ot.key,Yn=Ye;Yn!==null;){if(Yn.key===jn){if(jn=ot.type,jn===oe){if(Yn.tag===7){c(it,Yn.sibling),Ye=D(Yn,ot.props.children),Ye.return=it,it=Ye;break e}}else if(Yn.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===Ee&&mi(jn)===Yn.type){c(it,Yn.sibling),Ye=D(Yn,ot.props),Ye.ref=Kn(it,Yn,ot),Ye.return=it,it=Ye;break e}c(it,Yn);break}else i(it,Yn);Yn=Yn.sibling}ot.type===oe?(Ye=Fc(ot.props.children,it.mode,Kt,ot.key),Ye.return=it,it=Ye):(Kt=zf(ot.type,ot.key,ot.props,null,it.mode,Kt),Kt.ref=Kn(it,Ye,ot),Kt.return=it,it=Kt)}return ye(it);case ie:e:{for(Yn=ot.key;Ye!==null;){if(Ye.key===Yn)if(Ye.tag===4&&Ye.stateNode.containerInfo===ot.containerInfo&&Ye.stateNode.implementation===ot.implementation){c(it,Ye.sibling),Ye=D(Ye,ot.children||[]),Ye.return=it,it=Ye;break e}else{c(it,Ye);break}else i(it,Ye);Ye=Ye.sibling}Ye=_h(ot,it.mode,Kt),Ye.return=it,it=Ye}return ye(it);case Ee:return Yn=ot._init,No(it,Ye,Yn(ot._payload),Kt)}if(we(ot))return bn(it,Ye,ot,Kt);if(Se(ot))return An(it,Ye,ot,Kt);xr(it,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,Ye!==null&&Ye.tag===6?(c(it,Ye.sibling),Ye=D(Ye,ot),Ye.return=it,it=Ye):(c(it,Ye),Ye=bh(ot,it.mode,Kt),Ye.return=it,it=Ye),ye(it)):c(it,Ye)}return No}var Gi=oo(!0),Ti=oo(!1),Ji=Ps(null),so=null,vi=null,Lr=null;function Hr(){Lr=vi=so=null}function wi(n){var i=Ji.current;Jr(Ji),n._currentValue=i}function Gr(n,i,c){for(;n!==null;){var w=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,w!==null&&(w.childLanes|=i)):w!==null&&(w.childLanes&i)!==i&&(w.childLanes|=i),n===c)break;n=n.return}}function Pi(n,i){so=n,Lr=vi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Gs=!0),n.firstContext=null)}function Ri(n){var i=n._currentValue;if(Lr!==n)if(n={context:n,memoizedValue:i,next:null},vi===null){if(so===null)throw Error(t(308));vi=n,so.dependencies={lanes:0,firstContext:n}}else vi=vi.next=n;return i}var ai=null;function So(n){ai===null?ai=[n]:ai.push(n)}function h(n,i,c,w){var D=i.interleaved;return D===null?(c.next=c,So(i)):(c.next=D.next,D.next=c),i.interleaved=c,y(n,w)}function y(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var L=!1;function G(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ge(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Ae(n,i,c){var w=n.updateQueue;if(w===null)return null;if(w=w.shared,(ri&2)!==0){var D=w.pending;return D===null?i.next=i:(i.next=D.next,D.next=i),w.pending=i,y(n,c)}return D=w.interleaved,D===null?(i.next=i,So(w)):(i.next=D.next,D.next=i),w.interleaved=i,y(n,c)}function ke(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var w=i.lanes;w&=n.pendingLanes,c|=w,i.lanes=c,fo(n,c)}}function he(n,i){var c=n.updateQueue,w=n.alternate;if(w!==null&&(w=w.updateQueue,c===w)){var D=null,H=null;if(c=c.firstBaseUpdate,c!==null){do{var ye={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};H===null?D=H=ye:H=H.next=ye,c=c.next}while(c!==null);H===null?D=H=i:H=H.next=i}else D=H=i;c={baseState:w.baseState,firstBaseUpdate:D,lastBaseUpdate:H,shared:w.shared,effects:w.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Ze(n,i,c,w){var D=n.updateQueue;L=!1;var H=D.firstBaseUpdate,ye=D.lastBaseUpdate,Fe=D.shared.pending;if(Fe!==null){D.shared.pending=null;var qe=Fe,ut=qe.next;qe.next=null,ye===null?H=ut:ye.next=ut,ye=qe;var Dt=n.alternate;Dt!==null&&(Dt=Dt.updateQueue,Fe=Dt.lastBaseUpdate,Fe!==ye&&(Fe===null?Dt.firstBaseUpdate=ut:Fe.next=ut,Dt.lastBaseUpdate=qe))}if(H!==null){var qt=D.baseState;ye=0,Dt=ut=qe=null,Fe=H;do{var It=Fe.lane,fn=Fe.eventTime;if((w&It)===It){Dt!==null&&(Dt=Dt.next={eventTime:fn,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var bn=n,An=Fe;switch(It=i,fn=c,An.tag){case 1:if(bn=An.payload,typeof bn=="function"){qt=bn.call(fn,qt,It);break e}qt=bn;break e;case 3:bn.flags=bn.flags&-65537|128;case 0:if(bn=An.payload,It=typeof bn=="function"?bn.call(fn,qt,It):bn,It==null)break e;qt=De({},qt,It);break e;case 2:L=!0}}Fe.callback!==null&&Fe.lane!==0&&(n.flags|=64,It=D.effects,It===null?D.effects=[Fe]:It.push(Fe))}else fn={eventTime:fn,lane:It,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},Dt===null?(ut=Dt=fn,qe=qt):Dt=Dt.next=fn,ye|=It;if(Fe=Fe.next,Fe===null){if(Fe=D.shared.pending,Fe===null)break;It=Fe,Fe=It.next,It.next=null,D.lastBaseUpdate=It,D.shared.pending=null}}while(!0);if(Dt===null&&(qe=qt),D.baseState=qe,D.firstBaseUpdate=ut,D.lastBaseUpdate=Dt,i=D.shared.interleaved,i!==null){D=i;do ye|=D.lane,D=D.next;while(D!==i)}else H===null&&(D.shared.lanes=0);Pc|=ye,n.lanes=ye,n.memoizedState=qt}}function Qe(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var w=n[i],D=w.callback;if(D!==null){if(w.callback=null,w=c,typeof D!="function")throw Error(t(191,D));D.call(w)}}}var Me={},kt=Ps(Me),ct=Ps(Me),Tt=Ps(Me);function st(n){if(n===Me)throw Error(t(174));return n}function xt(n,i){switch(Tr(Tt,i),Tr(ct,n),Tr(kt,Me),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ct(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ct(i,n)}Jr(kt),Tr(kt,i)}function Ge(){Jr(kt),Jr(ct),Jr(Tt)}function ze(n){st(Tt.current);var i=st(kt.current),c=Ct(i,n.type);i!==c&&(Tr(ct,n),Tr(kt,c))}function yt(n){ct.current===n&&(Jr(kt),Jr(ct))}var Xe=Ps(0);function lt(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wt=[];function Lt(){for(var n=0;n<Wt.length;n++)Wt[n]._workInProgressVersionPrimary=null;Wt.length=0}var un=A.ReactCurrentDispatcher,jt=A.ReactCurrentBatchConfig,Pt=0,At=null,Ut=null,Mt=null,Bt=!1,xi=!1,Un=0,ts=0;function Tn(){throw Error(t(321))}function bi(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!ji(n[c],i[c]))return!1;return!0}function zi(n,i,c,w,D,H){if(Pt=H,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,un.current=n===null||n.memoizedState===null?Dw:Ow,n=c(w,D),xi){H=0;do{if(xi=!1,Un=0,25<=H)throw Error(t(301));H+=1,Mt=Ut=null,i.updateQueue=null,un.current=Fw,n=c(w,D)}while(xi)}if(un.current=Nf,i=Ut!==null&&Ut.next!==null,Pt=0,Mt=Ut=At=null,Bt=!1,i)throw Error(t(300));return n}function ko(){var n=Un!==0;return Un=0,n}function ns(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?At.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function Vo(){if(Ut===null){var n=At.alternate;n=n!==null?n.memoizedState:null}else n=Ut.next;var i=Mt===null?At.memoizedState:Mt.next;if(i!==null)Mt=i,Ut=n;else{if(n===null)throw Error(t(310));Ut=n,n={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Mt===null?At.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function wl(n,i){return typeof i=="function"?i(n):i}function Ic(n){var i=Vo(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var w=Ut,D=w.baseQueue,H=c.pending;if(H!==null){if(D!==null){var ye=D.next;D.next=H.next,H.next=ye}w.baseQueue=D=H,c.pending=null}if(D!==null){H=D.next,w=w.baseState;var Fe=ye=null,qe=null,ut=H;do{var Dt=ut.lane;if((Pt&Dt)===Dt)qe!==null&&(qe=qe.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),w=ut.hasEagerState?ut.eagerState:n(w,ut.action);else{var qt={lane:Dt,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};qe===null?(Fe=qe=qt,ye=w):qe=qe.next=qt,At.lanes|=Dt,Pc|=Dt}ut=ut.next}while(ut!==null&&ut!==H);qe===null?ye=w:qe.next=Fe,ji(w,i.memoizedState)||(Gs=!0),i.memoizedState=w,i.baseState=ye,i.baseQueue=qe,c.lastRenderedState=w}if(n=c.interleaved,n!==null){D=n;do H=D.lane,At.lanes|=H,Pc|=H,D=D.next;while(D!==n)}else D===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function sr(n){var i=Vo(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var w=c.dispatch,D=c.pending,H=i.memoizedState;if(D!==null){c.pending=null;var ye=D=D.next;do H=n(H,ye.action),ye=ye.next;while(ye!==D);ji(H,i.memoizedState)||(Gs=!0),i.memoizedState=H,i.baseQueue===null&&(i.baseState=H),c.lastRenderedState=H}return[H,w]}function Ar(){}function ni(n,i){var c=At,w=Vo(),D=i(),H=!ji(w.memoizedState,D);if(H&&(w.memoizedState=D,Gs=!0),w=w.queue,hc(Ui.bind(null,c,w,n),[n]),w.getSnapshot!==i||H||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,li(9,Zi.bind(null,c,w,D,i),void 0,null),rs===null)throw Error(t(349));(Pt&30)!==0||mo(c,i,D)}return D}function mo(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function Zi(n,i,c,w){i.value=c,i.getSnapshot=w,Ga(i)&&ql(n)}function Ui(n,i,c){return c(function(){Ga(i)&&ql(n)})}function Ga(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!ji(n,c)}catch{return!0}}function ql(n){var i=y(n,1);i!==null&&Xa(i,n,1,-1)}function br(n){var i=ns();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:n},i.queue=n,n=n.dispatch=Rw.bind(null,At,n),[i.memoizedState,n]}function li(n,i,c,w){return n={tag:n,create:i,destroy:c,deps:w,next:null},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(w=c.next,c.next=n,n.next=w,i.lastEffect=n)),n}function Ao(){return Vo().memoizedState}function gi(n,i,c,w){var D=ns();At.flags|=n,D.memoizedState=li(1|i,c,void 0,w===void 0?null:w)}function Ds(n,i,c,w){var D=Vo();w=w===void 0?null:w;var H=void 0;if(Ut!==null){var ye=Ut.memoizedState;if(H=ye.destroy,w!==null&&bi(w,ye.deps)){D.memoizedState=li(i,c,H,w);return}}At.flags|=n,D.memoizedState=li(1|i,c,H,w)}function Hs(n,i){return gi(8390656,8,n,i)}function hc(n,i){return Ds(2048,8,n,i)}function Af(n,i){return Ds(4,2,n,i)}function iu(n,i){return Ds(4,4,n,i)}function ou(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fm(n,i,c){return c=c!=null?c.concat([n]):null,Ds(4,4,ou.bind(null,i,n),c)}function Kd(){}function Bm(n,i){var c=Vo();i=i===void 0?null:i;var w=c.memoizedState;return w!==null&&i!==null&&bi(i,w[1])?w[0]:(c.memoizedState=[n,i],n)}function Mm(n,i){var c=Vo();i=i===void 0?null:i;var w=c.memoizedState;return w!==null&&i!==null&&bi(i,w[1])?w[0]:(n=n(),c.memoizedState=[n,i],n)}function zm(n,i,c){return(Pt&21)===0?(n.baseState&&(n.baseState=!1,Gs=!0),n.memoizedState=c):(ji(c,i)||(c=uo(),At.lanes|=c,Pc|=c,n.baseState=!0),i)}function Iw(n,i){var c=Cr;Cr=c!==0&&4>c?c:4,n(!0);var w=jt.transition;jt.transition={};try{n(!1),i()}finally{Cr=c,jt.transition=w}}function Um(){return Vo().memoizedState}function Pw(n,i,c){var w=yc(n);if(c={lane:w,action:c,hasEagerState:!1,eagerState:null,next:null},$m(n))qm(i,c);else if(c=h(n,i,c,w),c!==null){var D=Fs();Xa(c,n,w,D),Wm(c,i,w)}}function Rw(n,i,c){var w=yc(n),D={lane:w,action:c,hasEagerState:!1,eagerState:null,next:null};if($m(n))qm(i,D);else{var H=n.alternate;if(n.lanes===0&&(H===null||H.lanes===0)&&(H=i.lastRenderedReducer,H!==null))try{var ye=i.lastRenderedState,Fe=H(ye,c);if(D.hasEagerState=!0,D.eagerState=Fe,ji(Fe,ye)){var qe=i.interleaved;qe===null?(D.next=D,So(i)):(D.next=qe.next,qe.next=D),i.interleaved=D;return}}catch{}finally{}c=h(n,i,D,w),c!==null&&(D=Fs(),Xa(c,n,w,D),Wm(c,i,w))}}function $m(n){var i=n.alternate;return n===At||i!==null&&i===At}function qm(n,i){xi=Bt=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function Wm(n,i,c){if((c&4194240)!==0){var w=i.lanes;w&=n.pendingLanes,c|=w,i.lanes=c,fo(n,c)}}var Nf={readContext:Ri,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Dw={readContext:Ri,useCallback:function(n,i){return ns().memoizedState=[n,i===void 0?null:i],n},useContext:Ri,useEffect:Hs,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,gi(4194308,4,ou.bind(null,i,n),c)},useLayoutEffect:function(n,i){return gi(4194308,4,n,i)},useInsertionEffect:function(n,i){return gi(4,2,n,i)},useMemo:function(n,i){var c=ns();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var w=ns();return i=c!==void 0?c(i):i,w.memoizedState=w.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},w.queue=n,n=n.dispatch=Pw.bind(null,At,n),[w.memoizedState,n]},useRef:function(n){var i=ns();return n={current:n},i.memoizedState=n},useState:br,useDebugValue:Kd,useDeferredValue:function(n){return ns().memoizedState=n},useTransition:function(){var n=br(!1),i=n[0];return n=Iw.bind(null,n[1]),ns().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var w=At,D=ns();if(vt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),rs===null)throw Error(t(349));(Pt&30)!==0||mo(w,i,c)}D.memoizedState=c;var H={value:c,getSnapshot:i};return D.queue=H,Hs(Ui.bind(null,w,H,n),[n]),w.flags|=2048,li(9,Zi.bind(null,w,H,c,i),void 0,null),c},useId:function(){var n=ns(),i=rs.identifierPrefix;if(vt){var c=Re,w=nt;c=(w&~(1<<32-Hn(w)-1)).toString(32)+c,i=":"+i+"R"+c,c=Un++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=ts++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Ow={readContext:Ri,useCallback:Bm,useContext:Ri,useEffect:hc,useImperativeHandle:Fm,useInsertionEffect:Af,useLayoutEffect:iu,useMemo:Mm,useReducer:Ic,useRef:Ao,useState:function(){return Ic(wl)},useDebugValue:Kd,useDeferredValue:function(n){var i=Vo();return zm(i,Ut.memoizedState,n)},useTransition:function(){var n=Ic(wl)[0],i=Vo().memoizedState;return[n,i]},useMutableSource:Ar,useSyncExternalStore:ni,useId:Um,unstable_isNewReconciler:!1},Fw={readContext:Ri,useCallback:Bm,useContext:Ri,useEffect:hc,useImperativeHandle:Fm,useInsertionEffect:Af,useLayoutEffect:iu,useMemo:Mm,useReducer:sr,useRef:Ao,useState:function(){return sr(wl)},useDebugValue:Kd,useDeferredValue:function(n){var i=Vo();return Ut===null?i.memoizedState=n:zm(i,Ut.memoizedState,n)},useTransition:function(){var n=sr(wl)[0],i=Vo().memoizedState;return[n,i]},useMutableSource:Ar,useSyncExternalStore:ni,useId:Um,unstable_isNewReconciler:!1};function Va(n,i){if(n&&n.defaultProps){i=De({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function Yd(n,i,c,w){i=n.memoizedState,c=c(w,i),c=c==null?i:De({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Ef={isMounted:function(n){return(n=n._reactInternals)?bt(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var w=Fs(),D=yc(n),H=ge(w,D);H.payload=i,c!=null&&(H.callback=c),i=Ae(n,H,D),i!==null&&(Xa(i,n,D,w),ke(i,n,D))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var w=Fs(),D=yc(n),H=ge(w,D);H.tag=1,H.payload=i,c!=null&&(H.callback=c),i=Ae(n,H,D),i!==null&&(Xa(i,n,D,w),ke(i,n,D))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=Fs(),w=yc(n),D=ge(c,w);D.tag=2,i!=null&&(D.callback=i),i=Ae(n,D,w),i!==null&&(Xa(i,n,w,c),ke(i,n,w))}};function Hm(n,i,c,w,D,H,ye){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(w,H,ye):i.prototype&&i.prototype.isPureReactComponent?!io(c,w)||!io(D,H):!0}function Gm(n,i,c){var w=!1,D=Xi,H=i.contextType;return typeof H=="object"&&H!==null?H=Ri(H):(D=es(i)?$s:Hi.current,w=i.contextTypes,H=(w=w!=null)?qs(n,D):Xi),i=new i(c,H),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ef,n.stateNode=i,i._reactInternals=n,w&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=D,n.__reactInternalMemoizedMaskedChildContext=H),i}function Vm(n,i,c,w){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,w),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,w),i.state!==n&&Ef.enqueueReplaceState(i,i.state,null)}function Xd(n,i,c,w){var D=n.stateNode;D.props=c,D.state=n.memoizedState,D.refs={},G(n);var H=i.contextType;typeof H=="object"&&H!==null?D.context=Ri(H):(H=es(i)?$s:Hi.current,D.context=qs(n,H)),D.state=n.memoizedState,H=i.getDerivedStateFromProps,typeof H=="function"&&(Yd(n,i,H,c),D.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(i=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),i!==D.state&&Ef.enqueueReplaceState(D,D.state,null),Ze(n,c,D,w),D.state=n.memoizedState),typeof D.componentDidMount=="function"&&(n.flags|=4194308)}function su(n,i){try{var c="",w=i;do c+=me(w),w=w.return;while(w);var D=c}catch(H){D=`
Error generating stack: `+H.message+`
`+H.stack}return{value:n,source:i,stack:D,digest:null}}function Jd(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function Zd(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Bw=typeof WeakMap=="function"?WeakMap:Map;function Km(n,i,c){c=ge(-1,c),c.tag=3,c.payload={element:null};var w=i.value;return c.callback=function(){Rf||(Rf=!0,hh=w),Zd(n,i)},c}function Ym(n,i,c){c=ge(-1,c),c.tag=3;var w=n.type.getDerivedStateFromError;if(typeof w=="function"){var D=i.value;c.payload=function(){return w(D)},c.callback=function(){Zd(n,i)}}var H=n.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(c.callback=function(){Zd(n,i),typeof w!="function"&&(mc===null?mc=new Set([this]):mc.add(this));var ye=i.stack;this.componentDidCatch(i.value,{componentStack:ye!==null?ye:""})}),c}function Xm(n,i,c){var w=n.pingCache;if(w===null){w=n.pingCache=new Bw;var D=new Set;w.set(i,D)}else D=w.get(i),D===void 0&&(D=new Set,w.set(i,D));D.has(c)||(D.add(c),n=Zw.bind(null,n,i,c),i.then(n,n))}function Jm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Zm(n,i,c,w,D){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=ge(-1,1),i.tag=2,Ae(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=D,n)}var Mw=A.ReactCurrentOwner,Gs=!1;function Os(n,i,c,w){i.child=n===null?Ti(i,null,c,w):Gi(i,n.child,c,w)}function Qm(n,i,c,w,D){c=c.render;var H=i.ref;return Pi(i,D),w=zi(n,i,c,w,H,D),c=ko(),n!==null&&!Gs?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~D,Wl(n,i,D)):(vt&&c&&gt(i),i.flags|=1,Os(n,i,w,D),i.child)}function e0(n,i,c,w,D){if(n===null){var H=c.type;return typeof H=="function"&&!xh(H)&&H.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=H,t0(n,i,H,w,D)):(n=zf(c.type,null,w,i,i.mode,D),n.ref=i.ref,n.return=i,i.child=n)}if(H=n.child,(n.lanes&D)===0){var ye=H.memoizedProps;if(c=c.compare,c=c!==null?c:io,c(ye,w)&&n.ref===i.ref)return Wl(n,i,D)}return i.flags|=1,n=wc(H,w),n.ref=i.ref,n.return=i,i.child=n}function t0(n,i,c,w,D){if(n!==null){var H=n.memoizedProps;if(io(H,w)&&n.ref===i.ref)if(Gs=!1,i.pendingProps=w=H,(n.lanes&D)!==0)(n.flags&131072)!==0&&(Gs=!0);else return i.lanes=n.lanes,Wl(n,i,D)}return Qd(n,i,c,w,D)}function n0(n,i,c){var w=i.pendingProps,D=w.children,H=n!==null?n.memoizedState:null;if(w.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(lu,ca),ca|=c;else{if((c&1073741824)===0)return n=H!==null?H.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Tr(lu,ca),ca|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=H!==null?H.baseLanes:c,Tr(lu,ca),ca|=w}else H!==null?(w=H.baseLanes|c,i.memoizedState=null):w=c,Tr(lu,ca),ca|=w;return Os(n,i,D,c),i.child}function r0(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Qd(n,i,c,w,D){var H=es(c)?$s:Hi.current;return H=qs(i,H),Pi(i,D),c=zi(n,i,c,w,H,D),w=ko(),n!==null&&!Gs?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~D,Wl(n,i,D)):(vt&&w&&gt(i),i.flags|=1,Os(n,i,c,D),i.child)}function i0(n,i,c,w,D){if(es(c)){var H=!0;Ha(i)}else H=!1;if(Pi(i,D),i.stateNode===null)Tf(n,i),Gm(i,c,w),Xd(i,c,w,D),w=!0;else if(n===null){var ye=i.stateNode,Fe=i.memoizedProps;ye.props=Fe;var qe=ye.context,ut=c.contextType;typeof ut=="object"&&ut!==null?ut=Ri(ut):(ut=es(c)?$s:Hi.current,ut=qs(i,ut));var Dt=c.getDerivedStateFromProps,qt=typeof Dt=="function"||typeof ye.getSnapshotBeforeUpdate=="function";qt||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Fe!==w||qe!==ut)&&Vm(i,ye,w,ut),L=!1;var It=i.memoizedState;ye.state=It,Ze(i,w,ye,D),qe=i.memoizedState,Fe!==w||It!==qe||po.current||L?(typeof Dt=="function"&&(Yd(i,c,Dt,w),qe=i.memoizedState),(Fe=L||Hm(i,c,Fe,w,It,qe,ut))?(qt||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(i.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=w,i.memoizedState=qe),ye.props=w,ye.state=qe,ye.context=ut,w=Fe):(typeof ye.componentDidMount=="function"&&(i.flags|=4194308),w=!1)}else{ye=i.stateNode,Z(n,i),Fe=i.memoizedProps,ut=i.type===i.elementType?Fe:Va(i.type,Fe),ye.props=ut,qt=i.pendingProps,It=ye.context,qe=c.contextType,typeof qe=="object"&&qe!==null?qe=Ri(qe):(qe=es(c)?$s:Hi.current,qe=qs(i,qe));var fn=c.getDerivedStateFromProps;(Dt=typeof fn=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Fe!==qt||It!==qe)&&Vm(i,ye,w,qe),L=!1,It=i.memoizedState,ye.state=It,Ze(i,w,ye,D);var bn=i.memoizedState;Fe!==qt||It!==bn||po.current||L?(typeof fn=="function"&&(Yd(i,c,fn,w),bn=i.memoizedState),(ut=L||Hm(i,c,ut,w,It,bn,qe)||!1)?(Dt||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(w,bn,qe),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(w,bn,qe)),typeof ye.componentDidUpdate=="function"&&(i.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Fe===n.memoizedProps&&It===n.memoizedState||(i.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Fe===n.memoizedProps&&It===n.memoizedState||(i.flags|=1024),i.memoizedProps=w,i.memoizedState=bn),ye.props=w,ye.state=bn,ye.context=qe,w=ut):(typeof ye.componentDidUpdate!="function"||Fe===n.memoizedProps&&It===n.memoizedState||(i.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Fe===n.memoizedProps&&It===n.memoizedState||(i.flags|=1024),w=!1)}return eh(n,i,c,w,H,D)}function eh(n,i,c,w,D,H){r0(n,i);var ye=(i.flags&128)!==0;if(!w&&!ye)return D&&ru(i,c,!1),Wl(n,i,H);w=i.stateNode,Mw.current=i;var Fe=ye&&typeof c.getDerivedStateFromError!="function"?null:w.render();return i.flags|=1,n!==null&&ye?(i.child=Gi(i,n.child,null,H),i.child=Gi(i,null,Fe,H)):Os(n,i,Fe,H),i.memoizedState=w.state,D&&ru(i,c,!0),i.child}function o0(n){var i=n.stateNode;i.pendingContext?vl(n,i.pendingContext,i.pendingContext!==i.context):i.context&&vl(n,i.context,!1),xt(n,i.containerInfo)}function s0(n,i,c,w,D){return ln(),Xt(D),i.flags|=256,Os(n,i,c,w),i.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(n){return{baseLanes:n,cachePool:null,transitions:null}}function a0(n,i,c){var w=i.pendingProps,D=Xe.current,H=!1,ye=(i.flags&128)!==0,Fe;if((Fe=ye)||(Fe=n!==null&&n.memoizedState===null?!1:(D&2)!==0),Fe?(H=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(D|=1),Tr(Xe,D&1),n===null)return hn(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(ye=w.children,n=w.fallback,H?(w=i.mode,H=i.child,ye={mode:"hidden",children:ye},(w&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=ye):H=Uf(ye,w,0,null),n=Fc(n,w,c,null),H.return=i,n.return=i,H.sibling=n,i.child=H,i.child.memoizedState=nh(c),i.memoizedState=th,n):rh(i,ye));if(D=n.memoizedState,D!==null&&(Fe=D.dehydrated,Fe!==null))return zw(n,i,ye,w,Fe,D,c);if(H){H=w.fallback,ye=i.mode,D=n.child,Fe=D.sibling;var qe={mode:"hidden",children:w.children};return(ye&1)===0&&i.child!==D?(w=i.child,w.childLanes=0,w.pendingProps=qe,i.deletions=null):(w=wc(D,qe),w.subtreeFlags=D.subtreeFlags&14680064),Fe!==null?H=wc(Fe,H):(H=Fc(H,ye,c,null),H.flags|=2),H.return=i,w.return=i,w.sibling=H,i.child=w,w=H,H=i.child,ye=n.child.memoizedState,ye=ye===null?nh(c):{baseLanes:ye.baseLanes|c,cachePool:null,transitions:ye.transitions},H.memoizedState=ye,H.childLanes=n.childLanes&~c,i.memoizedState=th,w}return H=n.child,n=H.sibling,w=wc(H,{mode:"visible",children:w.children}),(i.mode&1)===0&&(w.lanes=c),w.return=i,w.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=w,i.memoizedState=null,w}function rh(n,i){return i=Uf({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Cf(n,i,c,w){return w!==null&&Xt(w),Gi(i,n.child,null,c),n=rh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function zw(n,i,c,w,D,H,ye){if(c)return i.flags&256?(i.flags&=-257,w=Jd(Error(t(422))),Cf(n,i,ye,w)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(H=w.fallback,D=i.mode,w=Uf({mode:"visible",children:w.children},D,0,null),H=Fc(H,D,ye,null),H.flags|=2,w.return=i,H.return=i,w.sibling=H,i.child=w,(i.mode&1)!==0&&Gi(i,n.child,null,ye),i.child.memoizedState=nh(ye),i.memoizedState=th,H);if((i.mode&1)===0)return Cf(n,i,ye,null);if(D.data==="$!"){if(w=D.nextSibling&&D.nextSibling.dataset,w)var Fe=w.dgst;return w=Fe,H=Error(t(419)),w=Jd(H,w,void 0),Cf(n,i,ye,w)}if(Fe=(ye&n.childLanes)!==0,Gs||Fe){if(w=rs,w!==null){switch(ye&-ye){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(w.suspendedLanes|ye))!==0?0:D,D!==0&&D!==H.retryLane&&(H.retryLane=D,y(n,D),Xa(w,n,D,-1))}return wh(),w=Jd(Error(t(421))),Cf(n,i,ye,w)}return D.data==="$?"?(i.flags|=128,i.child=n.child,i=Qw.bind(null,n),D._reactRetry=i,null):(n=H.treeContext,mt=Ho(D.nextSibling),dt=i,vt=!0,wt=null,n!==null&&(Te[Pe++]=nt,Te[Pe++]=Re,Te[Pe++]=$e,nt=n.id,Re=n.overflow,$e=i),i=rh(i,w.children),i.flags|=4096,i)}function l0(n,i,c){n.lanes|=i;var w=n.alternate;w!==null&&(w.lanes|=i),Gr(n.return,i,c)}function ih(n,i,c,w,D){var H=n.memoizedState;H===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:w,tail:c,tailMode:D}:(H.isBackwards=i,H.rendering=null,H.renderingStartTime=0,H.last=w,H.tail=c,H.tailMode=D)}function c0(n,i,c){var w=i.pendingProps,D=w.revealOrder,H=w.tail;if(Os(n,i,w.children,c),w=Xe.current,(w&2)!==0)w=w&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&l0(n,c,i);else if(n.tag===19)l0(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}w&=1}if(Tr(Xe,w),(i.mode&1)===0)i.memoizedState=null;else switch(D){case"forwards":for(c=i.child,D=null;c!==null;)n=c.alternate,n!==null&&lt(n)===null&&(D=c),c=c.sibling;c=D,c===null?(D=i.child,i.child=null):(D=c.sibling,c.sibling=null),ih(i,!1,D,c,H);break;case"backwards":for(c=null,D=i.child,i.child=null;D!==null;){if(n=D.alternate,n!==null&&lt(n)===null){i.child=D;break}n=D.sibling,D.sibling=c,c=D,D=n}ih(i,!0,c,null,H);break;case"together":ih(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Tf(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Wl(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),Pc|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,c=wc(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=wc(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function Uw(n,i,c){switch(i.tag){case 3:o0(i),ln();break;case 5:ze(i);break;case 1:es(i.type)&&Ha(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:var w=i.type._context,D=i.memoizedProps.value;Tr(Ji,w._currentValue),w._currentValue=D;break;case 13:if(w=i.memoizedState,w!==null)return w.dehydrated!==null?(Tr(Xe,Xe.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?a0(n,i,c):(Tr(Xe,Xe.current&1),n=Wl(n,i,c),n!==null?n.sibling:null);Tr(Xe,Xe.current&1);break;case 19:if(w=(c&i.childLanes)!==0,(n.flags&128)!==0){if(w)return c0(n,i,c);i.flags|=128}if(D=i.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Tr(Xe,Xe.current),w)break;return null;case 22:case 23:return i.lanes=0,n0(n,i,c)}return Wl(n,i,c)}var u0,oh,f0,d0;u0=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},oh=function(){},f0=function(n,i,c,w){var D=n.memoizedProps;if(D!==w){n=i.stateNode,st(kt.current);var H=null;switch(c){case"input":D=W(n,D),w=W(n,w),H=[];break;case"select":D=De({},D,{value:void 0}),w=De({},w,{value:void 0}),H=[];break;case"textarea":D=Ce(n,D),w=Ce(n,w),H=[];break;default:typeof D.onClick!="function"&&typeof w.onClick=="function"&&(n.onclick=Na)}In(c,w);var ye;c=null;for(ut in D)if(!w.hasOwnProperty(ut)&&D.hasOwnProperty(ut)&&D[ut]!=null)if(ut==="style"){var Fe=D[ut];for(ye in Fe)Fe.hasOwnProperty(ye)&&(c||(c={}),c[ye]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(a.hasOwnProperty(ut)?H||(H=[]):(H=H||[]).push(ut,null));for(ut in w){var qe=w[ut];if(Fe=D!=null?D[ut]:void 0,w.hasOwnProperty(ut)&&qe!==Fe&&(qe!=null||Fe!=null))if(ut==="style")if(Fe){for(ye in Fe)!Fe.hasOwnProperty(ye)||qe&&qe.hasOwnProperty(ye)||(c||(c={}),c[ye]="");for(ye in qe)qe.hasOwnProperty(ye)&&Fe[ye]!==qe[ye]&&(c||(c={}),c[ye]=qe[ye])}else c||(H||(H=[]),H.push(ut,c)),c=qe;else ut==="dangerouslySetInnerHTML"?(qe=qe?qe.__html:void 0,Fe=Fe?Fe.__html:void 0,qe!=null&&Fe!==qe&&(H=H||[]).push(ut,qe)):ut==="children"?typeof qe!="string"&&typeof qe!="number"||(H=H||[]).push(ut,""+qe):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(a.hasOwnProperty(ut)?(qe!=null&&ut==="onScroll"&&si("scroll",n),H||Fe===qe||(H=[])):(H=H||[]).push(ut,qe))}c&&(H=H||[]).push("style",c);var ut=H;(i.updateQueue=ut)&&(i.flags|=4)}},d0=function(n,i,c,w){c!==w&&(i.flags|=4)};function Gu(n,i){if(!vt)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var w=null;c!==null;)c.alternate!==null&&(w=c),c=c.sibling;w===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:w.sibling=null}}function gs(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,w=0;if(i)for(var D=n.child;D!==null;)c|=D.lanes|D.childLanes,w|=D.subtreeFlags&14680064,w|=D.flags&14680064,D.return=n,D=D.sibling;else for(D=n.child;D!==null;)c|=D.lanes|D.childLanes,w|=D.subtreeFlags,w|=D.flags,D.return=n,D=D.sibling;return n.subtreeFlags|=w,n.childLanes=c,i}function $w(n,i,c){var w=i.pendingProps;switch(rt(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(i),null;case 1:return es(i.type)&&dc(),gs(i),null;case 3:return w=i.stateNode,Ge(),Jr(po),Jr(Hi),Lt(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(n===null||n.child===null)&&(Ii(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wt!==null&&(gh(wt),wt=null))),oh(n,i),gs(i),null;case 5:yt(i);var D=st(Tt.current);if(c=i.type,n!==null&&i.stateNode!=null)f0(n,i,c,w,D),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!w){if(i.stateNode===null)throw Error(t(166));return gs(i),null}if(n=st(kt.current),Ii(i)){w=i.stateNode,c=i.type;var H=i.memoizedProps;switch(w[cs]=i,w[qa]=H,n=(i.mode&1)!==0,c){case"dialog":si("cancel",w),si("close",w);break;case"iframe":case"object":case"embed":si("load",w);break;case"video":case"audio":for(D=0;D<ps.length;D++)si(ps[D],w);break;case"source":si("error",w);break;case"img":case"image":case"link":si("error",w),si("load",w);break;case"details":si("toggle",w);break;case"input":ee(w,H),si("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!H.multiple},si("invalid",w);break;case"textarea":He(w,H),si("invalid",w)}In(c,H),D=null;for(var ye in H)if(H.hasOwnProperty(ye)){var Fe=H[ye];ye==="children"?typeof Fe=="string"?w.textContent!==Fe&&(H.suppressHydrationWarning!==!0&&zl(w.textContent,Fe,n),D=["children",Fe]):typeof Fe=="number"&&w.textContent!==""+Fe&&(H.suppressHydrationWarning!==!0&&zl(w.textContent,Fe,n),D=["children",""+Fe]):a.hasOwnProperty(ye)&&Fe!=null&&ye==="onScroll"&&si("scroll",w)}switch(c){case"input":te(w),C(w,H,!0);break;case"textarea":te(w),Je(w);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(w.onclick=Na)}w=D,i.updateQueue=w,w!==null&&(i.flags|=4)}else{ye=D.nodeType===9?D:D.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ht(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=ye.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof w.is=="string"?n=ye.createElement(c,{is:w.is}):(n=ye.createElement(c),c==="select"&&(ye=n,w.multiple?ye.multiple=!0:w.size&&(ye.size=w.size))):n=ye.createElementNS(n,c),n[cs]=i,n[qa]=w,u0(n,i,!1,!1),i.stateNode=n;e:{switch(ye=pn(c,w),c){case"dialog":si("cancel",n),si("close",n),D=w;break;case"iframe":case"object":case"embed":si("load",n),D=w;break;case"video":case"audio":for(D=0;D<ps.length;D++)si(ps[D],n);D=w;break;case"source":si("error",n),D=w;break;case"img":case"image":case"link":si("error",n),si("load",n),D=w;break;case"details":si("toggle",n),D=w;break;case"input":ee(n,w),D=W(n,w),si("invalid",n);break;case"option":D=w;break;case"select":n._wrapperState={wasMultiple:!!w.multiple},D=De({},w,{value:void 0}),si("invalid",n);break;case"textarea":He(n,w),D=Ce(n,w),si("invalid",n);break;default:D=w}In(c,D),Fe=D;for(H in Fe)if(Fe.hasOwnProperty(H)){var qe=Fe[H];H==="style"?On(n,qe):H==="dangerouslySetInnerHTML"?(qe=qe?qe.__html:void 0,qe!=null&&Jt(n,qe)):H==="children"?typeof qe=="string"?(c!=="textarea"||qe!=="")&&Zt(n,qe):typeof qe=="number"&&Zt(n,""+qe):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?qe!=null&&H==="onScroll"&&si("scroll",n):qe!=null&&T(n,H,qe,ye))}switch(c){case"input":te(n),C(n,w,!1);break;case"textarea":te(n),Je(n);break;case"option":w.value!=null&&n.setAttribute("value",""+M(w.value));break;case"select":n.multiple=!!w.multiple,H=w.value,H!=null?Le(n,!!w.multiple,H,!1):w.defaultValue!=null&&Le(n,!!w.multiple,w.defaultValue,!0);break;default:typeof D.onClick=="function"&&(n.onclick=Na)}switch(c){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return gs(i),null;case 6:if(n&&i.stateNode!=null)d0(n,i,n.memoizedProps,w);else{if(typeof w!="string"&&i.stateNode===null)throw Error(t(166));if(c=st(Tt.current),st(kt.current),Ii(i)){if(w=i.stateNode,c=i.memoizedProps,w[cs]=i,(H=w.nodeValue!==c)&&(n=dt,n!==null))switch(n.tag){case 3:zl(w.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zl(w.nodeValue,c,(n.mode&1)!==0)}H&&(i.flags|=4)}else w=(c.nodeType===9?c:c.ownerDocument).createTextNode(w),w[cs]=i,i.stateNode=w}return gs(i),null;case 13:if(Jr(Xe),w=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(vt&&mt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)or(),ln(),i.flags|=98560,H=!1;else if(H=Ii(i),w!==null&&w.dehydrated!==null){if(n===null){if(!H)throw Error(t(318));if(H=i.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(t(317));H[cs]=i}else ln(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gs(i),H=!1}else wt!==null&&(gh(wt),wt=null),H=!0;if(!H)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(w=w!==null,w!==(n!==null&&n.memoizedState!==null)&&w&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Xe.current&1)!==0?Ko===0&&(Ko=3):wh())),i.updateQueue!==null&&(i.flags|=4),gs(i),null);case 4:return Ge(),oh(n,i),n===null&&aa(i.stateNode.containerInfo),gs(i),null;case 10:return wi(i.type._context),gs(i),null;case 17:return es(i.type)&&dc(),gs(i),null;case 19:if(Jr(Xe),H=i.memoizedState,H===null)return gs(i),null;if(w=(i.flags&128)!==0,ye=H.rendering,ye===null)if(w)Gu(H,!1);else{if(Ko!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(ye=lt(n),ye!==null){for(i.flags|=128,Gu(H,!1),w=ye.updateQueue,w!==null&&(i.updateQueue=w,i.flags|=4),i.subtreeFlags=0,w=c,c=i.child;c!==null;)H=c,n=w,H.flags&=14680066,ye=H.alternate,ye===null?(H.childLanes=0,H.lanes=n,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ye.childLanes,H.lanes=ye.lanes,H.child=ye.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ye.memoizedProps,H.memoizedState=ye.memoizedState,H.updateQueue=ye.updateQueue,H.type=ye.type,n=ye.dependencies,H.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return Tr(Xe,Xe.current&1|2),i.child}n=n.sibling}H.tail!==null&&Jn()>cu&&(i.flags|=128,w=!0,Gu(H,!1),i.lanes=4194304)}else{if(!w)if(n=lt(ye),n!==null){if(i.flags|=128,w=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Gu(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ye.alternate&&!vt)return gs(i),null}else 2*Jn()-H.renderingStartTime>cu&&c!==1073741824&&(i.flags|=128,w=!0,Gu(H,!1),i.lanes=4194304);H.isBackwards?(ye.sibling=i.child,i.child=ye):(c=H.last,c!==null?c.sibling=ye:i.child=ye,H.last=ye)}return H.tail!==null?(i=H.tail,H.rendering=i,H.tail=i.sibling,H.renderingStartTime=Jn(),i.sibling=null,c=Xe.current,Tr(Xe,w?c&1|2:c&1),i):(gs(i),null);case 22:case 23:return vh(),w=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==w&&(i.flags|=8192),w&&(i.mode&1)!==0?(ca&1073741824)!==0&&(gs(i),i.subtreeFlags&6&&(i.flags|=8192)):gs(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function qw(n,i){switch(rt(i),i.tag){case 1:return es(i.type)&&dc(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ge(),Jr(po),Jr(Hi),Lt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return yt(i),null;case 13:if(Jr(Xe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ln()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Jr(Xe),null;case 4:return Ge(),null;case 10:return wi(i.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var Lf=!1,ys=!1,Ww=typeof WeakSet=="function"?WeakSet:Set,gn=null;function au(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(w){go(n,i,w)}else c.current=null}function sh(n,i,c){try{c()}catch(w){go(n,i,w)}}var h0=!1;function Hw(n,i){if(za=Vt,n=Yi(),Ts(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var w=c.getSelection&&c.getSelection();if(w&&w.rangeCount!==0){c=w.anchorNode;var D=w.anchorOffset,H=w.focusNode;w=w.focusOffset;try{c.nodeType,H.nodeType}catch{c=null;break e}var ye=0,Fe=-1,qe=-1,ut=0,Dt=0,qt=n,It=null;t:for(;;){for(var fn;qt!==c||D!==0&&qt.nodeType!==3||(Fe=ye+D),qt!==H||w!==0&&qt.nodeType!==3||(qe=ye+w),qt.nodeType===3&&(ye+=qt.nodeValue.length),(fn=qt.firstChild)!==null;)It=qt,qt=fn;for(;;){if(qt===n)break t;if(It===c&&++ut===D&&(Fe=ye),It===H&&++Dt===w&&(qe=ye),(fn=qt.nextSibling)!==null)break;qt=It,It=qt.parentNode}qt=fn}c=Fe===-1||qe===-1?null:{start:Fe,end:qe}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ua={focusedElem:n,selectionRange:c},Vt=!1,gn=i;gn!==null;)if(i=gn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,gn=n;else for(;gn!==null;){i=gn;try{var bn=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(bn!==null){var An=bn.memoizedProps,No=bn.memoizedState,it=i.stateNode,Ye=it.getSnapshotBeforeUpdate(i.elementType===i.type?An:Va(i.type,An),No);it.__reactInternalSnapshotBeforeUpdate=Ye}break;case 3:var ot=i.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Kt){go(i,i.return,Kt)}if(n=i.sibling,n!==null){n.return=i.return,gn=n;break}gn=i.return}return bn=h0,h0=!1,bn}function Vu(n,i,c){var w=i.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var D=w=w.next;do{if((D.tag&n)===n){var H=D.destroy;D.destroy=void 0,H!==void 0&&sh(i,c,H)}D=D.next}while(D!==w)}}function jf(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var w=c.create;c.destroy=w()}c=c.next}while(c!==i)}}function ah(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function p0(n){var i=n.alternate;i!==null&&(n.alternate=null,p0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[cs],delete i[qa],delete i[Qo],delete i[Lc],delete i[Hu])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function m0(n){return n.tag===5||n.tag===3||n.tag===4}function g0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||m0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lh(n,i,c){var w=n.tag;if(w===5||w===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Na));else if(w!==4&&(n=n.child,n!==null))for(lh(n,i,c),n=n.sibling;n!==null;)lh(n,i,c),n=n.sibling}function ch(n,i,c){var w=n.tag;if(w===5||w===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(w!==4&&(n=n.child,n!==null))for(ch(n,i,c),n=n.sibling;n!==null;)ch(n,i,c),n=n.sibling}var us=null,Ka=!1;function pc(n,i,c){for(c=c.child;c!==null;)y0(n,i,c),c=c.sibling}function y0(n,i,c){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Er,c)}catch{}switch(c.tag){case 5:ys||au(c,i);case 6:var w=us,D=Ka;us=null,pc(n,i,c),us=w,Ka=D,us!==null&&(Ka?(n=us,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):us.removeChild(c.stateNode));break;case 18:us!==null&&(Ka?(n=us,c=c.stateNode,n.nodeType===8?Tc(n.parentNode,c):n.nodeType===1&&Tc(n,c),Cn(n)):Tc(us,c.stateNode));break;case 4:w=us,D=Ka,us=c.stateNode.containerInfo,Ka=!0,pc(n,i,c),us=w,Ka=D;break;case 0:case 11:case 14:case 15:if(!ys&&(w=c.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){D=w=w.next;do{var H=D,ye=H.destroy;H=H.tag,ye!==void 0&&((H&2)!==0||(H&4)!==0)&&sh(c,i,ye),D=D.next}while(D!==w)}pc(n,i,c);break;case 1:if(!ys&&(au(c,i),w=c.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=c.memoizedProps,w.state=c.memoizedState,w.componentWillUnmount()}catch(Fe){go(c,i,Fe)}pc(n,i,c);break;case 21:pc(n,i,c);break;case 22:c.mode&1?(ys=(w=ys)||c.memoizedState!==null,pc(n,i,c),ys=w):pc(n,i,c);break;default:pc(n,i,c)}}function v0(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new Ww),i.forEach(function(w){var D=ex.bind(null,n,w);c.has(w)||(c.add(w),w.then(D,D))})}}function Ya(n,i){var c=i.deletions;if(c!==null)for(var w=0;w<c.length;w++){var D=c[w];try{var H=n,ye=i,Fe=ye;e:for(;Fe!==null;){switch(Fe.tag){case 5:us=Fe.stateNode,Ka=!1;break e;case 3:us=Fe.stateNode.containerInfo,Ka=!0;break e;case 4:us=Fe.stateNode.containerInfo,Ka=!0;break e}Fe=Fe.return}if(us===null)throw Error(t(160));y0(H,ye,D),us=null,Ka=!1;var qe=D.alternate;qe!==null&&(qe.return=null),D.return=null}catch(ut){go(D,i,ut)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)w0(i,n),i=i.sibling}function w0(n,i){var c=n.alternate,w=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ya(i,n),xl(n),w&4){try{Vu(3,n,n.return),jf(3,n)}catch(An){go(n,n.return,An)}try{Vu(5,n,n.return)}catch(An){go(n,n.return,An)}}break;case 1:Ya(i,n),xl(n),w&512&&c!==null&&au(c,c.return);break;case 5:if(Ya(i,n),xl(n),w&512&&c!==null&&au(c,c.return),n.flags&32){var D=n.stateNode;try{Zt(D,"")}catch(An){go(n,n.return,An)}}if(w&4&&(D=n.stateNode,D!=null)){var H=n.memoizedProps,ye=c!==null?c.memoizedProps:H,Fe=n.type,qe=n.updateQueue;if(n.updateQueue=null,qe!==null)try{Fe==="input"&&H.type==="radio"&&H.name!=null&&V(D,H),pn(Fe,ye);var ut=pn(Fe,H);for(ye=0;ye<qe.length;ye+=2){var Dt=qe[ye],qt=qe[ye+1];Dt==="style"?On(D,qt):Dt==="dangerouslySetInnerHTML"?Jt(D,qt):Dt==="children"?Zt(D,qt):T(D,Dt,qt,ut)}switch(Fe){case"input":S(D,H);break;case"textarea":at(D,H);break;case"select":var It=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!H.multiple;var fn=H.value;fn!=null?Le(D,!!H.multiple,fn,!1):It!==!!H.multiple&&(H.defaultValue!=null?Le(D,!!H.multiple,H.defaultValue,!0):Le(D,!!H.multiple,H.multiple?[]:"",!1))}D[qa]=H}catch(An){go(n,n.return,An)}}break;case 6:if(Ya(i,n),xl(n),w&4){if(n.stateNode===null)throw Error(t(162));D=n.stateNode,H=n.memoizedProps;try{D.nodeValue=H}catch(An){go(n,n.return,An)}}break;case 3:if(Ya(i,n),xl(n),w&4&&c!==null&&c.memoizedState.isDehydrated)try{Cn(i.containerInfo)}catch(An){go(n,n.return,An)}break;case 4:Ya(i,n),xl(n);break;case 13:Ya(i,n),xl(n),D=n.child,D.flags&8192&&(H=D.memoizedState!==null,D.stateNode.isHidden=H,!H||D.alternate!==null&&D.alternate.memoizedState!==null||(dh=Jn())),w&4&&v0(n);break;case 22:if(Dt=c!==null&&c.memoizedState!==null,n.mode&1?(ys=(ut=ys)||Dt,Ya(i,n),ys=ut):Ya(i,n),xl(n),w&8192){if(ut=n.memoizedState!==null,(n.stateNode.isHidden=ut)&&!Dt&&(n.mode&1)!==0)for(gn=n,Dt=n.child;Dt!==null;){for(qt=gn=Dt;gn!==null;){switch(It=gn,fn=It.child,It.tag){case 0:case 11:case 14:case 15:Vu(4,It,It.return);break;case 1:au(It,It.return);var bn=It.stateNode;if(typeof bn.componentWillUnmount=="function"){w=It,c=It.return;try{i=w,bn.props=i.memoizedProps,bn.state=i.memoizedState,bn.componentWillUnmount()}catch(An){go(w,c,An)}}break;case 5:au(It,It.return);break;case 22:if(It.memoizedState!==null){_0(qt);continue}}fn!==null?(fn.return=It,gn=fn):_0(qt)}Dt=Dt.sibling}e:for(Dt=null,qt=n;;){if(qt.tag===5){if(Dt===null){Dt=qt;try{D=qt.stateNode,ut?(H=D.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(Fe=qt.stateNode,qe=qt.memoizedProps.style,ye=qe!=null&&qe.hasOwnProperty("display")?qe.display:null,Fe.style.display=Nn("display",ye))}catch(An){go(n,n.return,An)}}}else if(qt.tag===6){if(Dt===null)try{qt.stateNode.nodeValue=ut?"":qt.memoizedProps}catch(An){go(n,n.return,An)}}else if((qt.tag!==22&&qt.tag!==23||qt.memoizedState===null||qt===n)&&qt.child!==null){qt.child.return=qt,qt=qt.child;continue}if(qt===n)break e;for(;qt.sibling===null;){if(qt.return===null||qt.return===n)break e;Dt===qt&&(Dt=null),qt=qt.return}Dt===qt&&(Dt=null),qt.sibling.return=qt.return,qt=qt.sibling}}break;case 19:Ya(i,n),xl(n),w&4&&v0(n);break;case 21:break;default:Ya(i,n),xl(n)}}function xl(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(m0(c)){var w=c;break e}c=c.return}throw Error(t(160))}switch(w.tag){case 5:var D=w.stateNode;w.flags&32&&(Zt(D,""),w.flags&=-33);var H=g0(n);ch(n,H,D);break;case 3:case 4:var ye=w.stateNode.containerInfo,Fe=g0(n);lh(n,Fe,ye);break;default:throw Error(t(161))}}catch(qe){go(n,n.return,qe)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Gw(n,i,c){gn=n,x0(n)}function x0(n,i,c){for(var w=(n.mode&1)!==0;gn!==null;){var D=gn,H=D.child;if(D.tag===22&&w){var ye=D.memoizedState!==null||Lf;if(!ye){var Fe=D.alternate,qe=Fe!==null&&Fe.memoizedState!==null||ys;Fe=Lf;var ut=ys;if(Lf=ye,(ys=qe)&&!ut)for(gn=D;gn!==null;)ye=gn,qe=ye.child,ye.tag===22&&ye.memoizedState!==null?S0(D):qe!==null?(qe.return=ye,gn=qe):S0(D);for(;H!==null;)gn=H,x0(H),H=H.sibling;gn=D,Lf=Fe,ys=ut}b0(n)}else(D.subtreeFlags&8772)!==0&&H!==null?(H.return=D,gn=H):b0(n)}}function b0(n){for(;gn!==null;){var i=gn;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ys||jf(5,i);break;case 1:var w=i.stateNode;if(i.flags&4&&!ys)if(c===null)w.componentDidMount();else{var D=i.elementType===i.type?c.memoizedProps:Va(i.type,c.memoizedProps);w.componentDidUpdate(D,c.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var H=i.updateQueue;H!==null&&Qe(i,H,w);break;case 3:var ye=i.updateQueue;if(ye!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Qe(i,ye,c)}break;case 5:var Fe=i.stateNode;if(c===null&&i.flags&4){c=Fe;var qe=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":qe.autoFocus&&c.focus();break;case"img":qe.src&&(c.src=qe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ut=i.alternate;if(ut!==null){var Dt=ut.memoizedState;if(Dt!==null){var qt=Dt.dehydrated;qt!==null&&Cn(qt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ys||i.flags&512&&ah(i)}catch(It){go(i,i.return,It)}}if(i===n){gn=null;break}if(c=i.sibling,c!==null){c.return=i.return,gn=c;break}gn=i.return}}function _0(n){for(;gn!==null;){var i=gn;if(i===n){gn=null;break}var c=i.sibling;if(c!==null){c.return=i.return,gn=c;break}gn=i.return}}function S0(n){for(;gn!==null;){var i=gn;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{jf(4,i)}catch(qe){go(i,c,qe)}break;case 1:var w=i.stateNode;if(typeof w.componentDidMount=="function"){var D=i.return;try{w.componentDidMount()}catch(qe){go(i,D,qe)}}var H=i.return;try{ah(i)}catch(qe){go(i,H,qe)}break;case 5:var ye=i.return;try{ah(i)}catch(qe){go(i,ye,qe)}}}catch(qe){go(i,i.return,qe)}if(i===n){gn=null;break}var Fe=i.sibling;if(Fe!==null){Fe.return=i.return,gn=Fe;break}gn=i.return}}var Vw=Math.ceil,If=A.ReactCurrentDispatcher,uh=A.ReactCurrentOwner,Ca=A.ReactCurrentBatchConfig,ri=0,rs=null,zo=null,fs=0,ca=0,lu=Ps(0),Ko=0,Ku=null,Pc=0,Pf=0,fh=0,Yu=null,Vs=null,dh=0,cu=1/0,Hl=null,Rf=!1,hh=null,mc=null,Df=!1,gc=null,Of=0,Xu=0,ph=null,Ff=-1,Bf=0;function Fs(){return(ri&6)!==0?Jn():Ff!==-1?Ff:Ff=Jn()}function yc(n){return(n.mode&1)===0?1:(ri&2)!==0&&fs!==0?fs&-fs:Mi.transition!==null?(Bf===0&&(Bf=uo()),Bf):(n=Cr,n!==0||(n=window.event,n=n===void 0?16:Zn(n.type)),n)}function Xa(n,i,c,w){if(50<Xu)throw Xu=0,ph=null,Error(t(185));zr(n,c,w),((ri&2)===0||n!==rs)&&(n===rs&&((ri&2)===0&&(Pf|=c),Ko===4&&vc(n,fs)),Ks(n,w),c===1&&ri===0&&(i.mode&1)===0&&(cu=Jn()+500,Ws&&K()))}function Ks(n,i){var c=n.callbackNode;tn(n,i);var w=Ki(n,n===rs?fs:0);if(w===0)c!==null&&mr(c),n.callbackNode=null,n.callbackPriority=0;else if(i=w&-w,n.callbackPriority!==i){if(c!=null&&mr(c),i===1)n.tag===0?$(A0.bind(null,n)):_(A0.bind(null,n)),nu(function(){(ri&6)===0&&K()}),c=null;else{switch(xo(w)){case 1:c=ii;break;case 4:c=ur;break;case 16:c=Pn;break;case 536870912:c=Qr;break;default:c=Pn}c=P0(c,k0.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function k0(n,i){if(Ff=-1,Bf=0,(ri&6)!==0)throw Error(t(327));var c=n.callbackNode;if(uu()&&n.callbackNode!==c)return null;var w=Ki(n,n===rs?fs:0);if(w===0)return null;if((w&30)!==0||(w&n.expiredLanes)!==0||i)i=Mf(n,w);else{i=w;var D=ri;ri|=2;var H=E0();(rs!==n||fs!==i)&&(Hl=null,cu=Jn()+500,Dc(n,i));do try{Xw();break}catch(Fe){N0(n,Fe)}while(!0);Hr(),If.current=H,ri=D,zo!==null?i=0:(rs=null,fs=0,i=Ko)}if(i!==0){if(i===2&&(D=Ei(n),D!==0&&(w=D,i=mh(n,D))),i===1)throw c=Ku,Dc(n,0),vc(n,w),Ks(n,Jn()),c;if(i===6)vc(n,w);else{if(D=n.current.alternate,(w&30)===0&&!Kw(D)&&(i=Mf(n,w),i===2&&(H=Ei(n),H!==0&&(w=H,i=mh(n,H))),i===1))throw c=Ku,Dc(n,0),vc(n,w),Ks(n,Jn()),c;switch(n.finishedWork=D,n.finishedLanes=w,i){case 0:case 1:throw Error(t(345));case 2:Oc(n,Vs,Hl);break;case 3:if(vc(n,w),(w&130023424)===w&&(i=dh+500-Jn(),10<i)){if(Ki(n,0)!==0)break;if(D=n.suspendedLanes,(D&w)!==w){Fs(),n.pingedLanes|=n.suspendedLanes&D;break}n.timeoutHandle=fc(Oc.bind(null,n,Vs,Hl),i);break}Oc(n,Vs,Hl);break;case 4:if(vc(n,w),(w&4194240)===w)break;for(i=n.eventTimes,D=-1;0<w;){var ye=31-Hn(w);H=1<<ye,ye=i[ye],ye>D&&(D=ye),w&=~H}if(w=D,w=Jn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Vw(w/1960))-w,10<w){n.timeoutHandle=fc(Oc.bind(null,n,Vs,Hl),w);break}Oc(n,Vs,Hl);break;case 5:Oc(n,Vs,Hl);break;default:throw Error(t(329))}}}return Ks(n,Jn()),n.callbackNode===c?k0.bind(null,n):null}function mh(n,i){var c=Yu;return n.current.memoizedState.isDehydrated&&(Dc(n,i).flags|=256),n=Mf(n,i),n!==2&&(i=Vs,Vs=c,i!==null&&gh(i)),n}function gh(n){Vs===null?Vs=n:Vs.push.apply(Vs,n)}function Kw(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var w=0;w<c.length;w++){var D=c[w],H=D.getSnapshot;D=D.value;try{if(!ji(H(),D))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vc(n,i){for(i&=~fh,i&=~Pf,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-Hn(i),w=1<<c;n[c]=-1,i&=~w}}function A0(n){if((ri&6)!==0)throw Error(t(327));uu();var i=Ki(n,0);if((i&1)===0)return Ks(n,Jn()),null;var c=Mf(n,i);if(n.tag!==0&&c===2){var w=Ei(n);w!==0&&(i=w,c=mh(n,w))}if(c===1)throw c=Ku,Dc(n,0),vc(n,i),Ks(n,Jn()),c;if(c===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Oc(n,Vs,Hl),Ks(n,Jn()),null}function yh(n,i){var c=ri;ri|=1;try{return n(i)}finally{ri=c,ri===0&&(cu=Jn()+500,Ws&&K())}}function Rc(n){gc!==null&&gc.tag===0&&(ri&6)===0&&uu();var i=ri;ri|=1;var c=Ca.transition,w=Cr;try{if(Ca.transition=null,Cr=1,n)return n()}finally{Cr=w,Ca.transition=c,ri=i,(ri&6)===0&&K()}}function vh(){ca=lu.current,Jr(lu)}function Dc(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,tu(c)),zo!==null)for(c=zo.return;c!==null;){var w=c;switch(rt(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&dc();break;case 3:Ge(),Jr(po),Jr(Hi),Lt();break;case 5:yt(w);break;case 4:Ge();break;case 13:Jr(Xe);break;case 19:Jr(Xe);break;case 10:wi(w.type._context);break;case 22:case 23:vh()}c=c.return}if(rs=n,zo=n=wc(n.current,null),fs=ca=i,Ko=0,Ku=null,fh=Pf=Pc=0,Vs=Yu=null,ai!==null){for(i=0;i<ai.length;i++)if(c=ai[i],w=c.interleaved,w!==null){c.interleaved=null;var D=w.next,H=c.pending;if(H!==null){var ye=H.next;H.next=D,w.next=ye}c.pending=w}ai=null}return n}function N0(n,i){do{var c=zo;try{if(Hr(),un.current=Nf,Bt){for(var w=At.memoizedState;w!==null;){var D=w.queue;D!==null&&(D.pending=null),w=w.next}Bt=!1}if(Pt=0,Mt=Ut=At=null,xi=!1,Un=0,uh.current=null,c===null||c.return===null){Ko=1,Ku=i,zo=null;break}e:{var H=n,ye=c.return,Fe=c,qe=i;if(i=fs,Fe.flags|=32768,qe!==null&&typeof qe=="object"&&typeof qe.then=="function"){var ut=qe,Dt=Fe,qt=Dt.tag;if((Dt.mode&1)===0&&(qt===0||qt===11||qt===15)){var It=Dt.alternate;It?(Dt.updateQueue=It.updateQueue,Dt.memoizedState=It.memoizedState,Dt.lanes=It.lanes):(Dt.updateQueue=null,Dt.memoizedState=null)}var fn=Jm(ye);if(fn!==null){fn.flags&=-257,Zm(fn,ye,Fe,H,i),fn.mode&1&&Xm(H,ut,i),i=fn,qe=ut;var bn=i.updateQueue;if(bn===null){var An=new Set;An.add(qe),i.updateQueue=An}else bn.add(qe);break e}else{if((i&1)===0){Xm(H,ut,i),wh();break e}qe=Error(t(426))}}else if(vt&&Fe.mode&1){var No=Jm(ye);if(No!==null){(No.flags&65536)===0&&(No.flags|=256),Zm(No,ye,Fe,H,i),Xt(su(qe,Fe));break e}}H=qe=su(qe,Fe),Ko!==4&&(Ko=2),Yu===null?Yu=[H]:Yu.push(H),H=ye;do{switch(H.tag){case 3:H.flags|=65536,i&=-i,H.lanes|=i;var it=Km(H,qe,i);he(H,it);break e;case 1:Fe=qe;var Ye=H.type,ot=H.stateNode;if((H.flags&128)===0&&(typeof Ye.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(mc===null||!mc.has(ot)))){H.flags|=65536,i&=-i,H.lanes|=i;var Kt=Ym(H,Fe,i);he(H,Kt);break e}}H=H.return}while(H!==null)}T0(c)}catch(jn){i=jn,zo===c&&c!==null&&(zo=c=c.return);continue}break}while(!0)}function E0(){var n=If.current;return If.current=Nf,n===null?Nf:n}function wh(){(Ko===0||Ko===3||Ko===2)&&(Ko=4),rs===null||(Pc&268435455)===0&&(Pf&268435455)===0||vc(rs,fs)}function Mf(n,i){var c=ri;ri|=2;var w=E0();(rs!==n||fs!==i)&&(Hl=null,Dc(n,i));do try{Yw();break}catch(D){N0(n,D)}while(!0);if(Hr(),ri=c,If.current=w,zo!==null)throw Error(t(261));return rs=null,fs=0,Ko}function Yw(){for(;zo!==null;)C0(zo)}function Xw(){for(;zo!==null&&!Br();)C0(zo)}function C0(n){var i=I0(n.alternate,n,ca);n.memoizedProps=n.pendingProps,i===null?T0(n):zo=i,uh.current=null}function T0(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=$w(c,i,ca),c!==null){zo=c;return}}else{if(c=qw(c,i),c!==null){c.flags&=32767,zo=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ko=6,zo=null;return}}if(i=i.sibling,i!==null){zo=i;return}zo=i=n}while(i!==null);Ko===0&&(Ko=5)}function Oc(n,i,c){var w=Cr,D=Ca.transition;try{Ca.transition=null,Cr=1,Jw(n,i,c,w)}finally{Ca.transition=D,Cr=w}return null}function Jw(n,i,c,w){do uu();while(gc!==null);if((ri&6)!==0)throw Error(t(327));c=n.finishedWork;var D=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var H=c.lanes|c.childLanes;if(Qn(n,H),n===rs&&(zo=rs=null,fs=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Df||(Df=!0,P0(Pn,function(){return uu(),null})),H=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||H){H=Ca.transition,Ca.transition=null;var ye=Cr;Cr=1;var Fe=ri;ri|=4,uh.current=null,Hw(n,c),w0(c,n),ul(Ua),Vt=!!za,Ua=za=null,n.current=c,Gw(c),_r(),ri=Fe,Cr=ye,Ca.transition=H}else n.current=c;if(Df&&(Df=!1,gc=n,Of=D),H=n.pendingLanes,H===0&&(mc=null),Ai(c.stateNode),Ks(n,Jn()),i!==null)for(w=n.onRecoverableError,c=0;c<i.length;c++)D=i[c],w(D.value,{componentStack:D.stack,digest:D.digest});if(Rf)throw Rf=!1,n=hh,hh=null,n;return(Of&1)!==0&&n.tag!==0&&uu(),H=n.pendingLanes,(H&1)!==0?n===ph?Xu++:(Xu=0,ph=n):Xu=0,K(),null}function uu(){if(gc!==null){var n=xo(Of),i=Ca.transition,c=Cr;try{if(Ca.transition=null,Cr=16>n?16:n,gc===null)var w=!1;else{if(n=gc,gc=null,Of=0,(ri&6)!==0)throw Error(t(331));var D=ri;for(ri|=4,gn=n.current;gn!==null;){var H=gn,ye=H.child;if((gn.flags&16)!==0){var Fe=H.deletions;if(Fe!==null){for(var qe=0;qe<Fe.length;qe++){var ut=Fe[qe];for(gn=ut;gn!==null;){var Dt=gn;switch(Dt.tag){case 0:case 11:case 15:Vu(8,Dt,H)}var qt=Dt.child;if(qt!==null)qt.return=Dt,gn=qt;else for(;gn!==null;){Dt=gn;var It=Dt.sibling,fn=Dt.return;if(p0(Dt),Dt===ut){gn=null;break}if(It!==null){It.return=fn,gn=It;break}gn=fn}}}var bn=H.alternate;if(bn!==null){var An=bn.child;if(An!==null){bn.child=null;do{var No=An.sibling;An.sibling=null,An=No}while(An!==null)}}gn=H}}if((H.subtreeFlags&2064)!==0&&ye!==null)ye.return=H,gn=ye;else e:for(;gn!==null;){if(H=gn,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Vu(9,H,H.return)}var it=H.sibling;if(it!==null){it.return=H.return,gn=it;break e}gn=H.return}}var Ye=n.current;for(gn=Ye;gn!==null;){ye=gn;var ot=ye.child;if((ye.subtreeFlags&2064)!==0&&ot!==null)ot.return=ye,gn=ot;else e:for(ye=Ye;gn!==null;){if(Fe=gn,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:jf(9,Fe)}}catch(jn){go(Fe,Fe.return,jn)}if(Fe===ye){gn=null;break e}var Kt=Fe.sibling;if(Kt!==null){Kt.return=Fe.return,gn=Kt;break e}gn=Fe.return}}if(ri=D,K(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Er,n)}catch{}w=!0}return w}finally{Cr=c,Ca.transition=i}}return!1}function L0(n,i,c){i=su(c,i),i=Km(n,i,1),n=Ae(n,i,1),i=Fs(),n!==null&&(zr(n,1,i),Ks(n,i))}function go(n,i,c){if(n.tag===3)L0(n,n,c);else for(;i!==null;){if(i.tag===3){L0(i,n,c);break}else if(i.tag===1){var w=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(mc===null||!mc.has(w))){n=su(c,n),n=Ym(i,n,1),i=Ae(i,n,1),n=Fs(),i!==null&&(zr(i,1,n),Ks(i,n));break}}i=i.return}}function Zw(n,i,c){var w=n.pingCache;w!==null&&w.delete(i),i=Fs(),n.pingedLanes|=n.suspendedLanes&c,rs===n&&(fs&c)===c&&(Ko===4||Ko===3&&(fs&130023424)===fs&&500>Jn()-dh?Dc(n,0):fh|=c),Ks(n,i)}function j0(n,i){i===0&&((n.mode&1)===0?i=1:(i=lo,lo<<=1,(lo&130023424)===0&&(lo=4194304)));var c=Fs();n=y(n,i),n!==null&&(zr(n,i,c),Ks(n,c))}function Qw(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),j0(n,c)}function ex(n,i){var c=0;switch(n.tag){case 13:var w=n.stateNode,D=n.memoizedState;D!==null&&(c=D.retryLane);break;case 19:w=n.stateNode;break;default:throw Error(t(314))}w!==null&&w.delete(i),j0(n,c)}var I0;I0=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||po.current)Gs=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return Gs=!1,Uw(n,i,c);Gs=(n.flags&131072)!==0}else Gs=!1,vt&&(i.flags&1048576)!==0&&et(i,Ne,i.index);switch(i.lanes=0,i.tag){case 2:var w=i.type;Tf(n,i),n=i.pendingProps;var D=qs(i,Hi.current);Pi(i,c),D=zi(null,i,w,n,D,c);var H=ko();return i.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,es(w)?(H=!0,Ha(i)):H=!1,i.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,G(i),D.updater=Ef,i.stateNode=D,D._reactInternals=i,Xd(i,w,n,c),i=eh(null,i,w,!0,H,c)):(i.tag=0,vt&&H&&gt(i),Os(null,i,D,c),i=i.child),i;case 16:w=i.elementType;e:{switch(Tf(n,i),n=i.pendingProps,D=w._init,w=D(w._payload),i.type=w,D=i.tag=nx(w),n=Va(w,n),D){case 0:i=Qd(null,i,w,n,c);break e;case 1:i=i0(null,i,w,n,c);break e;case 11:i=Qm(null,i,w,n,c);break e;case 14:i=e0(null,i,w,Va(w.type,n),c);break e}throw Error(t(306,w,""))}return i;case 0:return w=i.type,D=i.pendingProps,D=i.elementType===w?D:Va(w,D),Qd(n,i,w,D,c);case 1:return w=i.type,D=i.pendingProps,D=i.elementType===w?D:Va(w,D),i0(n,i,w,D,c);case 3:e:{if(o0(i),n===null)throw Error(t(387));w=i.pendingProps,H=i.memoizedState,D=H.element,Z(n,i),Ze(i,w,null,c);var ye=i.memoizedState;if(w=ye.element,H.isDehydrated)if(H={element:w,isDehydrated:!1,cache:ye.cache,pendingSuspenseBoundaries:ye.pendingSuspenseBoundaries,transitions:ye.transitions},i.updateQueue.baseState=H,i.memoizedState=H,i.flags&256){D=su(Error(t(423)),i),i=s0(n,i,w,c,D);break e}else if(w!==D){D=su(Error(t(424)),i),i=s0(n,i,w,c,D);break e}else for(mt=Ho(i.stateNode.containerInfo.firstChild),dt=i,vt=!0,wt=null,c=Ti(i,null,w,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ln(),w===D){i=Wl(n,i,c);break e}Os(n,i,w,c)}i=i.child}return i;case 5:return ze(i),n===null&&hn(i),w=i.type,D=i.pendingProps,H=n!==null?n.memoizedProps:null,ye=D.children,$a(w,D)?ye=null:H!==null&&$a(w,H)&&(i.flags|=32),r0(n,i),Os(n,i,ye,c),i.child;case 6:return n===null&&hn(i),null;case 13:return a0(n,i,c);case 4:return xt(i,i.stateNode.containerInfo),w=i.pendingProps,n===null?i.child=Gi(i,null,w,c):Os(n,i,w,c),i.child;case 11:return w=i.type,D=i.pendingProps,D=i.elementType===w?D:Va(w,D),Qm(n,i,w,D,c);case 7:return Os(n,i,i.pendingProps,c),i.child;case 8:return Os(n,i,i.pendingProps.children,c),i.child;case 12:return Os(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(w=i.type._context,D=i.pendingProps,H=i.memoizedProps,ye=D.value,Tr(Ji,w._currentValue),w._currentValue=ye,H!==null)if(ji(H.value,ye)){if(H.children===D.children&&!po.current){i=Wl(n,i,c);break e}}else for(H=i.child,H!==null&&(H.return=i);H!==null;){var Fe=H.dependencies;if(Fe!==null){ye=H.child;for(var qe=Fe.firstContext;qe!==null;){if(qe.context===w){if(H.tag===1){qe=ge(-1,c&-c),qe.tag=2;var ut=H.updateQueue;if(ut!==null){ut=ut.shared;var Dt=ut.pending;Dt===null?qe.next=qe:(qe.next=Dt.next,Dt.next=qe),ut.pending=qe}}H.lanes|=c,qe=H.alternate,qe!==null&&(qe.lanes|=c),Gr(H.return,c,i),Fe.lanes|=c;break}qe=qe.next}}else if(H.tag===10)ye=H.type===i.type?null:H.child;else if(H.tag===18){if(ye=H.return,ye===null)throw Error(t(341));ye.lanes|=c,Fe=ye.alternate,Fe!==null&&(Fe.lanes|=c),Gr(ye,c,i),ye=H.sibling}else ye=H.child;if(ye!==null)ye.return=H;else for(ye=H;ye!==null;){if(ye===i){ye=null;break}if(H=ye.sibling,H!==null){H.return=ye.return,ye=H;break}ye=ye.return}H=ye}Os(n,i,D.children,c),i=i.child}return i;case 9:return D=i.type,w=i.pendingProps.children,Pi(i,c),D=Ri(D),w=w(D),i.flags|=1,Os(n,i,w,c),i.child;case 14:return w=i.type,D=Va(w,i.pendingProps),D=Va(w.type,D),e0(n,i,w,D,c);case 15:return t0(n,i,i.type,i.pendingProps,c);case 17:return w=i.type,D=i.pendingProps,D=i.elementType===w?D:Va(w,D),Tf(n,i),i.tag=1,es(w)?(n=!0,Ha(i)):n=!1,Pi(i,c),Gm(i,w,D),Xd(i,w,D,c),eh(null,i,w,!0,n,c);case 19:return c0(n,i,c);case 22:return n0(n,i,c)}throw Error(t(156,i.tag))};function P0(n,i){return Fn(n,i)}function tx(n,i,c,w){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(n,i,c,w){return new tx(n,i,c,w)}function xh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function nx(n){if(typeof n=="function")return xh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===be)return 14}return 2}function wc(n,i){var c=n.alternate;return c===null?(c=Ta(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function zf(n,i,c,w,D,H){var ye=2;if(w=n,typeof n=="function")xh(n)&&(ye=1);else if(typeof n=="string")ye=5;else e:switch(n){case oe:return Fc(c.children,D,H,i);case ne:ye=8,D|=8;break;case z:return n=Ta(12,c,i,D|2),n.elementType=z,n.lanes=H,n;case J:return n=Ta(13,c,i,D),n.elementType=J,n.lanes=H,n;case P:return n=Ta(19,c,i,D),n.elementType=P,n.lanes=H,n;case pe:return Uf(c,D,H,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case le:ye=10;break e;case re:ye=9;break e;case F:ye=11;break e;case be:ye=14;break e;case Ee:ye=16,w=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Ta(ye,c,i,D),i.elementType=n,i.type=w,i.lanes=H,i}function Fc(n,i,c,w){return n=Ta(7,n,w,i),n.lanes=c,n}function Uf(n,i,c,w){return n=Ta(22,n,w,i),n.elementType=pe,n.lanes=c,n.stateNode={isHidden:!1},n}function bh(n,i,c){return n=Ta(6,n,null,i),n.lanes=c,n}function _h(n,i,c){return i=Ta(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function rx(n,i,c,w,D){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=w,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function Sh(n,i,c,w,D,H,ye,Fe,qe){return n=new rx(n,i,c,Fe,qe),i===1?(i=1,H===!0&&(i|=8)):i=0,H=Ta(3,null,null,i),n.current=H,H.stateNode=n,H.memoizedState={element:w,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},G(H),n}function ix(n,i,c){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:w==null?null:""+w,children:n,containerInfo:i,implementation:c}}function R0(n){if(!n)return Xi;n=n._reactInternals;e:{if(bt(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(es(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var c=n.type;if(es(c))return jc(n,c,i)}return i}function D0(n,i,c,w,D,H,ye,Fe,qe){return n=Sh(c,w,!0,n,D,H,ye,Fe,qe),n.context=R0(null),c=n.current,w=Fs(),D=yc(c),H=ge(w,D),H.callback=i??null,Ae(c,H,D),n.current.lanes=D,zr(n,D,w),Ks(n,w),n}function $f(n,i,c,w){var D=i.current,H=Fs(),ye=yc(D);return c=R0(c),i.context===null?i.context=c:i.pendingContext=c,i=ge(H,ye),i.payload={element:n},w=w===void 0?null:w,w!==null&&(i.callback=w),n=Ae(D,i,ye),n!==null&&(Xa(n,D,ye,H),ke(n,D,ye)),ye}function qf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function O0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function kh(n,i){O0(n,i),(n=n.alternate)&&O0(n,i)}function ox(){return null}var F0=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ah(n){this._internalRoot=n}Wf.prototype.render=Ah.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));$f(n,i,null,null)},Wf.prototype.unmount=Ah.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Rc(function(){$f(null,n,null,null)}),i[Mo]=null}};function Wf(n){this._internalRoot=n}Wf.prototype.unstable_scheduleHydration=function(n){if(n){var i=qr();n={blockedOn:null,target:n,priority:i};for(var c=0;c<Jo.length&&i!==0&&i<Jo[c].priority;c++);Jo.splice(c,0,n),c===0&&Yr(n)}};function Nh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function B0(){}function sx(n,i,c,w,D){if(D){if(typeof w=="function"){var H=w;w=function(){var ut=qf(ye);H.call(ut)}}var ye=D0(i,w,n,0,null,!1,!1,"",B0);return n._reactRootContainer=ye,n[Mo]=ye.current,aa(n.nodeType===8?n.parentNode:n),Rc(),ye}for(;D=n.lastChild;)n.removeChild(D);if(typeof w=="function"){var Fe=w;w=function(){var ut=qf(qe);Fe.call(ut)}}var qe=Sh(n,0,!1,null,null,!1,!1,"",B0);return n._reactRootContainer=qe,n[Mo]=qe.current,aa(n.nodeType===8?n.parentNode:n),Rc(function(){$f(i,qe,c,w)}),qe}function Gf(n,i,c,w,D){var H=c._reactRootContainer;if(H){var ye=H;if(typeof D=="function"){var Fe=D;D=function(){var qe=qf(ye);Fe.call(qe)}}$f(i,ye,n,D)}else ye=sx(c,i,n,D,w);return qf(ye)}ho=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=co(i.pendingLanes);c!==0&&(fo(i,c|1),Ks(i,Jn()),(ri&6)===0&&(cu=Jn()+500,K()))}break;case 13:Rc(function(){var w=y(n,1);if(w!==null){var D=Fs();Xa(w,n,1,D)}}),kh(n,1)}},ha=function(n){if(n.tag===13){var i=y(n,134217728);if(i!==null){var c=Fs();Xa(i,n,134217728,c)}kh(n,134217728)}},qn=function(n){if(n.tag===13){var i=yc(n),c=y(n,i);if(c!==null){var w=Fs();Xa(c,n,i,w)}kh(n,i)}},qr=function(){return Cr},gr=function(n,i){var c=Cr;try{return Cr=n,i()}finally{Cr=c}},Wn=function(n,i,c){switch(i){case"input":if(S(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var w=c[i];if(w!==n&&w.form===n.form){var D=yl(w);if(!D)throw Error(t(90));fe(w),S(w,D)}}}break;case"textarea":at(n,c);break;case"select":i=c.value,i!=null&&Le(n,!!c.multiple,i,!1)}},ki=yh,Oi=Rc;var ax={usingClientEntryPoint:!1,Events:[Is,Wa,yl,Ur,Zs,yh]},Ju={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sn(n),n===null?null:n.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{Er=Vf.inject(lx),Sr=Vf}catch{}}return Ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax,Ys.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nh(i))throw Error(t(200));return ix(n,i,null,c)},Ys.createRoot=function(n,i){if(!Nh(n))throw Error(t(299));var c=!1,w="",D=F0;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(w=i.identifierPrefix),i.onRecoverableError!==void 0&&(D=i.onRecoverableError)),i=Sh(n,1,!1,null,null,c,!1,w,D),n[Mo]=i.current,aa(n.nodeType===8?n.parentNode:n),new Ah(i)},Ys.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=sn(i),n=n===null?null:n.stateNode,n},Ys.flushSync=function(n){return Rc(n)},Ys.hydrate=function(n,i,c){if(!Hf(i))throw Error(t(200));return Gf(null,n,i,!0,c)},Ys.hydrateRoot=function(n,i,c){if(!Nh(n))throw Error(t(405));var w=c!=null&&c.hydratedSources||null,D=!1,H="",ye=F0;if(c!=null&&(c.unstable_strictMode===!0&&(D=!0),c.identifierPrefix!==void 0&&(H=c.identifierPrefix),c.onRecoverableError!==void 0&&(ye=c.onRecoverableError)),i=D0(i,null,n,1,c??null,D,!1,H,ye),n[Mo]=i.current,aa(n),w)for(n=0;n<w.length;n++)c=w[n],D=c._getVersion,D=D(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,D]:i.mutableSourceEagerHydrationData.push(c,D);return new Wf(i)},Ys.render=function(n,i,c){if(!Hf(i))throw Error(t(200));return Gf(null,n,i,!1,c)},Ys.unmountComponentAtNode=function(n){if(!Hf(n))throw Error(t(40));return n._reactRootContainer?(Rc(function(){Gf(null,null,n,!1,function(){n._reactRootContainer=null,n[Mo]=null})}),!0):!1},Ys.unstable_batchedUpdates=yh,Ys.unstable_renderSubtreeIntoContainer=function(n,i,c,w){if(!Hf(c))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Gf(n,i,c,!1,w)},Ys.version="18.3.1-next-f1338f8080-20240426",Ys}var G0;function vx(){if(G0)return Th.exports;G0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Th.exports=yx(),Th.exports}var V0;function wx(){if(V0)return Yf;V0=1;var r=vx();return Yf.createRoot=r.createRoot,Yf.hydrateRoot=r.hydrateRoot,Yf}var xx=wx();const bx=Uv(xx),_x="modulepreload",Sx=function(r){return"/"+r},K0={},ku=function(e,t,o){let a=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=u(t.map(d=>{if(d=Sx(d),d in K0)return;K0[d]=!0;const m=d.endsWith(".css"),k=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${k}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":_x,m||(b.as="script"),b.crossOrigin="",b.href=d,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((g,j)=>{b.addEventListener("load",g),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(u){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=u,window.dispatchEvent(l),!l.defaultPrevented)throw u}return a.then(u=>{for(const l of u||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function $v(r,e,t=null){try{const o=localStorage.getItem(r);if(!o)return e;const a=JSON.parse(o);return t&&typeof t=="function"?t(a)?a:e:a}catch(o){return console.warn(`[ConfigManager]  (${r}):`,o),e}}function kx(r,e,t=null){try{return t&&typeof t=="function"&&!t(e)?(console.warn(`[ConfigManager]  (${r})`),!1):(localStorage.setItem(r,JSON.stringify(e)),!0)}catch(o){return console.error(`[ConfigManager]  (${r}):`,o),!1}}function Ax(r){return e=>{try{return r(e)}catch(t){return console.error("[ConfigManager] :",t),!1}}}const K1={"input-form-panel":{id:"input-form-panel",name:"",defaultPosition:{left:20,top:20,width:600,height:180}},"document-list-panel":{id:"document-list-panel",name:"",defaultPosition:{left:20,top:216,width:600,height:180}},"preview-panel":{id:"preview-panel",name:"",defaultPosition:{left:20,top:412,width:600,height:360}},"processing-panel":{id:"processing-panel",name:"",defaultPosition:{left:636,top:20,width:550,height:376}},"operations-panel":{id:"operations-panel",name:"",defaultPosition:{left:636,top:412,width:550,height:360}}},Y0=Object.keys(K1).reduce((r,e)=>(r[e]=K1[e].defaultPosition,r),{}),Nx="app-layout-config",Ex=r=>!r||typeof r!="object"?!1:Object.keys(K1).every(t=>r[t]);function Cx(){const r=$v(Nx,Y0,Ex);return{...Y0,...r}}const qv="app-button-config",Gl={"document-list-panel":[{id:"btn_list_delete",label:"",left:12,top:12,width:80,height:36,enabled:!0,kind:"delete_selected"},{id:"btn_list_select_all",label:"",left:104,top:12,width:80,height:36,enabled:!0,kind:"select_all"}],"preview-panel":[{id:"btn_preview_view_doc",label:"",left:12,top:12,width:100,height:36,enabled:!0,kind:"view_doc"},{id:"btn_preview_summarize",label:"",left:124,top:12,width:100,height:36,enabled:!0,kind:"fill_summary"}],"processing-panel":[{id:"btn_proc_config",label:"",left:12,top:12,width:120,height:36,enabled:!0,kind:"tab_config"},{id:"btn_proc_extract",label:"",left:144,top:12,width:100,height:36,enabled:!0,kind:"text_snippet"},{id:"btn_proc_outline",label:"",left:256,top:12,width:100,height:36,enabled:!0,kind:"outline_extract"}],"processing-tabs":[{id:"btn_tab_outline",label:"",left:12,top:6,width:96,height:32,enabled:!0,kind:"tab_outline",style:{fontSize:16,fontWeight:600}},{id:"btn_tab_records",label:"",left:128,top:6,width:96,height:32,enabled:!0,kind:"tab_records",style:{fontSize:16,fontWeight:600}},{id:"btn_tab_config",label:"",left:244,top:6,width:140,height:32,enabled:!0,kind:"tab_config",style:{fontSize:16,fontWeight:600}},{id:"btn_tab_strategy",label:"",left:404,top:6,width:110,height:32,enabled:!0,kind:"tab_strategy",style:{fontSize:16,fontWeight:600}}],"processing-records-toolbar":[{id:"btn_records_batch_replay",label:" Replay",left:12,top:8,width:100,height:28,enabled:!0,kind:"batch_replay",style:{fontSize:12}},{id:"btn_records_select_all",label:"",left:122,top:8,width:64,height:28,enabled:!0,kind:"select_all",style:{fontSize:12}},{id:"btn_records_delete_selected",label:"",left:196,top:8,width:88,height:28,enabled:!0,kind:"delete_selected",style:{fontSize:12}},{id:"btn_records_clear_selection",label:"",left:294,top:8,width:88,height:28,enabled:!0,kind:"clear_selection",style:{fontSize:12}},{id:"btn_group_new",label:"",left:392,top:8,width:100,height:28,enabled:!0,kind:"group_new",style:{fontSize:12}},{id:"btn_group_update",label:"",left:502,top:8,width:100,height:28,enabled:!0,kind:"group_update",style:{fontSize:12}},{id:"btn_group_rename",label:"",left:12,top:8,width:80,height:28,enabled:!0,kind:"group_rename",style:{fontSize:12}},{id:"btn_group_delete",label:"",left:102,top:8,width:72,height:28,enabled:!0,kind:"group_delete",style:{fontSize:12}},{id:"btn_group_replay",label:"Replay",left:184,top:8,width:80,height:28,enabled:!0,kind:"group_replay",style:{fontSize:12}}],"operations-panel":[{id:"btn_ops_clear",label:"",left:12,top:12,width:100,height:36,enabled:!0,kind:"clear_records"},{id:"btn_ops_execute",label:"",left:124,top:12,width:100,height:36,enabled:!0,kind:"dispatch"}],"input-form-panel":[]},mm=Ax(r=>{if(!r||typeof r!="object")return!1;const e=["document-list-panel","preview-panel","processing-panel","operations-panel"];for(const t of e)if(!r[t]||!Array.isArray(r[t]))return!1;return!0});function Ih(){return $v(qv,null,mm)}async function Xf(r){kx(qv,r,mm);try{return(await fetch("/api/buttons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buttons:r})})).ok?(console.log("[ButtonManager] "),!0):(console.error("[ButtonManager] "),!1)}catch(e){return console.error("[ButtonManager] ",e),!1}}function Tx(r,e){if(!r||typeof r!="object")return{activeButtons:[],deletedButtons:[]};if(r.activeButtons&&Array.isArray(r.activeButtons))return console.log("[Migration] Config is already in new format"),r;console.log("[Migration] Starting button config migration...");const t=[];let o=0;return Object.keys(r).forEach(a=>{const s=r[a];if(!Array.isArray(s))return;const u=e==null?void 0:e[a],l=(u==null?void 0:u.left)||0,f=(u==null?void 0:u.top)||0;console.log(`[Migration] Processing panel ${a}, position: (${l}, ${f})`),s.forEach(d=>{const m=l+(d.left||0),k=f+(d.top||0),b={id:d.id||`global-btn-${++o}`,label:d.label||"",x:m,y:k,width:d.width||100,height:d.height||30,style:d.style||{},onClick:d.onClick||null,enabled:d.enabled!==void 0?d.enabled:!0,zIndex:10,_migrated:{from:a,originalLeft:d.left,originalTop:d.top}};t.push(b),console.log(`[Migration] Migrated button ${b.id}: (${d.left}, ${d.top}) -> (${m}, ${k})`)})}),console.log(`[Migration] Migration complete. Total buttons: ${t.length}`),{activeButtons:t,deletedButtons:[],migratedAt:Date.now(),version:"2.0"}}function Lx(r,e="app-button-config"){try{const t=`${e}-backup-${Date.now()}`;return localStorage.setItem(t,JSON.stringify(r)),console.log(`[Backup] Config backed up to ${t}`),t}catch(t){return console.error("[Backup] Failed to backup config:",t),null}}function jx(r="app-button-config"){const e=[],t=`${r}-backup-`;for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o);a&&a.startsWith(t)&&e.push(a)}return e.sort().reverse()}function Ix(r="app-button-config",e=5){const o=jx(r).slice(e);o.forEach(a=>{localStorage.removeItem(a),console.log(`[Cleanup] Removed old backup: ${a}`)}),o.length>0&&console.log(`[Cleanup] Cleaned ${o.length} old backups`)}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,o)=>o?o.toUpperCase():t.toLowerCase()),X0=r=>{const e=Rx(r);return e.charAt(0).toUpperCase()+e.slice(1)},Wv=(...r)=>r.filter((e,t,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===t).join(" ").trim(),Dx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=tt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:o,className:a="",children:s,iconNode:u,...l},f)=>tt.createElement("svg",{ref:f,...Ox,width:e,height:e,stroke:r,strokeWidth:o?Number(t)*24/Number(e):t,className:Wv("lucide",a),...!s&&!Dx(l)&&{"aria-hidden":"true"},...l},[...u.map(([d,m])=>tt.createElement(d,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=(r,e)=>{const t=tt.forwardRef(({className:o,...a},s)=>tt.createElement(Fx,{ref:s,iconNode:e,className:Wv(`lucide-${Px(X0(r))}`,`lucide-${r}`,o),...a}));return t.displayName=X0(r),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Mx=ui("archive",Bx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],J0=ui("bot",zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$x=ui("check",Ux);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Hv=ui("chevron-left",qx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hx=ui("chevron-right",Wx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Z0=ui("copy",Gx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Q0=ui("download",Vx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yf=ui("file-text",Kx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Gv=ui("folder-open",Yx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],Vv=ui("gallery-vertical-end",Xx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],eg=ui("grip-vertical",Jx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],tg=ui("history",Zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],ng=ui("library",Qx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tb=ui("log-out",eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rb=ui("message-square",nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Kv=ui("panels-top-left",ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cf=ui("pen-line",ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yv=ui("pencil",sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],lb=ui("pin",ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rg=ui("play",cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xv=ui("plus",ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ig=ui("refresh-cw",fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Jv=ui("rotate-ccw",db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gm=ui("save",hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mb=ui("send",pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ld=ui("settings",gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vf=ui("sparkles",yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Iu=ui("trash-2",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],og=ui("type",wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bb=ui("upload",xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sb=ui("user",_b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mu=ui("x",kb),fr={t1:"",t2:"",t3:"",t4:"",t5:" (px)",t6:"",t7:" ",t8:" ",t9:" ",t10:"",t11:"",t12:"",t13:" (400)",t14:" (500)",t15:" (600)",t16:" (700)",t17:" (800)",t18:"",t19:" (px)",t20:" (px)",t21:"",t22:"",t23:"",t24:":",t25:"",t26:":",t27:":",t28:"",t29:"",t30:"AI ",t31:"",t32:"",t33:"",t34:"",t35:"",t36:"",t37:"",t38:"AI  ()",t39:"AI",t40:"",t41:"",t42:"...",t43:"AI",t44:""};function xu({button:r,onStyleChange:e,onDelete:t,onClose:o,onLogicChange:a}){const s={fontSize:14,color:"#1e293b",backgroundColor:"transparent",fontWeight:500,borderColor:"#e2e8f0",borderWidth:1,borderRadius:6,...r.style,label:r.label},[u,l]=tt.useState(s),[f,d]=tt.useState("style"),m=(b,g)=>{const j={...u,[b]:g};l(j)},k=()=>{const{label:b,...g}=u;e({style:g,label:b}),o()};return v.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#fff",padding:"0",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",zIndex:1e4,minWidth:"320px",maxWidth:"400px",border:"1px solid #e2e8f0",display:"flex",flexDirection:"column",maxHeight:"90vh"},onClick:b=>b.stopPropagation(),children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 24px 16px",borderBottom:"1px solid #e2e8f0"},children:[v.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#1e293b"},children:fr.t1}),v.jsx("button",{onClick:o,style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",color:"#64748b",padding:"4px 8px"},children:""})]}),v.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e2e8f0",padding:"0 24px"},children:[v.jsxs("button",{onClick:()=>d("style"),style:{flex:1,padding:"12px 16px",background:"transparent",border:"none",borderBottom:`2px solid ${f==="style"?"#3b82f6":"transparent"}`,cursor:"pointer",fontSize:"14px",fontWeight:f==="style"?600:400,color:f==="style"?"#3b82f6":"#64748b",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(Ld,{size:16}),fr.t2]}),v.jsxs("button",{onClick:()=>d("logic"),style:{flex:1,padding:"12px 16px",background:"transparent",border:"none",borderBottom:`2px solid ${f==="logic"?"#3b82f6":"transparent"}`,cursor:"pointer",fontSize:"14px",fontWeight:f==="logic"?600:400,color:f==="logic"?"#3b82f6":"#64748b",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(vf,{size:16}),fr.t3]})]}),v.jsx("div",{style:{overflowY:"auto",flex:1},children:f==="style"?v.jsxs("div",{style:{padding:"24px"},children:[v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t4}),v.jsx("input",{type:"text",value:u.label||r.label,onChange:b=>m("label",b.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t5}),v.jsx("input",{type:"number",value:u.fontSize,onChange:b=>m("fontSize",parseInt(b.target.value)||14),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t6}),v.jsxs("div",{style:{display:"flex",gap:"8px"},children:[v.jsx("button",{type:"button",onClick:()=>m("textAlign","left"),style:{flex:1,padding:"8px 12px",border:`2px solid ${u.textAlign==="left"?"#3b82f6":"#e2e8f0"}`,borderRadius:"6px",background:u.textAlign==="left"?"rgba(59, 130, 246, 0.1)":"#fff",color:u.textAlign==="left"?"#3b82f6":"#64748b",cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s"},children:fr.t7}),v.jsx("button",{type:"button",onClick:()=>m("textAlign","center"),style:{flex:1,padding:"8px 12px",border:`2px solid ${u.textAlign==="center"?"#3b82f6":"#e2e8f0"}`,borderRadius:"6px",background:u.textAlign==="center"?"rgba(59, 130, 246, 0.1)":"#fff",color:u.textAlign==="center"?"#3b82f6":"#64748b",cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s"},children:fr.t8}),v.jsx("button",{type:"button",onClick:()=>m("textAlign","right"),style:{flex:1,padding:"8px 12px",border:`2px solid ${u.textAlign==="right"?"#3b82f6":"#e2e8f0"}`,borderRadius:"6px",background:u.textAlign==="right"?"rgba(59, 130, 246, 0.1)":"#fff",color:u.textAlign==="right"?"#3b82f6":"#64748b",cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s"},children:fr.t9})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t10}),v.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[v.jsx("input",{type:"color",value:u.color,onChange:b=>m("color",b.target.value),style:{width:"50px",height:"36px",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"}}),v.jsx("input",{type:"text",value:u.color,onChange:b=>m("color",b.target.value),style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t11}),v.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[v.jsx("input",{type:"color",value:u.backgroundColor==="transparent"?"#ffffff":u.backgroundColor,onChange:b=>m("backgroundColor",b.target.value),style:{width:"50px",height:"36px",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"}}),v.jsx("input",{type:"text",value:u.backgroundColor,onChange:b=>m("backgroundColor",b.target.value),placeholder:"transparent",style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t12}),v.jsxs("select",{value:u.fontWeight,onChange:b=>m("fontWeight",parseInt(b.target.value)),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",cursor:"pointer",backgroundColor:"#fff"},children:[v.jsx("option",{value:"300",children:" (300)"}),v.jsx("option",{value:"400",children:fr.t13}),v.jsx("option",{value:"500",children:fr.t14}),v.jsx("option",{value:"600",children:fr.t15}),v.jsx("option",{value:"700",children:fr.t16}),v.jsx("option",{value:"800",children:fr.t17})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t18}),v.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[v.jsx("input",{type:"color",value:u.borderColor==="transparent"?"#ffffff":u.borderColor,onChange:b=>m("borderColor",b.target.value),style:{width:"50px",height:"36px",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"}}),v.jsx("input",{type:"text",value:u.borderColor,onChange:b=>m("borderColor",b.target.value),placeholder:"transparent",style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t19}),v.jsx("input",{type:"number",value:u.borderWidth,onChange:b=>m("borderWidth",parseInt(b.target.value)||0),min:"0",style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:500,color:"#475569"},children:fr.t20}),v.jsx("input",{type:"number",value:u.borderRadius,onChange:b=>m("borderRadius",parseInt(b.target.value)||0),min:"0",style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px",justifyContent:"space-between"},children:[v.jsx("button",{onClick:t,style:{padding:"8px 16px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#b91c1c"},children:fr.t21}),v.jsxs("div",{style:{display:"flex",gap:"12px"},children:[v.jsx("button",{onClick:o,style:{padding:"8px 16px",background:"transparent",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#64748b"},children:fr.t22}),v.jsx("button",{onClick:k,style:{padding:"8px 16px",background:"#3b82f6",border:"1px solid #3b82f6",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#fff",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"},children:fr.t23})]})]}),v.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[v.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"8px",fontWeight:500},children:fr.t24}),v.jsx("button",{style:{fontSize:`${u.fontSize}px`,color:u.color,backgroundColor:u.backgroundColor,fontWeight:u.fontWeight,border:`${u.borderWidth}px solid ${u.borderColor}`,borderRadius:`${u.borderRadius}px`,padding:"8px 16px",cursor:"pointer"},children:r.label})]})]}):v.jsx(Ab,{button:r,onLogicChange:a,onClose:o})})]})}function Ab({button:r,onLogicChange:e,onClose:t}){const[o,a]=tt.useState(""),[s,u]=tt.useState(null),[l,f]=tt.useState(!1),[d,m]=tt.useState(null),[k,b]=tt.useState((r==null?void 0:r.kind)||"custom"),[g,j]=tt.useState((r==null?void 0:r.prompt)||""),N=async()=>{if(!o.trim()){m("");return}f(!0),m(null);try{const x=await fetch("/api/multi/button-logic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buttonId:r==null?void 0:r.id,naturalLanguage:o.trim(),currentConfig:{label:r==null?void 0:r.label,kind:r==null?void 0:r.kind,prompt:r==null?void 0:r.prompt}})});if(!x.ok){const A=await x.json();throw new Error(A.error||"")}const T=(await x.json()).suggestion;u(T),T.kind&&b(T.kind),T.prompt&&j(T.prompt)}catch(x){m(x.message||"")}finally{f(!1)}},O=()=>{e({kind:k,prompt:g}),t()};return v.jsx("div",{style:{padding:"24px"},children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[v.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"6px"},children:[v.jsx("h4",{style:{margin:"0 0 8px",fontSize:"13px",color:"#666"},children:fr.t25}),v.jsxs("div",{style:{fontSize:"12px",display:"grid",gap:"4px"},children:[v.jsxs("div",{children:[v.jsx("strong",{children:fr.t26})," ",(r==null?void 0:r.kind)||fr.t41]}),(r==null?void 0:r.prompt)&&v.jsxs("div",{children:[v.jsx("strong",{children:fr.t27})," ",r.prompt.substring(0,50),r.prompt.length>50?"...":""]})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500},children:fr.t28}),v.jsx("textarea",{rows:3,value:o,onChange:x=>a(x.target.value),placeholder:fr.t29,style:{width:"100%",fontSize:"13px",resize:"vertical",padding:"8px",borderRadius:"6px",border:"1px solid #e2e8f0"}}),v.jsxs("button",{className:"primary small",onClick:N,disabled:l||!o.trim(),style:{marginTop:"8px",display:"flex",alignItems:"center",gap:"4px"},children:[v.jsx(vf,{size:14}),l?fr.t42:fr.t43]}),d&&v.jsx("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"8px"},children:d})]}),s&&v.jsxs("div",{style:{background:"#e0f2fe",padding:"12px",borderRadius:"6px",border:"1px solid #7dd3fc"},children:[v.jsx("h4",{style:{margin:"0 0 8px",fontSize:"13px",color:"#0369a1"},children:fr.t30}),v.jsx("div",{style:{fontSize:"12px",color:"#0c4a6e"},children:s.explanation||fr.t44})]}),v.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"16px"},children:[v.jsx("h4",{style:{margin:"0 0 12px",fontSize:"13px",fontWeight:500},children:fr.t31}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px"},children:fr.t32}),v.jsxs("select",{value:k,onChange:x=>b(x.target.value),style:{width:"100%",fontSize:"13px",padding:"8px",borderRadius:"6px",border:"1px solid #e2e8f0",background:"white"},children:[v.jsx("option",{value:"outline_extract",children:fr.t33}),v.jsx("option",{value:"dispatch",children:fr.t34}),v.jsx("option",{value:"final_generate",children:fr.t35}),v.jsx("option",{value:"upload_file",children:fr.t36}),v.jsx("option",{value:"custom",children:fr.t37})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px"},children:fr.t38}),v.jsx("textarea",{rows:3,value:g,onChange:x=>j(x.target.value),placeholder:fr.t39,style:{width:"100%",fontSize:"13px",resize:"vertical",padding:"8px",borderRadius:"6px",border:"1px solid #e2e8f0"}})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px",justifyContent:"flex-end"},children:[v.jsx("button",{onClick:t,style:{padding:"8px 16px",background:"transparent",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#64748b"},children:fr.t22}),v.jsx("button",{className:"primary",onClick:O,style:{padding:"8px 16px",background:"#3b82f6",border:"1px solid #3b82f6",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#fff",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"},children:fr.t40})]})]})]})]})})}function sg({onClose:r}){return v.jsx("div",{onClick:r,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:9999,backdropFilter:"blur(4px)"}})}const Nb={t1:""};function Uc({button:r,isEditing:e,panelId:t,onMouseDown:o,onStyleEdit:a,onClick:s,children:u}){const f={...{fontSize:14,color:"#1e293b",backgroundColor:"transparent",fontWeight:500,borderColor:"#e2e8f0",borderWidth:1,borderRadius:12},...r.style||{}},d=r.enabled===!1,m=!!r.disabled,k=b=>{const g=["final_generate","fill_summary","dispatch"],j=["outline_extract","text_snippet"],N=["tab_config","view_doc"],O=["batch_replay","select_all","deselect_all","clear_selection"],x=["group_new","group_update","group_replay"],R=["delete_selected","group_delete"],T=["clear","upload","clear_records","group_rename"];return g.includes(b)?{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#ffffff",border:"none",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.3)",fontWeight:600}:j.includes(b)?{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#ffffff",border:"none",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)",fontWeight:600}:N.includes(b)?{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#ffffff",border:"none",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.3)",fontWeight:600}:O.includes(b)?{background:"#f8fafc",color:"#475569",border:"1px solid #e2e8f0",boxShadow:"none",fontWeight:500}:x.includes(b)?{background:"#eff6ff",color:"#2563eb",border:"1px solid #93c5fd",boxShadow:"none",fontWeight:600}:R.includes(b)?{background:"#fef2f2",color:"#dc2626",border:"1px solid #fca5a5",boxShadow:"none",fontWeight:500}:T.includes(b)?{background:"#ffffff",color:"#374151",border:"1px solid #d1d5db",boxShadow:"none",fontWeight:500}:null};if(!e){const b=O=>O==="left"?"flex-start":O==="right"?"flex-end":"center",g=t==="processing-records-toolbar",N=f.background||f.backgroundColor!=="transparent"?{}:k(r.kind)||{};return v.jsx("button",{onClick:()=>s==null?void 0:s(r),style:{position:g?"relative":"absolute",left:g?"auto":`${r.left}px`,top:g?"auto":`${r.top}px`,width:g?"auto":`${r.width}px`,height:`${r.height}px`,boxSizing:"border-box",minWidth:"auto",minHeight:"24px",display:d?"none":"inline-flex",alignItems:"center",justifyContent:b(f.textAlign),zIndex:10,fontSize:`${f.fontSize}px`,color:f.color||N.color,background:f.background||N.background||f.backgroundColor,fontWeight:f.fontWeight||N.fontWeight,border:f.border||N.border||`${f.borderWidth}px solid ${f.borderColor}`,borderRadius:f.borderRadius?`${f.borderRadius}px`:"12px",boxShadow:f.boxShadow||N.boxShadow||"none",transform:f.transform||"none",cursor:m?"not-allowed":"pointer",transition:"all 0.2s",padding:"0 12px",pointerEvents:"auto",textAlign:f.textAlign||"center",opacity:m?.5:1,whiteSpace:"nowrap",flexShrink:0},className:"ghost",disabled:m,children:r.label||u})}return v.jsxs("div",{style:{position:"absolute",left:`${r.left}px`,top:`${r.top}px`,width:`${r.width}px`,height:`${r.height}px`,border:"2px solid #3b82f6",borderRadius:"4px",background:r.enabled?"rgba(59, 130, 246, 0.05)":"rgba(156, 163, 175, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",zIndex:100,pointerEvents:"auto",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)",transition:r.enabled?"box-shadow 0.2s":"none",boxSizing:"border-box",overflow:"visible"},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"move")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.35)")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.2)")},children:[a&&v.jsx("button",{className:"style-edit-handle",onClick:b=>{b.stopPropagation(),a(t,r.id)},style:{position:"absolute",top:"-8px",right:"-8px",transform:"none",width:"10px",height:"10px",borderRadius:"0",background:"transparent",color:"#3b82f6",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:0,fontWeight:600,boxShadow:"none",zIndex:150,padding:0},title:Nb.t1,children:v.jsxs("svg",{width:"8",height:"8",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[v.jsx("path",{d:"M12 20h9"}),v.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),v.jsx("div",{style:{flex:1,fontSize:`${f.fontSize}px`,color:r.enabled?f.color:"#9ca3af",fontWeight:f.fontWeight,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none",padding:"0 8px",display:"flex",alignItems:"center",justifyContent:f.textAlign==="left"?"flex-start":f.textAlign==="right"?"flex-end":"center",textAlign:f.textAlign||"center"},children:r.label||u}),v.jsx("div",{style:{position:"absolute",right:-4,top:0,width:"8px",height:"100%",cursor:"ew-resize",background:"linear-gradient(90deg, transparent, #3b82f6)",opacity:0,transition:"opacity 0.2s",zIndex:110},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"resize-e")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0.8")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0")}}),v.jsx("div",{style:{position:"absolute",bottom:-4,left:0,height:"8px",width:"100%",cursor:"ns-resize",background:"linear-gradient(180deg, transparent, #3b82f6)",opacity:0,transition:"opacity 0.2s",zIndex:110},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"resize-s")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0.8")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0")}}),v.jsx("div",{style:{position:"absolute",right:-4,bottom:-4,width:"12px",height:"12px",cursor:"nwse-resize",background:"linear-gradient(135deg, transparent 50%, #3b82f6 50%)",borderRadius:"0 0 4px 0",opacity:0,transition:"opacity 0.2s",zIndex:120},onMouseDown:b=>{b.stopPropagation(),o(b,t,r.id,"resize-se")},onMouseEnter:b=>{b.currentTarget&&(b.currentTarget.style.opacity="1")},onMouseLeave:b=>{b.currentTarget&&(b.currentTarget.style.opacity="0")}})]})}function Eb({panelId:r,buttons:e,isEditing:t,onButtonMouseDown:o,onStyleEdit:a,onClick:s,style:u={}}){const l={position:"relative",width:"100%",height:"40px",marginBottom:"8px",background:t?"rgba(59, 130, 246, 0.02)":"transparent",borderRadius:t?"4px":"0",border:t?"1px dashed #3b82f6":"none",padding:t?"4px":"0"};return v.jsx("div",{style:{...l,...u},children:e&&e.map(f=>v.jsx(Uc,{button:f,isEditing:t,panelId:r,onMouseDown:o,onStyleEdit:a,onClick:s,children:f.label},f.id))})}const Jl={t1:" ",t2:' "',t3:'" ',t4:"",t5:"",t6:"",t7:"",t8:"  - ",t9:""};function Qa({panelId:r,panelName:e,isEditing:t,position:o,onPositionChange:a,children:s,className:u="",style:l={},hidePanelHeader:f=!1,dragHandleSelector:d="h2",onTitleEdit:m,titleStyle:k={},headerActions:b,editHeaderActions:g,bounds:j}){const N=tt.useRef(null),[O,x]=tt.useState(!1),[R,T]=tt.useState(null),[A,q]=tt.useState(null),ie=200,oe=150,ne=(le,re="move")=>{if(t){if(re==="move"){const F=le.target,J=F.tagName.toLowerCase();if(J!=="h2"&&!F.closest(d)&&(["input","textarea","button","select","label","a","option"].includes(J)||F.isContentEditable||F.closest("button")||F.closest("a")||F.closest(".no-drag")))return}le.preventDefault(),x(!0),T(re),q({x:le.clientX,y:le.clientY,startPos:o})}};if(tt.useEffect(()=>{if(!O||!A)return;const le=j&&Number.isFinite(j.width)&&Number.isFinite(j.height)?{width:j.width,height:j.height}:null,re=J=>{const P=J.clientX-A.x,be=J.clientY-A.y;if(R==="move"){const Ee=A.startPos.left+P,pe=A.startPos.top+be,xe=(le?le.width:window.innerWidth)-100,Se=(le?le.height:window.innerHeight)-100;a({...o,left:Math.max(0,Math.min(Ee,Math.max(0,xe))),top:Math.max(0,Math.min(pe,Math.max(0,Se)))})}else if(R&&R.startsWith("resize")){let{left:Ee,top:pe,width:xe,height:Se}=A.startPos;if(R.includes("e"))xe=Math.max(ie,xe+P);else if(R.includes("w")){const De=Math.max(ie,xe-P);Ee+=xe-De,xe=De}if(R.includes("s"))Se=Math.max(oe,Se+be);else if(R.includes("n")){const De=Math.max(oe,Se-be);pe+=Se-De,Se=De}le&&(Ee=Math.max(0,Math.min(Ee,le.width-ie)),pe=Math.max(0,Math.min(pe,le.height-oe)),xe=Math.min(xe,Math.max(ie,le.width-Ee)),Se=Math.min(Se,Math.max(oe,le.height-pe))),a({left:Ee,top:pe,width:xe,height:Se})}},F=()=>{x(!1),T(null),q(null)};return document.addEventListener("mousemove",re),document.addEventListener("mouseup",F),()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",F)}},[O,A,R,o,a,t]),!t)return v.jsxs("div",{className:`editable-panel-view ${u}`,style:{...l,position:o?"absolute":"relative",left:o?`${o.left}px`:void 0,top:o?`${o.top}px`:void 0,width:o?`${o.width}px`:"100%",height:o?`${o.height}px`:"100%",background:"white",border:"1px solid #dadce0",borderRadius:"12px",boxShadow:"0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15)",padding:"12px",display:"flex",flexDirection:"column",overflow:"auto",zIndex:l.zIndex||1},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 0 12px 0",paddingBottom:"8px",borderBottom:"2px solid #e5e7eb"},children:[v.jsx("h2",{style:{margin:0,fontSize:"14px",fontWeight:600,color:"#1f2937",...k},children:e}),b&&v.jsx("div",{className:"panel-header-actions",style:{display:"flex",alignItems:"center",gap:"8px",zIndex:10,position:"relative",pointerEvents:"auto"},children:b})]}),s]});if(!o||o.left===void 0||o.top===void 0||o.width===void 0||o.height===void 0)return console.warn(`[EditableLayoutPanel] Panel "${e}" (${r}) has invalid position:`,o),v.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",padding:"20px",background:"#fff3cd",border:"2px dashed #ff6b6b",borderRadius:"8px",textAlign:"center",zIndex:9999},children:[v.jsx("h3",{style:{margin:"0 0 8px 0",color:"#856404"},children:Jl.t1}),v.jsxs("p",{style:{margin:0},children:[Jl.t2,e,Jl.t3]}),v.jsx("p",{style:{fontSize:"12px",margin:"8px 0 0 0",color:"#666"},children:Jl.t4})]});const z={...l,position:"absolute",left:`${o.left}px`,top:`${o.top}px`,width:`${o.width}px`,height:`${o.height}px`,border:"2px solid #3b82f6",background:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.2)",borderRadius:"8px",padding:"12px",display:"flex",flexDirection:"column",zIndex:O?1e3:10,cursor:O?"grabbing":"grab",overflow:"auto"};return v.jsxs("div",{ref:N,className:`editable-panel ${u}`,style:z,onMouseDown:le=>{(t||d&&le.target.closest(d))&&ne(le,"move")},children:[!f&&v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0 0 8px 0",paddingBottom:"6px",borderBottom:"2px solid #e5e7eb",position:"relative",zIndex:10},children:[v.jsx("h2",{style:{margin:0,cursor:t?"pointer":"grab",userSelect:"none",fontSize:"14px",fontWeight:600,...k},onMouseDown:le=>!t&&ne(le,"move"),children:v.jsxs("span",{onClick:le=>{t&&m&&(le.stopPropagation(),m(r))},onMouseDown:le=>t&&le.stopPropagation(),style:{cursor:t?"pointer":"inherit",display:"inline-block",border:t?"1px dashed #cbd5e1":"none",borderRadius:"4px",padding:t?"2px 6px":"0",margin:t?"-2px -6px":"0",transition:"all 0.2s",backgroundColor:t?"rgba(255, 255, 255, 0.5)":"transparent"},title:t?Jl.t9:"",children:[e,t&&v.jsx("span",{style:{marginLeft:"4px",fontSize:"14px",color:"#3b82f6"},children:""})]})}),g&&v.jsx("div",{className:"panel-header-actions",style:{display:"flex",alignItems:"center",gap:"8px",zIndex:11,pointerEvents:"auto"},onMouseDown:le=>le.stopPropagation(),children:g})]}),v.jsx("div",{style:{flex:1,overflow:"auto",minHeight:0,position:"relative",zIndex:1},children:s}),t&&v.jsx("div",{style:{position:"absolute",left:0,right:0,top:0,height:"12px",cursor:"ns-resize",zIndex:10},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-n")}}),t&&v.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"12px",cursor:"ew-resize",zIndex:10},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-w")}}),t&&v.jsx("div",{style:{position:"absolute",left:0,top:0,width:"16px",height:"16px",cursor:"nwse-resize",zIndex:11},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-nw")}}),t&&v.jsx("div",{style:{position:"absolute",right:0,top:0,width:"16px",height:"16px",cursor:"nesw-resize",zIndex:11},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-ne")}}),t&&v.jsx("div",{style:{position:"absolute",left:0,bottom:0,width:"16px",height:"16px",cursor:"nesw-resize",zIndex:11},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-sw")}}),t&&v.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"12px",cursor:"ew-resize",zIndex:10,background:"linear-gradient(90deg, transparent 0%, #3b82f6 100%)",opacity:.5,transition:"opacity 0.2s"},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-e")},onMouseEnter:le=>le.target.style.opacity="1",onMouseLeave:le=>le.target.style.opacity="0.5",title:Jl.t5}),t&&v.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:0,height:"12px",cursor:"ns-resize",zIndex:10,background:"linear-gradient(180deg, transparent 0%, #3b82f6 100%)",opacity:.5,transition:"opacity 0.2s"},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-s")},onMouseEnter:le=>le.target.style.opacity="1",onMouseLeave:le=>le.target.style.opacity="0.5",title:Jl.t6}),t&&v.jsx("div",{style:{position:"absolute",right:0,bottom:0,width:"24px",height:"24px",cursor:"nwse-resize",zIndex:10,background:"linear-gradient(135deg, transparent 50%, #3b82f6 50%)",borderRadius:"0 0 6px 0",opacity:.7,transition:"opacity 0.2s"},onMouseDown:le=>{le.stopPropagation(),ne(le,"resize-se")},onMouseEnter:le=>le.target.style.opacity="1",onMouseLeave:le=>le.target.style.opacity="0.7",title:Jl.t7})]})}function Zv({isEditing:r,children:e,style:t={},size:o,onSizeChange:a,minWidth:s=800,minHeight:u=600}){if(!r){const b=o||{};return v.jsx("div",{className:"layout-static-container",style:{...t,position:"relative",width:b.width?`${b.width}px`:"100%",height:b.height?`${b.height}px`:"100%",minHeight:`${u}px`,overflow:"hidden"},children:e})}const l=tt.useRef(null),f=tt.useRef(null);tt.useEffect(()=>{},[]),tt.useEffect(()=>{if(!r||!a)return;const b=j=>{const N=f.current;if(!N)return;const O=j.clientX-N.startX,x=j.clientY-N.startY,R={width:N.startWidth,height:N.startHeight};(N.type==="e"||N.type==="se")&&(R.width=Math.max(s,N.startWidth+O)),(N.type==="s"||N.type==="se")&&(R.height=Math.max(u,N.startHeight+x)),a(R)},g=()=>{f.current=null};return document.addEventListener("mousemove",b),document.addEventListener("mouseup",g),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",g)}},[r,a,s,u]);const d=(b,g)=>{if(!r||!a||!l.current)return;const j=l.current.getBoundingClientRect();f.current={type:g,startX:b.clientX,startY:b.clientY,startWidth:j.width,startHeight:j.height},b.preventDefault()},m=o||{},k={...t,position:"relative",width:m.width?`${m.width}px`:"100%",height:m.height?`${m.height}px`:"auto",minHeight:`${u}px`,background:"rgba(59, 130, 246, 0.02)",border:"2px dashed #3b82f6",borderRadius:"8px",padding:"20px",marginBottom:"20px",overflow:"auto"};return v.jsxs("div",{ref:l,className:"layout-edit-container",style:k,children:[v.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",background:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:600,zIndex:999},children:Jl.t8}),r&&v.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"12px",cursor:"ew-resize",zIndex:1e3},onMouseDown:b=>d(b,"e")}),r&&v.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:0,height:"12px",cursor:"ns-resize",zIndex:1e3},onMouseDown:b=>d(b,"s")}),r&&v.jsx("div",{style:{position:"absolute",right:0,bottom:0,width:"24px",height:"24px",cursor:"nwse-resize",background:"linear-gradient(135deg, transparent 50%, #3b82f6 50%)",borderBottomRightRadius:"8px",zIndex:1001},onMouseDown:b=>d(b,"se")}),e]})}const Ph={t1:"",t2:"",t3:""};function ag({buttons:r,isEditing:e,onMouseDown:t,onStyleEdit:o,onClick:a,onDelete:s}){return!r||r.length===0?null:v.jsx(v.Fragment,{children:r.map(u=>v.jsx(Cb,{button:u,isEditing:e,onMouseDown:t,onStyleEdit:o,onClick:a,onDelete:s},u.id))})}function Cb({button:r,isEditing:e,onMouseDown:t,onStyleEdit:o,onClick:a,onDelete:s}){const l={...{fontSize:14,color:"#1e293b",backgroundColor:"transparent",fontWeight:500,borderColor:"#e2e8f0",borderWidth:1,borderRadius:6},...r.style||{}},f=d=>d==="left"?"flex-start":d==="right"?"flex-end":"center";if(!e){const d=m=>{if(console.log("[GlobalButton handleClick] Event triggered for:",r.label),console.log("[GlobalButton handleClick] button:",r),console.log("[GlobalButton handleClick] onClick typeof:",typeof a),console.log("[GlobalButton handleClick] onClick exists:",!!a),a){console.log("[GlobalButton handleClick] Calling onClick with button:",r);try{a(r),console.log("[GlobalButton handleClick] onClick call completed")}catch(k){console.error("[GlobalButton handleClick] onClick threw error:",k)}}else console.warn("[GlobalButton] No onClick handler provided")};return v.jsx("button",{onClick:d,style:{position:"absolute",left:`${r.x}px`,top:`${r.y}px`,width:`${r.width}px`,height:`${r.height}px`,minWidth:"auto",minHeight:"24px",display:r.enabled?"inline-flex":"none",alignItems:"center",justifyContent:f(l.textAlign),zIndex:r.zIndex||9e3,fontSize:`${l.fontSize}px`,color:l.color,backgroundColor:l.backgroundColor,fontWeight:l.fontWeight,border:`${l.borderWidth}px solid ${l.borderColor}`,borderRadius:`${l.borderRadius}px`,cursor:"pointer",transition:"all 0.2s",padding:"0 8px",pointerEvents:"auto",textAlign:l.textAlign||"center"},className:"ghost",disabled:!r.enabled,children:r.label})}return v.jsxs("div",{style:{position:"absolute",left:`${r.x}px`,top:`${r.y}px`,width:`${r.width}px`,height:`${r.height}px`,border:"2px solid #3b82f6",borderRadius:"4px",background:r.enabled?"rgba(59, 130, 246, 0.05)":"rgba(156, 163, 175, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",zIndex:r.zIndex||9100,pointerEvents:"auto",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)",transition:r.enabled?"box-shadow 0.2s":"none"},onMouseDown:d=>{d.stopPropagation(),t(d,r.id,"move")},onMouseEnter:d=>{d.currentTarget&&(d.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.35)")},onMouseLeave:d=>{d.currentTarget&&(d.currentTarget.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.2)")},children:[o&&v.jsx("button",{onClick:d=>{d.stopPropagation(),o(r.id)},style:{position:"absolute",top:"-12px",right:"-12px",width:"24px",height:"24px",borderRadius:"50%",background:"#3b82f6",color:"#fff",border:"2px solid #fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",zIndex:150,padding:0},title:Ph.t1,children:""}),v.jsx("div",{style:{flex:1,fontSize:`${l.fontSize}px`,color:r.enabled?l.color:"#9ca3af",fontWeight:l.fontWeight,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none",padding:"0 8px",display:"flex",alignItems:"center",justifyContent:f(l.textAlign),textAlign:l.textAlign||"center"},children:r.label}),v.jsx("div",{onMouseDown:d=>{d.stopPropagation(),t(d,r.id,"resize")},style:{position:"absolute",right:"-6px",bottom:"-6px",width:"16px",height:"16px",background:"#3b82f6",border:"2px solid #fff",borderRadius:"50%",cursor:"nwse-resize",zIndex:120,boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"}}),s&&v.jsx("button",{onClick:d=>{d.stopPropagation(),confirm(Ph.t3)&&s(r.id)},style:{position:"absolute",top:"-12px",left:"-12px",width:"24px",height:"24px",borderRadius:"50%",background:"#ef4444",color:"#fff",border:"2px solid #fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 6px rgba(239, 68, 68, 0.4)",zIndex:150,padding:0},title:Ph.t2,children:""})]})}const ua={t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:" (",t9:"",t10:"",t11:"",t12:""};function Tb({deletedButtons:r,deletedBlocks:e=[],onRestore:t,onPermanentDelete:o,onRestoreBlock:a,onPermanentDeleteBlock:s,onClearAll:u,onClose:l,onSave:f,onCancel:d,onReset:m}){const k={"input-form-panel":"","document-list-panel":"","preview-textarea":"","preview-toolbar":"","processing-panel":"","operations-panel":""};return v.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"300px",height:"100vh",backgroundColor:"#fff",boxShadow:"-4px 0 12px rgba(0, 0, 0, 0.1)",zIndex:1e4,display:"flex",flexDirection:"column",borderLeft:"1px solid #e2e8f0",transition:"transform 0.3s ease-in-out"},children:[v.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#f8fafc"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:"#1e293b"},children:ua.t1}),v.jsx("span",{style:{backgroundColor:"#e2e8f0",padding:"2px 6px",borderRadius:"99px",fontSize:"12px",color:"#64748b",fontWeight:600},children:r.length+e.length})]}),v.jsx("button",{onClick:l,className:"ghost small",style:{padding:"4px"},title:ua.t2,children:v.jsx(Mu,{size:20})})]}),v.jsx("div",{style:{padding:"16px",borderBottom:"1px solid #e2e8f0",display:"flex",gap:"8px",flexDirection:"column"},children:v.jsxs("div",{style:{display:"flex",gap:"8px"},children:[v.jsxs("button",{onClick:d,className:"secondary",style:{flex:1,justifyContent:"center",gap:"8px"},children:[v.jsx(tb,{size:16}),ua.t3]}),v.jsxs("button",{onClick:m,className:"ghost danger-text",style:{flex:1,justifyContent:"center",gap:"8px",border:"1px solid #fee2e2"},children:[v.jsx(Jv,{size:16}),ua.t4]})]})}),v.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[r.length===0&&e.length===0?v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"12px"},children:[v.jsx(Mx,{size:48,strokeWidth:1}),v.jsx("p",{children:ua.t5})]}):r.map(b=>v.jsxs("div",{style:{padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",backgroundColor:"#fff",display:"flex",flexDirection:"column",gap:"8px",transition:"all 0.2s"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsx("span",{style:{fontWeight:500,color:"#334155",fontSize:"14px"},children:b.label||ua.t10}),v.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:new Date(b.deletedAt||Date.now()).toLocaleTimeString()})]}),v.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:[v.jsxs("button",{onClick:()=>t(b.id),className:"secondary small",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[v.jsx(ig,{size:14}),ua.t6]}),v.jsxs("button",{onClick:()=>{confirm(ua.t11)&&o(b.id)},className:"danger small",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[v.jsx(Iu,{size:14}),ua.t7]})]})]},b.id)),e.length>0&&v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:r.length>0?"8px":"0"},children:[v.jsxs("div",{style:{fontSize:"12px",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.05em"},children:[ua.t8,e.length,")"]}),e.map(b=>v.jsxs("div",{style:{padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",backgroundColor:"#fff",display:"flex",flexDirection:"column",gap:"8px"},children:[v.jsx("div",{style:{fontWeight:500,color:"#334155",fontSize:"14px"},children:k[b]||b}),v.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:v.jsxs("button",{onClick:()=>a(b),className:"secondary small",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[v.jsx(ig,{size:14}),ua.t6]})})]},b))]})]}),r.length>0&&v.jsx("div",{style:{padding:"16px",borderTop:"1px solid #e2e8f0",backgroundColor:"#f8fafc"},children:v.jsxs("button",{onClick:()=>{confirm(ua.t12)&&u()},className:"danger full-width",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[v.jsx(Iu,{size:16}),ua.t9]})})]})}const uf={t1:"",t2:"",t3:"",t4:"",t5:""};function lg({docs:r,selectedDocId:e,setSelectedDocId:t,deleteDoc:o,uploadInputRef:a,handleFilePick:s,replayDirConfig:u,setReplayDirConfig:l,saveReplayDirConfig:f,replayDirConfigSaving:d}){return v.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[v.jsxs("div",{style:{padding:"8px 10px",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",borderRadius:"6px 6px 0 0",flexShrink:0},children:[v.jsxs("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[v.jsx(Gv,{size:12}),v.jsx("span",{children:""}),v.jsx("span",{style:{fontSize:"10px",color:"#94a3b8"},children:"/"})]}),v.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[v.jsx("input",{type:"text",value:(u==null?void 0:u.dirPath)||"",onChange:m=>l&&l(k=>({...k,dirPath:m.target.value})),placeholder:" C:\\docs  /home/docs",style:{flex:1,padding:"5px 8px",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"12px",background:"#fff"}}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:f,disabled:d,style:{padding:"4px 10px",fontSize:"11px",whiteSpace:"nowrap"},children:d?"...":""})]})]}),v.jsxs("div",{className:"list",style:{flex:1,overflowY:"auto"},children:[r.length===0&&v.jsxs("div",{className:"hint",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"8px"},children:[v.jsx(yf,{size:32,opacity:.2}),v.jsx("span",{children:uf.t4})]}),r.map(m=>v.jsxs("div",{className:`list-item ${e===m.id?"active":""}`,onClick:()=>t(m.id),children:[v.jsx("div",{style:{fontWeight:500},children:m.name}),v.jsx("div",{className:"section-actions",style:{justifyContent:"flex-end"},children:v.jsx("button",{type:"button",className:"ghost icon-btn",title:uf.t5,onClick:k=>{k.stopPropagation(),o(m.id)},style:{width:"24px",height:"24px",padding:"4px"},children:v.jsx(Iu,{size:14})})})]},m.id))]}),v.jsx("input",{type:"file",accept:".txt,.md,.pdf,.docx",multiple:!0,ref:a,style:{display:"none"},onChange:m=>void s(m)})]})}function cg({replayDirName:r,pickReplayDirectory:e,clearReplayDirectory:t,replayDirHandle:o}){return v.jsxs("div",{className:"file-row",style:{height:"100%",padding:"0px 4px",background:"#ffffff",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box"},children:[v.jsx("div",{className:"hint",style:{flex:1,fontSize:"12px",display:"flex",alignItems:"center",gap:"4px",overflow:"hidden"},children:r?v.jsx("span",{style:{color:"var(--primary-accent)",fontWeight:500,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:r}):v.jsx("span",{style:{color:"var(--text-secondary)"},children:uf.t1})}),v.jsxs("div",{className:"actions",style:{gap:4,display:"flex"},children:[v.jsx("button",{className:"ghost icon-btn",type:"button",title:uf.t2,onClick:()=>void e(),children:v.jsx(Gv,{size:14})}),v.jsx("button",{className:"ghost icon-btn",type:"button",title:uf.t3,onClick:()=>void t(),disabled:!o,children:v.jsx(Mu,{size:14})})]})]})}const Lb={t1:""};function Bs({blockId:r,panelId:e,isEditing:t,position:o,onPositionChange:a,onDelete:s,hidden:u,children:l,allowChildPointerEvents:f=!1,minWidth:d=50,minHeight:m=30}){const[k,b]=tt.useState(!1),[g,j]=tt.useState(null),[N,O]=tt.useState(null),x=(T,A="move")=>{t&&(T.stopPropagation(),T.preventDefault(),b(!0),j(A),O({x:T.clientX,y:T.clientY,startPos:o}))};if(tt.useEffect(()=>{if(!k||!N)return;const T=q=>{const ie=q.clientX-N.x,oe=q.clientY-N.y;if(g==="move"){const ne=N.startPos.left+ie,z=N.startPos.top+oe;a({...o,left:Math.max(0,ne),top:Math.max(0,z)})}else if(g&&g.startsWith("resize")){let{left:ne,top:z,width:le,height:re}=N.startPos;if(g.includes("e"))le=Math.max(d,le+ie);else if(g.includes("w")){const F=Math.max(d,le-ie);ne+=le-F,le=F}if(g.includes("s"))re=Math.max(m,re+oe);else if(g.includes("n")){const F=Math.max(m,re-oe);z+=re-F,re=F}a({left:ne,top:z,width:le,height:re})}},A=()=>{b(!1),j(null),O(null)};return document.addEventListener("mousemove",T),document.addEventListener("mouseup",A),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",A)}},[k,N,g,o,a,d,m]),u)return null;if(!t)return v.jsx("div",{style:{position:"absolute",left:`${(o==null?void 0:o.left)||0}px`,top:`${(o==null?void 0:o.top)||0}px`,width:`${(o==null?void 0:o.width)||"100%"}px`,height:`${(o==null?void 0:o.height)||"100%"}px`,overflow:"auto"},children:l});const R={position:"absolute",left:`${o.left}px`,top:`${o.top}px`,width:`${o.width}px`,height:`${o.height}px`,border:"2px dashed #10b981",background:"rgba(16, 185, 129, 0.05)",borderRadius:"6px",zIndex:k?100:5,cursor:k?"grabbing":"grab",overflow:"auto"};return v.jsxs("div",{style:R,onMouseDown:T=>x(T,"move"),children:[v.jsx("div",{style:{width:"100%",height:"100%",pointerEvents:f?"auto":"none"},children:l}),["e","s","se","w","n","nw","ne","sw"].map(T=>{T.length>1;const A={position:"absolute",zIndex:10,cursor:T.includes("n")||T.includes("s")?T.includes("e")||T.includes("w")?`${T.includes("n")?"ne":"se"}sw-resize`:"ns-resize":"ew-resize"};return T==="e"?Object.assign(A,{right:0,top:0,bottom:0,width:"10px"}):T==="s"?Object.assign(A,{bottom:0,left:0,right:0,height:"10px"}):T==="w"?Object.assign(A,{left:0,top:0,bottom:0,width:"10px"}):T==="n"?Object.assign(A,{top:0,left:0,right:0,height:"10px"}):T==="se"?Object.assign(A,{right:0,bottom:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"0 0 6px 0"}):T==="sw"?Object.assign(A,{left:0,bottom:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"0 0 0 6px"}):T==="ne"?Object.assign(A,{right:0,top:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"0 6px 0 0"}):T==="nw"&&Object.assign(A,{left:0,top:0,width:"20px",height:"20px",background:"#10b981",borderRadius:"6px 0 0 0"}),v.jsx("div",{style:A,onMouseDown:q=>{q.stopPropagation(),x(q,`resize-${T}`)}},T)}),s&&v.jsx("div",{style:{position:"absolute",top:-10,right:-10,width:20,height:20,background:"#ef4444",color:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:101,boxShadow:"0 2px 4px rgba(0,0,0,0.2)",fontSize:"14px",fontWeight:"bold"},onMouseDown:T=>{T.stopPropagation(),T.preventDefault()},onClick:T=>{T.stopPropagation(),s()},title:Lb.t1,children:""})]})}var jb=Object.defineProperty,Ib=Object.defineProperties,Pb=Object.getOwnPropertyDescriptors,ug=Object.getOwnPropertySymbols,Rb=Object.prototype.hasOwnProperty,Db=Object.prototype.propertyIsEnumerable,Y1=(r,e,t)=>e in r?jb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zr=(r,e)=>{for(var t in e||(e={}))Rb.call(e,t)&&Y1(r,t,e[t]);if(ug)for(var t of ug(e))Db.call(e,t)&&Y1(r,t,e[t]);return r},Pu=(r,e)=>Ib(r,Pb(e)),Nt=(r,e,t)=>Y1(r,typeof e!="symbol"?e+"":e,t),Ob=(r,e,t)=>new Promise((o,a)=>{var s=f=>{try{l(t.next(f))}catch(d){a(d)}},u=f=>{try{l(t.throw(f))}catch(d){a(d)}},l=f=>f.done?o(f.value):Promise.resolve(f.value).then(s,u);l((t=t.apply(r,e)).next())});class jd{constructor(e){Nt(this,"rootKey"),this.rootKey=e}}const Fb=Object.seal({});class Rt extends jd{constructor(e){super(e),Nt(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const o=this.root.map(a=>a instanceof jd?a.prepForXml(e):a).filter(a=>a!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((t=o[0])!=null&&t._attr)?o[0]:o:Fb}}addChildElement(e){return this.root.push(e),this}}class Fd extends Rt{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class cr extends jd{constructor(e){super("_attr"),Nt(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([o,a])=>{if(a!==void 0){const s=this.xmlKeys&&this.xmlKeys[o]||o;t[s]=a}}),{_attr:t}}}class Bd extends jd{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:a,value:s})=>Pu(Zr({},o),{[a]:s}),{})}}}class jo extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rh={},Jf={exports:{}},fg;function ym(){if(fg)return Jf.exports;fg=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(q,ie,oe){return Function.prototype.apply.call(q,ie,oe)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(q){return Object.getOwnPropertyNames(q).concat(Object.getOwnPropertySymbols(q))}:t=function(q){return Object.getOwnPropertyNames(q)};function o(A){console&&console.warn&&console.warn(A)}var a=Number.isNaN||function(q){return q!==q};function s(){s.init.call(this)}Jf.exports=s,Jf.exports.once=x,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(A){if(typeof A!="number"||A<0||a(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");u=A}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(q){if(typeof q!="number"||q<0||a(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+q+".");return this._maxListeners=q,this};function f(A){return A._maxListeners===void 0?s.defaultMaxListeners:A._maxListeners}s.prototype.getMaxListeners=function(){return f(this)},s.prototype.emit=function(q){for(var ie=[],oe=1;oe<arguments.length;oe++)ie.push(arguments[oe]);var ne=q==="error",z=this._events;if(z!==void 0)ne=ne&&z.error===void 0;else if(!ne)return!1;if(ne){var le;if(ie.length>0&&(le=ie[0]),le instanceof Error)throw le;var re=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw re.context=le,re}var F=z[q];if(F===void 0)return!1;if(typeof F=="function")e(F,this,ie);else for(var J=F.length,P=j(F,J),oe=0;oe<J;++oe)e(P[oe],this,ie);return!0};function d(A,q,ie,oe){var ne,z,le;if(l(ie),z=A._events,z===void 0?(z=A._events=Object.create(null),A._eventsCount=0):(z.newListener!==void 0&&(A.emit("newListener",q,ie.listener?ie.listener:ie),z=A._events),le=z[q]),le===void 0)le=z[q]=ie,++A._eventsCount;else if(typeof le=="function"?le=z[q]=oe?[ie,le]:[le,ie]:oe?le.unshift(ie):le.push(ie),ne=f(A),ne>0&&le.length>ne&&!le.warned){le.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(q)+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=A,re.type=q,re.count=le.length,o(re)}return A}s.prototype.addListener=function(q,ie){return d(this,q,ie,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(q,ie){return d(this,q,ie,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(A,q,ie){var oe={fired:!1,wrapFn:void 0,target:A,type:q,listener:ie},ne=m.bind(oe);return ne.listener=ie,oe.wrapFn=ne,ne}s.prototype.once=function(q,ie){return l(ie),this.on(q,k(this,q,ie)),this},s.prototype.prependOnceListener=function(q,ie){return l(ie),this.prependListener(q,k(this,q,ie)),this},s.prototype.removeListener=function(q,ie){var oe,ne,z,le,re;if(l(ie),ne=this._events,ne===void 0)return this;if(oe=ne[q],oe===void 0)return this;if(oe===ie||oe.listener===ie)--this._eventsCount===0?this._events=Object.create(null):(delete ne[q],ne.removeListener&&this.emit("removeListener",q,oe.listener||ie));else if(typeof oe!="function"){for(z=-1,le=oe.length-1;le>=0;le--)if(oe[le]===ie||oe[le].listener===ie){re=oe[le].listener,z=le;break}if(z<0)return this;z===0?oe.shift():N(oe,z),oe.length===1&&(ne[q]=oe[0]),ne.removeListener!==void 0&&this.emit("removeListener",q,re||ie)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(q){var ie,oe,ne;if(oe=this._events,oe===void 0)return this;if(oe.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):oe[q]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete oe[q]),this;if(arguments.length===0){var z=Object.keys(oe),le;for(ne=0;ne<z.length;++ne)le=z[ne],le!=="removeListener"&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(ie=oe[q],typeof ie=="function")this.removeListener(q,ie);else if(ie!==void 0)for(ne=ie.length-1;ne>=0;ne--)this.removeListener(q,ie[ne]);return this};function b(A,q,ie){var oe=A._events;if(oe===void 0)return[];var ne=oe[q];return ne===void 0?[]:typeof ne=="function"?ie?[ne.listener||ne]:[ne]:ie?O(ne):j(ne,ne.length)}s.prototype.listeners=function(q){return b(this,q,!0)},s.prototype.rawListeners=function(q){return b(this,q,!1)},s.listenerCount=function(A,q){return typeof A.listenerCount=="function"?A.listenerCount(q):g.call(A,q)},s.prototype.listenerCount=g;function g(A){var q=this._events;if(q!==void 0){var ie=q[A];if(typeof ie=="function")return 1;if(ie!==void 0)return ie.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function j(A,q){for(var ie=new Array(q),oe=0;oe<q;++oe)ie[oe]=A[oe];return ie}function N(A,q){for(;q+1<A.length;q++)A[q]=A[q+1];A.pop()}function O(A){for(var q=new Array(A.length),ie=0;ie<q.length;++ie)q[ie]=A[ie].listener||A[ie];return q}function x(A,q){return new Promise(function(ie,oe){function ne(le){A.removeListener(q,z),oe(le)}function z(){typeof A.removeListener=="function"&&A.removeListener("error",ne),ie([].slice.call(arguments))}T(A,q,z,{once:!0}),q!=="error"&&R(A,ne,{once:!0})})}function R(A,q,ie){typeof A.on=="function"&&T(A,"error",q,ie)}function T(A,q,ie,oe){if(typeof A.on=="function")oe.once?A.once(q,ie):A.on(q,ie);else if(typeof A.addEventListener=="function")A.addEventListener(q,function ne(z){oe.once&&A.removeEventListener(q,ne),ie(z)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return Jf.exports}var Zf={exports:{}},dg;function Ec(){return dg||(dg=1,typeof Object.create=="function"?Zf.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Zf.exports=function(e,t){if(t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}}),Zf.exports}function Bb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var e5={exports:{}},Io=e5.exports={},Al,Nl;function X1(){throw new Error("setTimeout has not been defined")}function J1(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Al=setTimeout:Al=X1}catch{Al=X1}try{typeof clearTimeout=="function"?Nl=clearTimeout:Nl=J1}catch{Nl=J1}})();function t5(r){if(Al===setTimeout)return setTimeout(r,0);if((Al===X1||!Al)&&setTimeout)return Al=setTimeout,setTimeout(r,0);try{return Al(r,0)}catch{try{return Al.call(null,r,0)}catch{return Al.call(this,r,0)}}}function Mb(r){if(Nl===clearTimeout)return clearTimeout(r);if((Nl===J1||!Nl)&&clearTimeout)return Nl=clearTimeout,clearTimeout(r);try{return Nl(r)}catch{try{return Nl.call(null,r)}catch{return Nl.call(this,r)}}}var tc=[],Au=!1,Hc,_d=-1;function zb(){!Au||!Hc||(Au=!1,Hc.length?tc=Hc.concat(tc):_d=-1,tc.length&&n5())}function n5(){if(!Au){var r=t5(zb);Au=!0;for(var e=tc.length;e;){for(Hc=tc,tc=[];++_d<e;)Hc&&Hc[_d].run();_d=-1,e=tc.length}Hc=null,Au=!1,Mb(r)}}Io.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];tc.push(new r5(r,e)),tc.length===1&&!Au&&t5(n5)};function r5(r,e){this.fun=r,this.array=e}r5.prototype.run=function(){this.fun.apply(null,this.array)};Io.title="browser";Io.browser=!0;Io.env={};Io.argv=[];Io.version="";Io.versions={};function nc(){}Io.on=nc;Io.addListener=nc;Io.once=nc;Io.off=nc;Io.removeListener=nc;Io.removeAllListeners=nc;Io.emit=nc;Io.prependListener=nc;Io.prependOnceListener=nc;Io.listeners=function(r){return[]};Io.binding=function(r){throw new Error("process.binding is not supported")};Io.cwd=function(){return"/"};Io.chdir=function(r){throw new Error("process.chdir is not supported")};Io.umask=function(){return 0};var Ub=e5.exports;const Pr=Bb(Ub);var Dh,hg;function i5(){return hg||(hg=1,Dh=ym().EventEmitter),Dh}var Oh={},Qu={},pg;function $b(){if(pg)return Qu;pg=1,Qu.byteLength=l,Qu.toByteArray=d,Qu.fromByteArray=b;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],e[o.charCodeAt(a)]=a;e[45]=62,e[95]=63;function u(g){var j=g.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=g.indexOf("=");N===-1&&(N=j);var O=N===j?0:4-N%4;return[N,O]}function l(g){var j=u(g),N=j[0],O=j[1];return(N+O)*3/4-O}function f(g,j,N){return(j+N)*3/4-N}function d(g){var j,N=u(g),O=N[0],x=N[1],R=new t(f(g,O,x)),T=0,A=x>0?O-4:O,q;for(q=0;q<A;q+=4)j=e[g.charCodeAt(q)]<<18|e[g.charCodeAt(q+1)]<<12|e[g.charCodeAt(q+2)]<<6|e[g.charCodeAt(q+3)],R[T++]=j>>16&255,R[T++]=j>>8&255,R[T++]=j&255;return x===2&&(j=e[g.charCodeAt(q)]<<2|e[g.charCodeAt(q+1)]>>4,R[T++]=j&255),x===1&&(j=e[g.charCodeAt(q)]<<10|e[g.charCodeAt(q+1)]<<4|e[g.charCodeAt(q+2)]>>2,R[T++]=j>>8&255,R[T++]=j&255),R}function m(g){return r[g>>18&63]+r[g>>12&63]+r[g>>6&63]+r[g&63]}function k(g,j,N){for(var O,x=[],R=j;R<N;R+=3)O=(g[R]<<16&16711680)+(g[R+1]<<8&65280)+(g[R+2]&255),x.push(m(O));return x.join("")}function b(g){for(var j,N=g.length,O=N%3,x=[],R=16383,T=0,A=N-O;T<A;T+=R)x.push(k(g,T,T+R>A?A:T+R));return O===1?(j=g[N-1],x.push(r[j>>2]+r[j<<4&63]+"==")):O===2&&(j=(g[N-2]<<8)+g[N-1],x.push(r[j>>10]+r[j>>4&63]+r[j<<2&63]+"=")),x.join("")}return Qu}var Qf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var mg;function qb(){return mg||(mg=1,Qf.read=function(r,e,t,o,a){var s,u,l=a*8-o-1,f=(1<<l)-1,d=f>>1,m=-7,k=t?a-1:0,b=t?-1:1,g=r[e+k];for(k+=b,s=g&(1<<-m)-1,g>>=-m,m+=l;m>0;s=s*256+r[e+k],k+=b,m-=8);for(u=s&(1<<-m)-1,s>>=-m,m+=o;m>0;u=u*256+r[e+k],k+=b,m-=8);if(s===0)s=1-d;else{if(s===f)return u?NaN:(g?-1:1)*(1/0);u=u+Math.pow(2,o),s=s-d}return(g?-1:1)*u*Math.pow(2,s-o)},Qf.write=function(r,e,t,o,a,s){var u,l,f,d=s*8-a-1,m=(1<<d)-1,k=m>>1,b=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:s-1,j=o?1:-1,N=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,u=m):(u=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+k>=1?e+=b/f:e+=b*Math.pow(2,1-k),e*f>=2&&(u++,f/=2),u+k>=m?(l=0,u=m):u+k>=1?(l=(e*f-1)*Math.pow(2,a),u=u+k):(l=e*Math.pow(2,k-1)*Math.pow(2,a),u=0));a>=8;r[t+g]=l&255,g+=j,l/=256,a-=8);for(u=u<<a|l,d+=a;d>0;r[t+g]=u&255,g+=j,u/=256,d-=8);r[t+g-j]|=N*128}),Qf}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var gg;function Md(){return gg||(gg=1,(function(r){var e=$b(),t=qb(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=R,r.INSPECT_MAX_BYTES=50;var a=2147483647;r.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var V=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(V,S),V.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(V){if(V>a)throw new RangeError('The value "'+V+'" is invalid for option "size"');var S=new Uint8Array(V);return Object.setPrototypeOf(S,l.prototype),S}function l(V,S,C){if(typeof V=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(V)}return f(V,S,C)}l.poolSize=8192;function f(V,S,C){if(typeof V=="string")return b(V,S);if(ArrayBuffer.isView(V))return j(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(Oe(V,ArrayBuffer)||V&&Oe(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Oe(V,SharedArrayBuffer)||V&&Oe(V.buffer,SharedArrayBuffer)))return N(V,S,C);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=V.valueOf&&V.valueOf();if(U!=null&&U!==V)return l.from(U,S,C);var we=O(V);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return l.from(V[Symbol.toPrimitive]("string"),S,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}l.from=function(V,S,C){return f(V,S,C)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function m(V,S,C){return d(V),V<=0?u(V):S!==void 0?typeof C=="string"?u(V).fill(S,C):u(V).fill(S):u(V)}l.alloc=function(V,S,C){return m(V,S,C)};function k(V){return d(V),u(V<0?0:x(V)|0)}l.allocUnsafe=function(V){return k(V)},l.allocUnsafeSlow=function(V){return k(V)};function b(V,S){if((typeof S!="string"||S==="")&&(S="utf8"),!l.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var C=T(V,S)|0,U=u(C),we=U.write(V,S);return we!==C&&(U=U.slice(0,we)),U}function g(V){for(var S=V.length<0?0:x(V.length)|0,C=u(S),U=0;U<S;U+=1)C[U]=V[U]&255;return C}function j(V){if(Oe(V,Uint8Array)){var S=new Uint8Array(V);return N(S.buffer,S.byteOffset,S.byteLength)}return g(V)}function N(V,S,C){if(S<0||V.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<S+(C||0))throw new RangeError('"length" is outside of buffer bounds');var U;return S===void 0&&C===void 0?U=new Uint8Array(V):C===void 0?U=new Uint8Array(V,S):U=new Uint8Array(V,S,C),Object.setPrototypeOf(U,l.prototype),U}function O(V){if(l.isBuffer(V)){var S=x(V.length)|0,C=u(S);return C.length===0||V.copy(C,0,0,S),C}if(V.length!==void 0)return typeof V.length!="number"||W(V.length)?u(0):g(V);if(V.type==="Buffer"&&Array.isArray(V.data))return g(V.data)}function x(V){if(V>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return V|0}function R(V){return+V!=V&&(V=0),l.alloc(+V)}l.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==l.prototype},l.compare=function(S,C){if(Oe(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),Oe(C,Uint8Array)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(S)||!l.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===C)return 0;for(var U=S.length,we=C.length,Le=0,Ce=Math.min(U,we);Le<Ce;++Le)if(S[Le]!==C[Le]){U=S[Le],we=C[Le];break}return U<we?-1:we<U?1:0},l.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(S,C){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return l.alloc(0);var U;if(C===void 0)for(C=0,U=0;U<S.length;++U)C+=S[U].length;var we=l.allocUnsafe(C),Le=0;for(U=0;U<S.length;++U){var Ce=S[U];if(Oe(Ce,Uint8Array))Le+Ce.length>we.length?l.from(Ce).copy(we,Le):Uint8Array.prototype.set.call(we,Ce,Le);else if(l.isBuffer(Ce))Ce.copy(we,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=Ce.length}return we};function T(V,S){if(l.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||Oe(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var C=V.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&C===0)return 0;for(var we=!1;;)switch(S){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return M(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return te(V).length;default:if(we)return U?-1:M(V).length;S=(""+S).toLowerCase(),we=!0}}l.byteLength=T;function A(V,S,C){var U=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,S>>>=0,C<=S))return"";for(V||(V="utf8");;)switch(V){case"hex":return Se(this,S,C);case"utf8":case"utf-8":return P(this,S,C);case"ascii":return pe(this,S,C);case"latin1":case"binary":return xe(this,S,C);case"base64":return J(this,S,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,S,C);default:if(U)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),U=!0}}l.prototype._isBuffer=!0;function q(V,S,C){var U=V[S];V[S]=V[C],V[C]=U}l.prototype.swap16=function(){var S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<S;C+=2)q(this,C,C+1);return this},l.prototype.swap32=function(){var S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<S;C+=4)q(this,C,C+3),q(this,C+1,C+2);return this},l.prototype.swap64=function(){var S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<S;C+=8)q(this,C,C+7),q(this,C+1,C+6),q(this,C+2,C+5),q(this,C+3,C+4);return this},l.prototype.toString=function(){var S=this.length;return S===0?"":arguments.length===0?P(this,0,S):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(S){if(!l.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:l.compare(this,S)===0},l.prototype.inspect=function(){var S="",C=r.INSPECT_MAX_BYTES;return S=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(S+=" ... "),"<Buffer "+S+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(S,C,U,we,Le){if(Oe(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(C===void 0&&(C=0),U===void 0&&(U=S?S.length:0),we===void 0&&(we=0),Le===void 0&&(Le=this.length),C<0||U>S.length||we<0||Le>this.length)throw new RangeError("out of range index");if(we>=Le&&C>=U)return 0;if(we>=Le)return-1;if(C>=U)return 1;if(C>>>=0,U>>>=0,we>>>=0,Le>>>=0,this===S)return 0;for(var Ce=Le-we,He=U-C,at=Math.min(Ce,He),Je=this.slice(we,Le),ht=S.slice(C,U),Ct=0;Ct<at;++Ct)if(Je[Ct]!==ht[Ct]){Ce=Je[Ct],He=ht[Ct];break}return Ce<He?-1:He<Ce?1:0};function ie(V,S,C,U,we){if(V.length===0)return-1;if(typeof C=="string"?(U=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,W(C)&&(C=we?0:V.length-1),C<0&&(C=V.length+C),C>=V.length){if(we)return-1;C=V.length-1}else if(C<0)if(we)C=0;else return-1;if(typeof S=="string"&&(S=l.from(S,U)),l.isBuffer(S))return S.length===0?-1:oe(V,S,C,U,we);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(V,S,C):Uint8Array.prototype.lastIndexOf.call(V,S,C):oe(V,[S],C,U,we);throw new TypeError("val must be string, number or Buffer")}function oe(V,S,C,U,we){var Le=1,Ce=V.length,He=S.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(V.length<2||S.length<2)return-1;Le=2,Ce/=2,He/=2,C/=2}function at(Jt,Zt){return Le===1?Jt[Zt]:Jt.readUInt16BE(Zt*Le)}var Je;if(we){var ht=-1;for(Je=C;Je<Ce;Je++)if(at(V,Je)===at(S,ht===-1?0:Je-ht)){if(ht===-1&&(ht=Je),Je-ht+1===He)return ht*Le}else ht!==-1&&(Je-=Je-ht),ht=-1}else for(C+He>Ce&&(C=Ce-He),Je=C;Je>=0;Je--){for(var Ct=!0,$t=0;$t<He;$t++)if(at(V,Je+$t)!==at(S,$t)){Ct=!1;break}if(Ct)return Je}return-1}l.prototype.includes=function(S,C,U){return this.indexOf(S,C,U)!==-1},l.prototype.indexOf=function(S,C,U){return ie(this,S,C,U,!0)},l.prototype.lastIndexOf=function(S,C,U){return ie(this,S,C,U,!1)};function ne(V,S,C,U){C=Number(C)||0;var we=V.length-C;U?(U=Number(U),U>we&&(U=we)):U=we;var Le=S.length;U>Le/2&&(U=Le/2);for(var Ce=0;Ce<U;++Ce){var He=parseInt(S.substr(Ce*2,2),16);if(W(He))return Ce;V[C+Ce]=He}return Ce}function z(V,S,C,U){return fe(M(S,V.length-C),V,C,U)}function le(V,S,C,U){return fe(de(S),V,C,U)}function re(V,S,C,U){return fe(te(S),V,C,U)}function F(V,S,C,U){return fe(ce(S,V.length-C),V,C,U)}l.prototype.write=function(S,C,U,we){if(C===void 0)we="utf8",U=this.length,C=0;else if(U===void 0&&typeof C=="string")we=C,U=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(U)?(U=U>>>0,we===void 0&&(we="utf8")):(we=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Le=this.length-C;if((U===void 0||U>Le)&&(U=Le),S.length>0&&(U<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");for(var Ce=!1;;)switch(we){case"hex":return ne(this,S,C,U);case"utf8":case"utf-8":return z(this,S,C,U);case"ascii":case"latin1":case"binary":return le(this,S,C,U);case"base64":return re(this,S,C,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,S,C,U);default:if(Ce)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Ce=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(V,S,C){return S===0&&C===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(S,C))}function P(V,S,C){C=Math.min(V.length,C);for(var U=[],we=S;we<C;){var Le=V[we],Ce=null,He=Le>239?4:Le>223?3:Le>191?2:1;if(we+He<=C){var at,Je,ht,Ct;switch(He){case 1:Le<128&&(Ce=Le);break;case 2:at=V[we+1],(at&192)===128&&(Ct=(Le&31)<<6|at&63,Ct>127&&(Ce=Ct));break;case 3:at=V[we+1],Je=V[we+2],(at&192)===128&&(Je&192)===128&&(Ct=(Le&15)<<12|(at&63)<<6|Je&63,Ct>2047&&(Ct<55296||Ct>57343)&&(Ce=Ct));break;case 4:at=V[we+1],Je=V[we+2],ht=V[we+3],(at&192)===128&&(Je&192)===128&&(ht&192)===128&&(Ct=(Le&15)<<18|(at&63)<<12|(Je&63)<<6|ht&63,Ct>65535&&Ct<1114112&&(Ce=Ct))}}Ce===null?(Ce=65533,He=1):Ce>65535&&(Ce-=65536,U.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),U.push(Ce),we+=He}return Ee(U)}var be=4096;function Ee(V){var S=V.length;if(S<=be)return String.fromCharCode.apply(String,V);for(var C="",U=0;U<S;)C+=String.fromCharCode.apply(String,V.slice(U,U+=be));return C}function pe(V,S,C){var U="";C=Math.min(V.length,C);for(var we=S;we<C;++we)U+=String.fromCharCode(V[we]&127);return U}function xe(V,S,C){var U="";C=Math.min(V.length,C);for(var we=S;we<C;++we)U+=String.fromCharCode(V[we]);return U}function Se(V,S,C){var U=V.length;(!S||S<0)&&(S=0),(!C||C<0||C>U)&&(C=U);for(var we="",Le=S;Le<C;++Le)we+=ee[V[Le]];return we}function De(V,S,C){for(var U=V.slice(S,C),we="",Le=0;Le<U.length-1;Le+=2)we+=String.fromCharCode(U[Le]+U[Le+1]*256);return we}l.prototype.slice=function(S,C){var U=this.length;S=~~S,C=C===void 0?U:~~C,S<0?(S+=U,S<0&&(S=0)):S>U&&(S=U),C<0?(C+=U,C<0&&(C=0)):C>U&&(C=U),C<S&&(C=S);var we=this.subarray(S,C);return Object.setPrototypeOf(we,l.prototype),we};function X(V,S,C){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+S>C)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(S,C,U){S=S>>>0,C=C>>>0,U||X(S,C,this.length);for(var we=this[S],Le=1,Ce=0;++Ce<C&&(Le*=256);)we+=this[S+Ce]*Le;return we},l.prototype.readUintBE=l.prototype.readUIntBE=function(S,C,U){S=S>>>0,C=C>>>0,U||X(S,C,this.length);for(var we=this[S+--C],Le=1;C>0&&(Le*=256);)we+=this[S+--C]*Le;return we},l.prototype.readUint8=l.prototype.readUInt8=function(S,C){return S=S>>>0,C||X(S,1,this.length),this[S]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(S,C){return S=S>>>0,C||X(S,2,this.length),this[S]|this[S+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(S,C){return S=S>>>0,C||X(S,2,this.length),this[S]<<8|this[S+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(S,C){return S=S>>>0,C||X(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(S,C){return S=S>>>0,C||X(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},l.prototype.readIntLE=function(S,C,U){S=S>>>0,C=C>>>0,U||X(S,C,this.length);for(var we=this[S],Le=1,Ce=0;++Ce<C&&(Le*=256);)we+=this[S+Ce]*Le;return Le*=128,we>=Le&&(we-=Math.pow(2,8*C)),we},l.prototype.readIntBE=function(S,C,U){S=S>>>0,C=C>>>0,U||X(S,C,this.length);for(var we=C,Le=1,Ce=this[S+--we];we>0&&(Le*=256);)Ce+=this[S+--we]*Le;return Le*=128,Ce>=Le&&(Ce-=Math.pow(2,8*C)),Ce},l.prototype.readInt8=function(S,C){return S=S>>>0,C||X(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},l.prototype.readInt16LE=function(S,C){S=S>>>0,C||X(S,2,this.length);var U=this[S]|this[S+1]<<8;return U&32768?U|4294901760:U},l.prototype.readInt16BE=function(S,C){S=S>>>0,C||X(S,2,this.length);var U=this[S+1]|this[S]<<8;return U&32768?U|4294901760:U},l.prototype.readInt32LE=function(S,C){return S=S>>>0,C||X(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},l.prototype.readInt32BE=function(S,C){return S=S>>>0,C||X(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},l.prototype.readFloatLE=function(S,C){return S=S>>>0,C||X(S,4,this.length),t.read(this,S,!0,23,4)},l.prototype.readFloatBE=function(S,C){return S=S>>>0,C||X(S,4,this.length),t.read(this,S,!1,23,4)},l.prototype.readDoubleLE=function(S,C){return S=S>>>0,C||X(S,8,this.length),t.read(this,S,!0,52,8)},l.prototype.readDoubleBE=function(S,C){return S=S>>>0,C||X(S,8,this.length),t.read(this,S,!1,52,8)};function E(V,S,C,U,we,Le){if(!l.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>we||S<Le)throw new RangeError('"value" argument is out of bounds');if(C+U>V.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(S,C,U,we){if(S=+S,C=C>>>0,U=U>>>0,!we){var Le=Math.pow(2,8*U)-1;E(this,S,C,U,Le,0)}var Ce=1,He=0;for(this[C]=S&255;++He<U&&(Ce*=256);)this[C+He]=S/Ce&255;return C+U},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(S,C,U,we){if(S=+S,C=C>>>0,U=U>>>0,!we){var Le=Math.pow(2,8*U)-1;E(this,S,C,U,Le,0)}var Ce=U-1,He=1;for(this[C+Ce]=S&255;--Ce>=0&&(He*=256);)this[C+Ce]=S/He&255;return C+U},l.prototype.writeUint8=l.prototype.writeUInt8=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,1,255,0),this[C]=S&255,C+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,2,65535,0),this[C]=S&255,this[C+1]=S>>>8,C+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,2,65535,0),this[C]=S>>>8,this[C+1]=S&255,C+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,4,4294967295,0),this[C+3]=S>>>24,this[C+2]=S>>>16,this[C+1]=S>>>8,this[C]=S&255,C+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,4,4294967295,0),this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=S&255,C+4},l.prototype.writeIntLE=function(S,C,U,we){if(S=+S,C=C>>>0,!we){var Le=Math.pow(2,8*U-1);E(this,S,C,U,Le-1,-Le)}var Ce=0,He=1,at=0;for(this[C]=S&255;++Ce<U&&(He*=256);)S<0&&at===0&&this[C+Ce-1]!==0&&(at=1),this[C+Ce]=(S/He>>0)-at&255;return C+U},l.prototype.writeIntBE=function(S,C,U,we){if(S=+S,C=C>>>0,!we){var Le=Math.pow(2,8*U-1);E(this,S,C,U,Le-1,-Le)}var Ce=U-1,He=1,at=0;for(this[C+Ce]=S&255;--Ce>=0&&(He*=256);)S<0&&at===0&&this[C+Ce+1]!==0&&(at=1),this[C+Ce]=(S/He>>0)-at&255;return C+U},l.prototype.writeInt8=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,1,127,-128),S<0&&(S=255+S+1),this[C]=S&255,C+1},l.prototype.writeInt16LE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,2,32767,-32768),this[C]=S&255,this[C+1]=S>>>8,C+2},l.prototype.writeInt16BE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,2,32767,-32768),this[C]=S>>>8,this[C+1]=S&255,C+2},l.prototype.writeInt32LE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,4,2147483647,-2147483648),this[C]=S&255,this[C+1]=S>>>8,this[C+2]=S>>>16,this[C+3]=S>>>24,C+4},l.prototype.writeInt32BE=function(S,C,U){return S=+S,C=C>>>0,U||E(this,S,C,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=S&255,C+4};function Y(V,S,C,U,we,Le){if(C+U>V.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function Q(V,S,C,U,we){return S=+S,C=C>>>0,we||Y(V,S,C,4),t.write(V,S,C,U,23,4),C+4}l.prototype.writeFloatLE=function(S,C,U){return Q(this,S,C,!0,U)},l.prototype.writeFloatBE=function(S,C,U){return Q(this,S,C,!1,U)};function me(V,S,C,U,we){return S=+S,C=C>>>0,we||Y(V,S,C,8),t.write(V,S,C,U,52,8),C+8}l.prototype.writeDoubleLE=function(S,C,U){return me(this,S,C,!0,U)},l.prototype.writeDoubleBE=function(S,C,U){return me(this,S,C,!1,U)},l.prototype.copy=function(S,C,U,we){if(!l.isBuffer(S))throw new TypeError("argument should be a Buffer");if(U||(U=0),!we&&we!==0&&(we=this.length),C>=S.length&&(C=S.length),C||(C=0),we>0&&we<U&&(we=U),we===U||S.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),S.length-C<we-U&&(we=S.length-C+U);var Le=we-U;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,U,we):Uint8Array.prototype.set.call(S,this.subarray(U,we),C),Le},l.prototype.fill=function(S,C,U,we){if(typeof S=="string"){if(typeof C=="string"?(we=C,C=0,U=this.length):typeof U=="string"&&(we=U,U=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!l.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(S.length===1){var Le=S.charCodeAt(0);(we==="utf8"&&Le<128||we==="latin1")&&(S=Le)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(C<0||this.length<C||this.length<U)throw new RangeError("Out of range index");if(U<=C)return this;C=C>>>0,U=U===void 0?this.length:U>>>0,S||(S=0);var Ce;if(typeof S=="number")for(Ce=C;Ce<U;++Ce)this[Ce]=S;else{var He=l.isBuffer(S)?S:l.from(S,we),at=He.length;if(at===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(Ce=0;Ce<U-C;++Ce)this[Ce+C]=He[Ce%at]}return this};var ae=/[^+/0-9A-Za-z-_]/g;function B(V){if(V=V.split("=")[0],V=V.trim().replace(ae,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function M(V,S){S=S||1/0;for(var C,U=V.length,we=null,Le=[],Ce=0;Ce<U;++Ce){if(C=V.charCodeAt(Ce),C>55295&&C<57344){if(!we){if(C>56319){(S-=3)>-1&&Le.push(239,191,189);continue}else if(Ce+1===U){(S-=3)>-1&&Le.push(239,191,189);continue}we=C;continue}if(C<56320){(S-=3)>-1&&Le.push(239,191,189),we=C;continue}C=(we-55296<<10|C-56320)+65536}else we&&(S-=3)>-1&&Le.push(239,191,189);if(we=null,C<128){if((S-=1)<0)break;Le.push(C)}else if(C<2048){if((S-=2)<0)break;Le.push(C>>6|192,C&63|128)}else if(C<65536){if((S-=3)<0)break;Le.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((S-=4)<0)break;Le.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return Le}function de(V){for(var S=[],C=0;C<V.length;++C)S.push(V.charCodeAt(C)&255);return S}function ce(V,S){for(var C,U,we,Le=[],Ce=0;Ce<V.length&&!((S-=2)<0);++Ce)C=V.charCodeAt(Ce),U=C>>8,we=C%256,Le.push(we),Le.push(U);return Le}function te(V){return e.toByteArray(B(V))}function fe(V,S,C,U){for(var we=0;we<U&&!(we+C>=S.length||we>=V.length);++we)S[we+C]=V[we];return we}function Oe(V,S){return V instanceof S||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===S.name}function W(V){return V!==V}var ee=(function(){for(var V="0123456789abcdef",S=new Array(256),C=0;C<16;++C)for(var U=C*16,we=0;we<16;++we)S[U+we]=V[C]+V[we];return S})()})(Oh)),Oh}var Fh={},Bh={},Mh,yg;function o5(){return yg||(yg=1,Mh=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),o=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;e[t]=a;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==a||l.enumerable!==!0)return!1}return!0}),Mh}var zh,vg;function vm(){if(vg)return zh;vg=1;var r=o5();return zh=function(){return r()&&!!Symbol.toStringTag},zh}var Uh,wg;function s5(){return wg||(wg=1,Uh=Object),Uh}var $h,xg;function Wb(){return xg||(xg=1,$h=Error),$h}var qh,bg;function Hb(){return bg||(bg=1,qh=EvalError),qh}var Wh,_g;function Gb(){return _g||(_g=1,Wh=RangeError),Wh}var Hh,Sg;function Vb(){return Sg||(Sg=1,Hh=ReferenceError),Hh}var Gh,kg;function a5(){return kg||(kg=1,Gh=SyntaxError),Gh}var Vh,Ag;function wf(){return Ag||(Ag=1,Vh=TypeError),Vh}var Kh,Ng;function Kb(){return Ng||(Ng=1,Kh=URIError),Kh}var Yh,Eg;function Yb(){return Eg||(Eg=1,Yh=Math.abs),Yh}var Xh,Cg;function Xb(){return Cg||(Cg=1,Xh=Math.floor),Xh}var Jh,Tg;function Jb(){return Tg||(Tg=1,Jh=Math.max),Jh}var Zh,Lg;function Zb(){return Lg||(Lg=1,Zh=Math.min),Zh}var Qh,jg;function Qb(){return jg||(jg=1,Qh=Math.pow),Qh}var ep,Ig;function e4(){return Ig||(Ig=1,ep=Math.round),ep}var tp,Pg;function t4(){return Pg||(Pg=1,tp=Number.isNaN||function(e){return e!==e}),tp}var np,Rg;function n4(){if(Rg)return np;Rg=1;var r=t4();return np=function(t){return r(t)||t===0?t:t<0?-1:1},np}var rp,Dg;function r4(){return Dg||(Dg=1,rp=Object.getOwnPropertyDescriptor),rp}var ip,Og;function xf(){if(Og)return ip;Og=1;var r=r4();if(r)try{r([],"length")}catch{r=null}return ip=r,ip}var op,Fg;function zd(){if(Fg)return op;Fg=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return op=r,op}var sp,Bg;function i4(){if(Bg)return sp;Bg=1;var r=typeof Symbol<"u"&&Symbol,e=o5();return sp=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},sp}var ap,Mg;function l5(){return Mg||(Mg=1,ap=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),ap}var lp,zg;function c5(){if(zg)return lp;zg=1;var r=s5();return lp=r.getPrototypeOf||null,lp}var cp,Ug;function o4(){if(Ug)return cp;Ug=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,o="[object Function]",a=function(f,d){for(var m=[],k=0;k<f.length;k+=1)m[k]=f[k];for(var b=0;b<d.length;b+=1)m[b+f.length]=d[b];return m},s=function(f,d){for(var m=[],k=d,b=0;k<f.length;k+=1,b+=1)m[b]=f[k];return m},u=function(l,f){for(var d="",m=0;m<l.length;m+=1)d+=l[m],m+1<l.length&&(d+=f);return d};return cp=function(f){var d=this;if(typeof d!="function"||e.apply(d)!==o)throw new TypeError(r+d);for(var m=s(arguments,1),k,b=function(){if(this instanceof k){var x=d.apply(this,a(m,arguments));return Object(x)===x?x:this}return d.apply(f,a(m,arguments))},g=t(0,d.length-m.length),j=[],N=0;N<g;N++)j[N]="$"+N;if(k=Function("binder","return function ("+u(j,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var O=function(){};O.prototype=d.prototype,k.prototype=new O,O.prototype=null}return k},cp}var up,$g;function bf(){if($g)return up;$g=1;var r=o4();return up=Function.prototype.bind||r,up}var fp,qg;function wm(){return qg||(qg=1,fp=Function.prototype.call),fp}var dp,Wg;function u5(){return Wg||(Wg=1,dp=Function.prototype.apply),dp}var hp,Hg;function s4(){return Hg||(Hg=1,hp=typeof Reflect<"u"&&Reflect&&Reflect.apply),hp}var pp,Gg;function a4(){if(Gg)return pp;Gg=1;var r=bf(),e=u5(),t=wm(),o=s4();return pp=o||r.call(t,e),pp}var mp,Vg;function l4(){if(Vg)return mp;Vg=1;var r=bf(),e=wf(),t=wm(),o=a4();return mp=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return o(r,t,s)},mp}var gp,Kg;function c4(){if(Kg)return gp;Kg=1;var r=l4(),e=xf(),t;try{t=[].__proto__===Array.prototype}catch(u){if(!u||typeof u!="object"||!("code"in u)||u.code!=="ERR_PROTO_ACCESS")throw u}var o=!!t&&e&&e(Object.prototype,"__proto__"),a=Object,s=a.getPrototypeOf;return gp=o&&typeof o.get=="function"?r([o.get]):typeof s=="function"?(function(l){return s(l==null?l:a(l))}):!1,gp}var yp,Yg;function u4(){if(Yg)return yp;Yg=1;var r=l5(),e=c5(),t=c4();return yp=r?function(a){return r(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:t?function(a){return t(a)}:null,yp}var vp,Xg;function f4(){if(Xg)return vp;Xg=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=bf();return vp=t.call(r,e),vp}var wp,Jg;function xm(){if(Jg)return wp;Jg=1;var r,e=s5(),t=Wb(),o=Hb(),a=Gb(),s=Vb(),u=a5(),l=wf(),f=Kb(),d=Yb(),m=Xb(),k=Jb(),b=Zb(),g=Qb(),j=e4(),N=n4(),O=Function,x=function(de){try{return O('"use strict"; return ('+de+").constructor;")()}catch{}},R=xf(),T=zd(),A=function(){throw new l},q=R?(function(){try{return arguments.callee,A}catch{try{return R(arguments,"callee").get}catch{return A}}})():A,ie=i4()(),oe=u4(),ne=c5(),z=l5(),le=u5(),re=wm(),F={},J=typeof Uint8Array>"u"||!oe?r:oe(Uint8Array),P={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":ie&&oe?oe([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":F,"%AsyncGenerator%":F,"%AsyncGeneratorFunction%":F,"%AsyncIteratorPrototype%":F,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":o,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":F,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ie&&oe?oe(oe([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ie||!oe?r:oe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":R,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ie||!oe?r:oe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ie&&oe?oe(""[Symbol.iterator]()):r,"%Symbol%":ie?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":q,"%TypedArray%":J,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":le,"%Object.defineProperty%":T,"%Object.getPrototypeOf%":ne,"%Math.abs%":d,"%Math.floor%":m,"%Math.max%":k,"%Math.min%":b,"%Math.pow%":g,"%Math.round%":j,"%Math.sign%":N,"%Reflect.getPrototypeOf%":z};if(oe)try{null.error}catch(de){var be=oe(oe(de));P["%Error.prototype%"]=be}var Ee=function de(ce){var te;if(ce==="%AsyncFunction%")te=x("async function () {}");else if(ce==="%GeneratorFunction%")te=x("function* () {}");else if(ce==="%AsyncGeneratorFunction%")te=x("async function* () {}");else if(ce==="%AsyncGenerator%"){var fe=de("%AsyncGeneratorFunction%");fe&&(te=fe.prototype)}else if(ce==="%AsyncIteratorPrototype%"){var Oe=de("%AsyncGenerator%");Oe&&oe&&(te=oe(Oe.prototype))}return P[ce]=te,te},pe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=bf(),Se=f4(),De=xe.call(re,Array.prototype.concat),X=xe.call(le,Array.prototype.splice),E=xe.call(re,String.prototype.replace),Y=xe.call(re,String.prototype.slice),Q=xe.call(re,RegExp.prototype.exec),me=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ae=/\\(\\)?/g,B=function(ce){var te=Y(ce,0,1),fe=Y(ce,-1);if(te==="%"&&fe!=="%")throw new u("invalid intrinsic syntax, expected closing `%`");if(fe==="%"&&te!=="%")throw new u("invalid intrinsic syntax, expected opening `%`");var Oe=[];return E(ce,me,function(W,ee,V,S){Oe[Oe.length]=V?E(S,ae,"$1"):ee||W}),Oe},M=function(ce,te){var fe=ce,Oe;if(Se(pe,fe)&&(Oe=pe[fe],fe="%"+Oe[0]+"%"),Se(P,fe)){var W=P[fe];if(W===F&&(W=Ee(fe)),typeof W>"u"&&!te)throw new l("intrinsic "+ce+" exists, but is not available. Please file an issue!");return{alias:Oe,name:fe,value:W}}throw new u("intrinsic "+ce+" does not exist!")};return wp=function(ce,te){if(typeof ce!="string"||ce.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof te!="boolean")throw new l('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,ce)===null)throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var fe=B(ce),Oe=fe.length>0?fe[0]:"",W=M("%"+Oe+"%",te),ee=W.name,V=W.value,S=!1,C=W.alias;C&&(Oe=C[0],X(fe,De([0,1],C)));for(var U=1,we=!0;U<fe.length;U+=1){var Le=fe[U],Ce=Y(Le,0,1),He=Y(Le,-1);if((Ce==='"'||Ce==="'"||Ce==="`"||He==='"'||He==="'"||He==="`")&&Ce!==He)throw new u("property names with quotes must have matching quotes");if((Le==="constructor"||!we)&&(S=!0),Oe+="."+Le,ee="%"+Oe+"%",Se(P,ee))V=P[ee];else if(V!=null){if(!(Le in V)){if(!te)throw new l("base intrinsic for "+ce+" exists, but the property is not available.");return}if(R&&U+1>=fe.length){var at=R(V,Le);we=!!at,we&&"get"in at&&!("originalValue"in at.get)?V=at.get:V=V[Le]}else we=Se(V,Le),V=V[Le];we&&!S&&(P[ee]=V)}}return V},wp}var xp={exports:{}},bp,Zg;function d4(){if(Zg)return bp;Zg=1;var r=zd(),e=a5(),t=wf(),o=xf();return bp=function(s,u,l){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof u!="string"&&typeof u!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var f=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,m=arguments.length>5?arguments[5]:null,k=arguments.length>6?arguments[6]:!1,b=!!o&&o(s,u);if(r)r(s,u,{configurable:m===null&&b?b.configurable:!m,enumerable:f===null&&b?b.enumerable:!f,value:l,writable:d===null&&b?b.writable:!d});else if(k||!f&&!d&&!m)s[u]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},bp}var _p,Qg;function h4(){if(Qg)return _p;Qg=1;var r=zd(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},_p=e,_p}var Sp,ey;function p4(){if(ey)return Sp;ey=1;var r=xm(),e=d4(),t=h4()(),o=xf(),a=wf(),s=r("%Math.floor%");return Sp=function(l,f){if(typeof l!="function")throw new a("`fn` is not a function");if(typeof f!="number"||f<0||f>4294967295||s(f)!==f)throw new a("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],m=!0,k=!0;if("length"in l&&o){var b=o(l,"length");b&&!b.configurable&&(m=!1),b&&!b.writable&&(k=!1)}return(m||k||!d)&&(t?e(l,"length",f,!0,!0):e(l,"length",f)),l},Sp}var ty;function f5(){return ty||(ty=1,(function(r){var e=bf(),t=xm(),o=p4(),a=wf(),s=t("%Function.prototype.apply%"),u=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(u,s),f=zd(),d=t("%Math.max%");r.exports=function(b){if(typeof b!="function")throw new a("a function is required");var g=l(e,u,arguments);return o(g,1+d(0,b.length-(arguments.length-1)),!0)};var m=function(){return l(e,s,arguments)};f?f(r.exports,"apply",{value:m}):r.exports.apply=m})(xp)),xp.exports}var kp,ny;function d5(){if(ny)return kp;ny=1;var r=xm(),e=f5(),t=e(r("String.prototype.indexOf"));return kp=function(a,s){var u=r(a,!!s);return typeof u=="function"&&t(a,".prototype.")>-1?e(u):u},kp}var Ap,ry;function m4(){if(ry)return Ap;ry=1;var r=vm()(),e=d5(),t=e("Object.prototype.toString"),o=function(l){return r&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},a=function(l){return o(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},s=(function(){return o(arguments)})();return o.isLegacyArguments=a,Ap=s?o:a,Ap}var Np,iy;function g4(){if(iy)return Np;iy=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,o=vm()(),a=Object.getPrototypeOf,s=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},u;return Np=function(f){if(typeof f!="function")return!1;if(t.test(e.call(f)))return!0;if(!o){var d=r.call(f);return d==="[object GeneratorFunction]"}if(!a)return!1;if(typeof u>"u"){var m=s();u=m?a(m):!1}return a(f)===u},Np}var Ep,oy;function y4(){if(oy)return Ep;oy=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,t)}catch(R){R!==o&&(e=null)}else e=null;var a=/^\s*class\b/,s=function(T){try{var A=r.call(T);return a.test(A)}catch{return!1}},u=function(T){try{return s(T)?!1:(r.call(T),!0)}catch{return!1}},l=Object.prototype.toString,f="[object Object]",d="[object Function]",m="[object GeneratorFunction]",k="[object HTMLAllCollection]",b="[object HTML document.all class]",g="[object HTMLCollection]",j=typeof Symbol=="function"&&!!Symbol.toStringTag,N=!(0 in[,]),O=function(){return!1};if(typeof document=="object"){var x=document.all;l.call(x)===l.call(document.all)&&(O=function(T){if((N||!T)&&(typeof T>"u"||typeof T=="object"))try{var A=l.call(T);return(A===k||A===b||A===g||A===f)&&T("")==null}catch{}return!1})}return Ep=e?function(T){if(O(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;try{e(T,null,t)}catch(A){if(A!==o)return!1}return!s(T)&&u(T)}:function(T){if(O(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;if(j)return u(T);if(s(T))return!1;var A=l.call(T);return A!==d&&A!==m&&!/^\[object HTML/.test(A)?!1:u(T)},Ep}var Cp,sy;function v4(){if(sy)return Cp;sy=1;var r=y4(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,o=function(f,d,m){for(var k=0,b=f.length;k<b;k++)t.call(f,k)&&(m==null?d(f[k],k,f):d.call(m,f[k],k,f))},a=function(f,d,m){for(var k=0,b=f.length;k<b;k++)m==null?d(f.charAt(k),k,f):d.call(m,f.charAt(k),k,f)},s=function(f,d,m){for(var k in f)t.call(f,k)&&(m==null?d(f[k],k,f):d.call(m,f[k],k,f))},u=function(f,d,m){if(!r(d))throw new TypeError("iterator must be a function");var k;arguments.length>=3&&(k=m),e.call(f)==="[object Array]"?o(f,d,k):typeof f=="string"?a(f,d,k):s(f,d,k)};return Cp=u,Cp}var Tp,ay;function w4(){return ay||(ay=1,Tp=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Tp}var Lp,ly;function x4(){if(ly)return Lp;ly=1;var r=w4(),e=typeof globalThis>"u"?El:globalThis;return Lp=function(){for(var o=[],a=0;a<r.length;a++)typeof e[r[a]]=="function"&&(o[o.length]=r[a]);return o},Lp}var jp,cy;function h5(){if(cy)return jp;cy=1;var r=v4(),e=x4(),t=f5(),o=d5(),a=xf(),s=o("Object.prototype.toString"),u=vm()(),l=typeof globalThis>"u"?El:globalThis,f=e(),d=o("String.prototype.slice"),m=Object.getPrototypeOf,k=o("Array.prototype.indexOf",!0)||function(O,x){for(var R=0;R<O.length;R+=1)if(O[R]===x)return R;return-1},b={__proto__:null};u&&a&&m?r(f,function(N){var O=new l[N];if(Symbol.toStringTag in O){var x=m(O),R=a(x,Symbol.toStringTag);if(!R){var T=m(x);R=a(T,Symbol.toStringTag)}b["$"+N]=t(R.get)}}):r(f,function(N){var O=new l[N],x=O.slice||O.set;x&&(b["$"+N]=t(x))});var g=function(O){var x=!1;return r(b,function(R,T){if(!x)try{"$"+R(O)===T&&(x=d(T,1))}catch{}}),x},j=function(O){var x=!1;return r(b,function(R,T){if(!x)try{R(O),x=d(T,1)}catch{}}),x};return jp=function(O){if(!O||typeof O!="object")return!1;if(!u){var x=d(s(O),8,-1);return k(f,x)>-1?x:x!=="Object"?!1:j(O)}return a?g(O):null},jp}var Ip,uy;function b4(){if(uy)return Ip;uy=1;var r=h5();return Ip=function(t){return!!r(t)},Ip}var fy;function _4(){return fy||(fy=1,(function(r){var e=m4(),t=g4(),o=h5(),a=b4();function s(U){return U.call.bind(U)}var u=typeof BigInt<"u",l=typeof Symbol<"u",f=s(Object.prototype.toString),d=s(Number.prototype.valueOf),m=s(String.prototype.valueOf),k=s(Boolean.prototype.valueOf);if(u)var b=s(BigInt.prototype.valueOf);if(l)var g=s(Symbol.prototype.valueOf);function j(U,we){if(typeof U!="object")return!1;try{return we(U),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=a;function N(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}r.isPromise=N;function O(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):a(U)||Y(U)}r.isArrayBufferView=O;function x(U){return o(U)==="Uint8Array"}r.isUint8Array=x;function R(U){return o(U)==="Uint8ClampedArray"}r.isUint8ClampedArray=R;function T(U){return o(U)==="Uint16Array"}r.isUint16Array=T;function A(U){return o(U)==="Uint32Array"}r.isUint32Array=A;function q(U){return o(U)==="Int8Array"}r.isInt8Array=q;function ie(U){return o(U)==="Int16Array"}r.isInt16Array=ie;function oe(U){return o(U)==="Int32Array"}r.isInt32Array=oe;function ne(U){return o(U)==="Float32Array"}r.isFloat32Array=ne;function z(U){return o(U)==="Float64Array"}r.isFloat64Array=z;function le(U){return o(U)==="BigInt64Array"}r.isBigInt64Array=le;function re(U){return o(U)==="BigUint64Array"}r.isBigUint64Array=re;function F(U){return f(U)==="[object Map]"}F.working=typeof Map<"u"&&F(new Map);function J(U){return typeof Map>"u"?!1:F.working?F(U):U instanceof Map}r.isMap=J;function P(U){return f(U)==="[object Set]"}P.working=typeof Set<"u"&&P(new Set);function be(U){return typeof Set>"u"?!1:P.working?P(U):U instanceof Set}r.isSet=be;function Ee(U){return f(U)==="[object WeakMap]"}Ee.working=typeof WeakMap<"u"&&Ee(new WeakMap);function pe(U){return typeof WeakMap>"u"?!1:Ee.working?Ee(U):U instanceof WeakMap}r.isWeakMap=pe;function xe(U){return f(U)==="[object WeakSet]"}xe.working=typeof WeakSet<"u"&&xe(new WeakSet);function Se(U){return xe(U)}r.isWeakSet=Se;function De(U){return f(U)==="[object ArrayBuffer]"}De.working=typeof ArrayBuffer<"u"&&De(new ArrayBuffer);function X(U){return typeof ArrayBuffer>"u"?!1:De.working?De(U):U instanceof ArrayBuffer}r.isArrayBuffer=X;function E(U){return f(U)==="[object DataView]"}E.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&E(new DataView(new ArrayBuffer(1),0,1));function Y(U){return typeof DataView>"u"?!1:E.working?E(U):U instanceof DataView}r.isDataView=Y;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function me(U){return f(U)==="[object SharedArrayBuffer]"}function ae(U){return typeof Q>"u"?!1:(typeof me.working>"u"&&(me.working=me(new Q)),me.working?me(U):U instanceof Q)}r.isSharedArrayBuffer=ae;function B(U){return f(U)==="[object AsyncFunction]"}r.isAsyncFunction=B;function M(U){return f(U)==="[object Map Iterator]"}r.isMapIterator=M;function de(U){return f(U)==="[object Set Iterator]"}r.isSetIterator=de;function ce(U){return f(U)==="[object Generator]"}r.isGeneratorObject=ce;function te(U){return f(U)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=te;function fe(U){return j(U,d)}r.isNumberObject=fe;function Oe(U){return j(U,m)}r.isStringObject=Oe;function W(U){return j(U,k)}r.isBooleanObject=W;function ee(U){return u&&j(U,b)}r.isBigIntObject=ee;function V(U){return l&&j(U,g)}r.isSymbolObject=V;function S(U){return fe(U)||Oe(U)||W(U)||ee(U)||V(U)}r.isBoxedPrimitive=S;function C(U){return typeof Uint8Array<"u"&&(X(U)||ae(U))}r.isAnyArrayBuffer=C,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(r,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})})(Bh)),Bh}var Pp,dy;function S4(){return dy||(dy=1,Pp=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Pp}var hy;function p5(){return hy||(hy=1,(function(r){var e=Object.getOwnPropertyDescriptors||function(Y){for(var Q=Object.keys(Y),me={},ae=0;ae<Q.length;ae++)me[Q[ae]]=Object.getOwnPropertyDescriptor(Y,Q[ae]);return me},t=/%[sdj%]/g;r.format=function(E){if(!q(E)){for(var Y=[],Q=0;Q<arguments.length;Q++)Y.push(u(arguments[Q]));return Y.join(" ")}for(var Q=1,me=arguments,ae=me.length,B=String(E).replace(t,function(de){if(de==="%%")return"%";if(Q>=ae)return de;switch(de){case"%s":return String(me[Q++]);case"%d":return Number(me[Q++]);case"%j":try{return JSON.stringify(me[Q++])}catch{return"[Circular]"}default:return de}}),M=me[Q];Q<ae;M=me[++Q])R(M)||!z(M)?B+=" "+M:B+=" "+u(M);return B},r.deprecate=function(E,Y){if(typeof Pr<"u"&&Pr.noDeprecation===!0)return E;if(typeof Pr>"u")return function(){return r.deprecate(E,Y).apply(this,arguments)};var Q=!1;function me(){if(!Q){if(Pr.throwDeprecation)throw new Error(Y);Pr.traceDeprecation?console.trace(Y):console.error(Y),Q=!0}return E.apply(this,arguments)}return me};var o={},a=/^$/;if(Pr.env.NODE_DEBUG){var s=Pr.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+s+"$","i")}r.debuglog=function(E){if(E=E.toUpperCase(),!o[E])if(a.test(E)){var Y=Pr.pid;o[E]=function(){var Q=r.format.apply(r,arguments);console.error("%s %d: %s",E,Y,Q)}}else o[E]=function(){};return o[E]};function u(E,Y){var Q={seen:[],stylize:f};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),x(Y)?Q.showHidden=Y:Y&&r._extend(Q,Y),oe(Q.showHidden)&&(Q.showHidden=!1),oe(Q.depth)&&(Q.depth=2),oe(Q.colors)&&(Q.colors=!1),oe(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=l),m(Q,E,Q.depth)}r.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(E,Y){var Q=u.styles[Y];return Q?"\x1B["+u.colors[Q][0]+"m"+E+"\x1B["+u.colors[Q][1]+"m":E}function f(E,Y){return E}function d(E){var Y={};return E.forEach(function(Q,me){Y[Q]=!0}),Y}function m(E,Y,Q){if(E.customInspect&&Y&&F(Y.inspect)&&Y.inspect!==r.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var me=Y.inspect(Q,E);return q(me)||(me=m(E,me,Q)),me}var ae=k(E,Y);if(ae)return ae;var B=Object.keys(Y),M=d(B);if(E.showHidden&&(B=Object.getOwnPropertyNames(Y)),re(Y)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return b(Y);if(B.length===0){if(F(Y)){var de=Y.name?": "+Y.name:"";return E.stylize("[Function"+de+"]","special")}if(ne(Y))return E.stylize(RegExp.prototype.toString.call(Y),"regexp");if(le(Y))return E.stylize(Date.prototype.toString.call(Y),"date");if(re(Y))return b(Y)}var ce="",te=!1,fe=["{","}"];if(O(Y)&&(te=!0,fe=["[","]"]),F(Y)){var Oe=Y.name?": "+Y.name:"";ce=" [Function"+Oe+"]"}if(ne(Y)&&(ce=" "+RegExp.prototype.toString.call(Y)),le(Y)&&(ce=" "+Date.prototype.toUTCString.call(Y)),re(Y)&&(ce=" "+b(Y)),B.length===0&&(!te||Y.length==0))return fe[0]+ce+fe[1];if(Q<0)return ne(Y)?E.stylize(RegExp.prototype.toString.call(Y),"regexp"):E.stylize("[Object]","special");E.seen.push(Y);var W;return te?W=g(E,Y,Q,M,B):W=B.map(function(ee){return j(E,Y,Q,M,ee,te)}),E.seen.pop(),N(W,ce,fe)}function k(E,Y){if(oe(Y))return E.stylize("undefined","undefined");if(q(Y)){var Q="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return E.stylize(Q,"string")}if(A(Y))return E.stylize(""+Y,"number");if(x(Y))return E.stylize(""+Y,"boolean");if(R(Y))return E.stylize("null","null")}function b(E){return"["+Error.prototype.toString.call(E)+"]"}function g(E,Y,Q,me,ae){for(var B=[],M=0,de=Y.length;M<de;++M)xe(Y,String(M))?B.push(j(E,Y,Q,me,String(M),!0)):B.push("");return ae.forEach(function(ce){ce.match(/^\d+$/)||B.push(j(E,Y,Q,me,ce,!0))}),B}function j(E,Y,Q,me,ae,B){var M,de,ce;if(ce=Object.getOwnPropertyDescriptor(Y,ae)||{value:Y[ae]},ce.get?ce.set?de=E.stylize("[Getter/Setter]","special"):de=E.stylize("[Getter]","special"):ce.set&&(de=E.stylize("[Setter]","special")),xe(me,ae)||(M="["+ae+"]"),de||(E.seen.indexOf(ce.value)<0?(R(Q)?de=m(E,ce.value,null):de=m(E,ce.value,Q-1),de.indexOf(`
`)>-1&&(B?de=de.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):de=`
`+de.split(`
`).map(function(te){return"   "+te}).join(`
`))):de=E.stylize("[Circular]","special")),oe(M)){if(B&&ae.match(/^\d+$/))return de;M=JSON.stringify(""+ae),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.slice(1,-1),M=E.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=E.stylize(M,"string"))}return M+": "+de}function N(E,Y,Q){var me=E.reduce(function(ae,B){return B.indexOf(`
`)>=0,ae+B.replace(/\u001b\[\d\d?m/g,"").length+1},0);return me>60?Q[0]+(Y===""?"":Y+`
 `)+" "+E.join(`,
  `)+" "+Q[1]:Q[0]+Y+" "+E.join(", ")+" "+Q[1]}r.types=_4();function O(E){return Array.isArray(E)}r.isArray=O;function x(E){return typeof E=="boolean"}r.isBoolean=x;function R(E){return E===null}r.isNull=R;function T(E){return E==null}r.isNullOrUndefined=T;function A(E){return typeof E=="number"}r.isNumber=A;function q(E){return typeof E=="string"}r.isString=q;function ie(E){return typeof E=="symbol"}r.isSymbol=ie;function oe(E){return E===void 0}r.isUndefined=oe;function ne(E){return z(E)&&P(E)==="[object RegExp]"}r.isRegExp=ne,r.types.isRegExp=ne;function z(E){return typeof E=="object"&&E!==null}r.isObject=z;function le(E){return z(E)&&P(E)==="[object Date]"}r.isDate=le,r.types.isDate=le;function re(E){return z(E)&&(P(E)==="[object Error]"||E instanceof Error)}r.isError=re,r.types.isNativeError=re;function F(E){return typeof E=="function"}r.isFunction=F;function J(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}r.isPrimitive=J,r.isBuffer=S4();function P(E){return Object.prototype.toString.call(E)}function be(E){return E<10?"0"+E.toString(10):E.toString(10)}var Ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pe(){var E=new Date,Y=[be(E.getHours()),be(E.getMinutes()),be(E.getSeconds())].join(":");return[E.getDate(),Ee[E.getMonth()],Y].join(" ")}r.log=function(){console.log("%s - %s",pe(),r.format.apply(r,arguments))},r.inherits=Ec(),r._extend=function(E,Y){if(!Y||!z(Y))return E;for(var Q=Object.keys(Y),me=Q.length;me--;)E[Q[me]]=Y[Q[me]];return E};function xe(E,Y){return Object.prototype.hasOwnProperty.call(E,Y)}var Se=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');if(Se&&Y[Se]){var Q=Y[Se];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,Se,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var me,ae,B=new Promise(function(ce,te){me=ce,ae=te}),M=[],de=0;de<arguments.length;de++)M.push(arguments[de]);M.push(function(ce,te){ce?ae(ce):me(te)});try{Y.apply(this,M)}catch(ce){ae(ce)}return B}return Object.setPrototypeOf(Q,Object.getPrototypeOf(Y)),Se&&Object.defineProperty(Q,Se,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(Y))},r.promisify.custom=Se;function De(E,Y){if(!E){var Q=new Error("Promise was rejected with a falsy value");Q.reason=E,E=Q}return Y(E)}function X(E){if(typeof E!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var Q=[],me=0;me<arguments.length;me++)Q.push(arguments[me]);var ae=Q.pop();if(typeof ae!="function")throw new TypeError("The last argument must be of type Function");var B=this,M=function(){return ae.apply(B,arguments)};E.apply(this,Q).then(function(de){Pr.nextTick(M.bind(null,null,de))},function(de){Pr.nextTick(De.bind(null,de,M))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(E)),Object.defineProperties(Y,e(E)),Y}r.callbackify=X})(Fh)),Fh}var Rp,py;function k4(){if(py)return Rp;py=1;function r(b,g){var j=Object.keys(b);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(b);g&&(N=N.filter(function(O){return Object.getOwnPropertyDescriptor(b,O).enumerable})),j.push.apply(j,N)}return j}function e(b){for(var g=1;g<arguments.length;g++){var j=arguments[g]!=null?arguments[g]:{};g%2?r(Object(j),!0).forEach(function(N){t(b,N,j[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(j)):r(Object(j)).forEach(function(N){Object.defineProperty(b,N,Object.getOwnPropertyDescriptor(j,N))})}return b}function t(b,g,j){return g in b?Object.defineProperty(b,g,{value:j,enumerable:!0,configurable:!0,writable:!0}):b[g]=j,b}function o(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function a(b,g){for(var j=0;j<g.length;j++){var N=g[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}function s(b,g,j){return g&&a(b.prototype,g),b}var u=Md(),l=u.Buffer,f=p5(),d=f.inspect,m=d&&d.custom||"inspect";function k(b,g,j){l.prototype.copy.call(b,g,j)}return Rp=(function(){function b(){o(this,b),this.head=null,this.tail=null,this.length=0}return s(b,[{key:"push",value:function(j){var N={data:j,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}},{key:"unshift",value:function(j){var N={data:j,next:this.head};this.length===0&&(this.tail=N),this.head=N,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var N=this.head,O=""+N.data;N=N.next;)O+=j+N.data;return O}},{key:"concat",value:function(j){if(this.length===0)return l.alloc(0);for(var N=l.allocUnsafe(j>>>0),O=this.head,x=0;O;)k(O.data,N,x),x+=O.data.length,O=O.next;return N}},{key:"consume",value:function(j,N){var O;return j<this.head.data.length?(O=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?O=this.shift():O=N?this._getString(j):this._getBuffer(j),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var N=this.head,O=1,x=N.data;for(j-=x.length;N=N.next;){var R=N.data,T=j>R.length?R.length:j;if(T===R.length?x+=R:x+=R.slice(0,j),j-=T,j===0){T===R.length?(++O,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=R.slice(T));break}++O}return this.length-=O,x}},{key:"_getBuffer",value:function(j){var N=l.allocUnsafe(j),O=this.head,x=1;for(O.data.copy(N),j-=O.data.length;O=O.next;){var R=O.data,T=j>R.length?R.length:j;if(R.copy(N,N.length-j,0,T),j-=T,j===0){T===R.length?(++x,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=R.slice(T));break}++x}return this.length-=x,N}},{key:m,value:function(j,N){return d(this,e({},N,{depth:0,customInspect:!1}))}}]),b})(),Rp}var Dp,my;function m5(){if(my)return Dp;my=1;function r(u,l){var f=this,d=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return d||m?(l?l(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Pr.nextTick(a,this,u)):Pr.nextTick(a,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(k){!l&&k?f._writableState?f._writableState.errorEmitted?Pr.nextTick(t,f):(f._writableState.errorEmitted=!0,Pr.nextTick(e,f,k)):Pr.nextTick(e,f,k):l?(Pr.nextTick(t,f),l(k)):Pr.nextTick(t,f)}),this)}function e(u,l){a(u,l),t(u)}function t(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(u,l){u.emit("error",l)}function s(u,l){var f=u._readableState,d=u._writableState;f&&f.autoDestroy||d&&d.autoDestroy?u.destroy(l):u.emit("error",l)}return Dp={destroy:r,undestroy:o,errorOrDestroy:s},Dp}var Op={},gy;function zu(){if(gy)return Op;gy=1;function r(l,f){l.prototype=Object.create(f.prototype),l.prototype.constructor=l,l.__proto__=f}var e={};function t(l,f,d){d||(d=Error);function m(b,g,j){return typeof f=="string"?f:f(b,g,j)}var k=(function(b){r(g,b);function g(j,N,O){return b.call(this,m(j,N,O))||this}return g})(d);k.prototype.name=d.name,k.prototype.code=l,e[l]=k}function o(l,f){if(Array.isArray(l)){var d=l.length;return l=l.map(function(m){return String(m)}),d>2?"one of ".concat(f," ").concat(l.slice(0,d-1).join(", "),", or ")+l[d-1]:d===2?"one of ".concat(f," ").concat(l[0]," or ").concat(l[1]):"of ".concat(f," ").concat(l[0])}else return"of ".concat(f," ").concat(String(l))}function a(l,f,d){return l.substr(0,f.length)===f}function s(l,f,d){return(d===void 0||d>l.length)&&(d=l.length),l.substring(d-f.length,d)===f}function u(l,f,d){return typeof d!="number"&&(d=0),d+f.length>l.length?!1:l.indexOf(f,d)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,f){return'The value "'+f+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,f,d){var m;typeof f=="string"&&a(f,"not ")?(m="must not be",f=f.replace(/^not /,"")):m="must be";var k;if(s(l," argument"))k="The ".concat(l," ").concat(m," ").concat(o(f,"type"));else{var b=u(l,".")?"property":"argument";k='The "'.concat(l,'" ').concat(b," ").concat(m," ").concat(o(f,"type"))}return k+=". Received type ".concat(typeof d),k},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Op.codes=e,Op}var Fp,yy;function g5(){if(yy)return Fp;yy=1;var r=zu().codes.ERR_INVALID_OPT_VALUE;function e(o,a,s){return o.highWaterMark!=null?o.highWaterMark:a?o[s]:null}function t(o,a,s,u){var l=e(a,u,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var f=u?s:"highWaterMark";throw new r(f,l)}return Math.floor(l)}return o.objectMode?16:16*1024}return Fp={getHighWaterMark:t},Fp}var Bp,vy;function A4(){if(vy)return Bp;vy=1,Bp=r;function r(t,o){if(e("noDeprecation"))return t;var a=!1;function s(){if(!a){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!El.localStorage)return!1}catch{return!1}var o=El.localStorage[t];return o==null?!1:String(o).toLowerCase()==="true"}return Bp}var Mp,wy;function y5(){if(wy)return Mp;wy=1,Mp=ne;function r(ae){var B=this;this.next=null,this.entry=null,this.finish=function(){me(B,ae)}}var e;ne.WritableState=ie;var t={deprecate:A4()},o=i5(),a=Md().Buffer,s=El.Uint8Array||function(){};function u(ae){return a.from(ae)}function l(ae){return a.isBuffer(ae)||ae instanceof s}var f=m5(),d=g5(),m=d.getHighWaterMark,k=zu().codes,b=k.ERR_INVALID_ARG_TYPE,g=k.ERR_METHOD_NOT_IMPLEMENTED,j=k.ERR_MULTIPLE_CALLBACK,N=k.ERR_STREAM_CANNOT_PIPE,O=k.ERR_STREAM_DESTROYED,x=k.ERR_STREAM_NULL_VALUES,R=k.ERR_STREAM_WRITE_AFTER_END,T=k.ERR_UNKNOWN_ENCODING,A=f.errorOrDestroy;Ec()(ne,o);function q(){}function ie(ae,B,M){e=e||Ru(),ae=ae||{},typeof M!="boolean"&&(M=B instanceof e),this.objectMode=!!ae.objectMode,M&&(this.objectMode=this.objectMode||!!ae.writableObjectMode),this.highWaterMark=m(this,ae,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var de=ae.decodeStrings===!1;this.decodeStrings=!de,this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){Ee(B,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ae.emitClose!==!1,this.autoDestroy=!!ae.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}ie.prototype.getBuffer=function(){for(var B=this.bufferedRequest,M=[];B;)M.push(B),B=B.next;return M},(function(){try{Object.defineProperty(ie.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var oe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(oe=Function.prototype[Symbol.hasInstance],Object.defineProperty(ne,Symbol.hasInstance,{value:function(B){return oe.call(this,B)?!0:this!==ne?!1:B&&B._writableState instanceof ie}})):oe=function(B){return B instanceof this};function ne(ae){e=e||Ru();var B=this instanceof e;if(!B&&!oe.call(ne,this))return new ne(ae);this._writableState=new ie(ae,this,B),this.writable=!0,ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final)),o.call(this)}ne.prototype.pipe=function(){A(this,new N)};function z(ae,B){var M=new R;A(ae,M),Pr.nextTick(B,M)}function le(ae,B,M,de){var ce;return M===null?ce=new x:typeof M!="string"&&!B.objectMode&&(ce=new b("chunk",["string","Buffer"],M)),ce?(A(ae,ce),Pr.nextTick(de,ce),!1):!0}ne.prototype.write=function(ae,B,M){var de=this._writableState,ce=!1,te=!de.objectMode&&l(ae);return te&&!a.isBuffer(ae)&&(ae=u(ae)),typeof B=="function"&&(M=B,B=null),te?B="buffer":B||(B=de.defaultEncoding),typeof M!="function"&&(M=q),de.ending?z(this,M):(te||le(this,de,ae,M))&&(de.pendingcb++,ce=F(this,de,te,ae,B,M)),ce},ne.prototype.cork=function(){this._writableState.corked++},ne.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&Se(this,ae))},ne.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new T(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(ne.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function re(ae,B,M){return!ae.objectMode&&ae.decodeStrings!==!1&&typeof B=="string"&&(B=a.from(B,M)),B}Object.defineProperty(ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(ae,B,M,de,ce,te){if(!M){var fe=re(B,de,ce);de!==fe&&(M=!0,ce="buffer",de=fe)}var Oe=B.objectMode?1:de.length;B.length+=Oe;var W=B.length<B.highWaterMark;if(W||(B.needDrain=!0),B.writing||B.corked){var ee=B.lastBufferedRequest;B.lastBufferedRequest={chunk:de,encoding:ce,isBuf:M,callback:te,next:null},ee?ee.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else J(ae,B,!1,Oe,de,ce,te);return W}function J(ae,B,M,de,ce,te,fe){B.writelen=de,B.writecb=fe,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new O("write")):M?ae._writev(ce,B.onwrite):ae._write(ce,te,B.onwrite),B.sync=!1}function P(ae,B,M,de,ce){--B.pendingcb,M?(Pr.nextTick(ce,de),Pr.nextTick(Y,ae,B),ae._writableState.errorEmitted=!0,A(ae,de)):(ce(de),ae._writableState.errorEmitted=!0,A(ae,de),Y(ae,B))}function be(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}function Ee(ae,B){var M=ae._writableState,de=M.sync,ce=M.writecb;if(typeof ce!="function")throw new j;if(be(M),B)P(ae,M,de,B,ce);else{var te=De(M)||ae.destroyed;!te&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&Se(ae,M),de?Pr.nextTick(pe,ae,M,te,ce):pe(ae,M,te,ce)}}function pe(ae,B,M,de){M||xe(ae,B),B.pendingcb--,de(),Y(ae,B)}function xe(ae,B){B.length===0&&B.needDrain&&(B.needDrain=!1,ae.emit("drain"))}function Se(ae,B){B.bufferProcessing=!0;var M=B.bufferedRequest;if(ae._writev&&M&&M.next){var de=B.bufferedRequestCount,ce=new Array(de),te=B.corkedRequestsFree;te.entry=M;for(var fe=0,Oe=!0;M;)ce[fe]=M,M.isBuf||(Oe=!1),M=M.next,fe+=1;ce.allBuffers=Oe,J(ae,B,!0,B.length,ce,"",te.finish),B.pendingcb++,B.lastBufferedRequest=null,te.next?(B.corkedRequestsFree=te.next,te.next=null):B.corkedRequestsFree=new r(B),B.bufferedRequestCount=0}else{for(;M;){var W=M.chunk,ee=M.encoding,V=M.callback,S=B.objectMode?1:W.length;if(J(ae,B,!1,S,W,ee,V),M=M.next,B.bufferedRequestCount--,B.writing)break}M===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=M,B.bufferProcessing=!1}ne.prototype._write=function(ae,B,M){M(new g("_write()"))},ne.prototype._writev=null,ne.prototype.end=function(ae,B,M){var de=this._writableState;return typeof ae=="function"?(M=ae,ae=null,B=null):typeof B=="function"&&(M=B,B=null),ae!=null&&this.write(ae,B),de.corked&&(de.corked=1,this.uncork()),de.ending||Q(this,de,M),this},Object.defineProperty(ne.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function De(ae){return ae.ending&&ae.length===0&&ae.bufferedRequest===null&&!ae.finished&&!ae.writing}function X(ae,B){ae._final(function(M){B.pendingcb--,M&&A(ae,M),B.prefinished=!0,ae.emit("prefinish"),Y(ae,B)})}function E(ae,B){!B.prefinished&&!B.finalCalled&&(typeof ae._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,Pr.nextTick(X,ae,B)):(B.prefinished=!0,ae.emit("prefinish")))}function Y(ae,B){var M=De(B);if(M&&(E(ae,B),B.pendingcb===0&&(B.finished=!0,ae.emit("finish"),B.autoDestroy))){var de=ae._readableState;(!de||de.autoDestroy&&de.endEmitted)&&ae.destroy()}return M}function Q(ae,B,M){B.ending=!0,Y(ae,B),M&&(B.finished?Pr.nextTick(M):ae.once("finish",M)),B.ended=!0,ae.writable=!1}function me(ae,B,M){var de=ae.entry;for(ae.entry=null;de;){var ce=de.callback;B.pendingcb--,ce(M),de=de.next}B.corkedRequestsFree.next=ae}return Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),ne.prototype.destroy=f.destroy,ne.prototype._undestroy=f.undestroy,ne.prototype._destroy=function(ae,B){B(ae)},Mp}var zp,xy;function Ru(){if(xy)return zp;xy=1;var r=Object.keys||function(d){var m=[];for(var k in d)m.push(k);return m};zp=u;var e=v5(),t=y5();Ec()(u,e);for(var o=r(t.prototype),a=0;a<o.length;a++){var s=o[a];u.prototype[s]||(u.prototype[s]=t.prototype[s])}function u(d){if(!(this instanceof u))return new u(d);e.call(this,d),t.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Pr.nextTick(f,this)}function f(d){d.end()}return Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),zp}var Up={},ed={exports:{}},by;function N4(){return by||(by=1,(function(r,e){var t=Md(),o=t.Buffer;function a(u,l){for(var f in u)l[f]=u[f]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?r.exports=t:(a(t,e),e.Buffer=s);function s(u,l,f){return o(u,l,f)}a(o,s),s.from=function(u,l,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return o(u,l,f)},s.alloc=function(u,l,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var d=o(u);return l!==void 0?typeof f=="string"?d.fill(l,f):d.fill(l):d.fill(0),d},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}})(ed,ed.exports)),ed.exports}var _y;function Z1(){if(_y)return Up;_y=1;var r=N4().Buffer,e=r.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(x){if(!x)return"utf8";for(var R;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(R)return;x=(""+x).toLowerCase(),R=!0}}function o(x){var R=t(x);if(typeof R!="string"&&(r.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return R||x}Up.StringDecoder=a;function a(x){this.encoding=o(x);var R;switch(this.encoding){case"utf16le":this.text=k,this.end=b,R=4;break;case"utf8":this.fillLast=f,R=4;break;case"base64":this.text=g,this.end=j,R=3;break;default:this.write=N,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(R)}a.prototype.write=function(x){if(x.length===0)return"";var R,T;if(this.lastNeed){if(R=this.fillLast(x),R===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<x.length?R?R+this.text(x,T):this.text(x,T):R||""},a.prototype.end=m,a.prototype.text=d,a.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function s(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function u(x,R,T){var A=R.length-1;if(A<T)return 0;var q=s(R[A]);return q>=0?(q>0&&(x.lastNeed=q-1),q):--A<T||q===-2?0:(q=s(R[A]),q>=0?(q>0&&(x.lastNeed=q-2),q):--A<T||q===-2?0:(q=s(R[A]),q>=0?(q>0&&(q===2?q=0:x.lastNeed=q-3),q):0))}function l(x,R,T){if((R[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return x.lastNeed=2,""}}function f(x){var R=this.lastTotal-this.lastNeed,T=l(this,x);if(T!==void 0)return T;if(this.lastNeed<=x.length)return x.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,R,0,x.length),this.lastNeed-=x.length}function d(x,R){var T=u(this,x,R);if(!this.lastNeed)return x.toString("utf8",R);this.lastTotal=T;var A=x.length-(T-this.lastNeed);return x.copy(this.lastChar,0,A),x.toString("utf8",R,A)}function m(x){var R=x&&x.length?this.write(x):"";return this.lastNeed?R+"":R}function k(x,R){if((x.length-R)%2===0){var T=x.toString("utf16le",R);if(T){var A=T.charCodeAt(T.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",R,x.length-1)}function b(x){var R=x&&x.length?this.write(x):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,T)}return R}function g(x,R){var T=(x.length-R)%3;return T===0?x.toString("base64",R):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",R,x.length-T))}function j(x){var R=x&&x.length?this.write(x):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function N(x){return x.toString(this.encoding)}function O(x){return x&&x.length?this.write(x):""}return Up}var $p,Sy;function bm(){if(Sy)return $p;Sy=1;var r=zu().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var u=!1;return function(){if(!u){u=!0;for(var l=arguments.length,f=new Array(l),d=0;d<l;d++)f[d]=arguments[d];s.apply(this,f)}}}function t(){}function o(s){return s.setHeader&&typeof s.abort=="function"}function a(s,u,l){if(typeof u=="function")return a(s,null,u);u||(u={}),l=e(l||t);var f=u.readable||u.readable!==!1&&s.readable,d=u.writable||u.writable!==!1&&s.writable,m=function(){s.writable||b()},k=s._writableState&&s._writableState.finished,b=function(){d=!1,k=!0,f||l.call(s)},g=s._readableState&&s._readableState.endEmitted,j=function(){f=!1,g=!0,d||l.call(s)},N=function(T){l.call(s,T)},O=function(){var T;if(f&&!g)return(!s._readableState||!s._readableState.ended)&&(T=new r),l.call(s,T);if(d&&!k)return(!s._writableState||!s._writableState.ended)&&(T=new r),l.call(s,T)},x=function(){s.req.on("finish",b)};return o(s)?(s.on("complete",b),s.on("abort",O),s.req?x():s.on("request",x)):d&&!s._writableState&&(s.on("end",m),s.on("close",m)),s.on("end",j),s.on("finish",b),u.error!==!1&&s.on("error",N),s.on("close",O),function(){s.removeListener("complete",b),s.removeListener("abort",O),s.removeListener("request",x),s.req&&s.req.removeListener("finish",b),s.removeListener("end",m),s.removeListener("close",m),s.removeListener("finish",b),s.removeListener("end",j),s.removeListener("error",N),s.removeListener("close",O)}}return $p=a,$p}var qp,ky;function E4(){if(ky)return qp;ky=1;var r;function e(x,R,T){return R in x?Object.defineProperty(x,R,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[R]=T,x}var t=bm(),o=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function m(x,R){return{value:x,done:R}}function k(x){var R=x[o];if(R!==null){var T=x[d].read();T!==null&&(x[l]=null,x[o]=null,x[a]=null,R(m(T,!1)))}}function b(x){Pr.nextTick(k,x)}function g(x,R){return function(T,A){x.then(function(){if(R[u]){T(m(void 0,!0));return}R[f](T,A)},A)}}var j=Object.getPrototypeOf(function(){}),N=Object.setPrototypeOf((r={get stream(){return this[d]},next:function(){var R=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(m(void 0,!0));if(this[d].destroyed)return new Promise(function(oe,ne){Pr.nextTick(function(){R[s]?ne(R[s]):oe(m(void 0,!0))})});var A=this[l],q;if(A)q=new Promise(g(A,this));else{var ie=this[d].read();if(ie!==null)return Promise.resolve(m(ie,!1));q=new Promise(this[f])}return this[l]=q,q}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var R=this;return new Promise(function(T,A){R[d].destroy(null,function(q){if(q){A(q);return}T(m(void 0,!0))})})}),r),j),O=function(R){var T,A=Object.create(N,(T={},e(T,d,{value:R,writable:!0}),e(T,o,{value:null,writable:!0}),e(T,a,{value:null,writable:!0}),e(T,s,{value:null,writable:!0}),e(T,u,{value:R._readableState.endEmitted,writable:!0}),e(T,f,{value:function(ie,oe){var ne=A[d].read();ne?(A[l]=null,A[o]=null,A[a]=null,ie(m(ne,!1))):(A[o]=ie,A[a]=oe)},writable:!0}),T));return A[l]=null,t(R,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=A[a];ie!==null&&(A[l]=null,A[o]=null,A[a]=null,ie(q)),A[s]=q;return}var oe=A[o];oe!==null&&(A[l]=null,A[o]=null,A[a]=null,oe(m(void 0,!0))),A[u]=!0}),R.on("readable",b.bind(null,A)),A};return qp=O,qp}var Wp,Ay;function C4(){return Ay||(Ay=1,Wp=function(){throw new Error("Readable.from is not available in the browser")}),Wp}var Hp,Ny;function v5(){if(Ny)return Hp;Ny=1,Hp=z;var r;z.ReadableState=ne,ym().EventEmitter;var e=function(fe,Oe){return fe.listeners(Oe).length},t=i5(),o=Md().Buffer,a=El.Uint8Array||function(){};function s(te){return o.from(te)}function u(te){return o.isBuffer(te)||te instanceof a}var l=p5(),f;l&&l.debuglog?f=l.debuglog("stream"):f=function(){};var d=k4(),m=m5(),k=g5(),b=k.getHighWaterMark,g=zu().codes,j=g.ERR_INVALID_ARG_TYPE,N=g.ERR_STREAM_PUSH_AFTER_EOF,O=g.ERR_METHOD_NOT_IMPLEMENTED,x=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,T,A;Ec()(z,t);var q=m.errorOrDestroy,ie=["error","close","destroy","pause","resume"];function oe(te,fe,Oe){if(typeof te.prependListener=="function")return te.prependListener(fe,Oe);!te._events||!te._events[fe]?te.on(fe,Oe):Array.isArray(te._events[fe])?te._events[fe].unshift(Oe):te._events[fe]=[Oe,te._events[fe]]}function ne(te,fe,Oe){r=r||Ru(),te=te||{},typeof Oe!="boolean"&&(Oe=fe instanceof r),this.objectMode=!!te.objectMode,Oe&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=b(this,te,"readableHighWaterMark",Oe),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(R||(R=Z1().StringDecoder),this.decoder=new R(te.encoding),this.encoding=te.encoding)}function z(te){if(r=r||Ru(),!(this instanceof z))return new z(te);var fe=this instanceof r;this._readableState=new ne(te,this,fe),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),t.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(fe){this._readableState&&(this._readableState.destroyed=fe)}}),z.prototype.destroy=m.destroy,z.prototype._undestroy=m.undestroy,z.prototype._destroy=function(te,fe){fe(te)},z.prototype.push=function(te,fe){var Oe=this._readableState,W;return Oe.objectMode?W=!0:typeof te=="string"&&(fe=fe||Oe.defaultEncoding,fe!==Oe.encoding&&(te=o.from(te,fe),fe=""),W=!0),le(this,te,fe,!1,W)},z.prototype.unshift=function(te){return le(this,te,null,!0,!1)};function le(te,fe,Oe,W,ee){f("readableAddChunk",fe);var V=te._readableState;if(fe===null)V.reading=!1,Ee(te,V);else{var S;if(ee||(S=F(V,fe)),S)q(te,S);else if(V.objectMode||fe&&fe.length>0)if(typeof fe!="string"&&!V.objectMode&&Object.getPrototypeOf(fe)!==o.prototype&&(fe=s(fe)),W)V.endEmitted?q(te,new x):re(te,V,fe,!0);else if(V.ended)q(te,new N);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!Oe?(fe=V.decoder.write(fe),V.objectMode||fe.length!==0?re(te,V,fe,!1):Se(te,V)):re(te,V,fe,!1)}else W||(V.reading=!1,Se(te,V))}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function re(te,fe,Oe,W){fe.flowing&&fe.length===0&&!fe.sync?(fe.awaitDrain=0,te.emit("data",Oe)):(fe.length+=fe.objectMode?1:Oe.length,W?fe.buffer.unshift(Oe):fe.buffer.push(Oe),fe.needReadable&&pe(te)),Se(te,fe)}function F(te,fe){var Oe;return!u(fe)&&typeof fe!="string"&&fe!==void 0&&!te.objectMode&&(Oe=new j("chunk",["string","Buffer","Uint8Array"],fe)),Oe}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(te){R||(R=Z1().StringDecoder);var fe=new R(te);this._readableState.decoder=fe,this._readableState.encoding=this._readableState.decoder.encoding;for(var Oe=this._readableState.buffer.head,W="";Oe!==null;)W+=fe.write(Oe.data),Oe=Oe.next;return this._readableState.buffer.clear(),W!==""&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var J=1073741824;function P(te){return te>=J?te=J:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function be(te,fe){return te<=0||fe.length===0&&fe.ended?0:fe.objectMode?1:te!==te?fe.flowing&&fe.length?fe.buffer.head.data.length:fe.length:(te>fe.highWaterMark&&(fe.highWaterMark=P(te)),te<=fe.length?te:fe.ended?fe.length:(fe.needReadable=!0,0))}z.prototype.read=function(te){f("read",te),te=parseInt(te,10);var fe=this._readableState,Oe=te;if(te!==0&&(fe.emittedReadable=!1),te===0&&fe.needReadable&&((fe.highWaterMark!==0?fe.length>=fe.highWaterMark:fe.length>0)||fe.ended))return f("read: emitReadable",fe.length,fe.ended),fe.length===0&&fe.ended?M(this):pe(this),null;if(te=be(te,fe),te===0&&fe.ended)return fe.length===0&&M(this),null;var W=fe.needReadable;f("need readable",W),(fe.length===0||fe.length-te<fe.highWaterMark)&&(W=!0,f("length less than watermark",W)),fe.ended||fe.reading?(W=!1,f("reading or ended",W)):W&&(f("do read"),fe.reading=!0,fe.sync=!0,fe.length===0&&(fe.needReadable=!0),this._read(fe.highWaterMark),fe.sync=!1,fe.reading||(te=be(Oe,fe)));var ee;return te>0?ee=B(te,fe):ee=null,ee===null?(fe.needReadable=fe.length<=fe.highWaterMark,te=0):(fe.length-=te,fe.awaitDrain=0),fe.length===0&&(fe.ended||(fe.needReadable=!0),Oe!==te&&fe.ended&&M(this)),ee!==null&&this.emit("data",ee),ee};function Ee(te,fe){if(f("onEofChunk"),!fe.ended){if(fe.decoder){var Oe=fe.decoder.end();Oe&&Oe.length&&(fe.buffer.push(Oe),fe.length+=fe.objectMode?1:Oe.length)}fe.ended=!0,fe.sync?pe(te):(fe.needReadable=!1,fe.emittedReadable||(fe.emittedReadable=!0,xe(te)))}}function pe(te){var fe=te._readableState;f("emitReadable",fe.needReadable,fe.emittedReadable),fe.needReadable=!1,fe.emittedReadable||(f("emitReadable",fe.flowing),fe.emittedReadable=!0,Pr.nextTick(xe,te))}function xe(te){var fe=te._readableState;f("emitReadable_",fe.destroyed,fe.length,fe.ended),!fe.destroyed&&(fe.length||fe.ended)&&(te.emit("readable"),fe.emittedReadable=!1),fe.needReadable=!fe.flowing&&!fe.ended&&fe.length<=fe.highWaterMark,ae(te)}function Se(te,fe){fe.readingMore||(fe.readingMore=!0,Pr.nextTick(De,te,fe))}function De(te,fe){for(;!fe.reading&&!fe.ended&&(fe.length<fe.highWaterMark||fe.flowing&&fe.length===0);){var Oe=fe.length;if(f("maybeReadMore read 0"),te.read(0),Oe===fe.length)break}fe.readingMore=!1}z.prototype._read=function(te){q(this,new O("_read()"))},z.prototype.pipe=function(te,fe){var Oe=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=te;break;case 1:W.pipes=[W.pipes,te];break;default:W.pipes.push(te);break}W.pipesCount+=1,f("pipe count=%d opts=%j",W.pipesCount,fe);var ee=(!fe||fe.end!==!1)&&te!==Pr.stdout&&te!==Pr.stderr,V=ee?C:ht;W.endEmitted?Pr.nextTick(V):Oe.once("end",V),te.on("unpipe",S);function S(Ct,$t){f("onunpipe"),Ct===Oe&&$t&&$t.hasUnpiped===!1&&($t.hasUnpiped=!0,Le())}function C(){f("onend"),te.end()}var U=X(Oe);te.on("drain",U);var we=!1;function Le(){f("cleanup"),te.removeListener("close",at),te.removeListener("finish",Je),te.removeListener("drain",U),te.removeListener("error",He),te.removeListener("unpipe",S),Oe.removeListener("end",C),Oe.removeListener("end",ht),Oe.removeListener("data",Ce),we=!0,W.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&U()}Oe.on("data",Ce);function Ce(Ct){f("ondata");var $t=te.write(Ct);f("dest.write",$t),$t===!1&&((W.pipesCount===1&&W.pipes===te||W.pipesCount>1&&ce(W.pipes,te)!==-1)&&!we&&(f("false write response, pause",W.awaitDrain),W.awaitDrain++),Oe.pause())}function He(Ct){f("onerror",Ct),ht(),te.removeListener("error",He),e(te,"error")===0&&q(te,Ct)}oe(te,"error",He);function at(){te.removeListener("finish",Je),ht()}te.once("close",at);function Je(){f("onfinish"),te.removeListener("close",at),ht()}te.once("finish",Je);function ht(){f("unpipe"),Oe.unpipe(te)}return te.emit("pipe",Oe),W.flowing||(f("pipe resume"),Oe.resume()),te};function X(te){return function(){var Oe=te._readableState;f("pipeOnDrain",Oe.awaitDrain),Oe.awaitDrain&&Oe.awaitDrain--,Oe.awaitDrain===0&&e(te,"data")&&(Oe.flowing=!0,ae(te))}}z.prototype.unpipe=function(te){var fe=this._readableState,Oe={hasUnpiped:!1};if(fe.pipesCount===0)return this;if(fe.pipesCount===1)return te&&te!==fe.pipes?this:(te||(te=fe.pipes),fe.pipes=null,fe.pipesCount=0,fe.flowing=!1,te&&te.emit("unpipe",this,Oe),this);if(!te){var W=fe.pipes,ee=fe.pipesCount;fe.pipes=null,fe.pipesCount=0,fe.flowing=!1;for(var V=0;V<ee;V++)W[V].emit("unpipe",this,{hasUnpiped:!1});return this}var S=ce(fe.pipes,te);return S===-1?this:(fe.pipes.splice(S,1),fe.pipesCount-=1,fe.pipesCount===1&&(fe.pipes=fe.pipes[0]),te.emit("unpipe",this,Oe),this)},z.prototype.on=function(te,fe){var Oe=t.prototype.on.call(this,te,fe),W=this._readableState;return te==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):te==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,f("on readable",W.length,W.reading),W.length?pe(this):W.reading||Pr.nextTick(Y,this)),Oe},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(te,fe){var Oe=t.prototype.removeListener.call(this,te,fe);return te==="readable"&&Pr.nextTick(E,this),Oe},z.prototype.removeAllListeners=function(te){var fe=t.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&Pr.nextTick(E,this),fe};function E(te){var fe=te._readableState;fe.readableListening=te.listenerCount("readable")>0,fe.resumeScheduled&&!fe.paused?fe.flowing=!0:te.listenerCount("data")>0&&te.resume()}function Y(te){f("readable nexttick read 0"),te.read(0)}z.prototype.resume=function(){var te=this._readableState;return te.flowing||(f("resume"),te.flowing=!te.readableListening,Q(this,te)),te.paused=!1,this};function Q(te,fe){fe.resumeScheduled||(fe.resumeScheduled=!0,Pr.nextTick(me,te,fe))}function me(te,fe){f("resume",fe.reading),fe.reading||te.read(0),fe.resumeScheduled=!1,te.emit("resume"),ae(te),fe.flowing&&!fe.reading&&te.read(0)}z.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ae(te){var fe=te._readableState;for(f("flow",fe.flowing);fe.flowing&&te.read()!==null;);}z.prototype.wrap=function(te){var fe=this,Oe=this._readableState,W=!1;te.on("end",function(){if(f("wrapped end"),Oe.decoder&&!Oe.ended){var S=Oe.decoder.end();S&&S.length&&fe.push(S)}fe.push(null)}),te.on("data",function(S){if(f("wrapped data"),Oe.decoder&&(S=Oe.decoder.write(S)),!(Oe.objectMode&&S==null)&&!(!Oe.objectMode&&(!S||!S.length))){var C=fe.push(S);C||(W=!0,te.pause())}});for(var ee in te)this[ee]===void 0&&typeof te[ee]=="function"&&(this[ee]=(function(C){return function(){return te[C].apply(te,arguments)}})(ee));for(var V=0;V<ie.length;V++)te.on(ie[V],this.emit.bind(this,ie[V]));return this._read=function(S){f("wrapped _read",S),W&&(W=!1,te.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=E4()),T(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}}),z._fromList=B,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(te,fe){if(fe.length===0)return null;var Oe;return fe.objectMode?Oe=fe.buffer.shift():!te||te>=fe.length?(fe.decoder?Oe=fe.buffer.join(""):fe.buffer.length===1?Oe=fe.buffer.first():Oe=fe.buffer.concat(fe.length),fe.buffer.clear()):Oe=fe.buffer.consume(te,fe.decoder),Oe}function M(te){var fe=te._readableState;f("endReadable",fe.endEmitted),fe.endEmitted||(fe.ended=!0,Pr.nextTick(de,fe,te))}function de(te,fe){if(f("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,fe.readable=!1,fe.emit("end"),te.autoDestroy)){var Oe=fe._writableState;(!Oe||Oe.autoDestroy&&Oe.finished)&&fe.destroy()}}typeof Symbol=="function"&&(z.from=function(te,fe){return A===void 0&&(A=C4()),A(z,te,fe)});function ce(te,fe){for(var Oe=0,W=te.length;Oe<W;Oe++)if(te[Oe]===fe)return Oe;return-1}return Hp}var Gp,Ey;function w5(){if(Ey)return Gp;Ey=1,Gp=l;var r=zu().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,s=Ru();Ec()(l,s);function u(m,k){var b=this._transformState;b.transforming=!1;var g=b.writecb;if(g===null)return this.emit("error",new t);b.writechunk=null,b.writecb=null,k!=null&&this.push(k),g(m);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function l(m){if(!(this instanceof l))return new l(m);s.call(this,m),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",f)}function f(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,b){d(m,k,b)}):d(this,null,null)}l.prototype.push=function(m,k){return this._transformState.needTransform=!1,s.prototype.push.call(this,m,k)},l.prototype._transform=function(m,k,b){b(new e("_transform()"))},l.prototype._write=function(m,k,b){var g=this._transformState;if(g.writecb=b,g.writechunk=m,g.writeencoding=k,!g.transforming){var j=this._readableState;(g.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},l.prototype._read=function(m){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},l.prototype._destroy=function(m,k){s.prototype._destroy.call(this,m,function(b){k(b)})};function d(m,k,b){if(k)return m.emit("error",k);if(b!=null&&m.push(b),m._writableState.length)throw new a;if(m._transformState.transforming)throw new o;return m.push(null)}return Gp}var Vp,Cy;function T4(){if(Cy)return Vp;Cy=1,Vp=e;var r=w5();Ec()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,o,a){a(null,t)},Vp}var Kp,Ty;function L4(){if(Ty)return Kp;Ty=1;var r;function e(b){var g=!1;return function(){g||(g=!0,b.apply(void 0,arguments))}}var t=zu().codes,o=t.ERR_MISSING_ARGS,a=t.ERR_STREAM_DESTROYED;function s(b){if(b)throw b}function u(b){return b.setHeader&&typeof b.abort=="function"}function l(b,g,j,N){N=e(N);var O=!1;b.on("close",function(){O=!0}),r===void 0&&(r=bm()),r(b,{readable:g,writable:j},function(R){if(R)return N(R);O=!0,N()});var x=!1;return function(R){if(!O&&!x){if(x=!0,u(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();N(R||new a("pipe"))}}}function f(b){b()}function d(b,g){return b.pipe(g)}function m(b){return!b.length||typeof b[b.length-1]!="function"?s:b.pop()}function k(){for(var b=arguments.length,g=new Array(b),j=0;j<b;j++)g[j]=arguments[j];var N=m(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new o("streams");var O,x=g.map(function(R,T){var A=T<g.length-1,q=T>0;return l(R,A,q,function(ie){O||(O=ie),ie&&x.forEach(f),!A&&(x.forEach(f),N(O))})});return g.reduce(d)}return Kp=k,Kp}var Yp,Ly;function _m(){if(Ly)return Yp;Ly=1,Yp=t;var r=ym().EventEmitter,e=Ec();e(t,r),t.Readable=v5(),t.Writable=y5(),t.Duplex=Ru(),t.Transform=w5(),t.PassThrough=T4(),t.finished=bm(),t.pipeline=L4(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(o,a){var s=this;function u(g){o.writable&&o.write(g)===!1&&s.pause&&s.pause()}s.on("data",u);function l(){s.readable&&s.resume&&s.resume()}o.on("drain",l),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",d),s.on("close",m));var f=!1;function d(){f||(f=!0,o.end())}function m(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function k(g){if(b(),r.listenerCount(this,"error")===0)throw g}s.on("error",k),o.on("error",k);function b(){s.removeListener("data",u),o.removeListener("drain",l),s.removeListener("end",d),s.removeListener("close",m),s.removeListener("error",k),o.removeListener("error",k),s.removeListener("end",b),s.removeListener("close",b),o.removeListener("close",b)}return s.on("end",b),s.on("close",b),o.on("close",b),o.emit("pipe",s),o},Yp}var jy;function j4(){return jy||(jy=1,(function(r){(function(e){e.parser=function(B,M){return new o(B,M)},e.SAXParser=o,e.SAXStream=m,e.createStream=d,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(B,M){if(!(this instanceof o))return new o(B,M);var de=this;s(de),de.q=de.c="",de.bufferCheckPosition=e.MAX_BUFFER_LENGTH,de.opt=M||{},de.opt.lowercase=de.opt.lowercase||de.opt.lowercasetags,de.looseCase=de.opt.lowercase?"toLowerCase":"toUpperCase",de.tags=[],de.closed=de.closedRoot=de.sawRoot=!1,de.tag=de.error=null,de.strict=!!B,de.noscript=!!(B||de.opt.noscript),de.state=z.BEGIN,de.strictEntities=de.opt.strictEntities,de.ENTITIES=de.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),de.attribList=[],de.opt.xmlns&&(de.ns=Object.create(N)),de.trackPosition=de.opt.position!==!1,de.trackPosition&&(de.position=de.line=de.column=0),re(de,"onready")}Object.create||(Object.create=function(B){function M(){}M.prototype=B;var de=new M;return de}),Object.keys||(Object.keys=function(B){var M=[];for(var de in B)B.hasOwnProperty(de)&&M.push(de);return M});function a(B){for(var M=Math.max(e.MAX_BUFFER_LENGTH,10),de=0,ce=0,te=t.length;ce<te;ce++){var fe=B[t[ce]].length;if(fe>M)switch(t[ce]){case"textNode":J(B);break;case"cdata":F(B,"oncdata",B.cdata),B.cdata="";break;case"script":F(B,"onscript",B.script),B.script="";break;default:be(B,"Max buffer length exceeded: "+t[ce])}de=Math.max(de,fe)}var Oe=e.MAX_BUFFER_LENGTH-de;B.bufferCheckPosition=Oe+B.position}function s(B){for(var M=0,de=t.length;M<de;M++)B[t[M]]=""}function u(B){J(B),B.cdata!==""&&(F(B,"oncdata",B.cdata),B.cdata=""),B.script!==""&&(F(B,"onscript",B.script),B.script="")}o.prototype={end:function(){Ee(this)},write:ae,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var l;try{l=_m().Stream}catch{l=function(){}}var f=e.EVENTS.filter(function(B){return B!=="error"&&B!=="end"});function d(B,M){return new m(B,M)}function m(B,M){if(!(this instanceof m))return new m(B,M);l.apply(this),this._parser=new o(B,M),this.writable=!0,this.readable=!0;var de=this;this._parser.onend=function(){de.emit("end")},this._parser.onerror=function(ce){de.emit("error",ce),de._parser.error=null},this._decoder=null,f.forEach(function(ce){Object.defineProperty(de,"on"+ce,{get:function(){return de._parser["on"+ce]},set:function(te){if(!te)return de.removeAllListeners(ce),de._parser["on"+ce]=te,te;de.on(ce,te)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(l.prototype,{constructor:{value:m}}),m.prototype.write=function(B){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(B)){if(!this._decoder){var M=Z1().StringDecoder;this._decoder=new M("utf8")}B=this._decoder.write(B)}return this._parser.write(B.toString()),this.emit("data",B),!0},m.prototype.end=function(B){return B&&B.length&&this.write(B),this._parser.end(),!0},m.prototype.on=function(B,M){var de=this;return!de._parser["on"+B]&&f.indexOf(B)!==-1&&(de._parser["on"+B]=function(){var ce=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ce.splice(0,0,B),de.emit.apply(de,ce)}),l.prototype.on.call(de,B,M)};var k="[CDATA[",b="DOCTYPE",g="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",N={xml:g,xmlns:j},O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function A(B){return B===" "||B===`
`||B==="\r"||B==="	"}function q(B){return B==='"'||B==="'"}function ie(B){return B===">"||A(B)}function oe(B,M){return B.test(M)}function ne(B,M){return!oe(B,M)}var z=0;e.STATE={BEGIN:z++,BEGIN_WHITESPACE:z++,TEXT:z++,TEXT_ENTITY:z++,OPEN_WAKA:z++,SGML_DECL:z++,SGML_DECL_QUOTED:z++,DOCTYPE:z++,DOCTYPE_QUOTED:z++,DOCTYPE_DTD:z++,DOCTYPE_DTD_QUOTED:z++,COMMENT_STARTING:z++,COMMENT:z++,COMMENT_ENDING:z++,COMMENT_ENDED:z++,CDATA:z++,CDATA_ENDING:z++,CDATA_ENDING_2:z++,PROC_INST:z++,PROC_INST_BODY:z++,PROC_INST_ENDING:z++,OPEN_TAG:z++,OPEN_TAG_SLASH:z++,ATTRIB:z++,ATTRIB_NAME:z++,ATTRIB_NAME_SAW_WHITE:z++,ATTRIB_VALUE:z++,ATTRIB_VALUE_QUOTED:z++,ATTRIB_VALUE_CLOSED:z++,ATTRIB_VALUE_UNQUOTED:z++,ATTRIB_VALUE_ENTITY_Q:z++,ATTRIB_VALUE_ENTITY_U:z++,CLOSE_TAG:z++,CLOSE_TAG_SAW_WHITE:z++,SCRIPT:z++,SCRIPT_ENDING:z++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(B){var M=e.ENTITIES[B],de=typeof M=="number"?String.fromCharCode(M):M;e.ENTITIES[B]=de});for(var le in e.STATE)e.STATE[e.STATE[le]]=le;z=e.STATE;function re(B,M,de){B[M]&&B[M](de)}function F(B,M,de){B.textNode&&J(B),re(B,M,de)}function J(B){B.textNode=P(B.opt,B.textNode),B.textNode&&re(B,"ontext",B.textNode),B.textNode=""}function P(B,M){return B.trim&&(M=M.trim()),B.normalize&&(M=M.replace(/\s+/g," ")),M}function be(B,M){return J(B),B.trackPosition&&(M+=`
Line: `+B.line+`
Column: `+B.column+`
Char: `+B.c),M=new Error(M),B.error=M,re(B,"onerror",M),B}function Ee(B){return B.sawRoot&&!B.closedRoot&&pe(B,"Unclosed root tag"),B.state!==z.BEGIN&&B.state!==z.BEGIN_WHITESPACE&&B.state!==z.TEXT&&be(B,"Unexpected end"),J(B),B.c="",B.closed=!0,re(B,"onend"),o.call(B,B.strict,B.opt),B}function pe(B,M){if(typeof B!="object"||!(B instanceof o))throw new Error("bad call to strictFail");B.strict&&be(B,M)}function xe(B){B.strict||(B.tagName=B.tagName[B.looseCase]());var M=B.tags[B.tags.length-1]||B,de=B.tag={name:B.tagName,attributes:{}};B.opt.xmlns&&(de.ns=M.ns),B.attribList.length=0,F(B,"onopentagstart",de)}function Se(B,M){var de=B.indexOf(":"),ce=de<0?["",B]:B.split(":"),te=ce[0],fe=ce[1];return M&&B==="xmlns"&&(te="xmlns",fe=""),{prefix:te,local:fe}}function De(B){if(B.strict||(B.attribName=B.attribName[B.looseCase]()),B.attribList.indexOf(B.attribName)!==-1||B.tag.attributes.hasOwnProperty(B.attribName)){B.attribName=B.attribValue="";return}if(B.opt.xmlns){var M=Se(B.attribName,!0),de=M.prefix,ce=M.local;if(de==="xmlns")if(ce==="xml"&&B.attribValue!==g)pe(B,"xml: prefix must be bound to "+g+`
Actual: `+B.attribValue);else if(ce==="xmlns"&&B.attribValue!==j)pe(B,"xmlns: prefix must be bound to "+j+`
Actual: `+B.attribValue);else{var te=B.tag,fe=B.tags[B.tags.length-1]||B;te.ns===fe.ns&&(te.ns=Object.create(fe.ns)),te.ns[ce]=B.attribValue}B.attribList.push([B.attribName,B.attribValue])}else B.tag.attributes[B.attribName]=B.attribValue,F(B,"onattribute",{name:B.attribName,value:B.attribValue});B.attribName=B.attribValue=""}function X(B,M){if(B.opt.xmlns){var de=B.tag,ce=Se(B.tagName);de.prefix=ce.prefix,de.local=ce.local,de.uri=de.ns[ce.prefix]||"",de.prefix&&!de.uri&&(pe(B,"Unbound namespace prefix: "+JSON.stringify(B.tagName)),de.uri=ce.prefix);var te=B.tags[B.tags.length-1]||B;de.ns&&te.ns!==de.ns&&Object.keys(de.ns).forEach(function(Ce){F(B,"onopennamespace",{prefix:Ce,uri:de.ns[Ce]})});for(var fe=0,Oe=B.attribList.length;fe<Oe;fe++){var W=B.attribList[fe],ee=W[0],V=W[1],S=Se(ee,!0),C=S.prefix,U=S.local,we=C===""?"":de.ns[C]||"",Le={name:ee,value:V,prefix:C,local:U,uri:we};C&&C!=="xmlns"&&!we&&(pe(B,"Unbound namespace prefix: "+JSON.stringify(C)),Le.uri=C),B.tag.attributes[ee]=Le,F(B,"onattribute",Le)}B.attribList.length=0}B.tag.isSelfClosing=!!M,B.sawRoot=!0,B.tags.push(B.tag),F(B,"onopentag",B.tag),M||(!B.noscript&&B.tagName.toLowerCase()==="script"?B.state=z.SCRIPT:B.state=z.TEXT,B.tag=null,B.tagName=""),B.attribName=B.attribValue="",B.attribList.length=0}function E(B){if(!B.tagName){pe(B,"Weird empty close tag."),B.textNode+="</>",B.state=z.TEXT;return}if(B.script){if(B.tagName!=="script"){B.script+="</"+B.tagName+">",B.tagName="",B.state=z.SCRIPT;return}F(B,"onscript",B.script),B.script=""}var M=B.tags.length,de=B.tagName;B.strict||(de=de[B.looseCase]());for(var ce=de;M--;){var te=B.tags[M];if(te.name!==ce)pe(B,"Unexpected close tag");else break}if(M<0){pe(B,"Unmatched closing tag: "+B.tagName),B.textNode+="</"+B.tagName+">",B.state=z.TEXT;return}B.tagName=de;for(var fe=B.tags.length;fe-- >M;){var Oe=B.tag=B.tags.pop();B.tagName=B.tag.name,F(B,"onclosetag",B.tagName);var W={};for(var ee in Oe.ns)W[ee]=Oe.ns[ee];var V=B.tags[B.tags.length-1]||B;B.opt.xmlns&&Oe.ns!==V.ns&&Object.keys(Oe.ns).forEach(function(S){var C=Oe.ns[S];F(B,"onclosenamespace",{prefix:S,uri:C})})}M===0&&(B.closedRoot=!0),B.tagName=B.attribValue=B.attribName="",B.attribList.length=0,B.state=z.TEXT}function Y(B){var M=B.entity,de=M.toLowerCase(),ce,te="";return B.ENTITIES[M]?B.ENTITIES[M]:B.ENTITIES[de]?B.ENTITIES[de]:(M=de,M.charAt(0)==="#"&&(M.charAt(1)==="x"?(M=M.slice(2),ce=parseInt(M,16),te=ce.toString(16)):(M=M.slice(1),ce=parseInt(M,10),te=ce.toString(10))),M=M.replace(/^0+/,""),isNaN(ce)||te.toLowerCase()!==M?(pe(B,"Invalid character entity"),"&"+B.entity+";"):String.fromCodePoint(ce))}function Q(B,M){M==="<"?(B.state=z.OPEN_WAKA,B.startTagPosition=B.position):A(M)||(pe(B,"Non-whitespace before first tag."),B.textNode=M,B.state=z.TEXT)}function me(B,M){var de="";return M<B.length&&(de=B.charAt(M)),de}function ae(B){var M=this;if(this.error)throw this.error;if(M.closed)return be(M,"Cannot write after close. Assign an onready handler.");if(B===null)return Ee(M);typeof B=="object"&&(B=B.toString());for(var de=0,ce="";ce=me(B,de++),M.c=ce,!!ce;)switch(M.trackPosition&&(M.position++,ce===`
`?(M.line++,M.column=0):M.column++),M.state){case z.BEGIN:if(M.state=z.BEGIN_WHITESPACE,ce==="\uFEFF")continue;Q(M,ce);continue;case z.BEGIN_WHITESPACE:Q(M,ce);continue;case z.TEXT:if(M.sawRoot&&!M.closedRoot){for(var te=de-1;ce&&ce!=="<"&&ce!=="&";)ce=me(B,de++),ce&&M.trackPosition&&(M.position++,ce===`
`?(M.line++,M.column=0):M.column++);M.textNode+=B.substring(te,de-1)}ce==="<"&&!(M.sawRoot&&M.closedRoot&&!M.strict)?(M.state=z.OPEN_WAKA,M.startTagPosition=M.position):(!A(ce)&&(!M.sawRoot||M.closedRoot)&&pe(M,"Text data outside of root node."),ce==="&"?M.state=z.TEXT_ENTITY:M.textNode+=ce);continue;case z.SCRIPT:ce==="<"?M.state=z.SCRIPT_ENDING:M.script+=ce;continue;case z.SCRIPT_ENDING:ce==="/"?M.state=z.CLOSE_TAG:(M.script+="<"+ce,M.state=z.SCRIPT);continue;case z.OPEN_WAKA:if(ce==="!")M.state=z.SGML_DECL,M.sgmlDecl="";else if(!A(ce))if(oe(O,ce))M.state=z.OPEN_TAG,M.tagName=ce;else if(ce==="/")M.state=z.CLOSE_TAG,M.tagName="";else if(ce==="?")M.state=z.PROC_INST,M.procInstName=M.procInstBody="";else{if(pe(M,"Unencoded <"),M.startTagPosition+1<M.position){var fe=M.position-M.startTagPosition;ce=new Array(fe).join(" ")+ce}M.textNode+="<"+ce,M.state=z.TEXT}continue;case z.SGML_DECL:(M.sgmlDecl+ce).toUpperCase()===k?(F(M,"onopencdata"),M.state=z.CDATA,M.sgmlDecl="",M.cdata=""):M.sgmlDecl+ce==="--"?(M.state=z.COMMENT,M.comment="",M.sgmlDecl=""):(M.sgmlDecl+ce).toUpperCase()===b?(M.state=z.DOCTYPE,(M.doctype||M.sawRoot)&&pe(M,"Inappropriately located doctype declaration"),M.doctype="",M.sgmlDecl=""):ce===">"?(F(M,"onsgmldeclaration",M.sgmlDecl),M.sgmlDecl="",M.state=z.TEXT):(q(ce)&&(M.state=z.SGML_DECL_QUOTED),M.sgmlDecl+=ce);continue;case z.SGML_DECL_QUOTED:ce===M.q&&(M.state=z.SGML_DECL,M.q=""),M.sgmlDecl+=ce;continue;case z.DOCTYPE:ce===">"?(M.state=z.TEXT,F(M,"ondoctype",M.doctype),M.doctype=!0):(M.doctype+=ce,ce==="["?M.state=z.DOCTYPE_DTD:q(ce)&&(M.state=z.DOCTYPE_QUOTED,M.q=ce));continue;case z.DOCTYPE_QUOTED:M.doctype+=ce,ce===M.q&&(M.q="",M.state=z.DOCTYPE);continue;case z.DOCTYPE_DTD:M.doctype+=ce,ce==="]"?M.state=z.DOCTYPE:q(ce)&&(M.state=z.DOCTYPE_DTD_QUOTED,M.q=ce);continue;case z.DOCTYPE_DTD_QUOTED:M.doctype+=ce,ce===M.q&&(M.state=z.DOCTYPE_DTD,M.q="");continue;case z.COMMENT:ce==="-"?M.state=z.COMMENT_ENDING:M.comment+=ce;continue;case z.COMMENT_ENDING:ce==="-"?(M.state=z.COMMENT_ENDED,M.comment=P(M.opt,M.comment),M.comment&&F(M,"oncomment",M.comment),M.comment=""):(M.comment+="-"+ce,M.state=z.COMMENT);continue;case z.COMMENT_ENDED:ce!==">"?(pe(M,"Malformed comment"),M.comment+="--"+ce,M.state=z.COMMENT):M.state=z.TEXT;continue;case z.CDATA:ce==="]"?M.state=z.CDATA_ENDING:M.cdata+=ce;continue;case z.CDATA_ENDING:ce==="]"?M.state=z.CDATA_ENDING_2:(M.cdata+="]"+ce,M.state=z.CDATA);continue;case z.CDATA_ENDING_2:ce===">"?(M.cdata&&F(M,"oncdata",M.cdata),F(M,"onclosecdata"),M.cdata="",M.state=z.TEXT):ce==="]"?M.cdata+="]":(M.cdata+="]]"+ce,M.state=z.CDATA);continue;case z.PROC_INST:ce==="?"?M.state=z.PROC_INST_ENDING:A(ce)?M.state=z.PROC_INST_BODY:M.procInstName+=ce;continue;case z.PROC_INST_BODY:if(!M.procInstBody&&A(ce))continue;ce==="?"?M.state=z.PROC_INST_ENDING:M.procInstBody+=ce;continue;case z.PROC_INST_ENDING:ce===">"?(F(M,"onprocessinginstruction",{name:M.procInstName,body:M.procInstBody}),M.procInstName=M.procInstBody="",M.state=z.TEXT):(M.procInstBody+="?"+ce,M.state=z.PROC_INST_BODY);continue;case z.OPEN_TAG:oe(x,ce)?M.tagName+=ce:(xe(M),ce===">"?X(M):ce==="/"?M.state=z.OPEN_TAG_SLASH:(A(ce)||pe(M,"Invalid character in tag name"),M.state=z.ATTRIB));continue;case z.OPEN_TAG_SLASH:ce===">"?(X(M,!0),E(M)):(pe(M,"Forward-slash in opening tag not followed by >"),M.state=z.ATTRIB);continue;case z.ATTRIB:if(A(ce))continue;ce===">"?X(M):ce==="/"?M.state=z.OPEN_TAG_SLASH:oe(O,ce)?(M.attribName=ce,M.attribValue="",M.state=z.ATTRIB_NAME):pe(M,"Invalid attribute name");continue;case z.ATTRIB_NAME:ce==="="?M.state=z.ATTRIB_VALUE:ce===">"?(pe(M,"Attribute without value"),M.attribValue=M.attribName,De(M),X(M)):A(ce)?M.state=z.ATTRIB_NAME_SAW_WHITE:oe(x,ce)?M.attribName+=ce:pe(M,"Invalid attribute name");continue;case z.ATTRIB_NAME_SAW_WHITE:if(ce==="=")M.state=z.ATTRIB_VALUE;else{if(A(ce))continue;pe(M,"Attribute without value"),M.tag.attributes[M.attribName]="",M.attribValue="",F(M,"onattribute",{name:M.attribName,value:""}),M.attribName="",ce===">"?X(M):oe(O,ce)?(M.attribName=ce,M.state=z.ATTRIB_NAME):(pe(M,"Invalid attribute name"),M.state=z.ATTRIB)}continue;case z.ATTRIB_VALUE:if(A(ce))continue;q(ce)?(M.q=ce,M.state=z.ATTRIB_VALUE_QUOTED):(pe(M,"Unquoted attribute value"),M.state=z.ATTRIB_VALUE_UNQUOTED,M.attribValue=ce);continue;case z.ATTRIB_VALUE_QUOTED:if(ce!==M.q){ce==="&"?M.state=z.ATTRIB_VALUE_ENTITY_Q:M.attribValue+=ce;continue}De(M),M.q="",M.state=z.ATTRIB_VALUE_CLOSED;continue;case z.ATTRIB_VALUE_CLOSED:A(ce)?M.state=z.ATTRIB:ce===">"?X(M):ce==="/"?M.state=z.OPEN_TAG_SLASH:oe(O,ce)?(pe(M,"No whitespace between attributes"),M.attribName=ce,M.attribValue="",M.state=z.ATTRIB_NAME):pe(M,"Invalid attribute name");continue;case z.ATTRIB_VALUE_UNQUOTED:if(!ie(ce)){ce==="&"?M.state=z.ATTRIB_VALUE_ENTITY_U:M.attribValue+=ce;continue}De(M),ce===">"?X(M):M.state=z.ATTRIB;continue;case z.CLOSE_TAG:if(M.tagName)ce===">"?E(M):oe(x,ce)?M.tagName+=ce:M.script?(M.script+="</"+M.tagName,M.tagName="",M.state=z.SCRIPT):(A(ce)||pe(M,"Invalid tagname in closing tag"),M.state=z.CLOSE_TAG_SAW_WHITE);else{if(A(ce))continue;ne(O,ce)?M.script?(M.script+="</"+ce,M.state=z.SCRIPT):pe(M,"Invalid tagname in closing tag."):M.tagName=ce}continue;case z.CLOSE_TAG_SAW_WHITE:if(A(ce))continue;ce===">"?E(M):pe(M,"Invalid characters in closing tag");continue;case z.TEXT_ENTITY:case z.ATTRIB_VALUE_ENTITY_Q:case z.ATTRIB_VALUE_ENTITY_U:var Oe,W;switch(M.state){case z.TEXT_ENTITY:Oe=z.TEXT,W="textNode";break;case z.ATTRIB_VALUE_ENTITY_Q:Oe=z.ATTRIB_VALUE_QUOTED,W="attribValue";break;case z.ATTRIB_VALUE_ENTITY_U:Oe=z.ATTRIB_VALUE_UNQUOTED,W="attribValue";break}ce===";"?(M[W]+=Y(M),M.entity="",M.state=Oe):oe(M.entity.length?T:R,ce)?M.entity+=ce:(pe(M,"Invalid character in entity name"),M[W]+="&"+M.entity+ce,M.entity="",M.state=Oe);continue;default:throw new Error(M,"Unknown state: "+M.state)}return M.position>=M.bufferCheckPosition&&a(M),M}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var B=String.fromCharCode,M=Math.floor,de=function(){var ce=16384,te=[],fe,Oe,W=-1,ee=arguments.length;if(!ee)return"";for(var V="";++W<ee;){var S=Number(arguments[W]);if(!isFinite(S)||S<0||S>1114111||M(S)!==S)throw RangeError("Invalid code point: "+S);S<=65535?te.push(S):(S-=65536,fe=(S>>10)+55296,Oe=S%1024+56320,te.push(fe,Oe)),(W+1===ee||te.length>ce)&&(V+=B.apply(null,te),te.length=0)}return V};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:de,configurable:!0,writable:!0}):String.fromCodePoint=de})()})(r)})(Rh)),Rh}var Xp,Iy;function Sm(){return Iy||(Iy=1,Xp={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),Xp}var Jp,Py;function km(){if(Py)return Jp;Py=1;var r=Sm().isArray;return Jp={copyOptions:function(e){var t,o={};for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},Jp}var Zp,Ry;function x5(){if(Ry)return Zp;Ry=1;var r=j4(),e=km(),t=Sm().isArray,o,a;function s(x){return o=e.copyOptions(x),e.ensureFlagExists("ignoreDeclaration",o),e.ensureFlagExists("ignoreInstruction",o),e.ensureFlagExists("ignoreAttributes",o),e.ensureFlagExists("ignoreText",o),e.ensureFlagExists("ignoreComment",o),e.ensureFlagExists("ignoreCdata",o),e.ensureFlagExists("ignoreDoctype",o),e.ensureFlagExists("compact",o),e.ensureFlagExists("alwaysChildren",o),e.ensureFlagExists("addParent",o),e.ensureFlagExists("trim",o),e.ensureFlagExists("nativeType",o),e.ensureFlagExists("nativeTypeAttributes",o),e.ensureFlagExists("sanitize",o),e.ensureFlagExists("instructionHasAttributes",o),e.ensureFlagExists("captureSpacesBetweenElements",o),e.ensureAlwaysArrayExists(o),e.ensureKeyExists("declaration",o),e.ensureKeyExists("instruction",o),e.ensureKeyExists("attributes",o),e.ensureKeyExists("text",o),e.ensureKeyExists("comment",o),e.ensureKeyExists("cdata",o),e.ensureKeyExists("doctype",o),e.ensureKeyExists("type",o),e.ensureKeyExists("name",o),e.ensureKeyExists("elements",o),e.ensureKeyExists("parent",o),e.checkFnExists("doctype",o),e.checkFnExists("instruction",o),e.checkFnExists("cdata",o),e.checkFnExists("comment",o),e.checkFnExists("text",o),e.checkFnExists("instructionName",o),e.checkFnExists("elementName",o),e.checkFnExists("attributeName",o),e.checkFnExists("attributeValue",o),e.checkFnExists("attributes",o),o}function u(x){var R=Number(x);if(!isNaN(R))return R;var T=x.toLowerCase();return T==="true"?!0:T==="false"?!1:x}function l(x,R){var T;if(o.compact){if(!a[o[x+"Key"]]&&(t(o.alwaysArray)?o.alwaysArray.indexOf(o[x+"Key"])!==-1:o.alwaysArray)&&(a[o[x+"Key"]]=[]),a[o[x+"Key"]]&&!t(a[o[x+"Key"]])&&(a[o[x+"Key"]]=[a[o[x+"Key"]]]),x+"Fn"in o&&typeof R=="string"&&(R=o[x+"Fn"](R,a)),x==="instruction"&&("instructionFn"in o||"instructionNameFn"in o)){for(T in R)if(R.hasOwnProperty(T))if("instructionFn"in o)R[T]=o.instructionFn(R[T],T,a);else{var A=R[T];delete R[T],R[o.instructionNameFn(T,A,a)]=A}}t(a[o[x+"Key"]])?a[o[x+"Key"]].push(R):a[o[x+"Key"]]=R}else{a[o.elementsKey]||(a[o.elementsKey]=[]);var q={};if(q[o.typeKey]=x,x==="instruction"){for(T in R)if(R.hasOwnProperty(T))break;q[o.nameKey]="instructionNameFn"in o?o.instructionNameFn(T,R,a):T,o.instructionHasAttributes?(q[o.attributesKey]=R[T][o.attributesKey],"instructionFn"in o&&(q[o.attributesKey]=o.instructionFn(q[o.attributesKey],T,a))):("instructionFn"in o&&(R[T]=o.instructionFn(R[T],T,a)),q[o.instructionKey]=R[T])}else x+"Fn"in o&&(R=o[x+"Fn"](R,a)),q[o[x+"Key"]]=R;o.addParent&&(q[o.parentKey]=a),a[o.elementsKey].push(q)}}function f(x){if("attributesFn"in o&&x&&(x=o.attributesFn(x,a)),(o.trim||"attributeValueFn"in o||"attributeNameFn"in o||o.nativeTypeAttributes)&&x){var R;for(R in x)if(x.hasOwnProperty(R)&&(o.trim&&(x[R]=x[R].trim()),o.nativeTypeAttributes&&(x[R]=u(x[R])),"attributeValueFn"in o&&(x[R]=o.attributeValueFn(x[R],R,a)),"attributeNameFn"in o)){var T=x[R];delete x[R],x[o.attributeNameFn(R,x[R],a)]=T}}return x}function d(x){var R={};if(x.body&&(x.name.toLowerCase()==="xml"||o.instructionHasAttributes)){for(var T=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,A;(A=T.exec(x.body))!==null;)R[A[1]]=A[2]||A[3]||A[4];R=f(R)}if(x.name.toLowerCase()==="xml"){if(o.ignoreDeclaration)return;a[o.declarationKey]={},Object.keys(R).length&&(a[o.declarationKey][o.attributesKey]=R),o.addParent&&(a[o.declarationKey][o.parentKey]=a)}else{if(o.ignoreInstruction)return;o.trim&&(x.body=x.body.trim());var q={};o.instructionHasAttributes&&Object.keys(R).length?(q[x.name]={},q[x.name][o.attributesKey]=R):q[x.name]=x.body,l("instruction",q)}}function m(x,R){var T;if(typeof x=="object"&&(R=x.attributes,x=x.name),R=f(R),"elementNameFn"in o&&(x=o.elementNameFn(x,a)),o.compact){if(T={},!o.ignoreAttributes&&R&&Object.keys(R).length){T[o.attributesKey]={};var A;for(A in R)R.hasOwnProperty(A)&&(T[o.attributesKey][A]=R[A])}!(x in a)&&(t(o.alwaysArray)?o.alwaysArray.indexOf(x)!==-1:o.alwaysArray)&&(a[x]=[]),a[x]&&!t(a[x])&&(a[x]=[a[x]]),t(a[x])?a[x].push(T):a[x]=T}else a[o.elementsKey]||(a[o.elementsKey]=[]),T={},T[o.typeKey]="element",T[o.nameKey]=x,!o.ignoreAttributes&&R&&Object.keys(R).length&&(T[o.attributesKey]=R),o.alwaysChildren&&(T[o.elementsKey]=[]),a[o.elementsKey].push(T);T[o.parentKey]=a,a=T}function k(x){o.ignoreText||!x.trim()&&!o.captureSpacesBetweenElements||(o.trim&&(x=x.trim()),o.nativeType&&(x=u(x)),o.sanitize&&(x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",x))}function b(x){o.ignoreComment||(o.trim&&(x=x.trim()),l("comment",x))}function g(x){var R=a[o.parentKey];o.addParent||delete a[o.parentKey],a=R}function j(x){o.ignoreCdata||(o.trim&&(x=x.trim()),l("cdata",x))}function N(x){o.ignoreDoctype||(x=x.replace(/^ /,""),o.trim&&(x=x.trim()),l("doctype",x))}function O(x){x.note=x}return Zp=function(x,R){var T=r.parser(!0,{}),A={};if(a=A,o=s(R),T.opt={strictEntities:!0},T.onopentag=m,T.ontext=k,T.oncomment=b,T.onclosetag=g,T.onerror=O,T.oncdata=j,T.ondoctype=N,T.onprocessinginstruction=d,T.write(x).close(),A[o.elementsKey]){var q=A[o.elementsKey];delete A[o.elementsKey],A[o.elementsKey]=q,delete A.text}return A},Zp}var Qp,Dy;function I4(){if(Dy)return Qp;Dy=1;var r=km(),e=x5();function t(o){var a=r.copyOptions(o);return r.ensureSpacesExists(a),a}return Qp=function(o,a){var s,u,l,f;return s=t(a),u=e(o,s),f="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?l=JSON.stringify(u,function(d,m){return d===f?"_":m},s.spaces):l=JSON.stringify(u,null,s.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Qp}var e1,Oy;function b5(){if(Oy)return e1;Oy=1;var r=km(),e=Sm().isArray,t,o;function a(T){var A=r.copyOptions(T);return r.ensureFlagExists("ignoreDeclaration",A),r.ensureFlagExists("ignoreInstruction",A),r.ensureFlagExists("ignoreAttributes",A),r.ensureFlagExists("ignoreText",A),r.ensureFlagExists("ignoreComment",A),r.ensureFlagExists("ignoreCdata",A),r.ensureFlagExists("ignoreDoctype",A),r.ensureFlagExists("compact",A),r.ensureFlagExists("indentText",A),r.ensureFlagExists("indentCdata",A),r.ensureFlagExists("indentAttributes",A),r.ensureFlagExists("indentInstruction",A),r.ensureFlagExists("fullTagEmptyElement",A),r.ensureFlagExists("noQuotesForNativeAttributes",A),r.ensureSpacesExists(A),typeof A.spaces=="number"&&(A.spaces=Array(A.spaces+1).join(" ")),r.ensureKeyExists("declaration",A),r.ensureKeyExists("instruction",A),r.ensureKeyExists("attributes",A),r.ensureKeyExists("text",A),r.ensureKeyExists("comment",A),r.ensureKeyExists("cdata",A),r.ensureKeyExists("doctype",A),r.ensureKeyExists("type",A),r.ensureKeyExists("name",A),r.ensureKeyExists("elements",A),r.checkFnExists("doctype",A),r.checkFnExists("instruction",A),r.checkFnExists("cdata",A),r.checkFnExists("comment",A),r.checkFnExists("text",A),r.checkFnExists("instructionName",A),r.checkFnExists("elementName",A),r.checkFnExists("attributeName",A),r.checkFnExists("attributeValue",A),r.checkFnExists("attributes",A),r.checkFnExists("fullTagEmptyElement",A),A}function s(T,A,q){return(!q&&T.spaces?`
`:"")+Array(A+1).join(T.spaces)}function u(T,A,q){if(A.ignoreAttributes)return"";"attributesFn"in A&&(T=A.attributesFn(T,o,t));var ie,oe,ne,z,le=[];for(ie in T)T.hasOwnProperty(ie)&&T[ie]!==null&&T[ie]!==void 0&&(z=A.noQuotesForNativeAttributes&&typeof T[ie]!="string"?"":'"',oe=""+T[ie],oe=oe.replace(/"/g,"&quot;"),ne="attributeNameFn"in A?A.attributeNameFn(ie,oe,o,t):ie,le.push(A.spaces&&A.indentAttributes?s(A,q+1,!1):" "),le.push(ne+"="+z+("attributeValueFn"in A?A.attributeValueFn(oe,ie,o,t):oe)+z));return T&&Object.keys(T).length&&A.spaces&&A.indentAttributes&&le.push(s(A,q,!1)),le.join("")}function l(T,A,q){return t=T,o="xml",A.ignoreDeclaration?"":"<?xml"+u(T[A.attributesKey],A,q)+"?>"}function f(T,A,q){if(A.ignoreInstruction)return"";var ie;for(ie in T)if(T.hasOwnProperty(ie))break;var oe="instructionNameFn"in A?A.instructionNameFn(ie,T[ie],o,t):ie;if(typeof T[ie]=="object")return t=T,o=oe,"<?"+oe+u(T[ie][A.attributesKey],A,q)+"?>";var ne=T[ie]?T[ie]:"";return"instructionFn"in A&&(ne=A.instructionFn(ne,ie,o,t)),"<?"+oe+(ne?" "+ne:"")+"?>"}function d(T,A){return A.ignoreComment?"":"<!--"+("commentFn"in A?A.commentFn(T,o,t):T)+"-->"}function m(T,A){return A.ignoreCdata?"":"<![CDATA["+("cdataFn"in A?A.cdataFn(T,o,t):T.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function k(T,A){return A.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in A?A.doctypeFn(T,o,t):T)+">"}function b(T,A){return A.ignoreText?"":(T=""+T,T=T.replace(/&amp;/g,"&"),T=T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in A?A.textFn(T,o,t):T)}function g(T,A){var q;if(T.elements&&T.elements.length)for(q=0;q<T.elements.length;++q)switch(T.elements[q][A.typeKey]){case"text":if(A.indentText)return!0;break;case"cdata":if(A.indentCdata)return!0;break;case"instruction":if(A.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function j(T,A,q){t=T,o=T.name;var ie=[],oe="elementNameFn"in A?A.elementNameFn(T.name,T):T.name;ie.push("<"+oe),T[A.attributesKey]&&ie.push(u(T[A.attributesKey],A,q));var ne=T[A.elementsKey]&&T[A.elementsKey].length||T[A.attributesKey]&&T[A.attributesKey]["xml:space"]==="preserve";return ne||("fullTagEmptyElementFn"in A?ne=A.fullTagEmptyElementFn(T.name,T):ne=A.fullTagEmptyElement),ne?(ie.push(">"),T[A.elementsKey]&&T[A.elementsKey].length&&(ie.push(N(T[A.elementsKey],A,q+1)),t=T,o=T.name),ie.push(A.spaces&&g(T,A)?`
`+Array(q+1).join(A.spaces):""),ie.push("</"+oe+">")):ie.push("/>"),ie.join("")}function N(T,A,q,ie){return T.reduce(function(oe,ne){var z=s(A,q,ie&&!oe);switch(ne.type){case"element":return oe+z+j(ne,A,q);case"comment":return oe+z+d(ne[A.commentKey],A);case"doctype":return oe+z+k(ne[A.doctypeKey],A);case"cdata":return oe+(A.indentCdata?z:"")+m(ne[A.cdataKey],A);case"text":return oe+(A.indentText?z:"")+b(ne[A.textKey],A);case"instruction":var le={};return le[ne[A.nameKey]]=ne[A.attributesKey]?ne:ne[A.instructionKey],oe+(A.indentInstruction?z:"")+f(le,A,q)}},"")}function O(T,A,q){var ie;for(ie in T)if(T.hasOwnProperty(ie))switch(ie){case A.parentKey:case A.attributesKey:break;case A.textKey:if(A.indentText||q)return!0;break;case A.cdataKey:if(A.indentCdata||q)return!0;break;case A.instructionKey:if(A.indentInstruction||q)return!0;break;case A.doctypeKey:case A.commentKey:return!0;default:return!0}return!1}function x(T,A,q,ie,oe){t=T,o=A;var ne="elementNameFn"in q?q.elementNameFn(A,T):A;if(typeof T>"u"||T===null||T==="")return"fullTagEmptyElementFn"in q&&q.fullTagEmptyElementFn(A,T)||q.fullTagEmptyElement?"<"+ne+"></"+ne+">":"<"+ne+"/>";var z=[];if(A){if(z.push("<"+ne),typeof T!="object")return z.push(">"+b(T,q)+"</"+ne+">"),z.join("");T[q.attributesKey]&&z.push(u(T[q.attributesKey],q,ie));var le=O(T,q,!0)||T[q.attributesKey]&&T[q.attributesKey]["xml:space"]==="preserve";if(le||("fullTagEmptyElementFn"in q?le=q.fullTagEmptyElementFn(A,T):le=q.fullTagEmptyElement),le)z.push(">");else return z.push("/>"),z.join("")}return z.push(R(T,q,ie+1,!1)),t=T,o=A,A&&z.push((oe?s(q,ie,!1):"")+"</"+ne+">"),z.join("")}function R(T,A,q,ie){var oe,ne,z,le=[];for(ne in T)if(T.hasOwnProperty(ne))for(z=e(T[ne])?T[ne]:[T[ne]],oe=0;oe<z.length;++oe){switch(ne){case A.declarationKey:le.push(l(z[oe],A,q));break;case A.instructionKey:le.push((A.indentInstruction?s(A,q,ie):"")+f(z[oe],A,q));break;case A.attributesKey:case A.parentKey:break;case A.textKey:le.push((A.indentText?s(A,q,ie):"")+b(z[oe],A));break;case A.cdataKey:le.push((A.indentCdata?s(A,q,ie):"")+m(z[oe],A));break;case A.doctypeKey:le.push(s(A,q,ie)+k(z[oe],A));break;case A.commentKey:le.push(s(A,q,ie)+d(z[oe],A));break;default:le.push(s(A,q,ie)+x(z[oe],ne,A,q,O(z[oe],A)))}ie=ie&&!le.length}return le.join("")}return e1=function(T,A){A=a(A);var q=[];return t=T,o="_root_",A.compact?q.push(R(T,A,0,!0)):(T[A.declarationKey]&&q.push(l(T[A.declarationKey],A,0)),T[A.elementsKey]&&T[A.elementsKey].length&&q.push(N(T[A.elementsKey],A,0,!q.length))),q.join("")},e1}var t1,Fy;function P4(){if(Fy)return t1;Fy=1;var r=b5();return t1=function(e,t){e instanceof Buffer&&(e=e.toString());var o=null;if(typeof e=="string")try{o=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else o=e;return r(o,t)},t1}var n1,By;function R4(){if(By)return n1;By=1;var r=x5(),e=I4(),t=b5(),o=P4();return n1={xml2js:r,xml2json:e,js2xml:t,json2xml:o},n1}var _5=R4();const Am=r=>{switch(r.type){case void 0:case"element":const e=new O4(r.name,r.attributes),t=r.elements||[];for(const o of t){const a=Am(o);a!==void 0&&e.push(a)}return e;case"text":return r.text;default:return}};class D4 extends cr{}class O4 extends Rt{static fromXmlString(e){const t=_5.xml2js(e,{compact:!1});return Am(t)}constructor(e,t){super(e),t&&this.root.push(new D4(t))}push(e){this.root.push(e)}}class F4 extends Rt{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class S5 extends Rt{constructor(e,t){super(e),t&&(this.root=t.root)}}const Xs=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},Ud=r=>{const e=Xs(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},k5=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},My=r=>k5(r,1),A5=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},N5=r=>{const e=A5(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Du=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return k5(e,3)},Gc=r=>typeof r=="string"?A5(r):Xs(r),B4=r=>typeof r=="string"?N5(r):Ud(r),el=r=>typeof r=="string"?N5(r):Ud(r),M4=Ud,z4=Ud,U4=r=>r.toISOString();class Ot extends Rt{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new jo({val:t}))}}class r1 extends Rt{constructor(e,t){super(e),this.root.push(new jo({val:B4(t)}))}}class Nu extends Rt{constructor(e,t){super(e),this.root.push(new jo({val:t}))}}const ef=(r,e)=>new Tl({name:r,attributes:{value:{key:"w:val",value:e}}});class ff extends Rt{constructor(e,t){super(e),this.root.push(new jo({val:t}))}}class Bc extends Rt{constructor(e,t){super(e),this.root.push(t)}}class Tl extends Rt{constructor({name:e,attributes:t,children:o}){super(e),t&&this.root.push(new Bd(t)),o&&this.root.push(...o)}}const Sl={START:"start",LEFT:"left"};class $4 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val"})}}class q4 extends Rt{constructor(e){super("w:jc"),this.root.push(new $4({val:e}))}}class vo extends Rt{constructor(e,{color:t,size:o,space:a,style:s}){super(e),this.root.push(new W4({style:s,color:t===void 0?void 0:Du(t),size:o===void 0?void 0:M4(o),space:a===void 0?void 0:z4(a)}))}}class W4 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Nm={SINGLE:"single",NONE:"none"};class H4 extends Fd{constructor(e){super("w:pBdr"),e.top&&this.root.push(new vo("w:top",e.top)),e.bottom&&this.root.push(new vo("w:bottom",e.bottom)),e.left&&this.root.push(new vo("w:left",e.left)),e.right&&this.root.push(new vo("w:right",e.right))}}class G4 extends Rt{constructor(){super("w:pBdr");const e=new vo("w:bottom",{color:"auto",space:1,style:Nm.SINGLE,size:6});this.root.push(e)}}class V4 extends Rt{constructor({start:e,end:t,left:o,right:a,hanging:s,firstLine:u}){super("w:ind"),this.root.push(new Bd({start:{key:"w:start",value:e===void 0?void 0:Gc(e)},end:{key:"w:end",value:t===void 0?void 0:Gc(t)},left:{key:"w:left",value:o===void 0?void 0:Gc(o)},right:{key:"w:right",value:a===void 0?void 0:Gc(a)},hanging:{key:"w:hanging",value:s===void 0?void 0:el(s)},firstLine:{key:"w:firstLine",value:u===void 0?void 0:el(u)}}))}}let K4=class extends Rt{constructor(){super("w:br")}};const Em={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Cm extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class td extends Rt{constructor(e){super("w:fldChar"),this.root.push(new Cm({type:Em.BEGIN,dirty:e}))}}class nd extends Rt{constructor(e){super("w:fldChar"),this.root.push(new Cm({type:Em.SEPARATE,dirty:e}))}}class rd extends Rt{constructor(e){super("w:fldChar"),this.root.push(new Cm({type:Em.END,dirty:e}))}}const Ou={DEFAULT:"default",PRESERVE:"preserve"};class Fu extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{space:"xml:space"})}}class Y4 extends Rt{constructor(){super("w:instrText"),this.root.push(new Fu({space:Ou.PRESERVE})),this.root.push("PAGE")}}class X4 extends Rt{constructor(){super("w:instrText"),this.root.push(new Fu({space:Ou.PRESERVE})),this.root.push("NUMPAGES")}}class J4 extends Rt{constructor(){super("w:instrText"),this.root.push(new Fu({space:Ou.PRESERVE})),this.root.push("SECTIONPAGES")}}class Z4 extends Rt{constructor(){super("w:instrText"),this.root.push(new Fu({space:Ou.PRESERVE})),this.root.push("SECTION")}}class Q4 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class E5 extends Rt{constructor({fill:e,color:t,type:o}){super("w:shd"),this.root.push(new Q4({fill:e===void 0?void 0:Du(e),color:t===void 0?void 0:Du(t),type:o}))}}class e3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const t3={DOT:"dot"};class n3 extends Rt{constructor(e){super("w:em"),this.root.push(new jo({val:e}))}}class r3 extends n3{constructor(e=t3.DOT){super(e)}}class i3 extends Rt{constructor(e){super("w:spacing"),this.root.push(new jo({val:Gc(e)}))}}class o3 extends Rt{constructor(e){super("w:color"),this.root.push(new jo({val:Du(e)}))}}class s3 extends Rt{constructor(e){super("w:highlight"),this.root.push(new jo({val:e}))}}class a3 extends Rt{constructor(e){super("w:highlightCs"),this.root.push(new jo({val:e}))}}const l3=r=>new Tl({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class zy extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class i1 extends Rt{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new zy({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:t}))}else{const o=e;this.root.push(new zy(o))}}}let C5=class extends Rt{constructor(e){super("w:vertAlign"),this.root.push(new jo({val:e}))}};class c3 extends C5{constructor(){super("superscript")}}class u3 extends C5{constructor(){super("subscript")}}const T5={SINGLE:"single"};class f3 extends Rt{constructor(e=T5.SINGLE,t){super("w:u"),this.root.push(new jo({val:e,color:t===void 0?void 0:Du(t)}))}}class Xc extends Fd{constructor(e){var t,o;if(super("w:rPr"),!e)return;e.style&&this.push(new Nu("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new i1(e.font)):"name"in e.font?this.push(new i1(e.font.name,e.font.hint)):this.push(new i1(e.font))),e.bold!==void 0&&this.push(new Ot("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ot("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new Ot("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ot("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.smallCaps!==void 0?this.push(new Ot("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ot("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ot("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ot("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Ot("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ot("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Ot("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Ot("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ot("w:vanish",e.vanish)),e.color&&this.push(new o3(e.color)),e.characterSpacing&&this.push(new i3(e.characterSpacing)),e.scale!==void 0&&this.push(new ff("w:w",e.scale)),e.kern&&this.push(new r1("w:kern",e.kern)),e.position&&this.push(new Nu("w:position",e.position)),e.size!==void 0&&this.push(new r1("w:sz",e.size));const a=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;a&&this.push(new r1("w:szCs",a)),e.highlight&&this.push(new s3(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new a3(s)),e.underline&&this.push(new f3(e.underline.type,e.underline.color)),e.effect&&this.push(new Nu("w:effect",e.effect)),e.border&&this.push(new vo("w:bdr",e.border)),e.shading&&this.push(new E5(e.shading)),e.subScript&&this.push(new u3),e.superScript&&this.push(new c3),e.rightToLeft!==void 0&&this.push(new Ot("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new r3(e.emphasisMark.type)),e.language&&this.push(l3(e.language)),e.specVanish&&this.push(new Ot("w:specVanish",e.vanish)),e.math&&this.push(new Ot("w:oMath",e.math)),e.revision&&this.push(new d3(e.revision))}push(e){this.root.push(e)}}class d3 extends Rt{constructor(e){super("w:rPrChange"),this.root.push(new e3({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Xc(e))}}class Uy extends Rt{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new Fu({space:Ou.PRESERVE})),this.root.push(e)):(this.root.push(new Fu({space:(t=e.space)!=null?t:Ou.DEFAULT})),this.root.push(e.text))}}const id={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class $d extends Rt{constructor(e){if(super("w:r"),Nt(this,"properties"),this.properties=new Xc(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new K4);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case id.CURRENT:this.root.push(new td),this.root.push(new Y4),this.root.push(new nd),this.root.push(new rd);break;case id.TOTAL_PAGES:this.root.push(new td),this.root.push(new X4),this.root.push(new nd),this.root.push(new rd);break;case id.TOTAL_PAGES_IN_SECTION:this.root.push(new td),this.root.push(new J4),this.root.push(new nd),this.root.push(new rd);break;case id.CURRENT_SECTION:this.root.push(new td),this.root.push(new Z4),this.root.push(new nd),this.root.push(new rd);break;default:this.root.push(new Uy(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new Uy(e.text))}}class Id extends $d{constructor(e){super(typeof e=="string"?{text:e}:e)}}var o1={},Li={},s1,$y;function _f(){if($y)return s1;$y=1,s1=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,o,a){if(t!=o)throw new Error(a||"Assertion failed: "+t+" != "+o)},s1}var qy;function Ll(){if(qy)return Li;qy=1;var r=_f(),e=Ec();Li.inherits=e;function t(F,J){return(F.charCodeAt(J)&64512)!==55296||J<0||J+1>=F.length?!1:(F.charCodeAt(J+1)&64512)===56320}function o(F,J){if(Array.isArray(F))return F.slice();if(!F)return[];var P=[];if(typeof F=="string")if(J){if(J==="hex")for(F=F.replace(/[^a-z0-9]+/ig,""),F.length%2!==0&&(F="0"+F),Ee=0;Ee<F.length;Ee+=2)P.push(parseInt(F[Ee]+F[Ee+1],16))}else for(var be=0,Ee=0;Ee<F.length;Ee++){var pe=F.charCodeAt(Ee);pe<128?P[be++]=pe:pe<2048?(P[be++]=pe>>6|192,P[be++]=pe&63|128):t(F,Ee)?(pe=65536+((pe&1023)<<10)+(F.charCodeAt(++Ee)&1023),P[be++]=pe>>18|240,P[be++]=pe>>12&63|128,P[be++]=pe>>6&63|128,P[be++]=pe&63|128):(P[be++]=pe>>12|224,P[be++]=pe>>6&63|128,P[be++]=pe&63|128)}else for(Ee=0;Ee<F.length;Ee++)P[Ee]=F[Ee]|0;return P}Li.toArray=o;function a(F){for(var J="",P=0;P<F.length;P++)J+=l(F[P].toString(16));return J}Li.toHex=a;function s(F){var J=F>>>24|F>>>8&65280|F<<8&16711680|(F&255)<<24;return J>>>0}Li.htonl=s;function u(F,J){for(var P="",be=0;be<F.length;be++){var Ee=F[be];J==="little"&&(Ee=s(Ee)),P+=f(Ee.toString(16))}return P}Li.toHex32=u;function l(F){return F.length===1?"0"+F:F}Li.zero2=l;function f(F){return F.length===7?"0"+F:F.length===6?"00"+F:F.length===5?"000"+F:F.length===4?"0000"+F:F.length===3?"00000"+F:F.length===2?"000000"+F:F.length===1?"0000000"+F:F}Li.zero8=f;function d(F,J,P,be){var Ee=P-J;r(Ee%4===0);for(var pe=new Array(Ee/4),xe=0,Se=J;xe<pe.length;xe++,Se+=4){var De;be==="big"?De=F[Se]<<24|F[Se+1]<<16|F[Se+2]<<8|F[Se+3]:De=F[Se+3]<<24|F[Se+2]<<16|F[Se+1]<<8|F[Se],pe[xe]=De>>>0}return pe}Li.join32=d;function m(F,J){for(var P=new Array(F.length*4),be=0,Ee=0;be<F.length;be++,Ee+=4){var pe=F[be];J==="big"?(P[Ee]=pe>>>24,P[Ee+1]=pe>>>16&255,P[Ee+2]=pe>>>8&255,P[Ee+3]=pe&255):(P[Ee+3]=pe>>>24,P[Ee+2]=pe>>>16&255,P[Ee+1]=pe>>>8&255,P[Ee]=pe&255)}return P}Li.split32=m;function k(F,J){return F>>>J|F<<32-J}Li.rotr32=k;function b(F,J){return F<<J|F>>>32-J}Li.rotl32=b;function g(F,J){return F+J>>>0}Li.sum32=g;function j(F,J,P){return F+J+P>>>0}Li.sum32_3=j;function N(F,J,P,be){return F+J+P+be>>>0}Li.sum32_4=N;function O(F,J,P,be,Ee){return F+J+P+be+Ee>>>0}Li.sum32_5=O;function x(F,J,P,be){var Ee=F[J],pe=F[J+1],xe=be+pe>>>0,Se=(xe<be?1:0)+P+Ee;F[J]=Se>>>0,F[J+1]=xe}Li.sum64=x;function R(F,J,P,be){var Ee=J+be>>>0,pe=(Ee<J?1:0)+F+P;return pe>>>0}Li.sum64_hi=R;function T(F,J,P,be){var Ee=J+be;return Ee>>>0}Li.sum64_lo=T;function A(F,J,P,be,Ee,pe,xe,Se){var De=0,X=J;X=X+be>>>0,De+=X<J?1:0,X=X+pe>>>0,De+=X<pe?1:0,X=X+Se>>>0,De+=X<Se?1:0;var E=F+P+Ee+xe+De;return E>>>0}Li.sum64_4_hi=A;function q(F,J,P,be,Ee,pe,xe,Se){var De=J+be+pe+Se;return De>>>0}Li.sum64_4_lo=q;function ie(F,J,P,be,Ee,pe,xe,Se,De,X){var E=0,Y=J;Y=Y+be>>>0,E+=Y<J?1:0,Y=Y+pe>>>0,E+=Y<pe?1:0,Y=Y+Se>>>0,E+=Y<Se?1:0,Y=Y+X>>>0,E+=Y<X?1:0;var Q=F+P+Ee+xe+De+E;return Q>>>0}Li.sum64_5_hi=ie;function oe(F,J,P,be,Ee,pe,xe,Se,De,X){var E=J+be+pe+Se+X;return E>>>0}Li.sum64_5_lo=oe;function ne(F,J,P){var be=J<<32-P|F>>>P;return be>>>0}Li.rotr64_hi=ne;function z(F,J,P){var be=F<<32-P|J>>>P;return be>>>0}Li.rotr64_lo=z;function le(F,J,P){return F>>>P}Li.shr64_hi=le;function re(F,J,P){var be=F<<32-P|J>>>P;return be>>>0}return Li.shr64_lo=re,Li}var a1={},Wy;function Sf(){if(Wy)return a1;Wy=1;var r=Ll(),e=_f();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return a1.BlockHash=t,t.prototype.update=function(a,s){if(a=r.toArray(a,s),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var u=a.length%this._delta8;this.pending=a.slice(a.length-u,a.length),this.pending.length===0&&(this.pending=null),a=r.join32(a,0,a.length-u,this.endian);for(var l=0;l<a.length;l+=this._delta32)this._update(a,l,l+this._delta32)}return this},t.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},t.prototype._pad=function(){var a=this.pendingTotal,s=this._delta8,u=s-(a+this.padLength)%s,l=new Array(u+this.padLength);l[0]=128;for(var f=1;f<u;f++)l[f]=0;if(a<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)l[f++]=0;l[f++]=0,l[f++]=0,l[f++]=0,l[f++]=0,l[f++]=a>>>24&255,l[f++]=a>>>16&255,l[f++]=a>>>8&255,l[f++]=a&255}else for(l[f++]=a&255,l[f++]=a>>>8&255,l[f++]=a>>>16&255,l[f++]=a>>>24&255,l[f++]=0,l[f++]=0,l[f++]=0,l[f++]=0,d=8;d<this.padLength;d++)l[f++]=0;return l},a1}var Mc={},bl={},Hy;function L5(){if(Hy)return bl;Hy=1;var r=Ll(),e=r.rotr32;function t(m,k,b,g){if(m===0)return o(k,b,g);if(m===1||m===3)return s(k,b,g);if(m===2)return a(k,b,g)}bl.ft_1=t;function o(m,k,b){return m&k^~m&b}bl.ch32=o;function a(m,k,b){return m&k^m&b^k&b}bl.maj32=a;function s(m,k,b){return m^k^b}bl.p32=s;function u(m){return e(m,2)^e(m,13)^e(m,22)}bl.s0_256=u;function l(m){return e(m,6)^e(m,11)^e(m,25)}bl.s1_256=l;function f(m){return e(m,7)^e(m,18)^m>>>3}bl.g0_256=f;function d(m){return e(m,17)^e(m,19)^m>>>10}return bl.g1_256=d,bl}var l1,Gy;function h3(){if(Gy)return l1;Gy=1;var r=Ll(),e=Sf(),t=L5(),o=r.rotl32,a=r.sum32,s=r.sum32_5,u=t.ft_1,l=e.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(d,l),l1=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(k,b){for(var g=this.W,j=0;j<16;j++)g[j]=k[b+j];for(;j<g.length;j++)g[j]=o(g[j-3]^g[j-8]^g[j-14]^g[j-16],1);var N=this.h[0],O=this.h[1],x=this.h[2],R=this.h[3],T=this.h[4];for(j=0;j<g.length;j++){var A=~~(j/20),q=s(o(N,5),u(A,O,x,R),T,g[j],f[A]);T=R,R=x,x=o(O,30),O=N,N=q}this.h[0]=a(this.h[0],N),this.h[1]=a(this.h[1],O),this.h[2]=a(this.h[2],x),this.h[3]=a(this.h[3],R),this.h[4]=a(this.h[4],T)},d.prototype._digest=function(k){return k==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},l1}var c1,Vy;function j5(){if(Vy)return c1;Vy=1;var r=Ll(),e=Sf(),t=L5(),o=_f(),a=r.sum32,s=r.sum32_4,u=r.sum32_5,l=t.ch32,f=t.maj32,d=t.s0_256,m=t.s1_256,k=t.g0_256,b=t.g1_256,g=e.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function N(){if(!(this instanceof N))return new N;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}return r.inherits(N,g),c1=N,N.blockSize=512,N.outSize=256,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(x,R){for(var T=this.W,A=0;A<16;A++)T[A]=x[R+A];for(;A<T.length;A++)T[A]=s(b(T[A-2]),T[A-7],k(T[A-15]),T[A-16]);var q=this.h[0],ie=this.h[1],oe=this.h[2],ne=this.h[3],z=this.h[4],le=this.h[5],re=this.h[6],F=this.h[7];for(o(this.k.length===T.length),A=0;A<T.length;A++){var J=u(F,m(z),l(z,le,re),this.k[A],T[A]),P=a(d(q),f(q,ie,oe));F=re,re=le,le=z,z=a(ne,J),ne=oe,oe=ie,ie=q,q=a(J,P)}this.h[0]=a(this.h[0],q),this.h[1]=a(this.h[1],ie),this.h[2]=a(this.h[2],oe),this.h[3]=a(this.h[3],ne),this.h[4]=a(this.h[4],z),this.h[5]=a(this.h[5],le),this.h[6]=a(this.h[6],re),this.h[7]=a(this.h[7],F)},N.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},c1}var u1,Ky;function p3(){if(Ky)return u1;Ky=1;var r=Ll(),e=j5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),u1=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(a){return a==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},u1}var f1,Yy;function I5(){if(Yy)return f1;Yy=1;var r=Ll(),e=Sf(),t=_f(),o=r.rotr64_hi,a=r.rotr64_lo,s=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,m=r.sum64_4_hi,k=r.sum64_4_lo,b=r.sum64_5_hi,g=r.sum64_5_lo,j=e.BlockHash,N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function O(){if(!(this instanceof O))return new O;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N,this.W=new Array(160)}r.inherits(O,j),f1=O,O.blockSize=1024,O.outSize=512,O.hmacStrength=192,O.padLength=128,O.prototype._prepareBlock=function(P,be){for(var Ee=this.W,pe=0;pe<32;pe++)Ee[pe]=P[be+pe];for(;pe<Ee.length;pe+=2){var xe=re(Ee[pe-4],Ee[pe-3]),Se=F(Ee[pe-4],Ee[pe-3]),De=Ee[pe-14],X=Ee[pe-13],E=z(Ee[pe-30],Ee[pe-29]),Y=le(Ee[pe-30],Ee[pe-29]),Q=Ee[pe-32],me=Ee[pe-31];Ee[pe]=m(xe,Se,De,X,E,Y,Q,me),Ee[pe+1]=k(xe,Se,De,X,E,Y,Q,me)}},O.prototype._update=function(P,be){this._prepareBlock(P,be);var Ee=this.W,pe=this.h[0],xe=this.h[1],Se=this.h[2],De=this.h[3],X=this.h[4],E=this.h[5],Y=this.h[6],Q=this.h[7],me=this.h[8],ae=this.h[9],B=this.h[10],M=this.h[11],de=this.h[12],ce=this.h[13],te=this.h[14],fe=this.h[15];t(this.k.length===Ee.length);for(var Oe=0;Oe<Ee.length;Oe+=2){var W=te,ee=fe,V=oe(me,ae),S=ne(me,ae),C=x(me,ae,B,M,de),U=R(me,ae,B,M,de,ce),we=this.k[Oe],Le=this.k[Oe+1],Ce=Ee[Oe],He=Ee[Oe+1],at=b(W,ee,V,S,C,U,we,Le,Ce,He),Je=g(W,ee,V,S,C,U,we,Le,Ce,He);W=q(pe,xe),ee=ie(pe,xe),V=T(pe,xe,Se,De,X),S=A(pe,xe,Se,De,X,E);var ht=f(W,ee,V,S),Ct=d(W,ee,V,S);te=de,fe=ce,de=B,ce=M,B=me,M=ae,me=f(Y,Q,at,Je),ae=d(Q,Q,at,Je),Y=X,Q=E,X=Se,E=De,Se=pe,De=xe,pe=f(at,Je,ht,Ct),xe=d(at,Je,ht,Ct)}l(this.h,0,pe,xe),l(this.h,2,Se,De),l(this.h,4,X,E),l(this.h,6,Y,Q),l(this.h,8,me,ae),l(this.h,10,B,M),l(this.h,12,de,ce),l(this.h,14,te,fe)},O.prototype._digest=function(P){return P==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function x(J,P,be,Ee,pe){var xe=J&be^~J&pe;return xe<0&&(xe+=4294967296),xe}function R(J,P,be,Ee,pe,xe){var Se=P&Ee^~P&xe;return Se<0&&(Se+=4294967296),Se}function T(J,P,be,Ee,pe){var xe=J&be^J&pe^be&pe;return xe<0&&(xe+=4294967296),xe}function A(J,P,be,Ee,pe,xe){var Se=P&Ee^P&xe^Ee&xe;return Se<0&&(Se+=4294967296),Se}function q(J,P){var be=o(J,P,28),Ee=o(P,J,2),pe=o(P,J,7),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}function ie(J,P){var be=a(J,P,28),Ee=a(P,J,2),pe=a(P,J,7),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}function oe(J,P){var be=o(J,P,14),Ee=o(J,P,18),pe=o(P,J,9),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}function ne(J,P){var be=a(J,P,14),Ee=a(J,P,18),pe=a(P,J,9),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}function z(J,P){var be=o(J,P,1),Ee=o(J,P,8),pe=s(J,P,7),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}function le(J,P){var be=a(J,P,1),Ee=a(J,P,8),pe=u(J,P,7),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}function re(J,P){var be=o(J,P,19),Ee=o(P,J,29),pe=s(J,P,6),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}function F(J,P){var be=a(J,P,19),Ee=a(P,J,29),pe=u(J,P,6),xe=be^Ee^pe;return xe<0&&(xe+=4294967296),xe}return f1}var d1,Xy;function m3(){if(Xy)return d1;Xy=1;var r=Ll(),e=I5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),d1=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(a){return a==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},d1}var Jy;function g3(){return Jy||(Jy=1,Mc.sha1=h3(),Mc.sha224=p3(),Mc.sha256=j5(),Mc.sha384=m3(),Mc.sha512=I5()),Mc}var h1={},Zy;function y3(){if(Zy)return h1;Zy=1;var r=Ll(),e=Sf(),t=r.rotl32,o=r.sum32,a=r.sum32_3,s=r.sum32_4,u=e.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(l,u),h1.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(O,x){for(var R=this.h[0],T=this.h[1],A=this.h[2],q=this.h[3],ie=this.h[4],oe=R,ne=T,z=A,le=q,re=ie,F=0;F<80;F++){var J=o(t(s(R,f(F,T,A,q),O[k[F]+x],d(F)),g[F]),ie);R=ie,ie=q,q=t(A,10),A=T,T=J,J=o(t(s(oe,f(79-F,ne,z,le),O[b[F]+x],m(F)),j[F]),re),oe=re,re=le,le=t(z,10),z=ne,ne=J}J=a(this.h[1],A,le),this.h[1]=a(this.h[2],q,re),this.h[2]=a(this.h[3],ie,oe),this.h[3]=a(this.h[4],R,ne),this.h[4]=a(this.h[0],T,z),this.h[0]=J},l.prototype._digest=function(O){return O==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function f(N,O,x,R){return N<=15?O^x^R:N<=31?O&x|~O&R:N<=47?(O|~x)^R:N<=63?O&R|x&~R:O^(x|~R)}function d(N){return N<=15?0:N<=31?1518500249:N<=47?1859775393:N<=63?2400959708:2840853838}function m(N){return N<=15?1352829926:N<=31?1548603684:N<=47?1836072691:N<=63?2053994217:0}var k=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return h1}var p1,Qy;function v3(){if(Qy)return p1;Qy=1;var r=Ll(),e=_f();function t(o,a,s){if(!(this instanceof t))return new t(o,a,s);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,s))}return p1=t,t.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var s=a.length;s<this.blockSize;s++)a.push(0);for(s=0;s<a.length;s++)a[s]^=54;for(this.inner=new this.Hash().update(a),s=0;s<a.length;s++)a[s]^=106;this.outer=new this.Hash().update(a)},t.prototype.update=function(a,s){return this.inner.update(a,s),this},t.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},p1}var e2;function w3(){return e2||(e2=1,(function(r){var e=r;e.utils=Ll(),e.common=Sf(),e.sha=g3(),e.ripemd=y3(),e.hmac=v3(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(o1)),o1}w3();let x3="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",b3=(r,e=21)=>(t=e)=>{let o="",a=t|0;for(;a--;)o+=r[Math.random()*r.length|0];return o},_3=(r=21)=>{let e="",t=r|0;for(;t--;)e+=x3[Math.random()*64|0];return e};const Ja=r=>Math.floor(r*72*20),Tm=(r=0)=>{let e=r;return()=>++e},S3=()=>Tm(),k3=()=>Tm(1),A3=()=>Tm(),N3=()=>_3().toLowerCase(),tf=r=>b3("1234567890abcdef",r)(),E3=()=>`${tf(8)}-${tf(4)}-${tf(4)}-${tf(4)}-${tf(12)}`;class C3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{xmlns:"xmlns"})}}class T3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const L3={EXTERNAL:"External"};class j3 extends Rt{constructor(e,t,o,a){super("Relationship"),this.root.push(new T3({id:e,type:t,target:o,targetMode:a}))}}class Jc extends Rt{constructor(){super("Relationships"),this.root.push(new C3({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,o,a){const s=new j3(`rId${e}`,t,o,a);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class I3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class P3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class R3 extends Rt{constructor({id:e,initials:t,author:o,date:a=new Date,children:s}){super("w:comment"),this.root.push(new I3({id:e,initials:t,author:o,date:a.toISOString()}));for(const u of s)this.root.push(u)}}class D3 extends Rt{constructor({children:e}){super("w:comments"),Nt(this,"relationships"),this.root.push(new P3({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new R3(t));this.relationships=new Jc}get Relationships(){return this.relationships}}class O3 extends Rt{constructor(){super("w:pageBreakBefore")}}const Q1={AUTO:"auto"};class F3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class B3 extends Rt{constructor(e){super("w:spacing"),this.root.push(new F3(e))}}const lf={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let od=class extends Rt{constructor(e){super("w:pStyle"),this.root.push(new jo({val:e}))}};class M3 extends Rt{constructor(e){super("w:tabs");for(const t of e)this.root.push(new U3(t))}}const t2={LEFT:"left",RIGHT:"right"};class z3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class U3 extends Rt{constructor({type:e,position:t,leader:o}){super("w:tab"),this.root.push(new z3({val:e,pos:t,leader:o}))}}class m1 extends Rt{constructor(e,t){super("w:numPr"),this.root.push(new $3(t)),this.root.push(new q3(e))}}class $3 extends Rt{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new jo({val:e}))}}class q3 extends Rt{constructor(e){super("w:numId"),this.root.push(new jo({val:typeof e=="string"?`{${e}}`:e}))}}class W3 extends Rt{constructor(){super(...arguments),Nt(this,"fileChild",Symbol())}}class H3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class G3 extends Rt{constructor(e,t,o){super("w:hyperlink"),Nt(this,"linkId"),this.linkId=t;const a={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},s=new H3(a);this.root.push(s),e.forEach(u=>{this.root.push(u)})}}class V3 extends Rt{constructor(e){super("w:externalHyperlink"),this.options=e}}class K3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Y3 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{id:"w:id"})}}class X3{constructor(e){Nt(this,"bookmarkUniqueNumericId",A3()),Nt(this,"start"),Nt(this,"children"),Nt(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new J3(e.id,t),this.children=e.children,this.end=new Z3(t)}}class J3 extends Rt{constructor(e,t){super("w:bookmarkStart");const o=new K3({name:e,id:t});this.root.push(o)}}class Z3 extends Rt{constructor(e){super("w:bookmarkEnd");const t=new Y3({id:e});this.root.push(t)}}class Q3 extends Rt{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new jo({val:e}))}}const e_={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Pu(Zr({},e_),{BOTH:"both"});class t_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{verticalAlign:"w:val"})}}class n_ extends Rt{constructor(e){super("w:vAlign"),this.root.push(new t_({verticalAlign:e}))}}class r_ extends Rt{constructor({space:e,count:t,separate:o,equalWidth:a,children:s}){super("w:cols"),this.root.push(new Bd({space:{key:"w:space",value:e===void 0?void 0:el(e)},count:{key:"w:num",value:t===void 0?void 0:Xs(t)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:a}})),!a&&s&&s.forEach(u=>this.addChildElement(u))}}const i_=({type:r,linePitch:e,charSpace:t})=>new Tl({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:Xs(e)},charSpace:{key:"w:charSpace",value:t?Xs(t):void 0}}}),Eu={DEFAULT:"default",FIRST:"first",EVEN:"even"};class o_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const n2={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class g1 extends Rt{constructor(e,t){super(e),this.root.push(new o_({type:t.type||Eu.DEFAULT,id:`rId${t.id}`}))}}const s_=({countBy:r,start:e,restart:t,distance:o})=>new Tl({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:Xs(r)},start:{key:"w:start",value:e===void 0?void 0:Xs(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:o===void 0?void 0:el(o)}}});class r2 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class a_ extends Fd{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new r2({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new r2({})),e.pageBorderTop&&this.root.push(new vo("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new vo("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new vo("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new vo("w:right",e.pageBorderRight))}}class l_ extends Rt{constructor(e,t,o,a,s,u,l){super("w:pgMar"),this.root.push(new Bd({top:{key:"w:top",value:Gc(e)},right:{key:"w:right",value:el(t)},bottom:{key:"w:bottom",value:Gc(o)},left:{key:"w:left",value:el(a)},header:{key:"w:header",value:el(s)},footer:{key:"w:footer",value:el(u)},gutter:{key:"w:gutter",value:el(l)}}))}}class c_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class u_ extends Rt{constructor({start:e,formatType:t,separator:o}){super("w:pgNumType"),this.root.push(new c_({start:e===void 0?void 0:Xs(e),formatType:t,separator:o}))}}const em={PORTRAIT:"portrait",LANDSCAPE:"landscape"},f_=({width:r,height:e,orientation:t,code:o})=>{const a=el(r),s=el(e);return new Tl({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===em.LANDSCAPE?s:a},height:{key:"w:h",value:t===em.LANDSCAPE?a:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:o}}})};class d_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val"})}}class h_ extends Rt{constructor(e){super("w:textDirection"),this.root.push(new d_({val:e}))}}class p_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val"})}}class m_ extends Rt{constructor(e){super("w:type"),this.root.push(new p_({val:e}))}}const zc={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},y1={WIDTH:11906,HEIGHT:16838,ORIENTATION:em.PORTRAIT};class g_ extends Rt{constructor({page:{size:{width:e=y1.WIDTH,height:t=y1.HEIGHT,orientation:o=y1.ORIENTATION}={},margin:{top:a=zc.TOP,right:s=zc.RIGHT,bottom:u=zc.BOTTOM,left:l=zc.LEFT,header:f=zc.HEADER,footer:d=zc.FOOTER,gutter:m=zc.GUTTER}={},pageNumbers:k={},borders:b,textDirection:g}={},grid:{linePitch:j=360,charSpace:N,type:O}={},headerWrapperGroup:x={},footerWrapperGroup:R={},lineNumbers:T,titlePage:A,verticalAlign:q,column:ie,type:oe}={}){super("w:sectPr"),this.addHeaderFooterGroup(n2.HEADER,x),this.addHeaderFooterGroup(n2.FOOTER,R),oe&&this.root.push(new m_(oe)),this.root.push(f_({width:e,height:t,orientation:o})),this.root.push(new l_(a,s,u,l,f,d,m)),b&&this.root.push(new a_(b)),T&&this.root.push(s_(T)),this.root.push(new u_(k)),ie&&this.root.push(new r_(ie)),q&&this.root.push(new n_(q)),A!==void 0&&this.root.push(new Ot("w:titlePg",A)),g&&this.root.push(new h_(g)),this.root.push(i_({linePitch:j,charSpace:N,type:O}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new g1(e,{type:Eu.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new g1(e,{type:Eu.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new g1(e,{type:Eu.EVEN,id:t.even.View.ReferenceId}))}}class y_ extends Rt{constructor(){super("w:body"),Nt(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new g_(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new Sc({}),o=new Bu({});return o.push(e),t.addChildElement(o),t}}const i2={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class qd extends cr{constructor(e,t){super(Zr({Ignorable:t},Object.fromEntries(e.map(o=>[o,i2[o]])))),Nt(this,"xmlKeys",Zr({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(i2).map(o=>[o,`xmlns:${o}`]))))}}class v_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class w_ extends Rt{constructor(e){super("w:background"),this.root.push(new v_({color:e.color===void 0?void 0:Du(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:My(e.themeShade),themeTint:e.themeTint===void 0?void 0:My(e.themeTint)}))}}class x_ extends Rt{constructor(e){super("w:document"),Nt(this,"body"),this.root.push(new qd(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new y_,e.background&&this.root.push(new w_(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class P5{constructor(e){Nt(this,"document"),Nt(this,"relationships"),this.document=new x_(e),this.relationships=new Jc}get View(){return this.document}get Relationships(){return this.relationships}}class b_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val"})}}class __ extends Rt{constructor(){super("w:wordWrap"),this.root.push(new b_({val:0}))}}const S_=r=>{var e,t;return new Tl({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class Bu extends Fd{constructor(e){var t,o;if(super("w:pPr"),Nt(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new od(e.heading)),e.bullet&&this.push(new od("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new od("ListParagraph"))),e.style&&this.push(new od(e.style)),e.keepNext!==void 0&&this.push(new Ot("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ot("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new O3),e.frame&&this.push(S_(e.frame)),e.widowControl!==void 0&&this.push(new Ot("w:widowControl",e.widowControl)),e.bullet&&this.push(new m1(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new m1(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))):e.numbering===!1&&this.push(new m1(0,0)),e.border&&this.push(new H4(e.border)),e.thematicBreak&&this.push(new G4),e.shading&&this.push(new E5(e.shading)),e.wordWrap&&this.push(new __),e.overflowPunctuation&&this.push(new Ot("w:overflowPunct",e.overflowPunctuation));const a=[...e.rightTabStop!==void 0?[{type:t2.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:t2.LEFT,position:e.leftTabStop}]:[]];a.length>0&&this.push(new M3(a)),e.bidirectional!==void 0&&this.push(new Ot("w:bidi",e.bidirectional)),e.spacing&&this.push(new B3(e.spacing)),e.indent&&this.push(new V4(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ot("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new q4(e.alignment)),e.outlineLevel!==void 0&&this.push(new Q3(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ot("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ot("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Xc(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof P5)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class Sc extends W3{constructor(e){if(super("w:p"),Nt(this,"properties"),typeof e=="string")return this.properties=new Bu({}),this.root.push(this.properties),this.root.push(new Id(e)),this;if(this.properties=new Bu(e),this.root.push(this.properties),e.text&&this.root.push(new Id(e.text)),e.children)for(const t of e.children){if(t instanceof X3){this.root.push(t.start);for(const o of t.children)this.root.push(o);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof V3){const o=this.root.indexOf(t),a=new G3(t.options.children,N3());e.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,L3.EXTERNAL),this.root[o]=a}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const fu={style:Nm.NONE,size:0,color:"auto"},du={style:Nm.SINGLE,size:4,color:"auto"};class k_ extends Rt{constructor(e){super("w:tblBorders"),e.top?this.root.push(new vo("w:top",e.top)):this.root.push(new vo("w:top",du)),e.left?this.root.push(new vo("w:left",e.left)):this.root.push(new vo("w:left",du)),e.bottom?this.root.push(new vo("w:bottom",e.bottom)):this.root.push(new vo("w:bottom",du)),e.right?this.root.push(new vo("w:right",e.right)):this.root.push(new vo("w:right",du)),e.insideHorizontal?this.root.push(new vo("w:insideH",e.insideHorizontal)):this.root.push(new vo("w:insideH",du)),e.insideVertical?this.root.push(new vo("w:insideV",e.insideVertical)):this.root.push(new vo("w:insideV",du))}}Nt(k_,"NONE",{top:fu,bottom:fu,left:fu,right:fu,insideHorizontal:fu,insideVertical:fu});class A_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class N_ extends Rt{constructor(){super("Properties"),this.root.push(new A_({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class E_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{xmlns:"xmlns"})}}class C_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Vl extends Rt{constructor(e,t){super("Default"),this.root.push(new C_({contentType:e,extension:t}))}}class T_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class La extends Rt{constructor(e,t){super("Override"),this.root.push(new T_({contentType:e,partName:t}))}}class L_ extends Rt{constructor(){super("Types"),this.root.push(new E_({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Vl("image/png","png")),this.root.push(new Vl("image/jpeg","jpeg")),this.root.push(new Vl("image/jpeg","jpg")),this.root.push(new Vl("image/bmp","bmp")),this.root.push(new Vl("image/gif","gif")),this.root.push(new Vl("image/svg+xml","svg")),this.root.push(new Vl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Vl("application/xml","xml")),this.root.push(new Vl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new La("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class j_ extends Rt{constructor(e){super("cp:coreProperties"),this.root.push(new qd(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Bc("dc:title",e.title)),e.subject&&this.root.push(new Bc("dc:subject",e.subject)),e.creator&&this.root.push(new Bc("dc:creator",e.creator)),e.keywords&&this.root.push(new Bc("cp:keywords",e.keywords)),e.description&&this.root.push(new Bc("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Bc("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Bc("cp:revision",String(e.revision))),this.root.push(new o2("dcterms:created")),this.root.push(new o2("dcterms:modified"))}}class I_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{type:"xsi:type"})}}class o2 extends Rt{constructor(e){super(e),this.root.push(new I_({type:"dcterms:W3CDTF"})),this.root.push(U4(new Date))}}class P_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class R_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class D_ extends Rt{constructor(e,t){super("property"),this.root.push(new R_({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new O_(t.value))}}class O_ extends Rt{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class F_ extends Rt{constructor(e){super("Properties"),Nt(this,"nextId"),Nt(this,"properties",[]),this.root.push(new P_({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new D_(this.nextId++,e))}}const sd=({id:r,fontKey:e,subsetted:t},o)=>new Tl({name:o,attributes:Zr({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new Ot("w:subsetted",t)]:[]]}),B_=({name:r,altName:e,panose1:t,charset:o,family:a,notTrueType:s,pitch:u,sig:l,embedRegular:f,embedBold:d,embedItalic:m,embedBoldItalic:k})=>new Tl({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[ef("w:altName",e)]:[],...t?[ef("w:panose1",t)]:[],...o?[ef("w:charset",o)]:[],ef("w:family",a),...s?[new Ot("w:notTrueType",s)]:[],ef("w:pitch",u),...l?[new Tl({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...f?[sd(f,"w:embedRegular")]:[],...d?[sd(d,"w:embedBold")]:[],...m?[sd(m,"w:embedItalic")]:[],...k?[sd(k,"w:embedBoldItalic")]:[]]}),M_=({name:r,index:e,fontKey:t,characterSet:o})=>B_({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),z_=r=>new Tl({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>M_({name:e.name,index:t+1,fontKey:e.fontKey}))});class U_{constructor(e){Nt(this,"fontTable"),Nt(this,"relationships"),Nt(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Pu(Zr({},t),{fontKey:E3()})),this.fontTable=z_(this.fontOptionsWithKey),this.relationships=new Jc;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class $_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let q_=class extends S5{constructor(e,t){super("w:ftr",t),Nt(this,"refId"),this.refId=e,t||this.root.push(new $_({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class W_{constructor(e,t,o){Nt(this,"footer"),Nt(this,"relationships"),this.media=e,this.footer=new q_(t,o),this.relationships=new Jc}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class H_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class G_ extends Rt{constructor(){super("w:footnoteRef")}}class V_ extends $d{constructor(){super({style:"FootnoteReference"}),this.root.push(new G_)}}const s2={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class v1 extends Rt{constructor(e){super("w:footnote"),this.root.push(new H_({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const o=e.children[t];t===0&&o.addRunToFront(new V_),this.root.push(o)}}}class K_ extends Rt{constructor(){super("w:continuationSeparator")}}class Y_ extends $d{constructor(){super({}),this.root.push(new K_)}}class X_ extends Rt{constructor(){super("w:separator")}}class J_ extends $d{constructor(){super({}),this.root.push(new X_)}}class Z_ extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Q_ extends Rt{constructor(){super("w:footnotes"),this.root.push(new Z_({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new v1({id:-1,type:s2.SEPERATOR,children:[new Sc({spacing:{after:0,line:240,lineRule:Q1.AUTO},children:[new J_]})]});this.root.push(e);const t=new v1({id:0,type:s2.CONTINUATION_SEPERATOR,children:[new Sc({spacing:{after:0,line:240,lineRule:Q1.AUTO},children:[new Y_]})]});this.root.push(t)}createFootNote(e,t){const o=new v1({id:e,children:t});this.root.push(o)}}class e6{constructor(){Nt(this,"footnotess"),Nt(this,"relationships"),this.footnotess=new Q_,this.relationships=new Jc}get View(){return this.footnotess}get Relationships(){return this.relationships}}class t6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let n6=class extends S5{constructor(e,t){super("w:hdr",t),Nt(this,"refId"),this.refId=e,t||this.root.push(new t6({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class r6{constructor(e,t,o){Nt(this,"header"),Nt(this,"relationships"),this.media=e,this.header=new n6(t,o),this.relationships=new Jc}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class i6{constructor(){Nt(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const Kl={BULLET:"bullet"};class o6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class s6 extends Rt{constructor(e){super("w:numFmt"),this.root.push(new jo({val:e}))}}class a6 extends Rt{constructor(e){super("w:lvlText"),this.root.push(new jo({val:e}))}}class l6 extends Rt{constructor(e){super("w:lvlJc"),this.root.push(new jo({val:e}))}}class c6 extends Rt{constructor(e){super("w:suff"),this.root.push(new jo({val:e}))}}class u6 extends Rt{constructor(){super("w:isLgl")}}class f6 extends Rt{constructor({level:e,format:t,text:o,alignment:a=Sl.START,start:s=1,style:u,suffix:l,isLegalNumberingStyle:f}){if(super("w:lvl"),Nt(this,"paragraphProperties"),Nt(this,"runProperties"),this.root.push(new ff("w:start",Xs(s))),t&&this.root.push(new s6(t)),l&&this.root.push(new c6(l)),f&&this.root.push(new u6),o&&this.root.push(new a6(o)),this.root.push(new l6(a)),this.paragraphProperties=new Bu(u&&u.paragraph),this.runProperties=new Xc(u&&u.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new o6({ilvl:Xs(e),tentative:1}))}}class d6 extends f6{}class h6 extends Rt{constructor(e){super("w:multiLevelType"),this.root.push(new jo({val:e}))}}class p6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class a2 extends Rt{constructor(e,t){super("w:abstractNum"),Nt(this,"id"),this.root.push(new p6({abstractNumId:Xs(e),restartNumberingAfterBreak:0})),this.root.push(new h6("hybridMultilevel")),this.id=e;for(const o of t)this.root.push(new d6(o))}}class m6 extends Rt{constructor(e){super("w:abstractNumId"),this.root.push(new jo({val:e}))}}class g6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{numId:"w:numId"})}}class l2 extends Rt{constructor(e){if(super("w:num"),Nt(this,"numId"),Nt(this,"reference"),Nt(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new g6({numId:Xs(e.numId)})),this.root.push(new m6(Xs(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new v6(t.num,t.start))}}class y6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class v6 extends Rt{constructor(e,t){super("w:lvlOverride"),this.root.push(new y6({ilvl:e})),t!==void 0&&this.root.push(new x6(t))}}class w6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val"})}}class x6 extends Rt{constructor(e){super("w:startOverride"),this.root.push(new w6({val:e}))}}class b6 extends Rt{constructor(e){super("w:numbering"),Nt(this,"abstractNumberingMap",new Map),Nt(this,"concreteNumberingMap",new Map),Nt(this,"referenceConfigMap",new Map),Nt(this,"abstractNumUniqueNumericId",S3()),Nt(this,"concreteNumUniqueNumericId",k3()),this.root.push(new qd(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new a2(this.abstractNumUniqueNumericId(),[{level:0,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:Ja(.5),hanging:Ja(.25)}}}},{level:1,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:Ja(1),hanging:Ja(.25)}}}},{level:2,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ja(.25)}}}},{level:3,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ja(.25)}}}},{level:4,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ja(.25)}}}},{level:5,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ja(.25)}}}},{level:6,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ja(.25)}}}},{level:7,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ja(.25)}}}},{level:8,format:Kl.BULLET,text:"",alignment:Sl.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ja(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new l2({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new a2(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const o=this.abstractNumberingMap.get(e);if(!o)return;const a=`${e}-${t}`;if(this.concreteNumberingMap.has(a))return;const s=this.referenceConfigMap.get(e),u=s&&s[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:t,overrideLevels:[u&&Number.isInteger(u)?{num:0,start:u}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new l2(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class _6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class S6 extends Rt{constructor(e){super("w:compatSetting"),this.root.push(new _6({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class k6 extends Rt{constructor(e){super("w:compat"),e.version&&this.root.push(new S6(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ot("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ot("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ot("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ot("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ot("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ot("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ot("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ot("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ot("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ot("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ot("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ot("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ot("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ot("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ot("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ot("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ot("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ot("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ot("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ot("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ot("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ot("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ot("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ot("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ot("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ot("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ot("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ot("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ot("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ot("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ot("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ot("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ot("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ot("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ot("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ot("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ot("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ot("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ot("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ot("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ot("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ot("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ot("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ot("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ot("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ot("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ot("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ot("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ot("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ot("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ot("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ot("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ot("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ot("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ot("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ot("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ot("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ot("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ot("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ot("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ot("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ot("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ot("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ot("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ot("w:cachedColBalance",e.cachedColumnBalance))}}class A6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class N6 extends Rt{constructor(e){var t,o,a,s,u,l,f,d;super("w:settings"),this.root.push(new A6({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ot("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ot("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ot("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ot("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new ff("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new Ot("w:autoHyphenation",e.hyphenation.autoHyphenation)),((o=e.hyphenation)==null?void 0:o.hyphenationZone)!==void 0&&this.root.push(new ff("w:hyphenationZone",e.hyphenation.hyphenationZone)),((a=e.hyphenation)==null?void 0:a.consecutiveHyphenLimit)!==void 0&&this.root.push(new ff("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Ot("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new k6(Pu(Zr({},(u=e.compatibility)!=null?u:{}),{version:(d=(f=(l=e.compatibility)==null?void 0:l.version)!=null?f:e.compatibilityModeVersion)!=null?d:15})))}}class R5 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{val:"w:val"})}}class E6 extends Rt{constructor(e){super("w:name"),this.root.push(new R5({val:e}))}}class C6 extends Rt{constructor(e){super("w:uiPriority"),this.root.push(new R5({val:Xs(e)}))}}class T6 extends cr{constructor(){super(...arguments),Nt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class D5 extends Rt{constructor(e,t){super("w:style"),this.root.push(new T6(e)),t.name&&this.root.push(new E6(t.name)),t.basedOn&&this.root.push(new Nu("w:basedOn",t.basedOn)),t.next&&this.root.push(new Nu("w:next",t.next)),t.link&&this.root.push(new Nu("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new C6(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new Ot("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new Ot("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new Ot("w:qFormat",t.quickFormat))}}class Wd extends D5{constructor(e){super({type:"paragraph",styleId:e.id},e),Nt(this,"paragraphProperties"),Nt(this,"runProperties"),this.paragraphProperties=new Bu(e.paragraph),this.runProperties=new Xc(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Hd extends D5{constructor(e){super({type:"character",styleId:e.id},Zr({uiPriority:99,unhideWhenUsed:!0},e)),Nt(this,"runProperties"),this.runProperties=new Xc(e.run),this.root.push(this.runProperties)}}class Cc extends Wd{constructor(e){super(Zr({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class L6 extends Cc{constructor(e){super(Zr({id:"Title",name:"Title"},e))}}class j6 extends Cc{constructor(e){super(Zr({id:"Heading1",name:"Heading 1"},e))}}class I6 extends Cc{constructor(e){super(Zr({id:"Heading2",name:"Heading 2"},e))}}class P6 extends Cc{constructor(e){super(Zr({id:"Heading3",name:"Heading 3"},e))}}class R6 extends Cc{constructor(e){super(Zr({id:"Heading4",name:"Heading 4"},e))}}class D6 extends Cc{constructor(e){super(Zr({id:"Heading5",name:"Heading 5"},e))}}class O6 extends Cc{constructor(e){super(Zr({id:"Heading6",name:"Heading 6"},e))}}class F6 extends Cc{constructor(e){super(Zr({id:"Strong",name:"Strong"},e))}}class B6 extends Wd{constructor(e){super(Zr({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class M6 extends Wd{constructor(e){super(Zr({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Q1.AUTO}},run:{size:20}},e))}}class z6 extends Hd{constructor(e){super(Zr({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class U6 extends Hd{constructor(e){super(Zr({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class $6 extends Hd{constructor(e){super(Zr({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:T5.SINGLE}}},e))}}class tm extends Rt{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new Wd(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new Hd(t))}}class q6 extends Rt{constructor(e){super("w:pPrDefault"),this.root.push(new Bu(e))}}class W6 extends Rt{constructor(e){super("w:rPrDefault"),this.root.push(new Xc(e))}}class H6 extends Rt{constructor(e){super("w:docDefaults"),Nt(this,"runPropertiesDefaults"),Nt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new W6(e.run),this.paragraphPropertiesDefaults=new q6(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class G6{newInstance(e){const t=_5.xml2js(e,{compact:!1});let o;for(const u of t.elements||[])u.name==="w:styles"&&(o=u);if(o===void 0)throw new Error("can not find styles element");const a=o.elements||[];return new tm({initialStyles:new F4(o.attributes),importedStyles:a.map(u=>Am(u))})}}class c2{newInstance(e={}){var t;return{initialStyles:new qd(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new H6((t=e.document)!=null?t:{}),new L6(Zr({run:{size:56}},e.title)),new j6(Zr({run:{color:"2E74B5",size:32}},e.heading1)),new I6(Zr({run:{color:"2E74B5",size:26}},e.heading2)),new P6(Zr({run:{color:"1F4D78",size:24}},e.heading3)),new R6(Zr({run:{color:"2E74B5",italics:!0}},e.heading4)),new D6(Zr({run:{color:"2E74B5"}},e.heading5)),new O6(Zr({run:{color:"1F4D78"}},e.heading6)),new F6(Zr({run:{bold:!0}},e.strong)),new B6(e.listParagraph||{}),new $6(e.hyperlink||{}),new z6(e.footnoteReference||{}),new M6(e.footnoteText||{}),new U6(e.footnoteTextChar||{})]}}}class V6{constructor(e){Nt(this,"currentRelationshipId",1),Nt(this,"documentWrapper"),Nt(this,"headers",[]),Nt(this,"footers",[]),Nt(this,"coreProperties"),Nt(this,"numbering"),Nt(this,"media"),Nt(this,"fileRelationships"),Nt(this,"footnotesWrapper"),Nt(this,"settings"),Nt(this,"contentTypes"),Nt(this,"customProperties"),Nt(this,"appProperties"),Nt(this,"styles"),Nt(this,"comments"),Nt(this,"fontWrapper");var t,o,a,s,u,l,f,d,m,k,b,g;if(this.coreProperties=new j_(Pu(Zr({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(a=e.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new b6(e.numbering?e.numbering:{config:[]}),this.comments=new D3((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Jc,this.customProperties=new F_((u=e.customProperties)!=null?u:[]),this.appProperties=new N_,this.footnotesWrapper=new e6,this.contentTypes=new L_,this.documentWrapper=new P5({background:e.background}),this.settings=new N6({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(f=e.features)==null?void 0:f.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(d=e.hyphenation)==null?void 0:d.autoHyphenation,hyphenationZone:(m=e.hyphenation)==null?void 0:m.hyphenationZone,consecutiveHyphenLimit:(k=e.hyphenation)==null?void 0:k.consecutiveHyphenLimit,doNotHyphenateCaps:(b=e.hyphenation)==null?void 0:b.doNotHyphenateCaps}}),this.media=new i6,e.externalStyles!==void 0){const j=new G6;this.styles=j.newInstance(e.externalStyles)}else if(e.styles){const N=new c2().newInstance(e.styles.default);this.styles=new tm(Zr(Zr({},N),e.styles))}else{const j=new c2;this.styles=new tm(j.newInstance())}this.addDefaultRelationships();for(const j of e.sections)this.addSection(j);if(e.footnotes)for(const j in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(j),e.footnotes[j].children);this.fontWrapper=new U_((g=e.fonts)!=null?g:[])}addSection({headers:e={},footers:t={},children:o,properties:a}){this.documentWrapper.View.Body.addSection(Pu(Zr({},a),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of o)this.documentWrapper.View.add(s)}createHeader(e){const t=new r6(this.media,this.currentRelationshipId++);for(const o of e.options.children)t.add(o);return this.addHeaderToDocument(t),t}createFooter(e){const t=new W_(this.media,this.currentRelationshipId++);for(const o of e.options.children)t.add(o);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Eu.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Eu.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var K6=_m();function ad(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var w1={exports:{}},u2;function Y6(){return u2||(u2=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(o,a,s){function u(d,m){if(!a[d]){if(!o[d]){var k=typeof ad=="function"&&ad;if(!m&&k)return k(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var g=a[d]={exports:{}};o[d][0].call(g.exports,function(j){var N=o[d][1][j];return u(N||j)},g,g.exports,t,o,a,s)}return a[d].exports}for(var l=typeof ad=="function"&&ad,f=0;f<s.length;f++)u(s[f]);return u})({1:[function(t,o,a){var s=t("./utils"),u=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var d,m,k,b,g,j,N,O=[],x=0,R=f.length,T=R,A=s.getTypeOf(f)!=="string";x<f.length;)T=R-x,k=A?(d=f[x++],m=x<R?f[x++]:0,x<R?f[x++]:0):(d=f.charCodeAt(x++),m=x<R?f.charCodeAt(x++):0,x<R?f.charCodeAt(x++):0),b=d>>2,g=(3&d)<<4|m>>4,j=1<T?(15&m)<<2|k>>6:64,N=2<T?63&k:64,O.push(l.charAt(b)+l.charAt(g)+l.charAt(j)+l.charAt(N));return O.join("")},a.decode=function(f){var d,m,k,b,g,j,N=0,O=0,x="data:";if(f.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var R,T=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===l.charAt(64)&&T--,f.charAt(f.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=u.uint8array?new Uint8Array(0|T):new Array(0|T);N<f.length;)d=l.indexOf(f.charAt(N++))<<2|(b=l.indexOf(f.charAt(N++)))>>4,m=(15&b)<<4|(g=l.indexOf(f.charAt(N++)))>>2,k=(3&g)<<6|(j=l.indexOf(f.charAt(N++))),R[O++]=d,g!==64&&(R[O++]=m),j!==64&&(R[O++]=k);return R}},{"./support":30,"./utils":32}],2:[function(t,o,a){var s=t("./external"),u=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),f=t("./stream/DataLengthProbe");function d(m,k,b,g,j){this.compressedSize=m,this.uncompressedSize=k,this.crc32=b,this.compression=g,this.compressedContent=j}d.prototype={getContentWorker:function(){var m=new u(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),k=this;return m.on("end",function(){if(this.streamInfo.data_length!==k.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new u(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(m,k,b){return m.pipe(new l).pipe(new f("uncompressedSize")).pipe(k.compressWorker(b)).pipe(new f("compressedSize")).withStreamInfo("compression",k)},o.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,a){var s=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,a){var s=t("./utils"),u=(function(){for(var l,f=[],d=0;d<256;d++){l=d;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;f[d]=l}return f})();o.exports=function(l,f){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?(function(d,m,k,b){var g=u,j=b+k;d^=-1;for(var N=b;N<j;N++)d=d>>>8^g[255&(d^m[N])];return-1^d})(0|f,l,l.length,0):(function(d,m,k,b){var g=u,j=b+k;d^=-1;for(var N=b;N<j;N++)d=d>>>8^g[255&(d^m.charCodeAt(N))];return-1^d})(0|f,l,l.length,0):0}},{"./utils":32}],5:[function(t,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,o,a){var s=null;s=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:s}},{lie:37}],7:[function(t,o,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=t("pako"),l=t("./utils"),f=t("./stream/GenericWorker"),d=s?"uint8array":"array";function m(k,b){f.call(this,"FlateWorker/"+k),this._pako=null,this._pakoAction=k,this._pakoOptions=b,this.meta={}}a.magic="\b\0",l.inherits(m,f),m.prototype.processChunk=function(k){this.meta=k.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,k.data),!1)},m.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var k=this;this._pako.onData=function(b){k.push({data:b,meta:k.meta})}},a.compressWorker=function(k){return new m("Deflate",k)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,a){function s(g,j){var N,O="";for(N=0;N<j;N++)O+=String.fromCharCode(255&g),g>>>=8;return O}function u(g,j,N,O,x,R){var T,A,q=g.file,ie=g.compression,oe=R!==d.utf8encode,ne=l.transformTo("string",R(q.name)),z=l.transformTo("string",d.utf8encode(q.name)),le=q.comment,re=l.transformTo("string",R(le)),F=l.transformTo("string",d.utf8encode(le)),J=z.length!==q.name.length,P=F.length!==le.length,be="",Ee="",pe="",xe=q.dir,Se=q.date,De={crc32:0,compressedSize:0,uncompressedSize:0};j&&!N||(De.crc32=g.crc32,De.compressedSize=g.compressedSize,De.uncompressedSize=g.uncompressedSize);var X=0;j&&(X|=8),oe||!J&&!P||(X|=2048);var E=0,Y=0;xe&&(E|=16),x==="UNIX"?(Y=798,E|=(function(me,ae){var B=me;return me||(B=ae?16893:33204),(65535&B)<<16})(q.unixPermissions,xe)):(Y=20,E|=(function(me){return 63&(me||0)})(q.dosPermissions)),T=Se.getUTCHours(),T<<=6,T|=Se.getUTCMinutes(),T<<=5,T|=Se.getUTCSeconds()/2,A=Se.getUTCFullYear()-1980,A<<=4,A|=Se.getUTCMonth()+1,A<<=5,A|=Se.getUTCDate(),J&&(Ee=s(1,1)+s(m(ne),4)+z,be+="up"+s(Ee.length,2)+Ee),P&&(pe=s(1,1)+s(m(re),4)+F,be+="uc"+s(pe.length,2)+pe);var Q="";return Q+=`
\0`,Q+=s(X,2),Q+=ie.magic,Q+=s(T,2),Q+=s(A,2),Q+=s(De.crc32,4),Q+=s(De.compressedSize,4),Q+=s(De.uncompressedSize,4),Q+=s(ne.length,2),Q+=s(be.length,2),{fileRecord:k.LOCAL_FILE_HEADER+Q+ne+be,dirRecord:k.CENTRAL_FILE_HEADER+s(Y,2)+Q+s(re.length,2)+"\0\0\0\0"+s(E,4)+s(O,4)+ne+be+re}}var l=t("../utils"),f=t("../stream/GenericWorker"),d=t("../utf8"),m=t("../crc32"),k=t("../signature");function b(g,j,N,O){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=N,this.encodeFileName=O,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,f),b.prototype.push=function(g){var j=g.meta.percent||0,N=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,f.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:N?(j+100*(N-O-1))/N:100}}))},b.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var j=this.streamFiles&&!g.file.dir;if(j){var N=u(g,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(g){this.accumulate=!1;var j=this.streamFiles&&!g.file.dir,N=u(g,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),j)this.push({data:(function(O){return k.DATA_DESCRIPTOR+s(O.crc32,4)+s(O.compressedSize,4)+s(O.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var g=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var N=this.bytesWritten-g,O=(function(x,R,T,A,q){var ie=l.transformTo("string",q(A));return k.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(x,2)+s(x,2)+s(R,4)+s(T,4)+s(ie.length,2)+ie})(this.dirRecords.length,N,g,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(g){this._sources.push(g);var j=this;return g.on("data",function(N){j.processChunk(N)}),g.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),g.on("error",function(N){j.error(N)}),this},b.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(g){var j=this._sources;if(!f.prototype.error.call(this,g))return!1;for(var N=0;N<j.length;N++)try{j[N].error(g)}catch{}return!0},b.prototype.lock=function(){f.prototype.lock.call(this);for(var g=this._sources,j=0;j<g.length;j++)g[j].lock()},o.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,a){var s=t("../compressions"),u=t("./ZipFileWorker");a.generateWorker=function(l,f,d){var m=new u(f.streamFiles,d,f.platform,f.encodeFileName),k=0;try{l.forEach(function(b,g){k++;var j=(function(R,T){var A=R||T,q=s[A];if(!q)throw new Error(A+" is not a valid compression method !");return q})(g.options.compression,f.compression),N=g.options.compressionOptions||f.compressionOptions||{},O=g.dir,x=g.date;g._compressWorker(j,N).withStreamInfo("file",{name:b,dir:O,date:x,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(m)}),m.entriesCount=k}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new s;for(var l in this)typeof this[l]!="function"&&(u[l]=this[l]);return u}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(u,l){return new s().loadAsync(u,l)},s.external=t("./external"),o.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,a){var s=t("./utils"),u=t("./external"),l=t("./utf8"),f=t("./zipEntries"),d=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function k(b){return new u.Promise(function(g,j){var N=b.decompressed.getContentWorker().pipe(new d);N.on("error",function(O){j(O)}).on("end",function(){N.streamInfo.crc32!==b.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}o.exports=function(b,g){var j=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),m.isNode&&m.isStream(b)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,g.optimizedBinaryString,g.base64).then(function(N){var O=new f(g);return O.load(N),O}).then(function(N){var O=[u.Promise.resolve(N)],x=N.files;if(g.checkCRC32)for(var R=0;R<x.length;R++)O.push(k(x[R]));return u.Promise.all(O)}).then(function(N){for(var O=N.shift(),x=O.files,R=0;R<x.length;R++){var T=x[R],A=T.fileNameStr,q=s.resolve(T.fileNameStr);j.file(q,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:g.createFolders}),T.dir||(j.file(q).unsafeOriginalName=A)}return O.zipComment.length&&(j.comment=O.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,a){var s=t("../utils"),u=t("../stream/GenericWorker");function l(f,d){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(l,u),l.prototype._bindStream=function(f){var d=this;(this._stream=f).pause(),f.on("data",function(m){d.push({data:m,meta:{percent:0}})}).on("error",function(m){d.isPaused?this.generatedError=m:d.error(m)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,a){var s=t("readable-stream").Readable;function u(l,f,d){s.call(this,f),this._helper=l;var m=this;l.on("data",function(k,b){m.push(k)||m._helper.pause(),d&&d(b)}).on("error",function(k){m.emit("error",k)}).on("end",function(){m.push(null)})}t("../utils").inherits(u,s),u.prototype._read=function(){this._helper.resume()},o.exports=u},{"../utils":32,"readable-stream":16}],14:[function(t,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,u);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,u)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var u=new Buffer(s);return u.fill(0),u},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,o,a){function s(q,ie,oe){var ne,z=l.getTypeOf(ie),le=l.extend(oe||{},m);le.date=le.date||new Date,le.compression!==null&&(le.compression=le.compression.toUpperCase()),typeof le.unixPermissions=="string"&&(le.unixPermissions=parseInt(le.unixPermissions,8)),le.unixPermissions&&16384&le.unixPermissions&&(le.dir=!0),le.dosPermissions&&16&le.dosPermissions&&(le.dir=!0),le.dir&&(q=x(q)),le.createFolders&&(ne=O(q))&&R.call(this,ne,!0);var re=z==="string"&&le.binary===!1&&le.base64===!1;oe&&oe.binary!==void 0||(le.binary=!re),(ie instanceof k&&ie.uncompressedSize===0||le.dir||!ie||ie.length===0)&&(le.base64=!1,le.binary=!0,ie="",le.compression="STORE",z="string");var F=null;F=ie instanceof k||ie instanceof f?ie:j.isNode&&j.isStream(ie)?new N(q,ie):l.prepareContent(q,ie,le.binary,le.optimizedBinaryString,le.base64);var J=new b(q,F,le);this.files[q]=J}var u=t("./utf8"),l=t("./utils"),f=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),m=t("./defaults"),k=t("./compressedObject"),b=t("./zipObject"),g=t("./generate"),j=t("./nodejsUtils"),N=t("./nodejs/NodejsStreamInputAdapter"),O=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var ie=q.lastIndexOf("/");return 0<ie?q.substring(0,ie):""},x=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},R=function(q,ie){return ie=ie!==void 0?ie:m.createFolders,q=x(q),this.files[q]||s.call(this,q,null,{dir:!0,createFolders:ie}),this.files[q]};function T(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var ie,oe,ne;for(ie in this.files)ne=this.files[ie],(oe=ie.slice(this.root.length,ie.length))&&ie.slice(0,this.root.length)===this.root&&q(oe,ne)},filter:function(q){var ie=[];return this.forEach(function(oe,ne){q(oe,ne)&&ie.push(ne)}),ie},file:function(q,ie,oe){if(arguments.length!==1)return q=this.root+q,s.call(this,q,ie,oe),this;if(T(q)){var ne=q;return this.filter(function(le,re){return!re.dir&&ne.test(le)})}var z=this.files[this.root+q];return z&&!z.dir?z:null},folder:function(q){if(!q)return this;if(T(q))return this.filter(function(z,le){return le.dir&&q.test(z)});var ie=this.root+q,oe=R.call(this,ie),ne=this.clone();return ne.root=oe.name,ne},remove:function(q){q=this.root+q;var ie=this.files[q];if(ie||(q.slice(-1)!=="/"&&(q+="/"),ie=this.files[q]),ie&&!ie.dir)delete this.files[q];else for(var oe=this.filter(function(z,le){return le.name.slice(0,q.length)===q}),ne=0;ne<oe.length;ne++)delete this.files[oe[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var ie,oe={};try{if((oe=l.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=oe.type.toLowerCase(),oe.compression=oe.compression.toUpperCase(),oe.type==="binarystring"&&(oe.type="string"),!oe.type)throw new Error("No output type specified.");l.checkSupport(oe.type),oe.platform!=="darwin"&&oe.platform!=="freebsd"&&oe.platform!=="linux"&&oe.platform!=="sunos"||(oe.platform="UNIX"),oe.platform==="win32"&&(oe.platform="DOS");var ne=oe.comment||this.comment||"";ie=g.generateWorker(this,oe,ne)}catch(z){(ie=new f("error")).error(z)}return new d(ie,oe.type||"string",oe.mimeType)},generateAsync:function(q,ie){return this.generateInternalStream(q).accumulate(ie)},generateNodeStream:function(q,ie){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(ie)}};o.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,a){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,a){var s=t("./DataReader");function u(l){s.call(this,l);for(var f=0;f<this.data.length;f++)l[f]=255&l[f]}t("../utils").inherits(u,s),u.prototype.byteAt=function(l){return this.data[this.zero+l]},u.prototype.lastIndexOfSignature=function(l){for(var f=l.charCodeAt(0),d=l.charCodeAt(1),m=l.charCodeAt(2),k=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===f&&this.data[b+1]===d&&this.data[b+2]===m&&this.data[b+3]===k)return b-this.zero;return-1},u.prototype.readAndCheckSignature=function(l){var f=l.charCodeAt(0),d=l.charCodeAt(1),m=l.charCodeAt(2),k=l.charCodeAt(3),b=this.readData(4);return f===b[0]&&d===b[1]&&m===b[2]&&k===b[3]},u.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./DataReader":18}],18:[function(t,o,a){var s=t("../utils");function u(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var f,d=0;for(this.checkOffset(l),f=this.index+l-1;f>=this.index;f--)d=(d<<8)+this.byteAt(f);return this.index+=l,d},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},o.exports=u},{"../utils":32}],19:[function(t,o,a){var s=t("./Uint8ArrayReader");function u(l){s.call(this,l)}t("../utils").inherits(u,s),u.prototype.readData=function(l){this.checkOffset(l);var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,a){var s=t("./DataReader");function u(l){s.call(this,l)}t("../utils").inherits(u,s),u.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},u.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},u.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},u.prototype.readData=function(l){this.checkOffset(l);var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./DataReader":18}],21:[function(t,o,a){var s=t("./ArrayReader");function u(l){s.call(this,l)}t("../utils").inherits(u,s),u.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},o.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,a){var s=t("../utils"),u=t("../support"),l=t("./ArrayReader"),f=t("./StringReader"),d=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");o.exports=function(k){var b=s.getTypeOf(k);return s.checkSupport(b),b!=="string"||u.uint8array?b==="nodebuffer"?new d(k):u.uint8array?new m(s.transformTo("uint8array",k)):new l(s.transformTo("array",k)):new f(k)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,a){var s=t("./GenericWorker"),u=t("../utils");function l(f){s.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(l,s),l.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},o.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,a){var s=t("./GenericWorker"),u=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},o.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,a){var s=t("../utils"),u=t("./GenericWorker");function l(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}s.inherits(l,u),l.prototype.processChunk=function(f){if(f){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+f.data.length}u.prototype.processChunk.call(this,f)},o.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,a){var s=t("../utils"),u=t("./GenericWorker");function l(f){u.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(m){d.dataIsReady=!0,d.data=m,d.max=m&&m.length||0,d.type=s.getTypeOf(m),d.isPaused||d._tickAndRepeat()},function(m){d.error(m)})}s.inherits(l,u),l.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,d);break;case"uint8array":f=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":f=this.data.slice(this.index,d)}return this.index=d,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,a){function s(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,l){return this._listeners[u].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,l){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,l)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var l=this;return u.on("data",function(f){l.processChunk(f)}),u.on("end",function(){l.end()}),u.on("error",function(f){l.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,l){return this.extraStreamInfo[u]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},o.exports=s},{}],29:[function(t,o,a){var s=t("../utils"),u=t("./ConvertWorker"),l=t("./GenericWorker"),f=t("../base64"),d=t("../support"),m=t("../external"),k=null;if(d.nodestream)try{k=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(j,N){return new m.Promise(function(O,x){var R=[],T=j._internalType,A=j._outputType,q=j._mimeType;j.on("data",function(ie,oe){R.push(ie),N&&N(oe)}).on("error",function(ie){R=[],x(ie)}).on("end",function(){try{var ie=(function(oe,ne,z){switch(oe){case"blob":return s.newBlob(s.transformTo("arraybuffer",ne),z);case"base64":return f.encode(ne);default:return s.transformTo(oe,ne)}})(A,(function(oe,ne){var z,le=0,re=null,F=0;for(z=0;z<ne.length;z++)F+=ne[z].length;switch(oe){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(re=new Uint8Array(F),z=0;z<ne.length;z++)re.set(ne[z],le),le+=ne[z].length;return re;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+oe+"'")}})(T,R),q);O(ie)}catch(oe){x(oe)}R=[]}).resume()})}function g(j,N,O){var x=N;switch(N){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=N,this._mimeType=O,s.checkSupport(x),this._worker=j.pipe(new u(x)),j.lock()}catch(R){this._worker=new l("error"),this._worker.error(R)}}g.prototype={accumulate:function(j){return b(this,j)},on:function(j,N){var O=this;return j==="data"?this._worker.on(j,function(x){N.call(O,x.data,x.meta)}):this._worker.on(j,function(){s.delay(N,arguments,O)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new k(this,{objectMode:this._outputType!=="nodebuffer"},j)}},o.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(s),a.blob=u.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,a){for(var s=t("./utils"),u=t("./support"),l=t("./nodejsUtils"),f=t("./stream/GenericWorker"),d=new Array(256),m=0;m<256;m++)d[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;d[254]=d[254]=1;function k(){f.call(this,"utf-8 decode"),this.leftOver=null}function b(){f.call(this,"utf-8 encode")}a.utf8encode=function(g){return u.nodebuffer?l.newBufferFrom(g,"utf-8"):(function(j){var N,O,x,R,T,A=j.length,q=0;for(R=0;R<A;R++)(64512&(O=j.charCodeAt(R)))==55296&&R+1<A&&(64512&(x=j.charCodeAt(R+1)))==56320&&(O=65536+(O-55296<<10)+(x-56320),R++),q+=O<128?1:O<2048?2:O<65536?3:4;for(N=u.uint8array?new Uint8Array(q):new Array(q),R=T=0;T<q;R++)(64512&(O=j.charCodeAt(R)))==55296&&R+1<A&&(64512&(x=j.charCodeAt(R+1)))==56320&&(O=65536+(O-55296<<10)+(x-56320),R++),O<128?N[T++]=O:(O<2048?N[T++]=192|O>>>6:(O<65536?N[T++]=224|O>>>12:(N[T++]=240|O>>>18,N[T++]=128|O>>>12&63),N[T++]=128|O>>>6&63),N[T++]=128|63&O);return N})(g)},a.utf8decode=function(g){return u.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(function(j){var N,O,x,R,T=j.length,A=new Array(2*T);for(N=O=0;N<T;)if((x=j[N++])<128)A[O++]=x;else if(4<(R=d[x]))A[O++]=65533,N+=R-1;else{for(x&=R===2?31:R===3?15:7;1<R&&N<T;)x=x<<6|63&j[N++],R--;1<R?A[O++]=65533:x<65536?A[O++]=x:(x-=65536,A[O++]=55296|x>>10&1023,A[O++]=56320|1023&x)}return A.length!==O&&(A.subarray?A=A.subarray(0,O):A.length=O),s.applyFromCharCode(A)})(g=s.transformTo(u.uint8array?"uint8array":"array",g))},s.inherits(k,f),k.prototype.processChunk=function(g){var j=s.transformTo(u.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var N=j;(j=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),j.set(N,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var O=(function(R,T){var A;for((T=T||R.length)>R.length&&(T=R.length),A=T-1;0<=A&&(192&R[A])==128;)A--;return A<0||A===0?T:A+d[R[A]]>T?A:T})(j),x=j;O!==j.length&&(u.uint8array?(x=j.subarray(0,O),this.leftOver=j.subarray(O,j.length)):(x=j.slice(0,O),this.leftOver=j.slice(O,j.length))),this.push({data:a.utf8decode(x),meta:g.meta})},k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=k,s.inherits(b,f),b.prototype.processChunk=function(g){this.push({data:a.utf8encode(g.data),meta:g.meta})},a.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,a){var s=t("./support"),u=t("./base64"),l=t("./nodejsUtils"),f=t("./external");function d(N){return N}function m(N,O){for(var x=0;x<N.length;++x)O[x]=255&N.charCodeAt(x);return O}t("setimmediate"),a.newBlob=function(N,O){a.checkSupport("blob");try{return new Blob([N],{type:O})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(N),x.getBlob(O)}catch{throw new Error("Bug : can't construct the Blob.")}}};var k={stringifyByChunk:function(N,O,x){var R=[],T=0,A=N.length;if(A<=x)return String.fromCharCode.apply(null,N);for(;T<A;)O==="array"||O==="nodebuffer"?R.push(String.fromCharCode.apply(null,N.slice(T,Math.min(T+x,A)))):R.push(String.fromCharCode.apply(null,N.subarray(T,Math.min(T+x,A)))),T+=x;return R.join("")},stringifyByChar:function(N){for(var O="",x=0;x<N.length;x++)O+=String.fromCharCode(N[x]);return O},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function b(N){var O=65536,x=a.getTypeOf(N),R=!0;if(x==="uint8array"?R=k.applyCanBeUsed.uint8array:x==="nodebuffer"&&(R=k.applyCanBeUsed.nodebuffer),R)for(;1<O;)try{return k.stringifyByChunk(N,x,O)}catch{O=Math.floor(O/2)}return k.stringifyByChar(N)}function g(N,O){for(var x=0;x<N.length;x++)O[x]=N[x];return O}a.applyFromCharCode=b;var j={};j.string={string:d,array:function(N){return m(N,new Array(N.length))},arraybuffer:function(N){return j.string.uint8array(N).buffer},uint8array:function(N){return m(N,new Uint8Array(N.length))},nodebuffer:function(N){return m(N,l.allocBuffer(N.length))}},j.array={string:b,array:d,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return l.newBufferFrom(N)}},j.arraybuffer={string:function(N){return b(new Uint8Array(N))},array:function(N){return g(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:d,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return l.newBufferFrom(new Uint8Array(N))}},j.uint8array={string:b,array:function(N){return g(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:d,nodebuffer:function(N){return l.newBufferFrom(N)}},j.nodebuffer={string:b,array:function(N){return g(N,new Array(N.length))},arraybuffer:function(N){return j.nodebuffer.uint8array(N).buffer},uint8array:function(N){return g(N,new Uint8Array(N.length))},nodebuffer:d},a.transformTo=function(N,O){if(O=O||"",!N)return O;a.checkSupport(N);var x=a.getTypeOf(O);return j[x][N](O)},a.resolve=function(N){for(var O=N.split("/"),x=[],R=0;R<O.length;R++){var T=O[R];T==="."||T===""&&R!==0&&R!==O.length-1||(T===".."?x.pop():x.push(T))}return x.join("/")},a.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(N)?"nodebuffer":s.uint8array&&N instanceof Uint8Array?"uint8array":s.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(N){if(!s[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(N){var O,x,R="";for(x=0;x<(N||"").length;x++)R+="\\x"+((O=N.charCodeAt(x))<16?"0":"")+O.toString(16).toUpperCase();return R},a.delay=function(N,O,x){setImmediate(function(){N.apply(x||null,O||[])})},a.inherits=function(N,O){function x(){}x.prototype=O.prototype,N.prototype=new x},a.extend=function(){var N,O,x={};for(N=0;N<arguments.length;N++)for(O in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],O)&&x[O]===void 0&&(x[O]=arguments[N][O]);return x},a.prepareContent=function(N,O,x,R,T){return f.Promise.resolve(O).then(function(A){return s.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new f.Promise(function(q,ie){var oe=new FileReader;oe.onload=function(ne){q(ne.target.result)},oe.onerror=function(ne){ie(ne.target.error)},oe.readAsArrayBuffer(A)}):A}).then(function(A){var q=a.getTypeOf(A);return q?(q==="arraybuffer"?A=a.transformTo("uint8array",A):q==="string"&&(T?A=u.decode(A):x&&R!==!0&&(A=(function(ie){return m(ie,s.uint8array?new Uint8Array(ie.length):new Array(ie.length))})(A))),A):f.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,a){var s=t("./reader/readerFor"),u=t("./utils"),l=t("./signature"),f=t("./zipEntry"),d=t("./support");function m(k){this.files=[],this.loadOptions=k}m.prototype={checkSignature:function(k){if(!this.reader.readAndCheckSignature(k)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(b)+", expected "+u.pretty(k)+")")}},isSignature:function(k,b){var g=this.reader.index;this.reader.setIndex(k);var j=this.reader.readString(4)===b;return this.reader.setIndex(g),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var k=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",g=u.transformTo(b,k);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var k,b,g,j=this.zip64EndOfCentralSize-44;0<j;)k=this.reader.readInt(2),b=this.reader.readInt(4),g=this.reader.readData(b),this.zip64ExtensibleData[k]={id:k,length:b,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var k,b;for(k=0;k<this.files.length;k++)b=this.files[k],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var k;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(k=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(k);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var k=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(k<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(k);var b=k;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(k=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(k),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var j=b-g;if(0<j)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(k){this.reader=s(k)},load:function(k){this.prepareReader(k),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,a){var s=t("./reader/readerFor"),u=t("./utils"),l=t("./compressedObject"),f=t("./crc32"),d=t("./utf8"),m=t("./compressions"),k=t("./support");function b(g,j){this.options=g,this.loadOptions=j}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var j,N;if(g.skip(22),this.fileNameLength=g.readInt(2),N=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(O){for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)&&m[x].magic===O)return m[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,j,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var j=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(j),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var j,N,O,x=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<x;)j=g.readInt(2),N=g.readInt(2),O=g.readData(N),this.extraFields[j]={id:j,length:N,value:O};g.setIndex(x)},handleUTF8:function(){var g=k.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var N=u.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var x=u.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var j=s(g.value);return j.readInt(1)!==1||f(this.fileName)!==j.readInt(4)?null:d.utf8decode(j.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var j=s(g.value);return j.readInt(1)!==1||f(this.fileComment)!==j.readInt(4)?null:d.utf8decode(j.readData(g.length-5))}return null}},o.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,a){function s(j,N,O){this.name=j,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=N,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var u=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),f=t("./utf8"),d=t("./compressedObject"),m=t("./stream/GenericWorker");s.prototype={internalStream:function(j){var N=null,O="string";try{if(!j)throw new Error("No output type specified.");var x=(O=j.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),N=this._decompressWorker();var R=!this._dataBinary;R&&!x&&(N=N.pipe(new f.Utf8EncodeWorker)),!R&&x&&(N=N.pipe(new f.Utf8DecodeWorker))}catch(T){(N=new m("error")).error(T)}return new u(N,O,"")},async:function(j,N){return this.internalStream(j).accumulate(N)},nodeStream:function(j,N){return this.internalStream(j||"nodebuffer").toNodejsStream(N)},_compressWorker:function(j,N){if(this._data instanceof d&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new f.Utf8EncodeWorker)),d.createWorkerFrom(O,j,N)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof m?this._data:new l(this._data)}};for(var k=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<k.length;g++)s.prototype[k[g]]=b;o.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,a){(function(s){var u,l,f=s.MutationObserver||s.WebKitMutationObserver;if(f){var d=0,m=new f(j),k=s.document.createTextNode("");m.observe(k,{characterData:!0}),u=function(){k.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)u="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var N=s.document.createElement("script");N.onreadystatechange=function(){j(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},s.document.documentElement.appendChild(N)}:function(){setTimeout(j,0)};else{var b=new s.MessageChannel;b.port1.onmessage=j,u=function(){b.port2.postMessage(0)}}var g=[];function j(){var N,O;l=!0;for(var x=g.length;x;){for(O=g,g=[],N=-1;++N<x;)O[N]();x=g.length}l=!1}o.exports=function(N){g.push(N)!==1||l||u()}}).call(this,typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,a){var s=t("immediate");function u(){}var l={},f=["REJECTED"],d=["FULFILLED"],m=["PENDING"];function k(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,x!==u&&N(this,x)}function b(x,R,T){this.promise=x,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function g(x,R,T){s(function(){var A;try{A=R(T)}catch(q){return l.reject(x,q)}A===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,A)})}function j(x){var R=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof R=="function")return function(){R.apply(x,arguments)}}function N(x,R){var T=!1;function A(oe){T||(T=!0,l.reject(x,oe))}function q(oe){T||(T=!0,l.resolve(x,oe))}var ie=O(function(){R(q,A)});ie.status==="error"&&A(ie.value)}function O(x,R){var T={};try{T.value=x(R),T.status="success"}catch(A){T.status="error",T.value=A}return T}(o.exports=k).prototype.finally=function(x){if(typeof x!="function")return this;var R=this.constructor;return this.then(function(T){return R.resolve(x()).then(function(){return T})},function(T){return R.resolve(x()).then(function(){throw T})})},k.prototype.catch=function(x){return this.then(null,x)},k.prototype.then=function(x,R){if(typeof x!="function"&&this.state===d||typeof R!="function"&&this.state===f)return this;var T=new this.constructor(u);return this.state!==m?g(T,this.state===d?x:R,this.outcome):this.queue.push(new b(T,x,R)),T},b.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},b.prototype.otherCallFulfilled=function(x){g(this.promise,this.onFulfilled,x)},b.prototype.callRejected=function(x){l.reject(this.promise,x)},b.prototype.otherCallRejected=function(x){g(this.promise,this.onRejected,x)},l.resolve=function(x,R){var T=O(j,R);if(T.status==="error")return l.reject(x,T.value);var A=T.value;if(A)N(x,A);else{x.state=d,x.outcome=R;for(var q=-1,ie=x.queue.length;++q<ie;)x.queue[q].callFulfilled(R)}return x},l.reject=function(x,R){x.state=f,x.outcome=R;for(var T=-1,A=x.queue.length;++T<A;)x.queue[T].callRejected(R);return x},k.resolve=function(x){return x instanceof this?x:l.resolve(new this(u),x)},k.reject=function(x){var R=new this(u);return l.reject(R,x)},k.all=function(x){var R=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,A=!1;if(!T)return this.resolve([]);for(var q=new Array(T),ie=0,oe=-1,ne=new this(u);++oe<T;)z(x[oe],oe);return ne;function z(le,re){R.resolve(le).then(function(F){q[re]=F,++ie!==T||A||(A=!0,l.resolve(ne,q))},function(F){A||(A=!0,l.reject(ne,F))})}},k.race=function(x){var R=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,A=!1;if(!T)return this.resolve([]);for(var q=-1,ie=new this(u);++q<T;)oe=x[q],R.resolve(oe).then(function(ne){A||(A=!0,l.resolve(ie,ne))},function(ne){A||(A=!0,l.reject(ie,ne))});var oe;return ie}},{immediate:36}],38:[function(t,o,a){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,a){var s=t("./zlib/deflate"),u=t("./utils/common"),l=t("./utils/strings"),f=t("./zlib/messages"),d=t("./zlib/zstream"),m=Object.prototype.toString,k=0,b=-1,g=0,j=8;function N(x){if(!(this instanceof N))return new N(x);this.options=u.assign({level:b,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},x||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(T!==k)throw new Error(f[T]);if(R.header&&s.deflateSetHeader(this.strm,R.header),R.dictionary){var A;if(A=typeof R.dictionary=="string"?l.string2buf(R.dictionary):m.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(T=s.deflateSetDictionary(this.strm,A))!==k)throw new Error(f[T]);this._dict_set=!0}}function O(x,R){var T=new N(R);if(T.push(x,!0),T.err)throw T.msg||f[T.err];return T.result}N.prototype.push=function(x,R){var T,A,q=this.strm,ie=this.options.chunkSize;if(this.ended)return!1;A=R===~~R?R:R===!0?4:0,typeof x=="string"?q.input=l.string2buf(x):m.call(x)==="[object ArrayBuffer]"?q.input=new Uint8Array(x):q.input=x,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new u.Buf8(ie),q.next_out=0,q.avail_out=ie),(T=s.deflate(q,A))!==1&&T!==k)return this.onEnd(T),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(u.shrinkBuf(q.output,q.next_out))):this.onData(u.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&T!==1);return A===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===k):A!==2||(this.onEnd(k),!(q.avail_out=0))},N.prototype.onData=function(x){this.chunks.push(x)},N.prototype.onEnd=function(x){x===k&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Deflate=N,a.deflate=O,a.deflateRaw=function(x,R){return(R=R||{}).raw=!0,O(x,R)},a.gzip=function(x,R){return(R=R||{}).gzip=!0,O(x,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,a){var s=t("./zlib/inflate"),u=t("./utils/common"),l=t("./utils/strings"),f=t("./zlib/constants"),d=t("./zlib/messages"),m=t("./zlib/zstream"),k=t("./zlib/gzheader"),b=Object.prototype.toString;function g(N){if(!(this instanceof g))return new g(N);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},N||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||N&&N.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&(15&O.windowBits)==0&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var x=s.inflateInit2(this.strm,O.windowBits);if(x!==f.Z_OK)throw new Error(d[x]);this.header=new k,s.inflateGetHeader(this.strm,this.header)}function j(N,O){var x=new g(O);if(x.push(N,!0),x.err)throw x.msg||d[x.err];return x.result}g.prototype.push=function(N,O){var x,R,T,A,q,ie,oe=this.strm,ne=this.options.chunkSize,z=this.options.dictionary,le=!1;if(this.ended)return!1;R=O===~~O?O:O===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof N=="string"?oe.input=l.binstring2buf(N):b.call(N)==="[object ArrayBuffer]"?oe.input=new Uint8Array(N):oe.input=N,oe.next_in=0,oe.avail_in=oe.input.length;do{if(oe.avail_out===0&&(oe.output=new u.Buf8(ne),oe.next_out=0,oe.avail_out=ne),(x=s.inflate(oe,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&z&&(ie=typeof z=="string"?l.string2buf(z):b.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,x=s.inflateSetDictionary(this.strm,ie)),x===f.Z_BUF_ERROR&&le===!0&&(x=f.Z_OK,le=!1),x!==f.Z_STREAM_END&&x!==f.Z_OK)return this.onEnd(x),!(this.ended=!0);oe.next_out&&(oe.avail_out!==0&&x!==f.Z_STREAM_END&&(oe.avail_in!==0||R!==f.Z_FINISH&&R!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(oe.output,oe.next_out),A=oe.next_out-T,q=l.buf2string(oe.output,T),oe.next_out=A,oe.avail_out=ne-A,A&&u.arraySet(oe.output,oe.output,T,A,0),this.onData(q)):this.onData(u.shrinkBuf(oe.output,oe.next_out)))),oe.avail_in===0&&oe.avail_out===0&&(le=!0)}while((0<oe.avail_in||oe.avail_out===0)&&x!==f.Z_STREAM_END);return x===f.Z_STREAM_END&&(R=f.Z_FINISH),R===f.Z_FINISH?(x=s.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f.Z_OK):R!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(oe.avail_out=0))},g.prototype.onData=function(N){this.chunks.push(N)},g.prototype.onEnd=function(N){N===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},a.Inflate=g,a.inflate=j,a.inflateRaw=function(N,O){return(O=O||{}).raw=!0,j(N,O)},a.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(f){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var m=d.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var k in m)m.hasOwnProperty(k)&&(f[k]=m[k])}}return f},a.shrinkBuf=function(f,d){return f.length===d?f:f.subarray?f.subarray(0,d):(f.length=d,f)};var u={arraySet:function(f,d,m,k,b){if(d.subarray&&f.subarray)f.set(d.subarray(m,m+k),b);else for(var g=0;g<k;g++)f[b+g]=d[m+g]},flattenChunks:function(f){var d,m,k,b,g,j;for(d=k=0,m=f.length;d<m;d++)k+=f[d].length;for(j=new Uint8Array(k),d=b=0,m=f.length;d<m;d++)g=f[d],j.set(g,b),b+=g.length;return j}},l={arraySet:function(f,d,m,k,b){for(var g=0;g<k;g++)f[b+g]=d[m+g]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,u)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(s)},{}],42:[function(t,o,a){var s=t("./common"),u=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var f=new s.Buf8(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function m(k,b){if(b<65537&&(k.subarray&&l||!k.subarray&&u))return String.fromCharCode.apply(null,s.shrinkBuf(k,b));for(var g="",j=0;j<b;j++)g+=String.fromCharCode(k[j]);return g}f[254]=f[254]=1,a.string2buf=function(k){var b,g,j,N,O,x=k.length,R=0;for(N=0;N<x;N++)(64512&(g=k.charCodeAt(N)))==55296&&N+1<x&&(64512&(j=k.charCodeAt(N+1)))==56320&&(g=65536+(g-55296<<10)+(j-56320),N++),R+=g<128?1:g<2048?2:g<65536?3:4;for(b=new s.Buf8(R),N=O=0;O<R;N++)(64512&(g=k.charCodeAt(N)))==55296&&N+1<x&&(64512&(j=k.charCodeAt(N+1)))==56320&&(g=65536+(g-55296<<10)+(j-56320),N++),g<128?b[O++]=g:(g<2048?b[O++]=192|g>>>6:(g<65536?b[O++]=224|g>>>12:(b[O++]=240|g>>>18,b[O++]=128|g>>>12&63),b[O++]=128|g>>>6&63),b[O++]=128|63&g);return b},a.buf2binstring=function(k){return m(k,k.length)},a.binstring2buf=function(k){for(var b=new s.Buf8(k.length),g=0,j=b.length;g<j;g++)b[g]=k.charCodeAt(g);return b},a.buf2string=function(k,b){var g,j,N,O,x=b||k.length,R=new Array(2*x);for(g=j=0;g<x;)if((N=k[g++])<128)R[j++]=N;else if(4<(O=f[N]))R[j++]=65533,g+=O-1;else{for(N&=O===2?31:O===3?15:7;1<O&&g<x;)N=N<<6|63&k[g++],O--;1<O?R[j++]=65533:N<65536?R[j++]=N:(N-=65536,R[j++]=55296|N>>10&1023,R[j++]=56320|1023&N)}return m(R,j)},a.utf8border=function(k,b){var g;for((b=b||k.length)>k.length&&(b=k.length),g=b-1;0<=g&&(192&k[g])==128;)g--;return g<0||g===0?b:g+f[k[g]]>b?g:b}},{"./common":41}],43:[function(t,o,a){o.exports=function(s,u,l,f){for(var d=65535&s|0,m=s>>>16&65535|0,k=0;l!==0;){for(l-=k=2e3<l?2e3:l;m=m+(d=d+u[f++]|0)|0,--k;);d%=65521,m%=65521}return d|m<<16|0}},{}],44:[function(t,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,a){var s=(function(){for(var u,l=[],f=0;f<256;f++){u=f;for(var d=0;d<8;d++)u=1&u?3988292384^u>>>1:u>>>1;l[f]=u}return l})();o.exports=function(u,l,f,d){var m=s,k=d+f;u^=-1;for(var b=d;b<k;b++)u=u>>>8^m[255&(u^l[b])];return-1^u}},{}],46:[function(t,o,a){var s,u=t("../utils/common"),l=t("./trees"),f=t("./adler32"),d=t("./crc32"),m=t("./messages"),k=0,b=4,g=0,j=-2,N=-1,O=4,x=2,R=8,T=9,A=286,q=30,ie=19,oe=2*A+1,ne=15,z=3,le=258,re=le+z+1,F=42,J=113,P=1,be=2,Ee=3,pe=4;function xe(W,ee){return W.msg=m[ee],ee}function Se(W){return(W<<1)-(4<W?9:0)}function De(W){for(var ee=W.length;0<=--ee;)W[ee]=0}function X(W){var ee=W.state,V=ee.pending;V>W.avail_out&&(V=W.avail_out),V!==0&&(u.arraySet(W.output,ee.pending_buf,ee.pending_out,V,W.next_out),W.next_out+=V,ee.pending_out+=V,W.total_out+=V,W.avail_out-=V,ee.pending-=V,ee.pending===0&&(ee.pending_out=0))}function E(W,ee){l._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,ee),W.block_start=W.strstart,X(W.strm)}function Y(W,ee){W.pending_buf[W.pending++]=ee}function Q(W,ee){W.pending_buf[W.pending++]=ee>>>8&255,W.pending_buf[W.pending++]=255&ee}function me(W,ee){var V,S,C=W.max_chain_length,U=W.strstart,we=W.prev_length,Le=W.nice_match,Ce=W.strstart>W.w_size-re?W.strstart-(W.w_size-re):0,He=W.window,at=W.w_mask,Je=W.prev,ht=W.strstart+le,Ct=He[U+we-1],$t=He[U+we];W.prev_length>=W.good_match&&(C>>=2),Le>W.lookahead&&(Le=W.lookahead);do if(He[(V=ee)+we]===$t&&He[V+we-1]===Ct&&He[V]===He[U]&&He[++V]===He[U+1]){U+=2,V++;do;while(He[++U]===He[++V]&&He[++U]===He[++V]&&He[++U]===He[++V]&&He[++U]===He[++V]&&He[++U]===He[++V]&&He[++U]===He[++V]&&He[++U]===He[++V]&&He[++U]===He[++V]&&U<ht);if(S=le-(ht-U),U=ht-le,we<S){if(W.match_start=ee,Le<=(we=S))break;Ct=He[U+we-1],$t=He[U+we]}}while((ee=Je[ee&at])>Ce&&--C!=0);return we<=W.lookahead?we:W.lookahead}function ae(W){var ee,V,S,C,U,we,Le,Ce,He,at,Je=W.w_size;do{if(C=W.window_size-W.lookahead-W.strstart,W.strstart>=Je+(Je-re)){for(u.arraySet(W.window,W.window,Je,Je,0),W.match_start-=Je,W.strstart-=Je,W.block_start-=Je,ee=V=W.hash_size;S=W.head[--ee],W.head[ee]=Je<=S?S-Je:0,--V;);for(ee=V=Je;S=W.prev[--ee],W.prev[ee]=Je<=S?S-Je:0,--V;);C+=Je}if(W.strm.avail_in===0)break;if(we=W.strm,Le=W.window,Ce=W.strstart+W.lookahead,He=C,at=void 0,at=we.avail_in,He<at&&(at=He),V=at===0?0:(we.avail_in-=at,u.arraySet(Le,we.input,we.next_in,at,Ce),we.state.wrap===1?we.adler=f(we.adler,Le,at,Ce):we.state.wrap===2&&(we.adler=d(we.adler,Le,at,Ce)),we.next_in+=at,we.total_in+=at,at),W.lookahead+=V,W.lookahead+W.insert>=z)for(U=W.strstart-W.insert,W.ins_h=W.window[U],W.ins_h=(W.ins_h<<W.hash_shift^W.window[U+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[U+z-1])&W.hash_mask,W.prev[U&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=U,U++,W.insert--,!(W.lookahead+W.insert<z)););}while(W.lookahead<re&&W.strm.avail_in!==0)}function B(W,ee){for(var V,S;;){if(W.lookahead<re){if(ae(W),W.lookahead<re&&ee===k)return P;if(W.lookahead===0)break}if(V=0,W.lookahead>=z&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+z-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),V!==0&&W.strstart-V<=W.w_size-re&&(W.match_length=me(W,V)),W.match_length>=z)if(S=l._tr_tally(W,W.strstart-W.match_start,W.match_length-z),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=z){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+z-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else S=l._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(S&&(E(W,!1),W.strm.avail_out===0))return P}return W.insert=W.strstart<z-1?W.strstart:z-1,ee===b?(E(W,!0),W.strm.avail_out===0?Ee:pe):W.last_lit&&(E(W,!1),W.strm.avail_out===0)?P:be}function M(W,ee){for(var V,S,C;;){if(W.lookahead<re){if(ae(W),W.lookahead<re&&ee===k)return P;if(W.lookahead===0)break}if(V=0,W.lookahead>=z&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+z-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=z-1,V!==0&&W.prev_length<W.max_lazy_match&&W.strstart-V<=W.w_size-re&&(W.match_length=me(W,V),W.match_length<=5&&(W.strategy===1||W.match_length===z&&4096<W.strstart-W.match_start)&&(W.match_length=z-1)),W.prev_length>=z&&W.match_length<=W.prev_length){for(C=W.strstart+W.lookahead-z,S=l._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-z),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=C&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+z-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=z-1,W.strstart++,S&&(E(W,!1),W.strm.avail_out===0))return P}else if(W.match_available){if((S=l._tr_tally(W,0,W.window[W.strstart-1]))&&E(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return P}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(S=l._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<z-1?W.strstart:z-1,ee===b?(E(W,!0),W.strm.avail_out===0?Ee:pe):W.last_lit&&(E(W,!1),W.strm.avail_out===0)?P:be}function de(W,ee,V,S,C){this.good_length=W,this.max_lazy=ee,this.nice_length=V,this.max_chain=S,this.func=C}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*oe),this.dyn_dtree=new u.Buf16(2*(2*q+1)),this.bl_tree=new u.Buf16(2*(2*ie+1)),De(this.dyn_ltree),De(this.dyn_dtree),De(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(ne+1),this.heap=new u.Buf16(2*A+1),De(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*A+1),De(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function te(W){var ee;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=x,(ee=W.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?F:J,W.adler=ee.wrap===2?0:1,ee.last_flush=k,l._tr_init(ee),g):xe(W,j)}function fe(W){var ee=te(W);return ee===g&&(function(V){V.window_size=2*V.w_size,De(V.head),V.max_lazy_match=s[V.level].max_lazy,V.good_match=s[V.level].good_length,V.nice_match=s[V.level].nice_length,V.max_chain_length=s[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=z-1,V.match_available=0,V.ins_h=0})(W.state),ee}function Oe(W,ee,V,S,C,U){if(!W)return j;var we=1;if(ee===N&&(ee=6),S<0?(we=0,S=-S):15<S&&(we=2,S-=16),C<1||T<C||V!==R||S<8||15<S||ee<0||9<ee||U<0||O<U)return xe(W,j);S===8&&(S=9);var Le=new ce;return(W.state=Le).strm=W,Le.wrap=we,Le.gzhead=null,Le.w_bits=S,Le.w_size=1<<Le.w_bits,Le.w_mask=Le.w_size-1,Le.hash_bits=C+7,Le.hash_size=1<<Le.hash_bits,Le.hash_mask=Le.hash_size-1,Le.hash_shift=~~((Le.hash_bits+z-1)/z),Le.window=new u.Buf8(2*Le.w_size),Le.head=new u.Buf16(Le.hash_size),Le.prev=new u.Buf16(Le.w_size),Le.lit_bufsize=1<<C+6,Le.pending_buf_size=4*Le.lit_bufsize,Le.pending_buf=new u.Buf8(Le.pending_buf_size),Le.d_buf=1*Le.lit_bufsize,Le.l_buf=3*Le.lit_bufsize,Le.level=ee,Le.strategy=U,Le.method=V,fe(W)}s=[new de(0,0,0,0,function(W,ee){var V=65535;for(V>W.pending_buf_size-5&&(V=W.pending_buf_size-5);;){if(W.lookahead<=1){if(ae(W),W.lookahead===0&&ee===k)return P;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var S=W.block_start+V;if((W.strstart===0||W.strstart>=S)&&(W.lookahead=W.strstart-S,W.strstart=S,E(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-re&&(E(W,!1),W.strm.avail_out===0))return P}return W.insert=0,ee===b?(E(W,!0),W.strm.avail_out===0?Ee:pe):(W.strstart>W.block_start&&(E(W,!1),W.strm.avail_out),P)}),new de(4,4,8,4,B),new de(4,5,16,8,B),new de(4,6,32,32,B),new de(4,4,16,16,M),new de(8,16,32,32,M),new de(8,16,128,128,M),new de(8,32,128,256,M),new de(32,128,258,1024,M),new de(32,258,258,4096,M)],a.deflateInit=function(W,ee){return Oe(W,ee,R,15,8,0)},a.deflateInit2=Oe,a.deflateReset=fe,a.deflateResetKeep=te,a.deflateSetHeader=function(W,ee){return W&&W.state?W.state.wrap!==2?j:(W.state.gzhead=ee,g):j},a.deflate=function(W,ee){var V,S,C,U;if(!W||!W.state||5<ee||ee<0)return W?xe(W,j):j;if(S=W.state,!W.output||!W.input&&W.avail_in!==0||S.status===666&&ee!==b)return xe(W,W.avail_out===0?-5:j);if(S.strm=W,V=S.last_flush,S.last_flush=ee,S.status===F)if(S.wrap===2)W.adler=0,Y(S,31),Y(S,139),Y(S,8),S.gzhead?(Y(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),Y(S,255&S.gzhead.time),Y(S,S.gzhead.time>>8&255),Y(S,S.gzhead.time>>16&255),Y(S,S.gzhead.time>>24&255),Y(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),Y(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(Y(S,255&S.gzhead.extra.length),Y(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(W.adler=d(W.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(Y(S,0),Y(S,0),Y(S,0),Y(S,0),Y(S,0),Y(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),Y(S,3),S.status=J);else{var we=R+(S.w_bits-8<<4)<<8;we|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(we|=32),we+=31-we%31,S.status=J,Q(S,we),S.strstart!==0&&(Q(S,W.adler>>>16),Q(S,65535&W.adler)),W.adler=1}if(S.status===69)if(S.gzhead.extra){for(C=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>C&&(W.adler=d(W.adler,S.pending_buf,S.pending-C,C)),X(W),C=S.pending,S.pending!==S.pending_buf_size));)Y(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>C&&(W.adler=d(W.adler,S.pending_buf,S.pending-C,C)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){C=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>C&&(W.adler=d(W.adler,S.pending_buf,S.pending-C,C)),X(W),C=S.pending,S.pending===S.pending_buf_size)){U=1;break}U=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,Y(S,U)}while(U!==0);S.gzhead.hcrc&&S.pending>C&&(W.adler=d(W.adler,S.pending_buf,S.pending-C,C)),U===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){C=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>C&&(W.adler=d(W.adler,S.pending_buf,S.pending-C,C)),X(W),C=S.pending,S.pending===S.pending_buf_size)){U=1;break}U=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,Y(S,U)}while(U!==0);S.gzhead.hcrc&&S.pending>C&&(W.adler=d(W.adler,S.pending_buf,S.pending-C,C)),U===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&X(W),S.pending+2<=S.pending_buf_size&&(Y(S,255&W.adler),Y(S,W.adler>>8&255),W.adler=0,S.status=J)):S.status=J),S.pending!==0){if(X(W),W.avail_out===0)return S.last_flush=-1,g}else if(W.avail_in===0&&Se(ee)<=Se(V)&&ee!==b)return xe(W,-5);if(S.status===666&&W.avail_in!==0)return xe(W,-5);if(W.avail_in!==0||S.lookahead!==0||ee!==k&&S.status!==666){var Le=S.strategy===2?(function(Ce,He){for(var at;;){if(Ce.lookahead===0&&(ae(Ce),Ce.lookahead===0)){if(He===k)return P;break}if(Ce.match_length=0,at=l._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++,at&&(E(Ce,!1),Ce.strm.avail_out===0))return P}return Ce.insert=0,He===b?(E(Ce,!0),Ce.strm.avail_out===0?Ee:pe):Ce.last_lit&&(E(Ce,!1),Ce.strm.avail_out===0)?P:be})(S,ee):S.strategy===3?(function(Ce,He){for(var at,Je,ht,Ct,$t=Ce.window;;){if(Ce.lookahead<=le){if(ae(Ce),Ce.lookahead<=le&&He===k)return P;if(Ce.lookahead===0)break}if(Ce.match_length=0,Ce.lookahead>=z&&0<Ce.strstart&&(Je=$t[ht=Ce.strstart-1])===$t[++ht]&&Je===$t[++ht]&&Je===$t[++ht]){Ct=Ce.strstart+le;do;while(Je===$t[++ht]&&Je===$t[++ht]&&Je===$t[++ht]&&Je===$t[++ht]&&Je===$t[++ht]&&Je===$t[++ht]&&Je===$t[++ht]&&Je===$t[++ht]&&ht<Ct);Ce.match_length=le-(Ct-ht),Ce.match_length>Ce.lookahead&&(Ce.match_length=Ce.lookahead)}if(Ce.match_length>=z?(at=l._tr_tally(Ce,1,Ce.match_length-z),Ce.lookahead-=Ce.match_length,Ce.strstart+=Ce.match_length,Ce.match_length=0):(at=l._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++),at&&(E(Ce,!1),Ce.strm.avail_out===0))return P}return Ce.insert=0,He===b?(E(Ce,!0),Ce.strm.avail_out===0?Ee:pe):Ce.last_lit&&(E(Ce,!1),Ce.strm.avail_out===0)?P:be})(S,ee):s[S.level].func(S,ee);if(Le!==Ee&&Le!==pe||(S.status=666),Le===P||Le===Ee)return W.avail_out===0&&(S.last_flush=-1),g;if(Le===be&&(ee===1?l._tr_align(S):ee!==5&&(l._tr_stored_block(S,0,0,!1),ee===3&&(De(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),X(W),W.avail_out===0))return S.last_flush=-1,g}return ee!==b?g:S.wrap<=0?1:(S.wrap===2?(Y(S,255&W.adler),Y(S,W.adler>>8&255),Y(S,W.adler>>16&255),Y(S,W.adler>>24&255),Y(S,255&W.total_in),Y(S,W.total_in>>8&255),Y(S,W.total_in>>16&255),Y(S,W.total_in>>24&255)):(Q(S,W.adler>>>16),Q(S,65535&W.adler)),X(W),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?g:1)},a.deflateEnd=function(W){var ee;return W&&W.state?(ee=W.state.status)!==F&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==J&&ee!==666?xe(W,j):(W.state=null,ee===J?xe(W,-3):g):j},a.deflateSetDictionary=function(W,ee){var V,S,C,U,we,Le,Ce,He,at=ee.length;if(!W||!W.state||(U=(V=W.state).wrap)===2||U===1&&V.status!==F||V.lookahead)return j;for(U===1&&(W.adler=f(W.adler,ee,at,0)),V.wrap=0,at>=V.w_size&&(U===0&&(De(V.head),V.strstart=0,V.block_start=0,V.insert=0),He=new u.Buf8(V.w_size),u.arraySet(He,ee,at-V.w_size,V.w_size,0),ee=He,at=V.w_size),we=W.avail_in,Le=W.next_in,Ce=W.input,W.avail_in=at,W.next_in=0,W.input=ee,ae(V);V.lookahead>=z;){for(S=V.strstart,C=V.lookahead-(z-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[S+z-1])&V.hash_mask,V.prev[S&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=S,S++,--C;);V.strstart=S,V.lookahead=z-1,ae(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=z-1,V.match_available=0,W.next_in=Le,W.input=Ce,W.avail_in=we,V.wrap=U,g},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,a){o.exports=function(s,u){var l,f,d,m,k,b,g,j,N,O,x,R,T,A,q,ie,oe,ne,z,le,re,F,J,P,be;l=s.state,f=s.next_in,P=s.input,d=f+(s.avail_in-5),m=s.next_out,be=s.output,k=m-(u-s.avail_out),b=m+(s.avail_out-257),g=l.dmax,j=l.wsize,N=l.whave,O=l.wnext,x=l.window,R=l.hold,T=l.bits,A=l.lencode,q=l.distcode,ie=(1<<l.lenbits)-1,oe=(1<<l.distbits)-1;e:do{T<15&&(R+=P[f++]<<T,T+=8,R+=P[f++]<<T,T+=8),ne=A[R&ie];t:for(;;){if(R>>>=z=ne>>>24,T-=z,(z=ne>>>16&255)===0)be[m++]=65535&ne;else{if(!(16&z)){if((64&z)==0){ne=A[(65535&ne)+(R&(1<<z)-1)];continue t}if(32&z){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}le=65535&ne,(z&=15)&&(T<z&&(R+=P[f++]<<T,T+=8),le+=R&(1<<z)-1,R>>>=z,T-=z),T<15&&(R+=P[f++]<<T,T+=8,R+=P[f++]<<T,T+=8),ne=q[R&oe];n:for(;;){if(R>>>=z=ne>>>24,T-=z,!(16&(z=ne>>>16&255))){if((64&z)==0){ne=q[(65535&ne)+(R&(1<<z)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(re=65535&ne,T<(z&=15)&&(R+=P[f++]<<T,(T+=8)<z&&(R+=P[f++]<<T,T+=8)),g<(re+=R&(1<<z)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(R>>>=z,T-=z,(z=m-k)<re){if(N<(z=re-z)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(J=x,(F=0)===O){if(F+=j-z,z<le){for(le-=z;be[m++]=x[F++],--z;);F=m-re,J=be}}else if(O<z){if(F+=j+O-z,(z-=O)<le){for(le-=z;be[m++]=x[F++],--z;);if(F=0,O<le){for(le-=z=O;be[m++]=x[F++],--z;);F=m-re,J=be}}}else if(F+=O-z,z<le){for(le-=z;be[m++]=x[F++],--z;);F=m-re,J=be}for(;2<le;)be[m++]=J[F++],be[m++]=J[F++],be[m++]=J[F++],le-=3;le&&(be[m++]=J[F++],1<le&&(be[m++]=J[F++]))}else{for(F=m-re;be[m++]=be[F++],be[m++]=be[F++],be[m++]=be[F++],2<(le-=3););le&&(be[m++]=be[F++],1<le&&(be[m++]=be[F++]))}break}}break}}while(f<d&&m<b);f-=le=T>>3,R&=(1<<(T-=le<<3))-1,s.next_in=f,s.next_out=m,s.avail_in=f<d?d-f+5:5-(f-d),s.avail_out=m<b?b-m+257:257-(m-b),l.hold=R,l.bits=T}},{}],49:[function(t,o,a){var s=t("../utils/common"),u=t("./adler32"),l=t("./crc32"),f=t("./inffast"),d=t("./inftrees"),m=1,k=2,b=0,g=-2,j=1,N=852,O=592;function x(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(F){var J;return F&&F.state?(J=F.state,F.total_in=F.total_out=J.total=0,F.msg="",J.wrap&&(F.adler=1&J.wrap),J.mode=j,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new s.Buf32(N),J.distcode=J.distdyn=new s.Buf32(O),J.sane=1,J.back=-1,b):g}function A(F){var J;return F&&F.state?((J=F.state).wsize=0,J.whave=0,J.wnext=0,T(F)):g}function q(F,J){var P,be;return F&&F.state?(be=F.state,J<0?(P=0,J=-J):(P=1+(J>>4),J<48&&(J&=15)),J&&(J<8||15<J)?g:(be.window!==null&&be.wbits!==J&&(be.window=null),be.wrap=P,be.wbits=J,A(F))):g}function ie(F,J){var P,be;return F?(be=new R,(F.state=be).window=null,(P=q(F,J))!==b&&(F.state=null),P):g}var oe,ne,z=!0;function le(F){if(z){var J;for(oe=new s.Buf32(512),ne=new s.Buf32(32),J=0;J<144;)F.lens[J++]=8;for(;J<256;)F.lens[J++]=9;for(;J<280;)F.lens[J++]=7;for(;J<288;)F.lens[J++]=8;for(d(m,F.lens,0,288,oe,0,F.work,{bits:9}),J=0;J<32;)F.lens[J++]=5;d(k,F.lens,0,32,ne,0,F.work,{bits:5}),z=!1}F.lencode=oe,F.lenbits=9,F.distcode=ne,F.distbits=5}function re(F,J,P,be){var Ee,pe=F.state;return pe.window===null&&(pe.wsize=1<<pe.wbits,pe.wnext=0,pe.whave=0,pe.window=new s.Buf8(pe.wsize)),be>=pe.wsize?(s.arraySet(pe.window,J,P-pe.wsize,pe.wsize,0),pe.wnext=0,pe.whave=pe.wsize):(be<(Ee=pe.wsize-pe.wnext)&&(Ee=be),s.arraySet(pe.window,J,P-be,Ee,pe.wnext),(be-=Ee)?(s.arraySet(pe.window,J,P-be,be,0),pe.wnext=be,pe.whave=pe.wsize):(pe.wnext+=Ee,pe.wnext===pe.wsize&&(pe.wnext=0),pe.whave<pe.wsize&&(pe.whave+=Ee))),0}a.inflateReset=A,a.inflateReset2=q,a.inflateResetKeep=T,a.inflateInit=function(F){return ie(F,15)},a.inflateInit2=ie,a.inflate=function(F,J){var P,be,Ee,pe,xe,Se,De,X,E,Y,Q,me,ae,B,M,de,ce,te,fe,Oe,W,ee,V,S,C=0,U=new s.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return g;(P=F.state).mode===12&&(P.mode=13),xe=F.next_out,Ee=F.output,De=F.avail_out,pe=F.next_in,be=F.input,Se=F.avail_in,X=P.hold,E=P.bits,Y=Se,Q=De,ee=b;e:for(;;)switch(P.mode){case j:if(P.wrap===0){P.mode=13;break}for(;E<16;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(2&P.wrap&&X===35615){U[P.check=0]=255&X,U[1]=X>>>8&255,P.check=l(P.check,U,2,0),E=X=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&X)<<8)+(X>>8))%31){F.msg="incorrect header check",P.mode=30;break}if((15&X)!=8){F.msg="unknown compression method",P.mode=30;break}if(E-=4,W=8+(15&(X>>>=4)),P.wbits===0)P.wbits=W;else if(W>P.wbits){F.msg="invalid window size",P.mode=30;break}P.dmax=1<<W,F.adler=P.check=1,P.mode=512&X?10:12,E=X=0;break;case 2:for(;E<16;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(P.flags=X,(255&P.flags)!=8){F.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){F.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=X>>8&1),512&P.flags&&(U[0]=255&X,U[1]=X>>>8&255,P.check=l(P.check,U,2,0)),E=X=0,P.mode=3;case 3:for(;E<32;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}P.head&&(P.head.time=X),512&P.flags&&(U[0]=255&X,U[1]=X>>>8&255,U[2]=X>>>16&255,U[3]=X>>>24&255,P.check=l(P.check,U,4,0)),E=X=0,P.mode=4;case 4:for(;E<16;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}P.head&&(P.head.xflags=255&X,P.head.os=X>>8),512&P.flags&&(U[0]=255&X,U[1]=X>>>8&255,P.check=l(P.check,U,2,0)),E=X=0,P.mode=5;case 5:if(1024&P.flags){for(;E<16;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}P.length=X,P.head&&(P.head.extra_len=X),512&P.flags&&(U[0]=255&X,U[1]=X>>>8&255,P.check=l(P.check,U,2,0)),E=X=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(Se<(me=P.length)&&(me=Se),me&&(P.head&&(W=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),s.arraySet(P.head.extra,be,pe,me,W)),512&P.flags&&(P.check=l(P.check,be,me,pe)),Se-=me,pe+=me,P.length-=me),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(Se===0)break e;for(me=0;W=be[pe+me++],P.head&&W&&P.length<65536&&(P.head.name+=String.fromCharCode(W)),W&&me<Se;);if(512&P.flags&&(P.check=l(P.check,be,me,pe)),Se-=me,pe+=me,W)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(Se===0)break e;for(me=0;W=be[pe+me++],P.head&&W&&P.length<65536&&(P.head.comment+=String.fromCharCode(W)),W&&me<Se;);if(512&P.flags&&(P.check=l(P.check,be,me,pe)),Se-=me,pe+=me,W)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;E<16;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(X!==(65535&P.check)){F.msg="header crc mismatch",P.mode=30;break}E=X=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),F.adler=P.check=0,P.mode=12;break;case 10:for(;E<32;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}F.adler=P.check=x(X),E=X=0,P.mode=11;case 11:if(P.havedict===0)return F.next_out=xe,F.avail_out=De,F.next_in=pe,F.avail_in=Se,P.hold=X,P.bits=E,2;F.adler=P.check=1,P.mode=12;case 12:if(J===5||J===6)break e;case 13:if(P.last){X>>>=7&E,E-=7&E,P.mode=27;break}for(;E<3;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}switch(P.last=1&X,E-=1,3&(X>>>=1)){case 0:P.mode=14;break;case 1:if(le(P),P.mode=20,J!==6)break;X>>>=2,E-=2;break e;case 2:P.mode=17;break;case 3:F.msg="invalid block type",P.mode=30}X>>>=2,E-=2;break;case 14:for(X>>>=7&E,E-=7&E;E<32;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if((65535&X)!=(X>>>16^65535)){F.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&X,E=X=0,P.mode=15,J===6)break e;case 15:P.mode=16;case 16:if(me=P.length){if(Se<me&&(me=Se),De<me&&(me=De),me===0)break e;s.arraySet(Ee,be,pe,me,xe),Se-=me,pe+=me,De-=me,xe+=me,P.length-=me;break}P.mode=12;break;case 17:for(;E<14;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(P.nlen=257+(31&X),X>>>=5,E-=5,P.ndist=1+(31&X),X>>>=5,E-=5,P.ncode=4+(15&X),X>>>=4,E-=4,286<P.nlen||30<P.ndist){F.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;E<3;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}P.lens[we[P.have++]]=7&X,X>>>=3,E-=3}for(;P.have<19;)P.lens[we[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,V={bits:P.lenbits},ee=d(0,P.lens,0,19,P.lencode,0,P.work,V),P.lenbits=V.bits,ee){F.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;de=(C=P.lencode[X&(1<<P.lenbits)-1])>>>16&255,ce=65535&C,!((M=C>>>24)<=E);){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(ce<16)X>>>=M,E-=M,P.lens[P.have++]=ce;else{if(ce===16){for(S=M+2;E<S;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(X>>>=M,E-=M,P.have===0){F.msg="invalid bit length repeat",P.mode=30;break}W=P.lens[P.have-1],me=3+(3&X),X>>>=2,E-=2}else if(ce===17){for(S=M+3;E<S;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}E-=M,W=0,me=3+(7&(X>>>=M)),X>>>=3,E-=3}else{for(S=M+7;E<S;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}E-=M,W=0,me=11+(127&(X>>>=M)),X>>>=7,E-=7}if(P.have+me>P.nlen+P.ndist){F.msg="invalid bit length repeat",P.mode=30;break}for(;me--;)P.lens[P.have++]=W}}if(P.mode===30)break;if(P.lens[256]===0){F.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,V={bits:P.lenbits},ee=d(m,P.lens,0,P.nlen,P.lencode,0,P.work,V),P.lenbits=V.bits,ee){F.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,V={bits:P.distbits},ee=d(k,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,V),P.distbits=V.bits,ee){F.msg="invalid distances set",P.mode=30;break}if(P.mode=20,J===6)break e;case 20:P.mode=21;case 21:if(6<=Se&&258<=De){F.next_out=xe,F.avail_out=De,F.next_in=pe,F.avail_in=Se,P.hold=X,P.bits=E,f(F,Q),xe=F.next_out,Ee=F.output,De=F.avail_out,pe=F.next_in,be=F.input,Se=F.avail_in,X=P.hold,E=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;de=(C=P.lencode[X&(1<<P.lenbits)-1])>>>16&255,ce=65535&C,!((M=C>>>24)<=E);){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(de&&(240&de)==0){for(te=M,fe=de,Oe=ce;de=(C=P.lencode[Oe+((X&(1<<te+fe)-1)>>te)])>>>16&255,ce=65535&C,!(te+(M=C>>>24)<=E);){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}X>>>=te,E-=te,P.back+=te}if(X>>>=M,E-=M,P.back+=M,P.length=ce,de===0){P.mode=26;break}if(32&de){P.back=-1,P.mode=12;break}if(64&de){F.msg="invalid literal/length code",P.mode=30;break}P.extra=15&de,P.mode=22;case 22:if(P.extra){for(S=P.extra;E<S;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}P.length+=X&(1<<P.extra)-1,X>>>=P.extra,E-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;de=(C=P.distcode[X&(1<<P.distbits)-1])>>>16&255,ce=65535&C,!((M=C>>>24)<=E);){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if((240&de)==0){for(te=M,fe=de,Oe=ce;de=(C=P.distcode[Oe+((X&(1<<te+fe)-1)>>te)])>>>16&255,ce=65535&C,!(te+(M=C>>>24)<=E);){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}X>>>=te,E-=te,P.back+=te}if(X>>>=M,E-=M,P.back+=M,64&de){F.msg="invalid distance code",P.mode=30;break}P.offset=ce,P.extra=15&de,P.mode=24;case 24:if(P.extra){for(S=P.extra;E<S;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}P.offset+=X&(1<<P.extra)-1,X>>>=P.extra,E-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){F.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(De===0)break e;if(me=Q-De,P.offset>me){if((me=P.offset-me)>P.whave&&P.sane){F.msg="invalid distance too far back",P.mode=30;break}ae=me>P.wnext?(me-=P.wnext,P.wsize-me):P.wnext-me,me>P.length&&(me=P.length),B=P.window}else B=Ee,ae=xe-P.offset,me=P.length;for(De<me&&(me=De),De-=me,P.length-=me;Ee[xe++]=B[ae++],--me;);P.length===0&&(P.mode=21);break;case 26:if(De===0)break e;Ee[xe++]=P.length,De--,P.mode=21;break;case 27:if(P.wrap){for(;E<32;){if(Se===0)break e;Se--,X|=be[pe++]<<E,E+=8}if(Q-=De,F.total_out+=Q,P.total+=Q,Q&&(F.adler=P.check=P.flags?l(P.check,Ee,Q,xe-Q):u(P.check,Ee,Q,xe-Q)),Q=De,(P.flags?X:x(X))!==P.check){F.msg="incorrect data check",P.mode=30;break}E=X=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;E<32;){if(Se===0)break e;Se--,X+=be[pe++]<<E,E+=8}if(X!==(4294967295&P.total)){F.msg="incorrect length check",P.mode=30;break}E=X=0}P.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return g}return F.next_out=xe,F.avail_out=De,F.next_in=pe,F.avail_in=Se,P.hold=X,P.bits=E,(P.wsize||Q!==F.avail_out&&P.mode<30&&(P.mode<27||J!==4))&&re(F,F.output,F.next_out,Q-F.avail_out)?(P.mode=31,-4):(Y-=F.avail_in,Q-=F.avail_out,F.total_in+=Y,F.total_out+=Q,P.total+=Q,P.wrap&&Q&&(F.adler=P.check=P.flags?l(P.check,Ee,Q,F.next_out-Q):u(P.check,Ee,Q,F.next_out-Q)),F.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(Y==0&&Q===0||J===4)&&ee===b&&(ee=-5),ee)},a.inflateEnd=function(F){if(!F||!F.state)return g;var J=F.state;return J.window&&(J.window=null),F.state=null,b},a.inflateGetHeader=function(F,J){var P;return F&&F.state?(2&(P=F.state).wrap)==0?g:((P.head=J).done=!1,b):g},a.inflateSetDictionary=function(F,J){var P,be=J.length;return F&&F.state?(P=F.state).wrap!==0&&P.mode!==11?g:P.mode===11&&u(1,J,be,0)!==P.check?-3:re(F,J,be,be)?(P.mode=31,-4):(P.havedict=1,b):g},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,a){var s=t("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,k,b,g,j,N,O,x){var R,T,A,q,ie,oe,ne,z,le,re=x.bits,F=0,J=0,P=0,be=0,Ee=0,pe=0,xe=0,Se=0,De=0,X=0,E=null,Y=0,Q=new s.Buf16(16),me=new s.Buf16(16),ae=null,B=0;for(F=0;F<=15;F++)Q[F]=0;for(J=0;J<g;J++)Q[k[b+J]]++;for(Ee=re,be=15;1<=be&&Q[be]===0;be--);if(be<Ee&&(Ee=be),be===0)return j[N++]=20971520,j[N++]=20971520,x.bits=1,0;for(P=1;P<be&&Q[P]===0;P++);for(Ee<P&&(Ee=P),F=Se=1;F<=15;F++)if(Se<<=1,(Se-=Q[F])<0)return-1;if(0<Se&&(m===0||be!==1))return-1;for(me[1]=0,F=1;F<15;F++)me[F+1]=me[F]+Q[F];for(J=0;J<g;J++)k[b+J]!==0&&(O[me[k[b+J]]++]=J);if(oe=m===0?(E=ae=O,19):m===1?(E=u,Y-=257,ae=l,B-=257,256):(E=f,ae=d,-1),F=P,ie=N,xe=J=X=0,A=-1,q=(De=1<<(pe=Ee))-1,m===1&&852<De||m===2&&592<De)return 1;for(;;){for(ne=F-xe,le=O[J]<oe?(z=0,O[J]):O[J]>oe?(z=ae[B+O[J]],E[Y+O[J]]):(z=96,0),R=1<<F-xe,P=T=1<<pe;j[ie+(X>>xe)+(T-=R)]=ne<<24|z<<16|le|0,T!==0;);for(R=1<<F-1;X&R;)R>>=1;if(R!==0?(X&=R-1,X+=R):X=0,J++,--Q[F]==0){if(F===be)break;F=k[b+O[J]]}if(Ee<F&&(X&q)!==A){for(xe===0&&(xe=Ee),ie+=P,Se=1<<(pe=F-xe);pe+xe<be&&!((Se-=Q[pe+xe])<=0);)pe++,Se<<=1;if(De+=1<<pe,m===1&&852<De||m===2&&592<De)return 1;j[A=X&q]=Ee<<24|pe<<16|ie-N|0}}return X!==0&&(j[ie+X]=F-xe<<24|64<<16|0),x.bits=Ee,0}},{"../utils/common":41}],51:[function(t,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,a){var s=t("../utils/common"),u=0,l=1;function f(C){for(var U=C.length;0<=--U;)C[U]=0}var d=0,m=29,k=256,b=k+1+m,g=30,j=19,N=2*b+1,O=15,x=16,R=7,T=256,A=16,q=17,ie=18,oe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(b+2));f(re);var F=new Array(2*g);f(F);var J=new Array(512);f(J);var P=new Array(256);f(P);var be=new Array(m);f(be);var Ee,pe,xe,Se=new Array(g);function De(C,U,we,Le,Ce){this.static_tree=C,this.extra_bits=U,this.extra_base=we,this.elems=Le,this.max_length=Ce,this.has_stree=C&&C.length}function X(C,U){this.dyn_tree=C,this.max_code=0,this.stat_desc=U}function E(C){return C<256?J[C]:J[256+(C>>>7)]}function Y(C,U){C.pending_buf[C.pending++]=255&U,C.pending_buf[C.pending++]=U>>>8&255}function Q(C,U,we){C.bi_valid>x-we?(C.bi_buf|=U<<C.bi_valid&65535,Y(C,C.bi_buf),C.bi_buf=U>>x-C.bi_valid,C.bi_valid+=we-x):(C.bi_buf|=U<<C.bi_valid&65535,C.bi_valid+=we)}function me(C,U,we){Q(C,we[2*U],we[2*U+1])}function ae(C,U){for(var we=0;we|=1&C,C>>>=1,we<<=1,0<--U;);return we>>>1}function B(C,U,we){var Le,Ce,He=new Array(O+1),at=0;for(Le=1;Le<=O;Le++)He[Le]=at=at+we[Le-1]<<1;for(Ce=0;Ce<=U;Ce++){var Je=C[2*Ce+1];Je!==0&&(C[2*Ce]=ae(He[Je]++,Je))}}function M(C){var U;for(U=0;U<b;U++)C.dyn_ltree[2*U]=0;for(U=0;U<g;U++)C.dyn_dtree[2*U]=0;for(U=0;U<j;U++)C.bl_tree[2*U]=0;C.dyn_ltree[2*T]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function de(C){8<C.bi_valid?Y(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ce(C,U,we,Le){var Ce=2*U,He=2*we;return C[Ce]<C[He]||C[Ce]===C[He]&&Le[U]<=Le[we]}function te(C,U,we){for(var Le=C.heap[we],Ce=we<<1;Ce<=C.heap_len&&(Ce<C.heap_len&&ce(U,C.heap[Ce+1],C.heap[Ce],C.depth)&&Ce++,!ce(U,Le,C.heap[Ce],C.depth));)C.heap[we]=C.heap[Ce],we=Ce,Ce<<=1;C.heap[we]=Le}function fe(C,U,we){var Le,Ce,He,at,Je=0;if(C.last_lit!==0)for(;Le=C.pending_buf[C.d_buf+2*Je]<<8|C.pending_buf[C.d_buf+2*Je+1],Ce=C.pending_buf[C.l_buf+Je],Je++,Le===0?me(C,Ce,U):(me(C,(He=P[Ce])+k+1,U),(at=oe[He])!==0&&Q(C,Ce-=be[He],at),me(C,He=E(--Le),we),(at=ne[He])!==0&&Q(C,Le-=Se[He],at)),Je<C.last_lit;);me(C,T,U)}function Oe(C,U){var we,Le,Ce,He=U.dyn_tree,at=U.stat_desc.static_tree,Je=U.stat_desc.has_stree,ht=U.stat_desc.elems,Ct=-1;for(C.heap_len=0,C.heap_max=N,we=0;we<ht;we++)He[2*we]!==0?(C.heap[++C.heap_len]=Ct=we,C.depth[we]=0):He[2*we+1]=0;for(;C.heap_len<2;)He[2*(Ce=C.heap[++C.heap_len]=Ct<2?++Ct:0)]=1,C.depth[Ce]=0,C.opt_len--,Je&&(C.static_len-=at[2*Ce+1]);for(U.max_code=Ct,we=C.heap_len>>1;1<=we;we--)te(C,He,we);for(Ce=ht;we=C.heap[1],C.heap[1]=C.heap[C.heap_len--],te(C,He,1),Le=C.heap[1],C.heap[--C.heap_max]=we,C.heap[--C.heap_max]=Le,He[2*Ce]=He[2*we]+He[2*Le],C.depth[Ce]=(C.depth[we]>=C.depth[Le]?C.depth[we]:C.depth[Le])+1,He[2*we+1]=He[2*Le+1]=Ce,C.heap[1]=Ce++,te(C,He,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],(function($t,Jt){var Zt,Gt,Or,Nn,On,$n,In=Jt.dyn_tree,pn=Jt.max_code,jr=Jt.stat_desc.static_tree,En=Jt.stat_desc.has_stree,Wn=Jt.stat_desc.extra_bits,Ir=Jt.stat_desc.extra_base,zn=Jt.stat_desc.max_length,Sn=0;for(Nn=0;Nn<=O;Nn++)$t.bl_count[Nn]=0;for(In[2*$t.heap[$t.heap_max]+1]=0,Zt=$t.heap_max+1;Zt<N;Zt++)zn<(Nn=In[2*In[2*(Gt=$t.heap[Zt])+1]+1]+1)&&(Nn=zn,Sn++),In[2*Gt+1]=Nn,pn<Gt||($t.bl_count[Nn]++,On=0,Ir<=Gt&&(On=Wn[Gt-Ir]),$n=In[2*Gt],$t.opt_len+=$n*(Nn+On),En&&($t.static_len+=$n*(jr[2*Gt+1]+On)));if(Sn!==0){do{for(Nn=zn-1;$t.bl_count[Nn]===0;)Nn--;$t.bl_count[Nn]--,$t.bl_count[Nn+1]+=2,$t.bl_count[zn]--,Sn-=2}while(0<Sn);for(Nn=zn;Nn!==0;Nn--)for(Gt=$t.bl_count[Nn];Gt!==0;)pn<(Or=$t.heap[--Zt])||(In[2*Or+1]!==Nn&&($t.opt_len+=(Nn-In[2*Or+1])*In[2*Or],In[2*Or+1]=Nn),Gt--)}})(C,U),B(He,Ct,C.bl_count)}function W(C,U,we){var Le,Ce,He=-1,at=U[1],Je=0,ht=7,Ct=4;for(at===0&&(ht=138,Ct=3),U[2*(we+1)+1]=65535,Le=0;Le<=we;Le++)Ce=at,at=U[2*(Le+1)+1],++Je<ht&&Ce===at||(Je<Ct?C.bl_tree[2*Ce]+=Je:Ce!==0?(Ce!==He&&C.bl_tree[2*Ce]++,C.bl_tree[2*A]++):Je<=10?C.bl_tree[2*q]++:C.bl_tree[2*ie]++,He=Ce,Ct=(Je=0)===at?(ht=138,3):Ce===at?(ht=6,3):(ht=7,4))}function ee(C,U,we){var Le,Ce,He=-1,at=U[1],Je=0,ht=7,Ct=4;for(at===0&&(ht=138,Ct=3),Le=0;Le<=we;Le++)if(Ce=at,at=U[2*(Le+1)+1],!(++Je<ht&&Ce===at)){if(Je<Ct)for(;me(C,Ce,C.bl_tree),--Je!=0;);else Ce!==0?(Ce!==He&&(me(C,Ce,C.bl_tree),Je--),me(C,A,C.bl_tree),Q(C,Je-3,2)):Je<=10?(me(C,q,C.bl_tree),Q(C,Je-3,3)):(me(C,ie,C.bl_tree),Q(C,Je-11,7));He=Ce,Ct=(Je=0)===at?(ht=138,3):Ce===at?(ht=6,3):(ht=7,4)}}f(Se);var V=!1;function S(C,U,we,Le){Q(C,(d<<1)+(Le?1:0),3),(function(Ce,He,at,Je){de(Ce),Y(Ce,at),Y(Ce,~at),s.arraySet(Ce.pending_buf,Ce.window,He,at,Ce.pending),Ce.pending+=at})(C,U,we)}a._tr_init=function(C){V||((function(){var U,we,Le,Ce,He,at=new Array(O+1);for(Ce=Le=0;Ce<m-1;Ce++)for(be[Ce]=Le,U=0;U<1<<oe[Ce];U++)P[Le++]=Ce;for(P[Le-1]=Ce,Ce=He=0;Ce<16;Ce++)for(Se[Ce]=He,U=0;U<1<<ne[Ce];U++)J[He++]=Ce;for(He>>=7;Ce<g;Ce++)for(Se[Ce]=He<<7,U=0;U<1<<ne[Ce]-7;U++)J[256+He++]=Ce;for(we=0;we<=O;we++)at[we]=0;for(U=0;U<=143;)re[2*U+1]=8,U++,at[8]++;for(;U<=255;)re[2*U+1]=9,U++,at[9]++;for(;U<=279;)re[2*U+1]=7,U++,at[7]++;for(;U<=287;)re[2*U+1]=8,U++,at[8]++;for(B(re,b+1,at),U=0;U<g;U++)F[2*U+1]=5,F[2*U]=ae(U,5);Ee=new De(re,oe,k+1,b,O),pe=new De(F,ne,0,g,O),xe=new De(new Array(0),z,0,j,R)})(),V=!0),C.l_desc=new X(C.dyn_ltree,Ee),C.d_desc=new X(C.dyn_dtree,pe),C.bl_desc=new X(C.bl_tree,xe),C.bi_buf=0,C.bi_valid=0,M(C)},a._tr_stored_block=S,a._tr_flush_block=function(C,U,we,Le){var Ce,He,at=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=(function(Je){var ht,Ct=4093624447;for(ht=0;ht<=31;ht++,Ct>>>=1)if(1&Ct&&Je.dyn_ltree[2*ht]!==0)return u;if(Je.dyn_ltree[18]!==0||Je.dyn_ltree[20]!==0||Je.dyn_ltree[26]!==0)return l;for(ht=32;ht<k;ht++)if(Je.dyn_ltree[2*ht]!==0)return l;return u})(C)),Oe(C,C.l_desc),Oe(C,C.d_desc),at=(function(Je){var ht;for(W(Je,Je.dyn_ltree,Je.l_desc.max_code),W(Je,Je.dyn_dtree,Je.d_desc.max_code),Oe(Je,Je.bl_desc),ht=j-1;3<=ht&&Je.bl_tree[2*le[ht]+1]===0;ht--);return Je.opt_len+=3*(ht+1)+5+5+4,ht})(C),Ce=C.opt_len+3+7>>>3,(He=C.static_len+3+7>>>3)<=Ce&&(Ce=He)):Ce=He=we+5,we+4<=Ce&&U!==-1?S(C,U,we,Le):C.strategy===4||He===Ce?(Q(C,2+(Le?1:0),3),fe(C,re,F)):(Q(C,4+(Le?1:0),3),(function(Je,ht,Ct,$t){var Jt;for(Q(Je,ht-257,5),Q(Je,Ct-1,5),Q(Je,$t-4,4),Jt=0;Jt<$t;Jt++)Q(Je,Je.bl_tree[2*le[Jt]+1],3);ee(Je,Je.dyn_ltree,ht-1),ee(Je,Je.dyn_dtree,Ct-1)})(C,C.l_desc.max_code+1,C.d_desc.max_code+1,at+1),fe(C,C.dyn_ltree,C.dyn_dtree)),M(C),Le&&de(C)},a._tr_tally=function(C,U,we){return C.pending_buf[C.d_buf+2*C.last_lit]=U>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&U,C.pending_buf[C.l_buf+C.last_lit]=255&we,C.last_lit++,U===0?C.dyn_ltree[2*we]++:(C.matches++,U--,C.dyn_ltree[2*(P[we]+k+1)]++,C.dyn_dtree[2*E(U)]++),C.last_lit===C.lit_bufsize-1},a._tr_align=function(C){Q(C,2,3),me(C,T,re),(function(U){U.bi_valid===16?(Y(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)})(C)}},{"../utils/common":41}],53:[function(t,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,a){(function(s){(function(u,l){if(!u.setImmediate){var f,d,m,k,b=1,g={},j=!1,N=u.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(u);O=O&&O.setTimeout?O:u,f={}.toString.call(u.process)==="[object process]"?function(A){Pr.nextTick(function(){R(A)})}:(function(){if(u.postMessage&&!u.importScripts){var A=!0,q=u.onmessage;return u.onmessage=function(){A=!1},u.postMessage("","*"),u.onmessage=q,A}})()?(k="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",T,!1):u.attachEvent("onmessage",T),function(A){u.postMessage(k+A,"*")}):u.MessageChannel?((m=new MessageChannel).port1.onmessage=function(A){R(A.data)},function(A){m.port2.postMessage(A)}):N&&"onreadystatechange"in N.createElement("script")?(d=N.documentElement,function(A){var q=N.createElement("script");q.onreadystatechange=function(){R(A),q.onreadystatechange=null,d.removeChild(q),q=null},d.appendChild(q)}):function(A){setTimeout(R,0,A)},O.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var q=new Array(arguments.length-1),ie=0;ie<q.length;ie++)q[ie]=arguments[ie+1];var oe={callback:A,args:q};return g[b]=oe,f(b),b++},O.clearImmediate=x}function x(A){delete g[A]}function R(A){if(j)setTimeout(R,0,A);else{var q=g[A];if(q){j=!0;try{(function(ie){var oe=ie.callback,ne=ie.args;switch(ne.length){case 0:oe();break;case 1:oe(ne[0]);break;case 2:oe(ne[0],ne[1]);break;case 3:oe(ne[0],ne[1],ne[2]);break;default:oe.apply(l,ne)}})(q)}finally{x(A),j=!1}}}}function T(A){A.source===u&&typeof A.data=="string"&&A.data.indexOf(k)===0&&R(+A.data.slice(k.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(w1)),w1.exports}var X6=Y6();const J6=Qv(X6);var nf={exports:{}},x1,f2;function Z6(){if(f2)return x1;f2=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(o,a){return r[a]}):t}return x1=e,x1}var d2;function Q6(){if(d2)return nf.exports;d2=1;var r=Z6(),e=_m().Stream,t="    ";function o(d,m){typeof m!="object"&&(m={indent:m});var k=m.stream?new e:null,b="",g=!1,j=m.indent?m.indent===!0?t:m.indent:"",N=!0;function O(q){N?Pr.nextTick(q):q()}function x(q,ie){if(ie!==void 0&&(b+=ie),q&&!g&&(k=k||new e,g=!0),q&&g){var oe=b;O(function(){k.emit("data",oe)}),b=""}}function R(q,ie){l(x,u(q,j,j?1:0),ie)}function T(){if(k){var q=b;O(function(){k.emit("data",q),k.emit("end"),k.readable=!1,k.emit("close")})}}function A(q){var ie=q.encoding||"UTF-8",oe={version:"1.0",encoding:ie};q.standalone&&(oe.standalone=q.standalone),R({"?xml":{_attr:oe}}),b=b.replace("/>","?>")}return O(function(){N=!1}),m.declaration&&A(m.declaration),d&&d.forEach?d.forEach(function(q,ie){var oe;ie+1===d.length&&(oe=T),R(q,oe)}):R(d,T),k?(k.readable=!0,k):b}function a(){var d=Array.prototype.slice.call(arguments),m={_elem:u(d)};return m.push=function(k){if(!this.append)throw new Error("not assigned to a parent!");var b=this,g=this._elem.indent;l(this.append,u(k,g,this._elem.icount+(g?1:0)),function(){b.append(!0)})},m.close=function(k){k!==void 0&&this.push(k),this.end&&this.end()},m}function s(d,m){return new Array(m||0).join(d||"")}function u(d,m,k){k=k||0;var b=s(m,k),g,j=d,N=!1;if(typeof d=="object"){var O=Object.keys(d);if(g=O[0],j=d[g],j&&j._elem)return j._elem.name=g,j._elem.icount=k,j._elem.indent=m,j._elem.indents=b,j._elem.interrupt=j,j._elem}var x=[],R=[],T;function A(q){var ie=Object.keys(q);ie.forEach(function(oe){x.push(f(oe,q[oe]))})}switch(typeof j){case"object":if(j===null)break;j._attr&&A(j._attr),j._cdata&&R.push(("<![CDATA["+j._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),j.forEach&&(T=!1,R.push(""),j.forEach(function(q){if(typeof q=="object"){var ie=Object.keys(q)[0];ie=="_attr"?A(q._attr):R.push(u(q,m,k+1))}else R.pop(),T=!0,R.push(r(q))}),T||R.push(""));break;default:R.push(r(j))}return{name:g,interrupt:N,attributes:x,content:R,icount:k,indents:b,indent:m}}function l(d,m,k){if(typeof m!="object")return d(!1,m);var b=m.interrupt?1:m.content.length;function g(){for(;m.content.length;){var N=m.content.shift();if(N!==void 0){if(j(N))return;l(d,N)}}d(!1,(b>1?m.indents:"")+(m.name?"</"+m.name+">":"")+(m.indent&&!k?`
`:"")),k&&k()}function j(N){return N.interrupt?(N.interrupt.append=d,N.interrupt.end=g,N.interrupt=!1,d(!0),!0):!1}if(d(!1,m.indents+(m.name?"<"+m.name:"")+(m.attributes.length?" "+m.attributes.join(" "):"")+(b?m.name?">":"":m.name?"/>":"")+(m.indent&&b>1?`
`:"")),!b)return d(!1,m.indent?`
`:"");j(m)||g()}function f(d,m){return d+'="'+r(m)+'"'}return nf.exports=o,nf.exports.element=nf.exports.Element=a,nf.exports}var eS=Q6();const yo=Qv(eS),rf=0,b1=32,tS=32,nS=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==tS)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const a=t.replace(/(..)/g,"$1 ").trim().split(" ").map(f=>parseInt(f,16));a.reverse();const u=r.slice(rf,b1).map((f,d)=>f^a[d%a.length]),l=new Uint8Array(rf+u.length+Math.max(0,r.length-b1));return l.set(r.slice(0,rf)),l.set(u,rf),l.set(r.slice(b1),rf+u.length),l};class rS{format(e,t={stack:[]}){const o=e.prepForXml(t);if(o)return o;throw Error("XMLComponent did not format correctly")}}class iS{replace(e,t,o){let a=e;return t.forEach((s,u)=>{a=a.replace(new RegExp(`{${s.fileName}}`,"g"),(o+u).toString())}),a}getMediaData(e,t){return t.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class oS{replace(e,t){let o=e;for(const a of t)o=o.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return o}}class sS{constructor(){Nt(this,"formatter"),Nt(this,"imageReplacer"),Nt(this,"numberingReplacer"),this.formatter=new rS,this.imageReplacer=new iS,this.numberingReplacer=new oS}compile(e,t,o=[]){const a=new J6,s=this.xmlifyFile(e,t),u=new Map(Object.entries(s));for(const[,l]of u)if(Array.isArray(l))for(const f of l)a.file(f.path,f.data);else a.file(l.path,l.data);for(const l of o)a.file(l.path,l.data);for(const l of e.Media.Array)l.type!=="svg"?a.file(`word/media/${l.fileName}`,l.data):(a.file(`word/media/${l.fileName}`,l.data),a.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:f,fontKey:d}of e.FontTable.fontOptionsWithKey){const[m]=f.split(".");a.file(`word/fonts/${m}.odttf`,nS(l,d))}return a}xmlifyFile(e,t){const o=e.Document.Relationships.RelationshipCount+1,a=yo(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,u=yo(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(a,e.Media),f=this.imageReplacer.getMediaData(u,e.Media);return{Relationships:{data:(l.forEach((d,m)=>{e.Document.Relationships.createRelationship(o+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),yo(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(a,l,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=yo(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:yo(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:yo(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:yo(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,m)=>{const k=yo(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(k,e.Media).forEach((g,j)=>{d.Relationships.createRelationship(j,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${g.fileName}`)}),{data:yo(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${m+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,m)=>{const k=yo(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(k,e.Media).forEach((g,j)=>{d.Relationships.createRelationship(j,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${g.fileName}`)}),{data:yo(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${m+1}.xml.rels`}}),Headers:e.Headers.map((d,m)=>{const k=yo(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),b=this.imageReplacer.getMediaData(k,e.Media),g=this.imageReplacer.replace(k,b,0);return{data:this.numberingReplacer.replace(g,e.Numbering.ConcreteNumbering),path:`word/header${m+1}.xml`}}),Footers:e.Footers.map((d,m)=>{const k=yo(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),b=this.imageReplacer.getMediaData(k,e.Media),g=this.imageReplacer.replace(k,b,0);return{data:this.numberingReplacer.replace(g,e.Numbering.ConcreteNumbering),path:`word/footer${m+1}.xml`}}),ContentTypes:{data:yo(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:yo(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:yo(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:yo(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:yo(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:yo(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const d=this.imageReplacer.replace(u,f,s);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(f.forEach((d,m)=>{e.Comments.Relationships.createRelationship(s+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),yo(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:yo(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:yo(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const aS={WITH_2_BLANKS:"  "},h2=r=>r===!0?aS.WITH_2_BLANKS:r===!1?void 0:r,O5=class yu{static pack(e,t,o){return Ob(this,arguments,function*(a,s,u,l=[]){return this.compiler.compile(a,h2(u),l).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,o=[]){return yu.pack(e,"string",t,o)}static toBuffer(e,t,o=[]){return yu.pack(e,"nodebuffer",t,o)}static toBase64String(e,t,o=[]){return yu.pack(e,"base64",t,o)}static toBlob(e,t,o=[]){return yu.pack(e,"blob",t,o)}static toArrayBuffer(e,t,o=[]){return yu.pack(e,"arraybuffer",t,o)}static toStream(e,t,o=[]){const a=new K6.Stream;return this.compiler.compile(e,h2(t),o).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(u=>{a.emit("data",u),a.emit("end")}),a}};Nt(O5,"compiler",new sS);let lS=O5;var Sd={exports:{}},cS=Sd.exports,p2;function uS(){return p2||(p2=1,(function(r,e){(function(t,o){o()})(cS,function(){function t(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function o(d,m,k){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){f(b.response,m,k)},b.onerror=function(){console.error("could not download file")},b.send()}function a(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Kf=="object"&&Kf.global===Kf?Kf:void 0,l=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,m,k){var b=u.URL||u.webkitURL,g=document.createElement("a");m=m||d.name||"download",g.download=m,g.rel="noopener",typeof d=="string"?(g.href=d,g.origin===location.origin?s(g):a(g.href)?o(d,m,k):s(g,g.target="_blank")):(g.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(g.href)},4e4),setTimeout(function(){s(g)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,k){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,k),m);else if(a(d))o(d,m,k);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,m,k,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return o(d,m,k);var g=d.type==="application/octet-stream",j=/constructor/i.test(u.HTMLElement)||u.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||g&&j||l)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var T=O.result;T=N?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=T:location=T,b=null},O.readAsDataURL(d)}else{var x=u.URL||u.webkitURL,R=x.createObjectURL(d);b?b.location=R:location.href=R,b=null,setTimeout(function(){x.revokeObjectURL(R)},4e4)}});u.saveAs=f.saveAs=f,r.exports=f})})(Sd)),Sd.exports}var fS=uS();function Si(r){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(r)}var tl=Uint8Array,da=Uint16Array,Lm=Int32Array,jm=new tl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Im=new tl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m2=new tl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),F5=function(r,e){for(var t=new da(31),o=0;o<31;++o)t[o]=e+=1<<r[o-1];for(var a=new Lm(t[30]),o=1;o<30;++o)for(var s=t[o];s<t[o+1];++s)a[s]=s-t[o]<<5|o;return{b:t,r:a}},B5=F5(jm,2),dS=B5.b,nm=B5.r;dS[28]=258,nm[258]=28;var hS=F5(Im,0),g2=hS.r,rm=new da(32768);for(var Vi=0;Vi<32768;++Vi){var bc=(Vi&43690)>>1|(Vi&21845)<<1;bc=(bc&52428)>>2|(bc&13107)<<2,bc=(bc&61680)>>4|(bc&3855)<<4,rm[Vi]=((bc&65280)>>8|(bc&255)<<8)>>1}var df=(function(r,e,t){for(var o=r.length,a=0,s=new da(e);a<o;++a)r[a]&&++s[r[a]-1];var u=new da(e);for(a=1;a<e;++a)u[a]=u[a-1]+s[a-1]<<1;var l;if(t){l=new da(1<<e);var f=15-e;for(a=0;a<o;++a)if(r[a])for(var d=a<<4|r[a],m=e-r[a],k=u[r[a]-1]++<<m,b=k|(1<<m)-1;k<=b;++k)l[rm[k]>>f]=d}else for(l=new da(o),a=0;a<o;++a)r[a]&&(l[a]=rm[u[r[a]-1]++]>>15-r[a]);return l}),Kc=new tl(288);for(var Vi=0;Vi<144;++Vi)Kc[Vi]=8;for(var Vi=144;Vi<256;++Vi)Kc[Vi]=9;for(var Vi=256;Vi<280;++Vi)Kc[Vi]=7;for(var Vi=280;Vi<288;++Vi)Kc[Vi]=8;var Pd=new tl(32);for(var Vi=0;Vi<32;++Vi)Pd[Vi]=5;var pS=df(Kc,9,0),mS=df(Pd,5,0),M5=function(r){return(r+7)/8|0},gS=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new tl(r.subarray(e,t))},Yl=function(r,e,t){t<<=e&7;var o=e/8|0;r[o]|=t,r[o+1]|=t>>8},of=function(r,e,t){t<<=e&7;var o=e/8|0;r[o]|=t,r[o+1]|=t>>8,r[o+2]|=t>>16},_1=function(r,e){for(var t=[],o=0;o<r.length;++o)r[o]&&t.push({s:o,f:r[o]});var a=t.length,s=t.slice();if(!a)return{t:U5,l:0};if(a==1){var u=new tl(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(q,ie){return q.f-ie.f}),t.push({s:-1,f:25001});var l=t[0],f=t[1],d=0,m=1,k=2;for(t[0]={s:-1,f:l.f+f.f,l,r:f};m!=a-1;)l=t[t[d].f<t[k].f?d++:k++],f=t[d!=m&&t[d].f<t[k].f?d++:k++],t[m++]={s:-1,f:l.f+f.f,l,r:f};for(var b=s[0].s,o=1;o<a;++o)s[o].s>b&&(b=s[o].s);var g=new da(b+1),j=im(t[m-1],g,0);if(j>e){var o=0,N=0,O=j-e,x=1<<O;for(s.sort(function(ie,oe){return g[oe.s]-g[ie.s]||ie.f-oe.f});o<a;++o){var R=s[o].s;if(g[R]>e)N+=x-(1<<j-g[R]),g[R]=e;else break}for(N>>=O;N>0;){var T=s[o].s;g[T]<e?N-=1<<e-g[T]++-1:++o}for(;o>=0&&N;--o){var A=s[o].s;g[A]==e&&(--g[A],++N)}j=e}return{t:new tl(g),l:j}},im=function(r,e,t){return r.s==-1?Math.max(im(r.l,e,t+1),im(r.r,e,t+1)):e[r.s]=t},y2=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new da(++e),o=0,a=r[0],s=1,u=function(f){t[o++]=f},l=1;l<=e;++l)if(r[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(a),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(a);s=1,a=r[l]}return{c:t.subarray(0,o),n:e}},sf=function(r,e){for(var t=0,o=0;o<e.length;++o)t+=r[o]*e[o];return t},z5=function(r,e,t){var o=t.length,a=M5(e+2);r[a]=o&255,r[a+1]=o>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var s=0;s<o;++s)r[a+s+4]=t[s];return(a+4+o)*8},v2=function(r,e,t,o,a,s,u,l,f,d,m){Yl(e,m++,t),++a[256];for(var k=_1(a,15),b=k.t,g=k.l,j=_1(s,15),N=j.t,O=j.l,x=y2(b),R=x.c,T=x.n,A=y2(N),q=A.c,ie=A.n,oe=new da(19),ne=0;ne<R.length;++ne)++oe[R[ne]&31];for(var ne=0;ne<q.length;++ne)++oe[q[ne]&31];for(var z=_1(oe,7),le=z.t,re=z.l,F=19;F>4&&!le[m2[F-1]];--F);var J=d+5<<3,P=sf(a,Kc)+sf(s,Pd)+u,be=sf(a,b)+sf(s,N)+u+14+3*F+sf(oe,le)+2*oe[16]+3*oe[17]+7*oe[18];if(f>=0&&J<=P&&J<=be)return z5(e,m,r.subarray(f,f+d));var Ee,pe,xe,Se;if(Yl(e,m,1+(be<P)),m+=2,be<P){Ee=df(b,g,0),pe=b,xe=df(N,O,0),Se=N;var De=df(le,re,0);Yl(e,m,T-257),Yl(e,m+5,ie-1),Yl(e,m+10,F-4),m+=14;for(var ne=0;ne<F;++ne)Yl(e,m+3*ne,le[m2[ne]]);m+=3*F;for(var X=[R,q],E=0;E<2;++E)for(var Y=X[E],ne=0;ne<Y.length;++ne){var Q=Y[ne]&31;Yl(e,m,De[Q]),m+=le[Q],Q>15&&(Yl(e,m,Y[ne]>>5&127),m+=Y[ne]>>12)}}else Ee=pS,pe=Kc,xe=mS,Se=Pd;for(var ne=0;ne<l;++ne){var me=o[ne];if(me>255){var Q=me>>18&31;of(e,m,Ee[Q+257]),m+=pe[Q+257],Q>7&&(Yl(e,m,me>>23&31),m+=jm[Q]);var ae=me&31;of(e,m,xe[ae]),m+=Se[ae],ae>3&&(of(e,m,me>>5&8191),m+=Im[ae])}else of(e,m,Ee[me]),m+=pe[me]}return of(e,m,Ee[256]),m+pe[256]},yS=new Lm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U5=new tl(0),vS=function(r,e,t,o,a,s){var u=s.z||r.length,l=new tl(o+u+5*(1+Math.ceil(u/7e3))+a),f=l.subarray(o,l.length-a),d=s.l,m=(s.r||0)&7;if(e){m&&(f[0]=s.r>>3);for(var k=yS[e-1],b=k>>13,g=k&8191,j=(1<<t)-1,N=s.p||new da(32768),O=s.h||new da(j+1),x=Math.ceil(t/3),R=2*x,T=function(W){return(r[W]^r[W+1]<<x^r[W+2]<<R)&j},A=new Lm(25e3),q=new da(288),ie=new da(32),oe=0,ne=0,z=s.i||0,le=0,re=s.w||0,F=0;z+2<u;++z){var J=T(z),P=z&32767,be=O[J];if(N[P]=be,O[J]=P,re<=z){var Ee=u-z;if((oe>7e3||le>24576)&&(Ee>423||!d)){m=v2(r,f,0,A,q,ie,ne,le,F,z-F,m),le=oe=ne=0,F=z;for(var pe=0;pe<286;++pe)q[pe]=0;for(var pe=0;pe<30;++pe)ie[pe]=0}var xe=2,Se=0,De=g,X=P-be&32767;if(Ee>2&&J==T(z-X))for(var E=Math.min(b,Ee)-1,Y=Math.min(32767,z),Q=Math.min(258,Ee);X<=Y&&--De&&P!=be;){if(r[z+xe]==r[z+xe-X]){for(var me=0;me<Q&&r[z+me]==r[z+me-X];++me);if(me>xe){if(xe=me,Se=X,me>E)break;for(var ae=Math.min(X,me-2),B=0,pe=0;pe<ae;++pe){var M=z-X+pe&32767,de=N[M],ce=M-de&32767;ce>B&&(B=ce,be=M)}}}P=be,be=N[P],X+=P-be&32767}if(Se){A[le++]=268435456|nm[xe]<<18|g2[Se];var te=nm[xe]&31,fe=g2[Se]&31;ne+=jm[te]+Im[fe],++q[257+te],++ie[fe],re=z+xe,++oe}else A[le++]=r[z],++q[r[z]]}}for(z=Math.max(z,re);z<u;++z)A[le++]=r[z],++q[r[z]];m=v2(r,f,d,A,q,ie,ne,le,F,z-F,m),d||(s.r=m&7|f[m/8|0]<<3,m-=7,s.h=O,s.p=N,s.i=z,s.w=re)}else{for(var z=s.w||0;z<u+d;z+=65535){var Oe=z+65535;Oe>=u&&(f[m/8|0]=d,Oe=u),m=z5(f,m+1,r.subarray(z,Oe))}s.i=u}return gS(l,0,o+M5(m)+a)},$5=function(){var r=1,e=0;return{p:function(t){for(var o=r,a=e,s=t.length|0,u=0;u!=s;){for(var l=Math.min(u+2655,s);u<l;++u)a+=o+=t[u];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}r=o,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},wS=function(r,e,t,o,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),u=new tl(s.length+r.length);u.set(s),u.set(r,s.length),r=u,a.w=s.length}return vS(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,o,a)},q5=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},xS=function(r,e){var t=e.level,o=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=o<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=$5();a.p(e.dictionary),q5(r,2,a.d())}};function om(r,e){e||(e={});var t=$5();t.p(r);var o=wS(r,e,e.dictionary?6:2,4);return xS(o,e),q5(o,o.length-4,t.d()),o}var bS=typeof TextDecoder<"u"&&new TextDecoder,_S=0;try{bS.decode(U5,{stream:!0}),_S=1}catch{}function SS(r){if(Array.isArray(r))return r}function kS(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var o,a,s,u,l=[],f=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(f=(o=s.call(t)).done)&&(l.push(o.value),l.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return l}}function w2(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=Array(e);t<e;t++)o[t]=r[t];return o}function AS(r,e){if(r){if(typeof r=="string")return w2(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w2(r,e):void 0}}function NS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2(r,e){return SS(r)||kS(r,e)||AS(r,e)||NS()}function b2(r,e="utf8"){return new TextDecoder(e).decode(r)}const ES=new TextEncoder;function CS(r){return ES.encode(r)}const TS=1024*8,LS=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),S1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Pm{constructor(e=TS,t={}){_i(this,"buffer");_i(this,"byteLength");_i(this,"byteOffset");_i(this,"length");_i(this,"offset");_i(this,"lastWrittenByte");_i(this,"littleEndian");_i(this,"_data");_i(this,"_mark");_i(this,"_marks");let o=!1;typeof e=="number"?e=new ArrayBuffer(e):(o=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,s=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof Pm)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),o?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const o=(this.offset+e)*2,a=new Uint8Array(o);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=o,this.byteLength=o,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const o=S1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+o);if(this.littleEndian===LS&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+o));l.reverse();const f=new S1[t](l.buffer);return this.offset+=o,f.reverse(),f}const u=new S1[t](s);return this.offset+=o,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let o=0;o<e;o++)t+=this.readChar();return t}readUtf8(e=1){return b2(this.readBytes(e))}decodeText(e=1,t="utf8"){return b2(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(CS(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Uu(r){let e=r.length;for(;--e>=0;)r[e]=0}const jS=3,IS=258,W5=29,PS=256,RS=PS+1+W5,H5=30,DS=512,OS=new Array((RS+2)*2);Uu(OS);const FS=new Array(H5*2);Uu(FS);const BS=new Array(DS);Uu(BS);const MS=new Array(IS-jS+1);Uu(MS);const zS=new Array(W5);Uu(zS);const US=new Array(H5);Uu(US);const $S=(r,e,t,o)=>{let a=r&65535|0,s=r>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[o++]|0,s=s+a|0;while(--u);a%=65521,s%=65521}return a|s<<16|0};var sm=$S;const qS=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},WS=new Uint32Array(qS()),HS=(r,e,t,o)=>{const a=WS,s=o+t;r^=-1;for(let u=o;u<s;u++)r=r>>>8^a[(r^e[u])&255];return r^-1};var _l=HS,am={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const GS=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var VS=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const o in t)GS(t,o)&&(r[o]=t[o])}}return r},KS=r=>{let e=0;for(let o=0,a=r.length;o<a;o++)e+=r[o].length;const t=new Uint8Array(e);for(let o=0,a=0,s=r.length;o<s;o++){let u=r[o];t.set(u,a),a+=u.length}return t},V5={assign:VS,flattenChunks:KS};let K5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K5=!1}const mf=new Uint8Array(256);for(let r=0;r<256;r++)mf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;mf[254]=mf[254]=1;var YS=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,o,a,s,u=r.length,l=0;for(a=0;a<u;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<u&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(t=65536+(t-55296<<10)+(o-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<u&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(t=65536+(t-55296<<10)+(o-56320),a++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const XS=(r,e)=>{if(e<65534&&r.subarray&&K5)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let o=0;o<e;o++)t+=String.fromCharCode(r[o]);return t};var JS=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let o,a;const s=new Array(t*2);for(a=0,o=0;o<t;){let u=r[o++];if(u<128){s[a++]=u;continue}let l=mf[u];if(l>4){s[a++]=65533,o+=l-1;continue}for(u&=l===2?31:l===3?15:7;l>1&&o<t;)u=u<<6|r[o++]&63,l--;if(l>1){s[a++]=65533;continue}u<65536?s[a++]=u:(u-=65536,s[a++]=55296|u>>10&1023,s[a++]=56320|u&1023)}return XS(s,a)},ZS=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+mf[r[t]]>e?t:e},lm={string2buf:YS,buf2string:JS,utf8border:ZS};function QS(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var e8=QS;const ld=16209,t8=16191;var n8=function(e,t){let o,a,s,u,l,f,d,m,k,b,g,j,N,O,x,R,T,A,q,ie,oe,ne,z,le;const re=e.state;o=e.next_in,z=e.input,a=o+(e.avail_in-5),s=e.next_out,le=e.output,u=s-(t-e.avail_out),l=s+(e.avail_out-257),f=re.dmax,d=re.wsize,m=re.whave,k=re.wnext,b=re.window,g=re.hold,j=re.bits,N=re.lencode,O=re.distcode,x=(1<<re.lenbits)-1,R=(1<<re.distbits)-1;e:do{j<15&&(g+=z[o++]<<j,j+=8,g+=z[o++]<<j,j+=8),T=N[g&x];t:for(;;){if(A=T>>>24,g>>>=A,j-=A,A=T>>>16&255,A===0)le[s++]=T&65535;else if(A&16){q=T&65535,A&=15,A&&(j<A&&(g+=z[o++]<<j,j+=8),q+=g&(1<<A)-1,g>>>=A,j-=A),j<15&&(g+=z[o++]<<j,j+=8,g+=z[o++]<<j,j+=8),T=O[g&R];n:for(;;){if(A=T>>>24,g>>>=A,j-=A,A=T>>>16&255,A&16){if(ie=T&65535,A&=15,j<A&&(g+=z[o++]<<j,j+=8,j<A&&(g+=z[o++]<<j,j+=8)),ie+=g&(1<<A)-1,ie>f){e.msg="invalid distance too far back",re.mode=ld;break e}if(g>>>=A,j-=A,A=s-u,ie>A){if(A=ie-A,A>m&&re.sane){e.msg="invalid distance too far back",re.mode=ld;break e}if(oe=0,ne=b,k===0){if(oe+=d-A,A<q){q-=A;do le[s++]=b[oe++];while(--A);oe=s-ie,ne=le}}else if(k<A){if(oe+=d+k-A,A-=k,A<q){q-=A;do le[s++]=b[oe++];while(--A);if(oe=0,k<q){A=k,q-=A;do le[s++]=b[oe++];while(--A);oe=s-ie,ne=le}}}else if(oe+=k-A,A<q){q-=A;do le[s++]=b[oe++];while(--A);oe=s-ie,ne=le}for(;q>2;)le[s++]=ne[oe++],le[s++]=ne[oe++],le[s++]=ne[oe++],q-=3;q&&(le[s++]=ne[oe++],q>1&&(le[s++]=ne[oe++]))}else{oe=s-ie;do le[s++]=le[oe++],le[s++]=le[oe++],le[s++]=le[oe++],q-=3;while(q>2);q&&(le[s++]=le[oe++],q>1&&(le[s++]=le[oe++]))}}else if((A&64)===0){T=O[(T&65535)+(g&(1<<A)-1)];continue n}else{e.msg="invalid distance code",re.mode=ld;break e}break}}else if((A&64)===0){T=N[(T&65535)+(g&(1<<A)-1)];continue t}else if(A&32){re.mode=t8;break e}else{e.msg="invalid literal/length code",re.mode=ld;break e}break}}while(o<a&&s<l);q=j>>3,o-=q,j-=q<<3,g&=(1<<j)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=s<l?257+(l-s):257-(s-l),re.hold=g,re.bits=j};const hu=15,_2=852,S2=592,k2=0,k1=1,A2=2,r8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),i8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),s8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),a8=(r,e,t,o,a,s,u,l)=>{const f=l.bits;let d=0,m=0,k=0,b=0,g=0,j=0,N=0,O=0,x=0,R=0,T,A,q,ie,oe,ne=null,z;const le=new Uint16Array(hu+1),re=new Uint16Array(hu+1);let F=null,J,P,be;for(d=0;d<=hu;d++)le[d]=0;for(m=0;m<o;m++)le[e[t+m]]++;for(g=f,b=hu;b>=1&&le[b]===0;b--);if(g>b&&(g=b),b===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(k=1;k<b&&le[k]===0;k++);for(g<k&&(g=k),O=1,d=1;d<=hu;d++)if(O<<=1,O-=le[d],O<0)return-1;if(O>0&&(r===k2||b!==1))return-1;for(re[1]=0,d=1;d<hu;d++)re[d+1]=re[d]+le[d];for(m=0;m<o;m++)e[t+m]!==0&&(u[re[e[t+m]]++]=m);if(r===k2?(ne=F=u,z=20):r===k1?(ne=r8,F=i8,z=257):(ne=o8,F=s8,z=0),R=0,m=0,d=k,oe=s,j=g,N=0,q=-1,x=1<<g,ie=x-1,r===k1&&x>_2||r===A2&&x>S2)return 1;for(;;){J=d-N,u[m]+1<z?(P=0,be=u[m]):u[m]>=z?(P=F[u[m]-z],be=ne[u[m]-z]):(P=96,be=0),T=1<<d-N,A=1<<j,k=A;do A-=T,a[oe+(R>>N)+A]=J<<24|P<<16|be|0;while(A!==0);for(T=1<<d-1;R&T;)T>>=1;if(T!==0?(R&=T-1,R+=T):R=0,m++,--le[d]===0){if(d===b)break;d=e[t+u[m]]}if(d>g&&(R&ie)!==q){for(N===0&&(N=g),oe+=k,j=d-N,O=1<<j;j+N<b&&(O-=le[j+N],!(O<=0));)j++,O<<=1;if(x+=1<<j,r===k1&&x>_2||r===A2&&x>S2)return 1;q=R&ie,a[q]=g<<24|j<<16|oe-s|0}}return R!==0&&(a[oe+R]=d-N<<24|64<<16|0),l.bits=g,0};var hf=a8;const l8=0,Y5=1,X5=2,{Z_FINISH:N2,Z_BLOCK:c8,Z_TREES:cd,Z_OK:Yc,Z_STREAM_END:u8,Z_NEED_DICT:f8,Z_STREAM_ERROR:ja,Z_DATA_ERROR:J5,Z_MEM_ERROR:Z5,Z_BUF_ERROR:d8,Z_DEFLATED:E2}=G5,Gd=16180,C2=16181,T2=16182,L2=16183,j2=16184,I2=16185,P2=16186,R2=16187,D2=16188,O2=16189,Rd=16190,Xl=16191,A1=16192,F2=16193,N1=16194,B2=16195,M2=16196,z2=16197,U2=16198,ud=16199,fd=16200,$2=16201,q2=16202,W2=16203,H2=16204,G2=16205,E1=16206,V2=16207,K2=16208,Qi=16209,Q5=16210,ew=16211,h8=852,p8=592,m8=15,g8=m8,Y2=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function y8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zc=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Gd||e.mode>ew?1:0},tw=r=>{if(Zc(r))return ja;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Gd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(h8),e.distcode=e.distdyn=new Int32Array(p8),e.sane=1,e.back=-1,Yc},nw=r=>{if(Zc(r))return ja;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,tw(r)},rw=(r,e)=>{let t;if(Zc(r))return ja;const o=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ja:(o.window!==null&&o.wbits!==e&&(o.window=null),o.wrap=t,o.wbits=e,nw(r))},iw=(r,e)=>{if(!r)return ja;const t=new y8;r.state=t,t.strm=r,t.window=null,t.mode=Gd;const o=rw(r,e);return o!==Yc&&(r.state=null),o},v8=r=>iw(r,g8);let X2=!0,C1,T1;const w8=r=>{if(X2){C1=new Int32Array(512),T1=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(hf(Y5,r.lens,0,288,C1,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;hf(X5,r.lens,0,32,T1,0,r.work,{bits:5}),X2=!1}r.lencode=C1,r.lenbits=9,r.distcode=T1,r.distbits=5},ow=(r,e,t,o)=>{let a;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),o>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>o&&(a=o),s.window.set(e.subarray(t-o,t-o+a),s.wnext),o-=a,o?(s.window.set(e.subarray(t-o,t),0),s.wnext=o,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},x8=(r,e)=>{let t,o,a,s,u,l,f,d,m,k,b,g,j,N,O=0,x,R,T,A,q,ie,oe,ne;const z=new Uint8Array(4);let le,re;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zc(r)||!r.output||!r.input&&r.avail_in!==0)return ja;t=r.state,t.mode===Xl&&(t.mode=A1),u=r.next_out,a=r.output,f=r.avail_out,s=r.next_in,o=r.input,l=r.avail_in,d=t.hold,m=t.bits,k=l,b=f,ne=Yc;e:for(;;)switch(t.mode){case Gd:if(t.wrap===0){t.mode=A1;break}for(;m<16;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,z[0]=d&255,z[1]=d>>>8&255,t.check=_l(t.check,z,2,0),d=0,m=0,t.mode=C2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=Qi;break}if((d&15)!==E2){r.msg="unknown compression method",t.mode=Qi;break}if(d>>>=4,m-=4,oe=(d&15)+8,t.wbits===0&&(t.wbits=oe),oe>15||oe>t.wbits){r.msg="invalid window size",t.mode=Qi;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?O2:Xl,d=0,m=0;break;case C2:for(;m<16;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==E2){r.msg="unknown compression method",t.mode=Qi;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Qi;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(z[0]=d&255,z[1]=d>>>8&255,t.check=_l(t.check,z,2,0)),d=0,m=0,t.mode=T2;case T2:for(;m<32;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(z[0]=d&255,z[1]=d>>>8&255,z[2]=d>>>16&255,z[3]=d>>>24&255,t.check=_l(t.check,z,4,0)),d=0,m=0,t.mode=L2;case L2:for(;m<16;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(z[0]=d&255,z[1]=d>>>8&255,t.check=_l(t.check,z,2,0)),d=0,m=0,t.mode=j2;case j2:if(t.flags&1024){for(;m<16;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(z[0]=d&255,z[1]=d>>>8&255,t.check=_l(t.check,z,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=I2;case I2:if(t.flags&1024&&(g=t.length,g>l&&(g=l),g&&(t.head&&(oe=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(o.subarray(s,s+g),oe)),t.flags&512&&t.wrap&4&&(t.check=_l(t.check,o,g,s)),l-=g,s+=g,t.length-=g),t.length))break e;t.length=0,t.mode=P2;case P2:if(t.flags&2048){if(l===0)break e;g=0;do oe=o[s+g++],t.head&&oe&&t.length<65536&&(t.head.name+=String.fromCharCode(oe));while(oe&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=_l(t.check,o,g,s)),l-=g,s+=g,oe)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=R2;case R2:if(t.flags&4096){if(l===0)break e;g=0;do oe=o[s+g++],t.head&&oe&&t.length<65536&&(t.head.comment+=String.fromCharCode(oe));while(oe&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=_l(t.check,o,g,s)),l-=g,s+=g,oe)break e}else t.head&&(t.head.comment=null);t.mode=D2;case D2:if(t.flags&512){for(;m<16;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Qi;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Xl;break;case O2:for(;m<32;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}r.adler=t.check=Y2(d),d=0,m=0,t.mode=Rd;case Rd:if(t.havedict===0)return r.next_out=u,r.avail_out=f,r.next_in=s,r.avail_in=l,t.hold=d,t.bits=m,f8;r.adler=t.check=1,t.mode=Xl;case Xl:if(e===c8||e===cd)break e;case A1:if(t.last){d>>>=m&7,m-=m&7,t.mode=E1;break}for(;m<3;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=F2;break;case 1:if(w8(t),t.mode=ud,e===cd){d>>>=2,m-=2;break e}break;case 2:t.mode=M2;break;case 3:r.msg="invalid block type",t.mode=Qi}d>>>=2,m-=2;break;case F2:for(d>>>=m&7,m-=m&7;m<32;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Qi;break}if(t.length=d&65535,d=0,m=0,t.mode=N1,e===cd)break e;case N1:t.mode=B2;case B2:if(g=t.length,g){if(g>l&&(g=l),g>f&&(g=f),g===0)break e;a.set(o.subarray(s,s+g),u),l-=g,s+=g,f-=g,u+=g,t.length-=g;break}t.mode=Xl;break;case M2:for(;m<14;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Qi;break}t.have=0,t.mode=z2;case z2:for(;t.have<t.ncode;){for(;m<3;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}t.lens[F[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,le={bits:t.lenbits},ne=hf(l8,t.lens,0,19,t.lencode,0,t.work,le),t.lenbits=le.bits,ne){r.msg="invalid code lengths set",t.mode=Qi;break}t.have=0,t.mode=U2;case U2:for(;t.have<t.nlen+t.ndist;){for(;O=t.lencode[d&(1<<t.lenbits)-1],x=O>>>24,R=O>>>16&255,T=O&65535,!(x<=m);){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(T<16)d>>>=x,m-=x,t.lens[t.have++]=T;else{if(T===16){for(re=x+2;m<re;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(d>>>=x,m-=x,t.have===0){r.msg="invalid bit length repeat",t.mode=Qi;break}oe=t.lens[t.have-1],g=3+(d&3),d>>>=2,m-=2}else if(T===17){for(re=x+3;m<re;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}d>>>=x,m-=x,oe=0,g=3+(d&7),d>>>=3,m-=3}else{for(re=x+7;m<re;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}d>>>=x,m-=x,oe=0,g=11+(d&127),d>>>=7,m-=7}if(t.have+g>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Qi;break}for(;g--;)t.lens[t.have++]=oe}}if(t.mode===Qi)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Qi;break}if(t.lenbits=9,le={bits:t.lenbits},ne=hf(Y5,t.lens,0,t.nlen,t.lencode,0,t.work,le),t.lenbits=le.bits,ne){r.msg="invalid literal/lengths set",t.mode=Qi;break}if(t.distbits=6,t.distcode=t.distdyn,le={bits:t.distbits},ne=hf(X5,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,le),t.distbits=le.bits,ne){r.msg="invalid distances set",t.mode=Qi;break}if(t.mode=ud,e===cd)break e;case ud:t.mode=fd;case fd:if(l>=6&&f>=258){r.next_out=u,r.avail_out=f,r.next_in=s,r.avail_in=l,t.hold=d,t.bits=m,n8(r,b),u=r.next_out,a=r.output,f=r.avail_out,s=r.next_in,o=r.input,l=r.avail_in,d=t.hold,m=t.bits,t.mode===Xl&&(t.back=-1);break}for(t.back=0;O=t.lencode[d&(1<<t.lenbits)-1],x=O>>>24,R=O>>>16&255,T=O&65535,!(x<=m);){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(R&&(R&240)===0){for(A=x,q=R,ie=T;O=t.lencode[ie+((d&(1<<A+q)-1)>>A)],x=O>>>24,R=O>>>16&255,T=O&65535,!(A+x<=m);){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}d>>>=A,m-=A,t.back+=A}if(d>>>=x,m-=x,t.back+=x,t.length=T,R===0){t.mode=G2;break}if(R&32){t.back=-1,t.mode=Xl;break}if(R&64){r.msg="invalid literal/length code",t.mode=Qi;break}t.extra=R&15,t.mode=$2;case $2:if(t.extra){for(re=t.extra;m<re;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=q2;case q2:for(;O=t.distcode[d&(1<<t.distbits)-1],x=O>>>24,R=O>>>16&255,T=O&65535,!(x<=m);){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if((R&240)===0){for(A=x,q=R,ie=T;O=t.distcode[ie+((d&(1<<A+q)-1)>>A)],x=O>>>24,R=O>>>16&255,T=O&65535,!(A+x<=m);){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}d>>>=A,m-=A,t.back+=A}if(d>>>=x,m-=x,t.back+=x,R&64){r.msg="invalid distance code",t.mode=Qi;break}t.offset=T,t.extra=R&15,t.mode=W2;case W2:if(t.extra){for(re=t.extra;m<re;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Qi;break}t.mode=H2;case H2:if(f===0)break e;if(g=b-f,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Qi;break}g>t.wnext?(g-=t.wnext,j=t.wsize-g):j=t.wnext-g,g>t.length&&(g=t.length),N=t.window}else N=a,j=u-t.offset,g=t.length;g>f&&(g=f),f-=g,t.length-=g;do a[u++]=N[j++];while(--g);t.length===0&&(t.mode=fd);break;case G2:if(f===0)break e;a[u++]=t.length,f--,t.mode=fd;break;case E1:if(t.wrap){for(;m<32;){if(l===0)break e;l--,d|=o[s++]<<m,m+=8}if(b-=f,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?_l(t.check,a,b,u-b):sm(t.check,a,b,u-b)),b=f,t.wrap&4&&(t.flags?d:Y2(d))!==t.check){r.msg="incorrect data check",t.mode=Qi;break}d=0,m=0}t.mode=V2;case V2:if(t.wrap&&t.flags){for(;m<32;){if(l===0)break e;l--,d+=o[s++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Qi;break}d=0,m=0}t.mode=K2;case K2:ne=u8;break e;case Qi:ne=J5;break e;case Q5:return Z5;case ew:default:return ja}return r.next_out=u,r.avail_out=f,r.next_in=s,r.avail_in=l,t.hold=d,t.bits=m,(t.wsize||b!==r.avail_out&&t.mode<Qi&&(t.mode<E1||e!==N2))&&ow(r,r.output,r.next_out,b-r.avail_out),k-=r.avail_in,b-=r.avail_out,r.total_in+=k,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?_l(t.check,a,b,r.next_out-b):sm(t.check,a,b,r.next_out-b)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Xl?128:0)+(t.mode===ud||t.mode===N1?256:0),(k===0&&b===0||e===N2)&&ne===Yc&&(ne=d8),ne},b8=r=>{if(Zc(r))return ja;let e=r.state;return e.window&&(e.window=null),r.state=null,Yc},_8=(r,e)=>{if(Zc(r))return ja;const t=r.state;return(t.wrap&2)===0?ja:(t.head=e,e.done=!1,Yc)},S8=(r,e)=>{const t=e.length;let o,a,s;return Zc(r)||(o=r.state,o.wrap!==0&&o.mode!==Rd)?ja:o.mode===Rd&&(a=1,a=sm(a,e,t,0),a!==o.check)?J5:(s=ow(r,e,t,t),s?(o.mode=Q5,Z5):(o.havedict=1,Yc))};var k8=nw,A8=rw,N8=tw,E8=v8,C8=iw,T8=x8,L8=b8,j8=_8,I8=S8,P8="pako inflate (from Nodeca project)",Ql={inflateReset:k8,inflateReset2:A8,inflateResetKeep:N8,inflateInit:E8,inflateInit2:C8,inflate:T8,inflateEnd:L8,inflateGetHeader:j8,inflateSetDictionary:I8,inflateInfo:P8};function R8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var D8=R8;const sw=Object.prototype.toString,{Z_NO_FLUSH:O8,Z_FINISH:F8,Z_OK:gf,Z_STREAM_END:L1,Z_NEED_DICT:j1,Z_STREAM_ERROR:B8,Z_DATA_ERROR:J2,Z_MEM_ERROR:M8}=G5;function kf(r){this.options=V5.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e8,this.strm.avail_out=0;let t=Ql.inflateInit2(this.strm,e.windowBits);if(t!==gf)throw new Error(am[t]);if(this.header=new D8,Ql.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=lm.string2buf(e.dictionary):sw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ql.inflateSetDictionary(this.strm,e.dictionary),t!==gf)))throw new Error(am[t])}kf.prototype.push=function(r,e){const t=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let s,u,l;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?F8:O8,sw.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(o),t.next_out=0,t.avail_out=o),s=Ql.inflate(t,u),s===j1&&a&&(s=Ql.inflateSetDictionary(t,a),s===gf?s=Ql.inflate(t,u):s===J2&&(s=j1));t.avail_in>0&&s===L1&&t.state.wrap>0&&r[t.next_in]!==0;)Ql.inflateReset(t),s=Ql.inflate(t,u);switch(s){case B8:case J2:case j1:case M8:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===L1))if(this.options.to==="string"){let f=lm.utf8border(t.output,t.next_out),d=t.next_out-f,m=lm.buf2string(t.output,f);t.next_out=d,t.avail_out=o-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===gf&&l===0)){if(s===L1)return s=Ql.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};kf.prototype.onData=function(r){this.chunks.push(r)};kf.prototype.onEnd=function(r){r===gf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=V5.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function z8(r,e){const t=new kf(e);if(t.push(r),t.err)throw t.msg||am[t.err];return t.result}var U8=kf,$8=z8,q8={Inflate:U8,inflate:$8};const{Inflate:W8,inflate:H8}=q8;var Z2=W8,G8=H8;const aw=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;aw[r]=e}const Q2=4294967295;function V8(r,e,t){let o=r;for(let a=0;a<t;a++)o=aw[(o^e[a])&255]^o>>>8;return o}function K8(r,e){return(V8(Q2,r,e)^Q2)>>>0}function ev(r,e,t){const o=r.readUint32(),a=K8(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==o)throw new Error(`CRC mismatch for chunk ${t}. Expected ${o}, found ${a}`)}function lw(r,e,t){for(let o=0;o<t;o++)e[o]=r[o]}function cw(r,e,t,o){let a=0;for(;a<o;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-o]&255}function uw(r,e,t,o){let a=0;if(t.length===0)for(;a<o;a++)e[a]=r[a];else for(;a<o;a++)e[a]=r[a]+t[a]&255}function fw(r,e,t,o,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<o;s++)e[s]=r[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<o;s++)e[s]=r[s]+(e[s-a]+t[s]>>1)&255}}function dw(r,e,t,o,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<o;s++)e[s]=r[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=r[s]+t[s]&255;for(;s<o;s++)e[s]=r[s]+Y8(e[s-a],t[s],t[s-a])&255}}function Y8(r,e,t){const o=r+e-t,a=Math.abs(o-r),s=Math.abs(o-e),u=Math.abs(o-t);return a<=s&&a<=u?r:s<=u?e:t}function X8(r,e,t,o,a,s){switch(r){case 0:lw(e,t,a);break;case 1:cw(e,t,a,s);break;case 2:uw(e,t,o,a);break;case 3:fw(e,t,o,a,s);break;case 4:dw(e,t,o,a,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const J8=new Uint16Array([255]),Z8=new Uint8Array(J8.buffer),Q8=Z8[0]===255;function ek(r){const{data:e,width:t,height:o,channels:a,depth:s}=r,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,f=new Uint8Array(o*t*l);let d=0;for(let m=0;m<7;m++){const k=u[m],b=Math.ceil((t-k.x)/k.xStep),g=Math.ceil((o-k.y)/k.yStep);if(b<=0||g<=0)continue;const j=b*l,N=new Uint8Array(j);for(let O=0;O<g;O++){const x=e[d++],R=e.subarray(d,d+j);d+=j;const T=new Uint8Array(j);X8(x,R,T,N,j,l),N.set(T);for(let A=0;A<b;A++){const q=k.x+A*k.xStep,ie=k.y+O*k.yStep;if(!(q>=t||ie>=o))for(let oe=0;oe<l;oe++)f[(ie*t+q)*l+oe]=T[A*l+oe]}}}if(s===16){const m=new Uint16Array(f.buffer);if(Q8)for(let k=0;k<m.length;k++)m[k]=tk(m[k]);return m}else return f}function tk(r){return(r&255)<<8|r>>8&255}const nk=new Uint16Array([255]),rk=new Uint8Array(nk.buffer),ik=rk[0]===255,ok=new Uint8Array(0);function tv(r){const{data:e,width:t,height:o,channels:a,depth:s}=r,u=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*t),f=new Uint8Array(o*l);let d=ok,m=0,k,b;for(let g=0;g<o;g++){switch(k=e.subarray(m+1,m+1+l),b=f.subarray(g*l,(g+1)*l),e[m]){case 0:lw(k,b,l);break;case 1:cw(k,b,l,u);break;case 2:uw(k,b,d,l);break;case 3:fw(k,b,d,l,u);break;case 4:dw(k,b,d,l,u);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=b,m+=l+1}if(s===16){const g=new Uint16Array(f.buffer);if(ik)for(let j=0;j<g.length;j++)g[j]=sk(g[j]);return g}else return f}function sk(r){return(r&255)<<8|r>>8&255}const kd=Uint8Array.of(137,80,78,71,13,10,26,10);function nv(r){if(!ak(r.readBytes(kd.length)))throw new Error("wrong PNG signature")}function ak(r){if(r.length<kd.length)return!1;for(let e=0;e<kd.length;e++)if(r[e]!==kd[e])return!1;return!0}const lk="tEXt",ck=0,hw=new TextDecoder("latin1");function uk(r){if(dk(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const fk=/^[\u0000-\u00FF]*$/;function dk(r){if(!fk.test(r))throw new Error("invalid latin1 text")}function hk(r,e,t){const o=pw(e);r[o]=pk(e,t-o.length-1)}function pw(r){for(r.mark();r.readByte()!==ck;);const e=r.offset;r.reset();const t=hw.decode(r.readBytes(e-r.offset-1));return r.skip(1),uk(t),t}function pk(r,e){return hw.decode(r.readBytes(e))}const fa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},I1={UNKNOWN:-1,DEFLATE:0},rv={UNKNOWN:-1,ADAPTIVE:0},P1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},dd={NONE:0,BACKGROUND:1,PREVIOUS:2},R1={SOURCE:0,OVER:1};class mk extends Pm{constructor(t,o={}){super(t);_i(this,"_checkCrc");_i(this,"_inflator");_i(this,"_png");_i(this,"_apng");_i(this,"_end");_i(this,"_hasPalette");_i(this,"_palette");_i(this,"_hasTransparency");_i(this,"_transparency");_i(this,"_compressionMethod");_i(this,"_filterMethod");_i(this,"_interlaceMethod");_i(this,"_colorType");_i(this,"_isAnimated");_i(this,"_numberOfFrames");_i(this,"_numberOfPlays");_i(this,"_frames");_i(this,"_writingDataChunks");const{checkCrc:a=!1}=o;this._checkCrc=a,this._inflator=new Z2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=I1.UNKNOWN,this._filterMethod=rv.UNKNOWN,this._interlaceMethod=P1.UNKNOWN,this._colorType=fa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(nv(this);!this._end;){const t=this.readUint32(),o=this.readChars(4);this.decodeChunk(t,o)}return this.decodeImage(),this._png}decodeApng(){for(nv(this);!this._end;){const t=this.readUint32(),o=this.readChars(4);this.decodeApngChunk(t,o)}return this.decodeApngImage(),this._apng}decodeChunk(t,o){const a=this.offset;switch(o){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case lk:hk(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?ev(this,t+4,o):this.skip(4)}decodeApngChunk(t,o){const a=this.offset;switch(o!=="fdAT"&&o!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),o){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,o),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?ev(this,t+4,o):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=gk(this.readUint8());const o=this.readUint8();this._colorType=o;let a;switch(o){case fa.GREYSCALE:a=1;break;case fa.TRUECOLOUR:a=3;break;case fa.INDEXED_COLOUR:a=1;break;case fa.GREYSCALE_ALPHA:a=2;break;case fa.TRUECOLOUR_ALPHA:a=4;break;case fa.UNKNOWN:default:throw new Error(`Unknown color type: ${o}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==I1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const o=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<o;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const o=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let o=t,a=this.offset+this.byteOffset;if(a+=4,o-=4,this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case fa.GREYSCALE:case fa.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let o=0;o<t/2;o++)this._transparency[o]=this.readUint16();break}case fa.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let o=0;for(;o<t;o++){const a=this.readByte();this._palette[o].push(a)}for(;o<this._palette.length;o++)this._palette[o].push(255);break}case fa.UNKNOWN:case fa.GREYSCALE_ALPHA:case fa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const o=pw(this),a=this.readUint8();if(a!==I1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(t-o.length-2);this._png.iccEmbeddedProfile={name:o,profile:G8(s)}}decodepHYs(){const t=this.readUint32(),o=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:o,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const o={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=tv({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)o.data=a.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(a,s,o),this.addFrameDataToCanvas(o,a)}this._apng.frames.push(o)}}return this._apng}disposeFrame(t,o,a){switch(t.disposeOp){case dd.NONE:break;case dd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let u=0;u<this._png.width;u++){const l=(s*t.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)a.data[l+f]=0}break;case dd.PREVIOUS:a.data.set(o.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,o){const a=1<<this._png.depth,s=(u,l)=>{const f=((u+o.yOffset)*this._png.width+o.xOffset+l)*this._png.channels,d=(u*o.width+l)*this._png.channels;return{index:f,frameIndex:d}};switch(o.blendOp){case R1.SOURCE:for(let u=0;u<o.height;u++)for(let l=0;l<o.width;l++){const{index:f,frameIndex:d}=s(u,l);for(let m=0;m<this._png.channels;m++)t.data[f+m]=o.data[d+m]}break;case R1.OVER:for(let u=0;u<o.height;u++)for(let l=0;l<o.width;l++){const{index:f,frameIndex:d}=s(u,l);for(let m=0;m<this._png.channels;m++){const k=o.data[d+this._png.channels-1]/a,b=m%(this._png.channels-1)===0?1:o.data[d+m],g=Math.floor(k*b+(1-k)*t.data[f+m]);t.data[f+m]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var o;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((o=this._frames)==null?void 0:o.at(0)).data:this._inflator.result;if(this._filterMethod!==rv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===P1.NO_INTERLACE)this._png.data=tv({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===P1.ADAM7)this._png.data=ek({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,o=this._frames.at(-1);o?o.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:dd.NONE,blendOp:R1.SOURCE,data:t}),this._inflator=new Z2,this._writingDataChunks=!1}}function gk(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var iv;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(iv||(iv={}));function yk(r,e){return new mk(r,e).decode()}var lr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function D1(){lr.console&&typeof lr.console.log=="function"&&lr.console.log.apply(lr.console,arguments)}var Di={log:D1,warn:function(r){lr.console&&(typeof lr.console.warn=="function"?lr.console.warn.apply(lr.console,arguments):D1.call(null,arguments))},error:function(r){lr.console&&(typeof lr.console.error=="function"?lr.console.error.apply(lr.console,arguments):D1(r))}};function O1(r,e,t){var o=new XMLHttpRequest;o.open("GET",r),o.responseType="blob",o.onload=function(){$c(o.response,e,t)},o.onerror=function(){Di.error("could not download file")},o.send()}function ov(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var $c=lr.saveAs||((typeof window>"u"?"undefined":Si(window))!=="object"||window!==lr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var o=lr.URL||lr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?ov(a.href)?O1(r,e,t):hd(a,a.target="_blank"):hd(a)):(a.href=o.createObjectURL(r),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){hd(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(ov(r))O1(r,e,t);else{var o=document.createElement("a");o.href=r,o.target="_blank",setTimeout(function(){hd(o)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Si(s)!=="object"&&(Di.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof r=="string")return O1(r,e,t);var a=r.type==="application/octet-stream",s=/constructor/i.test(lr.HTMLElement)||lr.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s)&&(typeof FileReader>"u"?"undefined":Si(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var m=l.result;m=u?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=m:location=m,o=null},l.readAsDataURL(r)}else{var f=lr.URL||lr.webkitURL,d=f.createObjectURL(r);o?o.location=d:location.href=d,o=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mw(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],o=0;o<t.length;o++){var a=t[o].re,s=t[o].process,u=a.exec(r);u&&(e=s(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+l+f+d}}var Ad=lr.atob.bind(lr),sv=lr.btoa.bind(lr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F1(r,e){var t=r[0],o=r[1],a=r[2],s=r[3];t=vs(t,o,a,s,e[0],7,-680876936),s=vs(s,t,o,a,e[1],12,-389564586),a=vs(a,s,t,o,e[2],17,606105819),o=vs(o,a,s,t,e[3],22,-1044525330),t=vs(t,o,a,s,e[4],7,-176418897),s=vs(s,t,o,a,e[5],12,1200080426),a=vs(a,s,t,o,e[6],17,-1473231341),o=vs(o,a,s,t,e[7],22,-45705983),t=vs(t,o,a,s,e[8],7,1770035416),s=vs(s,t,o,a,e[9],12,-1958414417),a=vs(a,s,t,o,e[10],17,-42063),o=vs(o,a,s,t,e[11],22,-1990404162),t=vs(t,o,a,s,e[12],7,1804603682),s=vs(s,t,o,a,e[13],12,-40341101),a=vs(a,s,t,o,e[14],17,-1502002290),t=ws(t,o=vs(o,a,s,t,e[15],22,1236535329),a,s,e[1],5,-165796510),s=ws(s,t,o,a,e[6],9,-1069501632),a=ws(a,s,t,o,e[11],14,643717713),o=ws(o,a,s,t,e[0],20,-373897302),t=ws(t,o,a,s,e[5],5,-701558691),s=ws(s,t,o,a,e[10],9,38016083),a=ws(a,s,t,o,e[15],14,-660478335),o=ws(o,a,s,t,e[4],20,-405537848),t=ws(t,o,a,s,e[9],5,568446438),s=ws(s,t,o,a,e[14],9,-1019803690),a=ws(a,s,t,o,e[3],14,-187363961),o=ws(o,a,s,t,e[8],20,1163531501),t=ws(t,o,a,s,e[13],5,-1444681467),s=ws(s,t,o,a,e[2],9,-51403784),a=ws(a,s,t,o,e[7],14,1735328473),t=xs(t,o=ws(o,a,s,t,e[12],20,-1926607734),a,s,e[5],4,-378558),s=xs(s,t,o,a,e[8],11,-2022574463),a=xs(a,s,t,o,e[11],16,1839030562),o=xs(o,a,s,t,e[14],23,-35309556),t=xs(t,o,a,s,e[1],4,-1530992060),s=xs(s,t,o,a,e[4],11,1272893353),a=xs(a,s,t,o,e[7],16,-155497632),o=xs(o,a,s,t,e[10],23,-1094730640),t=xs(t,o,a,s,e[13],4,681279174),s=xs(s,t,o,a,e[0],11,-358537222),a=xs(a,s,t,o,e[3],16,-722521979),o=xs(o,a,s,t,e[6],23,76029189),t=xs(t,o,a,s,e[9],4,-640364487),s=xs(s,t,o,a,e[12],11,-421815835),a=xs(a,s,t,o,e[15],16,530742520),t=bs(t,o=xs(o,a,s,t,e[2],23,-995338651),a,s,e[0],6,-198630844),s=bs(s,t,o,a,e[7],10,1126891415),a=bs(a,s,t,o,e[14],15,-1416354905),o=bs(o,a,s,t,e[5],21,-57434055),t=bs(t,o,a,s,e[12],6,1700485571),s=bs(s,t,o,a,e[3],10,-1894986606),a=bs(a,s,t,o,e[10],15,-1051523),o=bs(o,a,s,t,e[1],21,-2054922799),t=bs(t,o,a,s,e[8],6,1873313359),s=bs(s,t,o,a,e[15],10,-30611744),a=bs(a,s,t,o,e[6],15,-1560198380),o=bs(o,a,s,t,e[13],21,1309151649),t=bs(t,o,a,s,e[4],6,-145523070),s=bs(s,t,o,a,e[11],10,-1120210379),a=bs(a,s,t,o,e[2],15,718787259),o=bs(o,a,s,t,e[9],21,-343485551),r[0]=kc(t,r[0]),r[1]=kc(o,r[1]),r[2]=kc(a,r[2]),r[3]=kc(s,r[3])}function Vd(r,e,t,o,a,s){return e=kc(kc(e,r),kc(o,s)),kc(e<<a|e>>>32-a,t)}function vs(r,e,t,o,a,s,u){return Vd(e&t|~e&o,r,e,a,s,u)}function ws(r,e,t,o,a,s,u){return Vd(e&o|t&~o,r,e,a,s,u)}function xs(r,e,t,o,a,s,u){return Vd(e^t^o,r,e,a,s,u)}function bs(r,e,t,o,a,s,u){return Vd(t^(e|~o),r,e,a,s,u)}function gw(r){var e,t=r.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)F1(o,vk(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(F1(o,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,F1(o,a),o}function vk(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var av="0123456789abcdef".split("");function wk(r){for(var e="",t=0;t<4;t++)e+=av[r>>8*t+4&15]+av[r>>8*t&15];return e}function xk(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function cm(r){return gw(r).map(xk).join("")}var bk=(function(r){for(var e=0;e<r.length;e++)r[e]=wk(r[e]);return r.join("")})(gw("hello"))!="5d41402abc4b2a76b9719d911017c592";function kc(r,e){if(bk){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function um(r,e){var t,o,a,s;if(r!==t){for(var u=(a=r,s=1+(256/r.length|0),new Array(s+1).join(a)),l=[],f=0;f<256;f++)l[f]=f;var d=0;for(f=0;f<256;f++){var m=l[f];d=(d+m+u.charCodeAt(f))%256,l[f]=l[d],l[d]=m}t=r,o=l}else l=o;var k=e.length,b=0,g=0,j="";for(f=0;f<k;f++)g=(g+(m=l[b=(b+1)%256]))%256,l[b]=l[g],l[g]=m,u=l[(l[b]+l[g])%256],j+=String.fromCharCode(e.charCodeAt(f)^u);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lv={print:4,modify:8,copy:16,"annot-forms":32};function vu(r,e,t,o){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(lv.perm!==void 0)throw new Error("Invalid permission: "+l);a+=lv[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^a)),this.encryptionKey=cm(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=um(this.encryptionKey,this.padding)}function wu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,o=0;o<t;o++){var a=r.charCodeAt(o);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[o]}return e}function cv(r){if(Si(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,o,a){if(a=a||!1,typeof t!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[o,!!a],s},this.unsubscribe=function(t){for(var o in e)if(e[o][t])return delete e[o][t],Object.keys(e[o]).length===0&&delete e[o],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[t]){var u=e[t][s];try{u[0].apply(r,o)}catch(l){lr.console&&Di.error("jsPDF PubSub Error",l.message,l)}u[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dd(r){if(!(this instanceof Dd))return new Dd(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function yw(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function qc(r,e,t,o,a){if(!(this instanceof qc))return new qc(r,e,t,o,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,yw.call(this,o,a)}function bu(r,e,t,o,a){if(!(this instanceof bu))return new bu(r,e,t,o,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,yw.call(this,o,a)}function Dn(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],s=arguments[3],u=[],l=1,f=16,d="S",m=null;Si(r=r||{})==="object"&&(t=r.orientation,o=r.unit||o,a=r.format||a,s=r.compress||r.compressPdf||s,(m=r.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),u=r.filters||(s===!0?["FlateEncode"]:u),o=o||"mm",t=(""+(t||"P")).toLowerCase();var k=r.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=cv;var j="1.3",N=g.__private__.getPdfVersion=function(){return j};g.__private__.setPdfVersion=function(I){j=I};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return O};var x=g.__private__.getPageFormat=function(I){return O[I]};a=a||"a4";var R="compat",T="advanced",A=R;function q(){this.saveGraphicsState(),ee(new wn(Zt,0,0,-Zt,0,Xr()*Zt).toString()+" cm"),this.setFontSize(this.getFontSize()/Zt),d="n",A=T}function ie(){this.restoreGraphicsState(),d="S",A=R}var oe=g.__private__.combineFontStyleAndFontWeight=function(I,se){if(I=="bold"&&se=="normal"||I=="bold"&&se==400||I=="normal"&&se=="italic"||I=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(I=se==400||se==="normal"?I==="italic"?"italic":"normal":se!=700&&se!=="bold"||I!=="normal"?(se==700?"bold":se)+""+I:"bold"),I};g.advancedAPI=function(I){var se=A===R;return se&&q.call(this),typeof I!="function"||(I(this),se&&ie.call(this)),this},g.compatAPI=function(I){var se=A===T;return se&&ie.call(this),typeof I!="function"||(I(this),se&&q.call(this)),this},g.isAdvancedAPI=function(){return A===T};var ne,z=function(I){if(A!==T)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},le=g.roundToPrecision=g.__private__.roundToPrecision=function(I,se){var je=e||se;if(isNaN(I)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(je).replace(/0+$/,"")};ne=g.hpf=g.__private__.hpf=typeof f=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return le(I,f)}:f==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return le(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return le(I,16)};var re=g.f2=g.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return le(I,2)},F=g.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return le(I,3)},J=g.scale=g.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return A===R?I*Zt:A===T?I:void 0},P=function(I){return J((function(se){return A===R?Xr()-se:A===T?se:void 0})(I))};g.__private__.setPrecision=g.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var be,Ee="00000000000000000000000000000000",pe=g.__private__.getFileId=function(){return Ee},xe=g.__private__.setFileId=function(I){return Ee=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():Ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(tn=new vu(m.userPermissions,m.userPassword,m.ownerPassword,Ee)),Ee};g.setFileId=function(I){return xe(I),this},g.getFileId=function(){return pe()};var Se=g.__private__.convertDateToPDFDate=function(I){var se=I.getTimezoneOffset(),je=se<0?"+":"-",Be=Math.floor(Math.abs(se/60)),Ve=Math.abs(se%60),ft=[je,Q(Be),"'",Q(Ve),"'"].join("");return["D:",I.getFullYear(),Q(I.getMonth()+1),Q(I.getDate()),Q(I.getHours()),Q(I.getMinutes()),Q(I.getSeconds()),ft].join("")},De=g.__private__.convertPDFDateToDate=function(I){var se=parseInt(I.substr(2,4),10),je=parseInt(I.substr(6,2),10)-1,Be=parseInt(I.substr(8,2),10),Ve=parseInt(I.substr(10,2),10),ft=parseInt(I.substr(12,2),10),St=parseInt(I.substr(14,2),10);return new Date(se,je,Be,Ve,ft,St,0)},X=g.__private__.setCreationDate=function(I){var se;if(I===void 0&&(I=new Date),I instanceof Date)se=Se(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=I}return be=se},E=g.__private__.getCreationDate=function(I){var se=be;return I==="jsDate"&&(se=De(be)),se};g.setCreationDate=function(I){return X(I),this},g.getCreationDate=function(I){return E(I)};var Y,Q=g.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},me=g.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ae=0,B=[],M=[],de=0,ce=[],te=[],fe=!1,Oe=M;g.__private__.setCustomOutputDestination=function(I){fe=!0,Oe=I};var W=function(I){fe||(Oe=I)};g.__private__.resetCustomOutputDestination=function(){fe=!1,Oe=M};var ee=g.__private__.out=function(I){return I=I.toString(),de+=I.length+1,Oe.push(I),Oe},V=g.__private__.write=function(I){return ee(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},S=g.__private__.getArrayBuffer=function(I){for(var se=I.length,je=new ArrayBuffer(se),Be=new Uint8Array(je);se--;)Be[se]=I.charCodeAt(se);return je},C=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return C};var U=r.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(I){return U=A===T?I/Zt:I,this};var we,Le=g.__private__.getFontSize=g.getFontSize=function(){return A===R?U:U*Zt},Ce=r.R2L||!1;g.__private__.setR2L=g.setR2L=function(I){return Ce=I,this},g.__private__.getR2L=g.getR2L=function(){return Ce};var He,at=g.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))we=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');we=I}else we=parseInt(I,10)};g.__private__.getZoomMode=function(){return we};var Je,ht=g.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');He=I};g.__private__.getPageMode=function(){return He};var Ct=g.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Je=I};g.__private__.getLayoutMode=function(){return Je},g.__private__.setDisplayMode=g.setDisplayMode=function(I,se,je){return at(I),Ct(se),ht(je),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(I){if(Object.keys($t).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[I]},g.__private__.getDocumentProperties=function(){return $t},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(I){for(var se in $t)$t.hasOwnProperty(se)&&I[se]&&($t[se]=I[se]);return this},g.__private__.setDocumentProperty=function(I,se){if(Object.keys($t).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[I]=se};var Jt,Zt,Gt,Or,Nn,On={},$n={},In=[],pn={},jr={},En={},Wn={},Ir=null,zn=0,Sn=[],Ur=new cv(g),Zs=r.hotfixes||[],ki={},Oi={},$i=[],wn=function I(se,je,Be,Ve,ft,St){if(!(this instanceof I))return new I(se,je,Be,Ve,ft,St);isNaN(se)&&(se=1),isNaN(je)&&(je=0),isNaN(Be)&&(Be=0),isNaN(Ve)&&(Ve=1),isNaN(ft)&&(ft=0),isNaN(St)&&(St=0),this._matrix=[se,je,Be,Ve,ft,St]};Object.defineProperty(wn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(wn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(wn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(wn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(wn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(wn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(wn.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(wn.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(wn.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(wn.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(wn.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(wn.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(wn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wn.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ne).join(I)},wn.prototype.multiply=function(I){var se=I.sx*this.sx+I.shy*this.shx,je=I.sx*this.shy+I.shy*this.sy,Be=I.shx*this.sx+I.sy*this.shx,Ve=I.shx*this.shy+I.sy*this.sy,ft=I.tx*this.sx+I.ty*this.shx+this.tx,St=I.tx*this.shy+I.ty*this.sy+this.ty;return new wn(se,je,Be,Ve,ft,St)},wn.prototype.decompose=function(){var I=this.sx,se=this.shy,je=this.shx,Be=this.sy,Ve=this.tx,ft=this.ty,St=Math.sqrt(I*I+se*se),rn=(I/=St)*je+(se/=St)*Be;je-=I*rn,Be-=se*rn;var nn=Math.sqrt(je*je+Be*Be);return rn/=nn,I*(Be/=nn)<se*(je/=nn)&&(I=-I,se=-se,rn=-rn,St=-St),{scale:new wn(St,0,0,nn,0,0),translate:new wn(1,0,0,1,Ve,ft),rotate:new wn(I,se,-se,I,0,0),skew:new wn(1,0,rn,1,0,0)}},wn.prototype.toString=function(I){return this.join(" ")},wn.prototype.inversed=function(){var I=this.sx,se=this.shy,je=this.shx,Be=this.sy,Ve=this.tx,ft=this.ty,St=1/(I*Be-se*je),rn=Be*St,nn=-se*St,Vn=-je*St,er=I*St;return new wn(rn,nn,Vn,er,-rn*Ve-Vn*ft,-nn*Ve-er*ft)},wn.prototype.applyToPoint=function(I){var se=I.x*this.sx+I.y*this.shx+this.tx,je=I.x*this.shy+I.y*this.sy+this.ty;return new Yt(se,je)},wn.prototype.applyToRectangle=function(I){var se=this.applyToPoint(I),je=this.applyToPoint(new Yt(I.x+I.w,I.y+I.h));return new Gn(se.x,se.y,je.x-se.x,je.y-se.y)},wn.prototype.clone=function(){var I=this.sx,se=this.shy,je=this.shx,Be=this.sy,Ve=this.tx,ft=this.ty;return new wn(I,se,je,Be,Ve,ft)},g.Matrix=wn;var yr=g.matrixMult=function(I,se){return se.multiply(I)},Po=new wn(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Po;var qi=function(I,se){if(!jr[I]){var je=(se instanceof qc?"Sh":"P")+(Object.keys(pn).length+1).toString(10);se.id=je,jr[I]=je,pn[je]=se,Ur.publish("addPattern",se)}};g.ShadingPattern=qc,g.TilingPattern=bu,g.addShadingPattern=function(I,se){return z("addShadingPattern()"),qi(I,se),this},g.beginTilingPattern=function(I){z("beginTilingPattern()"),Rn(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},g.endTilingPattern=function(I,se){z("endTilingPattern()"),se.stream=te[Y].join(`
`),qi(I,se),Ur.publish("endTilingPattern",se),$i.pop().restore()};var ao,Bn=g.__private__.newObject=function(){var I=Fr();return fi(I,!0),I},Fr=g.__private__.newObjectDeferred=function(){return ae++,B[ae]=function(){return de},ae},fi=function(I,se){return se=typeof se=="boolean"&&se,B[I]=de,se&&ee(I+" 0 obj"),I},Xo=g.__private__.newAdditionalObject=function(){var I={objId:Fr(),content:""};return ce.push(I),I},di=Fr(),Ie=Fr(),Ke=g.__private__.decodeColorString=function(I){var se=I.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var je=parseFloat(se[0]);se=[je,je,je,"r"]}for(var Be="#",Ve=0;Ve<3;Ve++)Be+=("0"+Math.floor(255*parseFloat(se[Ve])).toString(16)).slice(-2);return Be},bt=g.__private__.encodeColorString=function(I){var se;typeof I=="string"&&(I={ch1:I});var je=I.ch1,Be=I.ch2,Ve=I.ch3,ft=I.ch4,St=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var rn=new mw(je);if(rn.ok)je=rn.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var nn=parseInt(je.substr(1),16);je=nn>>16&255,Be=nn>>8&255,Ve=255&nn}if(Be===void 0||ft===void 0&&je===Be&&Be===Ve)se=typeof je=="string"?je+" "+St[0]:I.precision===2?re(je/255)+" "+St[0]:F(je/255)+" "+St[0];else if(ft===void 0||Si(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",St[1]].join(" ");se=typeof je=="string"?[je,Be,Ve,St[1]].join(" "):I.precision===2?[re(je/255),re(Be/255),re(Ve/255),St[1]].join(" "):[F(je/255),F(Be/255),F(Ve/255),St[1]].join(" ")}else se=typeof je=="string"?[je,Be,Ve,ft,St[2]].join(" "):I.precision===2?[re(je),re(Be),re(Ve),re(ft),St[2]].join(" "):[F(je),F(Be),F(Ve),F(ft),St[2]].join(" ");return se},Qt=g.__private__.getFilters=function(){return u},cn=g.__private__.putStream=function(I){var se=(I=I||{}).data||"",je=I.filters||Qt(),Be=I.alreadyAppliedFilters||[],Ve=I.addLength1||!1,ft=se.length,St=I.objectId,rn=function(ro){return ro};if(m!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(rn=tn.encryptor(St,0));var nn={};je===!0&&(je=["FlateEncode"]);var Vn=I.additionalKeyValues||[],er=(nn=Dn.API.processDataByFilters!==void 0?Dn.API.processDataByFilters(se,je):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(nn.data.length!==0&&(Vn.push({key:"Length",value:nn.data.length}),Ve===!0&&Vn.push({key:"Length1",value:ft})),er.length!=0)if(er.split("/").length-1==1)Vn.push({key:"Filter",value:er});else{Vn.push({key:"Filter",value:"["+er+"]"});for(var Rr=0;Rr<Vn.length;Rr+=1)if(Vn[Rr].key==="DecodeParms"){for(var yi=[],Ci=0;Ci<nn.reverseChain.split("/").length-1;Ci+=1)yi.push("null");yi.push(Vn[Rr].value),Vn[Rr].value="["+yi.join(" ")+"]"}}ee("<<");for(var oi=0;oi<Vn.length;oi++)ee("/"+Vn[oi].key+" "+Vn[oi].value);ee(">>"),nn.data.length!==0&&(ee("stream"),ee(rn(nn.data)),ee("endstream"))},on=g.__private__.putPage=function(I){var se=I.number,je=I.data,Be=I.objId,Ve=I.contentsObjId;fi(Be,!0),ee("<</Type /Page"),ee("/Parent "+I.rootDictionaryObjId+" 0 R"),ee("/Resources "+I.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(ne(I.mediaBox.bottomLeftX))+" "+parseFloat(ne(I.mediaBox.bottomLeftY))+" "+ne(I.mediaBox.topRightX)+" "+ne(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ee("/CropBox ["+ne(I.cropBox.bottomLeftX)+" "+ne(I.cropBox.bottomLeftY)+" "+ne(I.cropBox.topRightX)+" "+ne(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ee("/BleedBox ["+ne(I.bleedBox.bottomLeftX)+" "+ne(I.bleedBox.bottomLeftY)+" "+ne(I.bleedBox.topRightX)+" "+ne(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ee("/TrimBox ["+ne(I.trimBox.bottomLeftX)+" "+ne(I.trimBox.bottomLeftY)+" "+ne(I.trimBox.topRightX)+" "+ne(I.trimBox.topRightY)+"]"),I.artBox!==null&&ee("/ArtBox ["+ne(I.artBox.bottomLeftX)+" "+ne(I.artBox.bottomLeftY)+" "+ne(I.artBox.topRightX)+" "+ne(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ee("/UserUnit "+I.userUnit),Ur.publish("putPage",{objId:Be,pageContext:Sn[se],pageNumber:se,page:je}),ee("/Contents "+Ve+" 0 R"),ee(">>"),ee("endobj");var ft=je.join(`
`);return A===T&&(ft+=`
Q`),fi(Ve,!0),cn({data:ft,filters:Qt(),objectId:Ve}),ee("endobj"),Be},sn=g.__private__.putPages=function(){var I,se,je=[];for(I=1;I<=zn;I++)Sn[I].objId=Fr(),Sn[I].contentsObjId=Fr();for(I=1;I<=zn;I++)je.push(on({number:I,data:te[I],objId:Sn[I].objId,contentsObjId:Sn[I].contentsObjId,mediaBox:Sn[I].mediaBox,cropBox:Sn[I].cropBox,bleedBox:Sn[I].bleedBox,trimBox:Sn[I].trimBox,artBox:Sn[I].artBox,userUnit:Sn[I].userUnit,rootDictionaryObjId:di,resourceDictionaryObjId:Ie}));fi(di,!0),ee("<</Type /Pages");var Be="/Kids [";for(se=0;se<zn;se++)Be+=je[se]+" 0 R ";ee(Be+"]"),ee("/Count "+zn),ee(">>"),ee("endobj"),Ur.publish("postPutPages")},en=function(I){Ur.publish("putFont",{font:I,out:ee,newObject:Bn,putStream:cn}),I.isAlreadyPutted!==!0&&(I.objectNumber=Bn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+wu(I.postScriptName)),ee("/Subtype /Type1"),typeof I.encoding=="string"&&ee("/Encoding /"+I.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Fn=function(I){I.objectNumber=Bn();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[ne(I.x),ne(I.y),ne(I.x+I.width),ne(I.y+I.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var je=I.pages[1].join(`
`);cn({data:je,additionalKeyValues:se,objectId:I.objectNumber}),ee("endobj")},mr=function(I,se){se||(se=21);var je=Bn(),Be=(function(St,rn){var nn,Vn=[],er=1/(rn-1);for(nn=0;nn<1;nn+=er)Vn.push(nn);if(Vn.push(1),St[0].offset!=0){var Rr={offset:0,color:St[0].color};St.unshift(Rr)}if(St[St.length-1].offset!=1){var yi={offset:1,color:St[St.length-1].color};St.push(yi)}for(var Ci="",oi=0,ro=0;ro<Vn.length;ro++){for(nn=Vn[ro];nn>St[oi+1].offset;)oi++;var Wi=St[oi].offset,bo=(nn-Wi)/(St[oi+1].offset-Wi),ea=St[oi].color,pt=St[oi+1].color;Ci+=me(Math.round((1-bo)*ea[0]+bo*pt[0]).toString(16))+me(Math.round((1-bo)*ea[1]+bo*pt[1]).toString(16))+me(Math.round((1-bo)*ea[2]+bo*pt[2]).toString(16))}return Ci.trim()})(I.colors,se),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+se+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cn({data:Be,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),ee("endobj"),I.objectNumber=Bn(),ee("<< /ShadingType "+I.type),ee("/ColorSpace /DeviceRGB");var ft="/Coords ["+ne(parseFloat(I.coords[0]))+" "+ne(parseFloat(I.coords[1]))+" ";I.type===2?ft+=ne(parseFloat(I.coords[2]))+" "+ne(parseFloat(I.coords[3])):ft+=ne(parseFloat(I.coords[2]))+" "+ne(parseFloat(I.coords[3]))+" "+ne(parseFloat(I.coords[4]))+" "+ne(parseFloat(I.coords[5])),ee(ft+="]"),I.matrix&&ee("/Matrix ["+I.matrix.toString()+"]"),ee("/Function "+je+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Br=function(I,se){var je=Fr(),Be=Bn();se.push({resourcesOid:je,objectOid:Be}),I.objectNumber=Be;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+I.boundingBox.map(ne).join(" ")+"]"}),Ve.push({key:"XStep",value:ne(I.xStep)}),Ve.push({key:"YStep",value:ne(I.yStep)}),Ve.push({key:"Resources",value:je+" 0 R"}),I.matrix&&Ve.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),cn({data:I.stream,additionalKeyValues:Ve,objectId:I.objectNumber}),ee("endobj")},_r=function(I){for(var se in I.objectNumber=Bn(),ee("<<"),I)switch(se){case"opacity":ee("/ca "+re(I[se]));break;case"stroke-opacity":ee("/CA "+re(I[se]))}ee(">>"),ee("endobj")},Jn=function(I){fi(I.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var se in ee("/Font <<"),On)On.hasOwnProperty(se)&&(k===!1||k===!0&&b.hasOwnProperty(se))&&ee("/"+se+" "+On[se].objectNumber+" 0 R");ee(">>")})(),(function(){if(Object.keys(pn).length>0){for(var se in ee("/Shading <<"),pn)pn.hasOwnProperty(se)&&pn[se]instanceof qc&&pn[se].objectNumber>=0&&ee("/"+se+" "+pn[se].objectNumber+" 0 R");Ur.publish("putShadingPatternDict"),ee(">>")}})(),(function(se){if(Object.keys(pn).length>0){for(var je in ee("/Pattern <<"),pn)pn.hasOwnProperty(je)&&pn[je]instanceof g.TilingPattern&&pn[je].objectNumber>=0&&pn[je].objectNumber<se&&ee("/"+je+" "+pn[je].objectNumber+" 0 R");Ur.publish("putTilingPatternDict"),ee(">>")}})(I.objectOid),(function(){if(Object.keys(En).length>0){var se;for(se in ee("/ExtGState <<"),En)En.hasOwnProperty(se)&&En[se].objectNumber>=0&&ee("/"+se+" "+En[se].objectNumber+" 0 R");Ur.publish("putGStateDict"),ee(">>")}})(),(function(){for(var se in ee("/XObject <<"),ki)ki.hasOwnProperty(se)&&ki[se].objectNumber>=0&&ee("/"+se+" "+ki[se].objectNumber+" 0 R");Ur.publish("putXobjectDict"),ee(">>")})(),ee(">>"),ee("endobj")},hi=function(I){$n[I.fontName]=$n[I.fontName]||{},$n[I.fontName][I.fontStyle]=I.id},ii=function(I,se,je,Be,Ve){var ft={id:"F"+(Object.keys(On).length+1).toString(10),postScriptName:I,fontName:se,fontStyle:je,encoding:Be,isStandardFont:Ve||!1,metadata:{}};return Ur.publish("addFont",{font:ft,instance:this}),On[ft.id]=ft,hi(ft),ft.id},ur=g.__private__.pdfEscape=g.pdfEscape=function(I,se){return(function(je,Be){var Ve,ft,St,rn,nn,Vn,er,Rr,yi;if(St=(Be=Be||{}).sourceEncoding||"Unicode",nn=Be.outputEncoding,(Be.autoencode||nn)&&On[Jt].metadata&&On[Jt].metadata[St]&&On[Jt].metadata[St].encoding&&(rn=On[Jt].metadata[St].encoding,!nn&&On[Jt].encoding&&(nn=On[Jt].encoding),!nn&&rn.codePages&&(nn=rn.codePages[0]),typeof nn=="string"&&(nn=rn[nn]),nn)){for(er=!1,Vn=[],Ve=0,ft=je.length;Ve<ft;Ve++)(Rr=nn[je.charCodeAt(Ve)])?Vn.push(String.fromCharCode(Rr)):Vn.push(je[Ve]),Vn[Ve].charCodeAt(0)>>8&&(er=!0);je=Vn.join("")}for(Ve=je.length;er===void 0&&Ve!==0;)je.charCodeAt(Ve-1)>>8&&(er=!0),Ve--;if(!er)return je;for(Vn=Be.noBOM?[]:[254,255],Ve=0,ft=je.length;Ve<ft;Ve++){if((yi=(Rr=je.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vn.push(yi),Vn.push(Rr-(yi<<8))}return String.fromCharCode.apply(void 0,Vn)})(I,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pn=g.__private__.beginPage=function(I){te[++zn]=[],Sn[zn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Er(zn),W(te[Y])},Mr=function(I,se){var je,Be,Ve;switch(t=se||t,typeof I=="string"&&(je=x(I.toLowerCase()),Array.isArray(je)&&(Be=je[0],Ve=je[1])),Array.isArray(I)&&(Be=I[0]*Zt,Ve=I[1]*Zt),isNaN(Be)&&(Be=a[0],Ve=a[1]),(Be>14400||Ve>14400)&&(Di.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Ve=Math.min(14400,Ve)),a=[Be,Ve],t.substr(0,1)){case"l":Ve>Be&&(a=[Ve,Be]);break;case"p":Be>Ve&&(a=[Ve,Be])}Pn(a),dn(eo),ee(ss),Ht!==0&&ee(Ht+" J"),tr!==0&&ee(tr+" j"),Ur.publish("addPage",{pageNumber:zn})},Qr=function(I){I>0&&I<=zn&&(te.splice(I,1),Sn.splice(I,1),zn--,Y>zn&&(Y=zn),this.setPage(Y))},Er=function(I){I>0&&I<=zn&&(Y=I)},Sr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return te.length-1},Ai=function(I,se,je){var Be,Ve=void 0;return je=je||{},I=I!==void 0?I:On[Jt].fontName,se=se!==void 0?se:On[Jt].fontStyle,Be=I.toLowerCase(),$n[Be]!==void 0&&$n[Be][se]!==void 0?Ve=$n[Be][se]:$n[I]!==void 0&&$n[I][se]!==void 0?Ve=$n[I][se]:je.disableWarning===!1&&Di.warn("Unable to look up font label for font '"+I+"', '"+se+"'. Refer to getFontList() for available fonts."),Ve||je.noFallback||(Ve=$n.times[se])==null&&(Ve=$n.times.normal),Ve},Hn=g.__private__.putInfo=function(){var I=Bn(),se=function(Be){return Be};for(var je in m!==null&&(se=tn.encryptor(I,0)),ee("<<"),ee("/Producer ("+ur(se("jsPDF "+Dn.version))+")"),$t)$t.hasOwnProperty(je)&&$t[je]&&ee("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+ur(se($t[je]))+")");ee("/CreationDate ("+ur(se(be))+")"),ee(">>"),ee("endobj")},$r=g.__private__.putCatalog=function(I){var se=(I=I||{}).rootDictionaryObjId||di;switch(Bn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+se+" 0 R"),we||(we="fullwidth"),we){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+we;je.substr(je.length-1)==="%"&&(we=parseInt(we)/100),typeof we=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+re(we)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}He&&ee("/PageMode /"+He),Ur.publish("putCatalog"),ee(">>"),ee("endobj")},ei=g.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ae+1)),ee("/Root "+ae+" 0 R"),ee("/Info "+(ae-1)+" 0 R"),m!==null&&ee("/Encrypt "+tn.oid+" 0 R"),ee("/ID [ <"+Ee+"> <"+Ee+"> ]"),ee(">>")},vr=g.__private__.putHeader=function(){ee("%PDF-"+j),ee("%")},Ro=g.__private__.putXRef=function(){var I="0000000000";ee("xref"),ee("0 "+(ae+1)),ee("0000000000 65535 f ");for(var se=1;se<=ae;se++)typeof B[se]=="function"?ee((I+B[se]()).slice(-10)+" 00000 n "):B[se]!==void 0?ee((I+B[se]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},lo=g.__private__.buildDocument=function(){var I;ae=0,de=0,M=[],B=[],ce=[],di=Fr(),Ie=Fr(),W(M),Ur.publish("buildDocument"),vr(),sn(),(function(){Ur.publish("putAdditionalObjects");for(var je=0;je<ce.length;je++){var Be=ce[je];fi(Be.objId,!0),ee(Be.content),ee("endobj")}Ur.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var je in On)On.hasOwnProperty(je)&&(k===!1||k===!0&&b.hasOwnProperty(je))&&en(On[je])})(),(function(){var je;for(je in En)En.hasOwnProperty(je)&&_r(En[je])})(),(function(){for(var je in ki)ki.hasOwnProperty(je)&&Fn(ki[je])})(),(function(je){var Be;for(Be in pn)pn.hasOwnProperty(Be)&&(pn[Be]instanceof qc?mr(pn[Be]):pn[Be]instanceof bu&&Br(pn[Be],je))})(I),Ur.publish("putResources"),I.forEach(Jn),Jn({resourcesOid:Ie,objectOid:Number.MAX_SAFE_INTEGER}),Ur.publish("postPutResources"),m!==null&&(tn.oid=Bn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+tn.v),ee("/R "+tn.r),ee("/U <"+tn.toHexString(tn.U)+">"),ee("/O <"+tn.toHexString(tn.O)+">"),ee("/P "+tn.P),ee(">>"),ee("endobj")),Hn(),$r();var se=de;return Ro(),ei(),ee("startxref"),ee(""+se),ee("%%EOF"),W(te[Y]),M.join(`
`)},co=g.__private__.getBlob=function(I){return new Blob([S(I)],{type:"application/pdf"})},Ki=g.output=g.__private__.output=(ao=function(I,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",I){case void 0:return lo();case"save":g.save(se.filename);break;case"arraybuffer":return S(lo());case"blob":return co(lo());case"bloburi":case"bloburl":if(lr.URL!==void 0&&typeof lr.URL.createObjectURL=="function")return lr.URL&&lr.URL.createObjectURL(co(lo()))||void 0;Di.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Be=lo();try{je=sv(Be)}catch{je=sv(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+se.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Ve=se.pdfObjectUrl,ft="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",rn=lr.open();return rn!==null&&rn.document.write(St),rn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',Vn=lr.open();if(Vn!==null){Vn.document.write(nn);var er=this;Vn.document.documentElement.querySelector("#pdfViewer").onload=function(){Vn.document.title=se.filename,Vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(er.output("bloburl"))}}return Vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',yi=lr.open();if(yi!==null&&(yi.document.write(Rr),yi.document.title=se.filename),yi||typeof safari>"u")return yi;break;case"datauri":case"dataurl":return lr.document.location.href=this.output("datauristring",se);default:return null}},ao.foo=function(){try{return ao.apply(this,arguments)}catch(je){var I=je.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var se="Error in function "+I.split(`
`)[0].split("<")[0]+": "+je.message;if(!lr.console)throw new Error(se);lr.console.error(se,je),lr.alert&&alert(se)}},ao.foo.bar=ao,ao.foo),Ni=function(I){return Array.isArray(Zs)===!0&&Zs.indexOf(I)>-1};switch(o){case"pt":Zt=1;break;case"mm":Zt=72/25.4;break;case"cm":Zt=72/2.54;break;case"in":Zt=72;break;case"px":Zt=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":Zt=12;break;case"ex":Zt=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);Zt=o}var tn=null;X(),xe();var Ei=g.__private__.getPageInfo=g.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Sn[I].objId,pageNumber:I,pageContext:Sn[I]}},uo=g.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Sn)if(Sn[se].objId===I)break;return Ei(se)},$o=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Sn[Y].objId,pageNumber:Y,pageContext:Sn[Y]}};g.addPage=function(){return Mr.apply(this,arguments),this},g.setPage=function(){return Er.apply(this,arguments),W.call(this,te[Y]),this},g.insertPage=function(I){return this.addPage(),this.movePage(Y,I),this},g.movePage=function(I,se){var je,Be;if(I>se){je=te[I],Be=Sn[I];for(var Ve=I;Ve>se;Ve--)te[Ve]=te[Ve-1],Sn[Ve]=Sn[Ve-1];te[se]=je,Sn[se]=Be,this.setPage(se)}else if(I<se){je=te[I],Be=Sn[I];for(var ft=I;ft<se;ft++)te[ft]=te[ft+1],Sn[ft]=Sn[ft+1];te[se]=je,Sn[se]=Be,this.setPage(se)}return this},g.deletePage=function(){return Qr.apply(this,arguments),this},g.__private__.text=g.text=function(I,se,je,Be,Ve){var ft,St,rn,nn,Vn,er,Rr,yi,Ci,oi=(Be=Be||{}).scope||this;if(typeof I=="number"&&typeof se=="number"&&(typeof je=="string"||Array.isArray(je))){var ro=je;je=se,se=I,I=ro}if(arguments[3]instanceof wn==0?(rn=arguments[4],nn=arguments[5],Si(Rr=arguments[3])==="object"&&Rr!==null||(typeof rn=="string"&&(nn=rn,rn=null),typeof Rr=="string"&&(nn=Rr,Rr=null),typeof Rr=="number"&&(rn=Rr,Rr=null),Be={flags:Rr,angle:rn,align:nn})):(z("The transform parameter of text() with a Matrix value"),Ci=Ve),isNaN(se)||isNaN(je)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return oi;var Wi,bo="",ea=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:Kr,pt=oi.internal.scaleFactor;function ta(Wr){return Wr=Wr.split("	").join(Array(Be.TabLen||9).join(" ")),ur(Wr,Rr)}function ol(Wr){for(var ti,Bi=Wr.concat(),Yi=[],Ts=Bi.length;Ts--;)typeof(ti=Bi.shift())=="string"?Yi.push(ti):Array.isArray(Wr)&&(ti.length===1||ti[1]===void 0&&ti[2]===void 0)?Yi.push(ti[0]):Yi.push([ti[0],ti[1],ti[2]]);return Yi}function Il(Wr,ti){var Bi;if(typeof Wr=="string")Bi=ti(Wr)[0];else if(Array.isArray(Wr)){for(var Yi,Ts,ul=Wr.concat(),fl=[],Ls=ul.length;Ls--;)typeof(Yi=ul.shift())=="string"?fl.push(ti(Yi)[0]):Array.isArray(Yi)&&typeof Yi[0]=="string"&&(Ts=ti(Yi[0],Yi[1],Yi[2]),fl.push([Ts[0],Ts[1],Ts[2]]));Bi=fl}return Bi}var pa=!1,ks=!0;if(typeof I=="string")pa=!0;else if(Array.isArray(I)){var ma=I.concat();St=[];for(var ga,_o=ma.length;_o--;)(typeof(ga=ma.shift())!="string"||Array.isArray(ga)&&typeof ga[0]!="string")&&(ks=!1);pa=ks}if(pa===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var ya=U/oi.internal.scaleFactor,va=ya*(ea-1);switch(Be.baseline){case"bottom":je-=va;break;case"top":je+=ya-va;break;case"hanging":je+=ya-2*va;break;case"middle":je+=ya/2-va}if((er=Be.maxWidth||0)>0&&(typeof I=="string"?I=oi.splitTextToSize(I,er):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Wr,ti){return Wr.concat(oi.splitTextToSize(ti,er))},[]))),ft={text:I,x:se,y:je,options:Be,mutex:{pdfEscape:ur,activeFontKey:Jt,fonts:On,activeFontSize:U}},Ur.publish("preProcessText",ft),I=ft.text,rn=(Be=ft.options).angle,Ci instanceof wn==0&&rn&&typeof rn=="number"){rn*=Math.PI/180,Be.rotationDirection===0&&(rn=-rn),A===T&&(rn=-rn);var Pl=Math.cos(rn),Rl=Math.sin(rn);Ci=new wn(Pl,Rl,-Rl,Pl,0,0)}else rn&&rn instanceof wn&&(Ci=rn);A!==T||Ci||(Ci=Po),(Vn=Be.charSpace||_t)!==void 0&&(bo+=ne(J(Vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yi=Be.horizontalScale)!==void 0&&(bo+=ne(100*yi)+` Tz
`),Be.lang;var qo=-1,As=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,zs=oi.internal.getCurrentPageInfo().pageContext;switch(As){case 0:case!1:case"fill":qo=0;break;case 1:case!0:case"stroke":qo=1;break;case 2:case"fillThenStroke":qo=2;break;case 3:case"invisible":qo=3;break;case 4:case"fillAndAddForClipping":qo=4;break;case 5:case"strokeAndAddPathForClipping":qo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qo=6;break;case 7:case"addToPathForClipping":qo=7}var Dl=zs.usedRenderingMode!==void 0?zs.usedRenderingMode:-1;qo!==-1?bo+=qo+` Tr
`:Dl!==-1&&(bo+=`0 Tr
`),qo!==-1&&(zs.usedRenderingMode=qo),nn=Be.align||"left";var Wo,wa=U*ea,sl=oi.internal.pageSize.getWidth(),al=On[Jt];Vn=Be.charSpace||_t,er=Be.maxWidth||0,Rr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var na=[],ds=function(Wr){return oi.getStringUnitWidth(Wr,{font:al,charSpace:Vn,fontSize:U,doKerning:!1})*U/pt};if(Object.prototype.toString.call(I)==="[object Array]"){var Oo;St=ol(I),nn!=="left"&&(Wo=St.map(ds));var Zo,hs=0;if(nn==="right"){se-=Wo[0],I=[],_o=St.length;for(var Ns=0;Ns<_o;Ns++)Ns===0?(Zo=Ln(se),Oo=kn(je)):(Zo=J(hs-Wo[Ns]),Oo=-wa),I.push([St[Ns],Zo,Oo]),hs=Wo[Ns]}else if(nn==="center"){se-=Wo[0]/2,I=[],_o=St.length;for(var as=0;as<_o;as++)as===0?(Zo=Ln(se),Oo=kn(je)):(Zo=J((hs-Wo[as])/2),Oo=-wa),I.push([St[as],Zo,Oo]),hs=Wo[as]}else if(nn==="left"){I=[],_o=St.length;for(var ra=0;ra<_o;ra++)I.push(St[ra])}else if(nn==="justify"&&al.encoding==="Identity-H"){I=[],_o=St.length,er=er!==0?er:sl;for(var Es=0,Fi=0;Fi<_o;Fi++)if(Oo=Fi===0?kn(je):-wa,Zo=Fi===0?Ln(se):Es,Fi<_o-1){var Ia=J((er-Wo[Fi])/(St[Fi].split(" ").length-1)),Us=St[Fi].split(" ");I.push([Us[0]+" ",Zo,Oo]),Es=0;for(var Cs=1;Cs<Us.length;Cs++){var ia=(ds(Us[Cs-1]+" "+Us[Cs])-ds(Us[Cs]))*pt+Ia;Cs==Us.length-1?I.push([Us[Cs],ia,0]):I.push([Us[Cs]+" ",ia,0]),Es-=ia}}else I.push([St[Fi],Zo,Oo]);I.push(["",Es,0])}else{if(nn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],_o=St.length,er=er!==0?er:sl,Fi=0;Fi<_o;Fi++){Oo=Fi===0?kn(je):-wa,Zo=Fi===0?Ln(se):0;var Pa=St[Fi].split(" ").length-1,ll=Pa>0?(er-Wo[Fi])/Pa:0;Fi<_o-1?na.push(ne(J(ll))):na.push(0),I.push([St[Fi],Zo,Oo])}}}(typeof Be.R2L=="boolean"?Be.R2L:Ce)===!0&&(I=Il(I,function(Wr,ti,Bi){return[Wr.split("").reverse().join(""),ti,Bi]})),ft={text:I,x:se,y:je,options:Be,mutex:{pdfEscape:ur,activeFontKey:Jt,fonts:On,activeFontSize:U}},Ur.publish("postProcessText",ft),I=ft.text,Wi=ft.mutex.isHex||!1;var cl=On[Jt].encoding;cl!=="WinAnsiEncoding"&&cl!=="StandardEncoding"||(I=Il(I,function(Wr,ti,Bi){return[ta(Wr),ti,Bi]})),St=ol(I),I=[];for(var oa,sa,xa,ba=Array.isArray(St[0])?1:0,_a="",Sa=function(Wr,ti,Bi){var Yi="";return Bi instanceof wn?(Bi=typeof Be.angle=="number"?yr(Bi,new wn(1,0,0,1,Wr,ti)):yr(new wn(1,0,0,1,Wr,ti),Bi),A===T&&(Bi=yr(new wn(1,0,0,-1,0,0),Bi)),Yi=Bi.join(" ")+` Tm
`):Yi=ne(Wr)+" "+ne(ti)+` Td
`,Yi},ji=0;ji<St.length;ji++){switch(_a="",ba){case 1:xa=(Wi?"<":"(")+St[ji][0]+(Wi?">":")"),oa=parseFloat(St[ji][1]),sa=parseFloat(St[ji][2]);break;case 0:xa=(Wi?"<":"(")+St[ji]+(Wi?">":")"),oa=Ln(se),sa=kn(je)}na!==void 0&&na[ji]!==void 0&&(_a=na[ji]+` Tw
`),ji===0?I.push(_a+Sa(oa,sa,Ci)+xa):ba===0?I.push(_a+xa):ba===1&&I.push(_a+Sa(oa,sa,Ci)+xa)}I=ba===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var io=`BT
/`;return io+=Jt+" "+U+` Tf
`,io+=ne(U*ea)+` TL
`,io+=Do+`
`,io+=bo,io+=I,ee(io+="ET"),b[Jt]=!0,oi};var zr=g.__private__.clip=g.clip=function(I){return ee(I==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return zr("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ee("n"),this};var Qn=g.__private__.isValidStyle=function(I){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(se=!0),se};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(I){return Qn(I)&&(d=I),this};var fo=g.__private__.getStyle=g.getStyle=function(I){var se=d;switch(I){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=I}return se},Cr=g.close=function(){return ee("h"),this};g.stroke=function(){return ee("S"),this},g.fill=function(I){return xo("f",I),this},g.fillEvenOdd=function(I){return xo("f*",I),this},g.fillStroke=function(I){return xo("B",I),this},g.fillStrokeEvenOdd=function(I){return xo("B*",I),this};var xo=function(I,se){Si(se)==="object"?qn(se,I):ee(I)},ho=function(I){I===null||A===T&&I===void 0||(I=fo(I),ee(I))};function ha(I,se,je,Be,Ve){var ft=new bu(se||this.boundingBox,je||this.xStep,Be||this.yStep,this.gState,Ve||this.matrix);ft.stream=this.stream;var St=I+"$$"+this.cloneIndex+++"$$";return qi(St,ft),ft}var qn=function(I,se){var je=jr[I.key],Be=pn[je];if(Be instanceof qc)ee("q"),ee(qr(se)),Be.gState&&g.setGState(Be.gState),ee(I.matrix.toString()+" cm"),ee("/"+je+" sh"),ee("Q");else if(Be instanceof bu){var Ve=new wn(1,0,0,-1,0,Xr());I.matrix&&(Ve=Ve.multiply(I.matrix||Po),je=ha.call(Be,I.key,I.boundingBox,I.xStep,I.yStep,Ve).id),ee("q"),ee("/Pattern cs"),ee("/"+je+" scn"),Be.gState&&g.setGState(Be.gState),ee(se),ee("Q")}},qr=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gr=g.moveTo=function(I,se){return ee(ne(J(I))+" "+ne(P(se))+" m"),this},_s=g.lineTo=function(I,se){return ee(ne(J(I))+" "+ne(P(se))+" l"),this},dr=g.curveTo=function(I,se,je,Be,Ve,ft){return ee([ne(J(I)),ne(P(se)),ne(J(je)),ne(P(Be)),ne(J(Ve)),ne(P(ft)),"c"].join(" ")),this};g.__private__.line=g.line=function(I,se,je,Be,Ve){if(isNaN(I)||isNaN(se)||isNaN(je)||isNaN(Be)||!Qn(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return A===R?this.lines([[je-I,Be-se]],I,se,[1,1],Ve||"S"):this.lines([[je-I,Be-se]],I,se,[1,1]).stroke()},g.__private__.lines=g.lines=function(I,se,je,Be,Ve,ft){var St,rn,nn,Vn,er,Rr,yi,Ci,oi,ro,Wi,bo;if(typeof I=="number"&&(bo=je,je=se,se=I,I=bo),Be=Be||[1,1],ft=ft||!1,isNaN(se)||isNaN(je)||!Array.isArray(I)||!Array.isArray(Be)||!Qn(Ve)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gr(se,je),St=Be[0],rn=Be[1],Vn=I.length,ro=se,Wi=je,nn=0;nn<Vn;nn++)(er=I[nn]).length===2?(ro=er[0]*St+ro,Wi=er[1]*rn+Wi,_s(ro,Wi)):(Rr=er[0]*St+ro,yi=er[1]*rn+Wi,Ci=er[2]*St+ro,oi=er[3]*rn+Wi,ro=er[4]*St+ro,Wi=er[5]*rn+Wi,dr(Rr,yi,Ci,oi,ro,Wi));return ft&&Cr(),ho(Ve),this},g.path=function(I){for(var se=0;se<I.length;se++){var je=I[se],Be=je.c;switch(je.op){case"m":gr(Be[0],Be[1]);break;case"l":_s(Be[0],Be[1]);break;case"c":dr.apply(this,Be);break;case"h":Cr()}}return this},g.__private__.rect=g.rect=function(I,se,je,Be,Ve){if(isNaN(I)||isNaN(se)||isNaN(je)||isNaN(Be)||!Qn(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return A===R&&(Be=-Be),ee([ne(J(I)),ne(P(se)),ne(J(je)),ne(J(Be)),"re"].join(" ")),ho(Ve),this},g.__private__.triangle=g.triangle=function(I,se,je,Be,Ve,ft,St){if(isNaN(I)||isNaN(se)||isNaN(je)||isNaN(Be)||isNaN(Ve)||isNaN(ft)||!Qn(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-I,Be-se],[Ve-je,ft-Be],[I-Ve,se-ft]],I,se,[1,1],St,!0),this},g.__private__.roundedRect=g.roundedRect=function(I,se,je,Be,Ve,ft,St){if(isNaN(I)||isNaN(se)||isNaN(je)||isNaN(Be)||isNaN(Ve)||isNaN(ft)||!Qn(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rn=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*je),ft=Math.min(ft,.5*Be),this.lines([[je-2*Ve,0],[Ve*rn,0,Ve,ft-ft*rn,Ve,ft],[0,Be-2*ft],[0,ft*rn,-Ve*rn,ft,-Ve,ft],[2*Ve-je,0],[-Ve*rn,0,-Ve,-ft*rn,-Ve,-ft],[0,2*ft-Be],[0,-ft*rn,Ve*rn,-ft,Ve,-ft]],I+Ve,se,[1,1],St,!0),this},g.__private__.ellipse=g.ellipse=function(I,se,je,Be,Ve){if(isNaN(I)||isNaN(se)||isNaN(je)||isNaN(Be)||!Qn(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*je,St=4/3*(Math.SQRT2-1)*Be;return gr(I+je,se),dr(I+je,se-St,I+ft,se-Be,I,se-Be),dr(I-ft,se-Be,I-je,se-St,I-je,se),dr(I-je,se+St,I-ft,se+Be,I,se+Be),dr(I+ft,se+Be,I+je,se+St,I+je,se),ho(Ve),this},g.__private__.circle=g.circle=function(I,se,je,Be){if(isNaN(I)||isNaN(se)||isNaN(je)||!Qn(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,se,je,je,Be)},g.setFont=function(I,se,je){return je&&(se=oe(se,je)),Jt=Ai(I,se,{disableWarning:!1}),this};var Et=g.__private__.getFont=g.getFont=function(){return On[Ai.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var I,se,je={};for(I in $n)if($n.hasOwnProperty(I))for(se in je[I]=[],$n[I])$n[I].hasOwnProperty(se)&&je[I].push(se);return je},g.addFont=function(I,se,je,Be,Ve){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(je=oe(je,Be)),ii.call(this,I,se,je,Ve=Ve||"Identity-H")};var Kr,eo=r.lineWidth||.200025,to=g.__private__.getLineWidth=g.getLineWidth=function(){return eo},dn=g.__private__.setLineWidth=g.setLineWidth=function(I){return eo=I,ee(ne(J(I))+" w"),this};g.__private__.setLineDash=Dn.API.setLineDash=Dn.API.setLineDashPattern=function(I,se){if(I=I||[],se=se||0,isNaN(se)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(je){return ne(J(je))}).join(" "),se=ne(J(se)),ee("["+I+"] "+se+" d"),this};var Jo=g.__private__.getLineHeight=g.getLineHeight=function(){return U*Kr};g.__private__.getLineHeight=g.getLineHeight=function(){return U*Kr};var Qs=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Kr=I),this},il=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Kr};Qs(r.lineHeight);var Ln=g.__private__.getHorizontalCoordinate=function(I){return J(I)},kn=g.__private__.getVerticalCoordinate=function(I){return A===T?I:Sn[Y].mediaBox.topRightY-Sn[Y].mediaBox.bottomLeftY-J(I)},Yr=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(I){return ne(Ln(I))},Ss=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(I){return ne(kn(I))},ss=r.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ke(ss)},g.__private__.setStrokeColor=g.setDrawColor=function(I,se,je,Be){return ss=bt({ch1:I,ch2:se,ch3:je,ch4:Be,pdfColorType:"draw",precision:2}),ee(ss),this};var Ms=r.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ke(Ms)},g.__private__.setFillColor=g.setFillColor=function(I,se,je,Be){return Ms=bt({ch1:I,ch2:se,ch3:je,ch4:Be,pdfColorType:"fill",precision:2}),ee(Ms),this};var Do=r.textColor||"0 g",Cn=g.__private__.getTextColor=g.getTextColor=function(){return Ke(Do)};g.__private__.setTextColor=g.setTextColor=function(I,se,je,Be){return Do=bt({ch1:I,ch2:se,ch3:je,ch4:Be,pdfColorType:"text",precision:3}),this};var _t=r.charSpace,Vt=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(_t||0)};g.__private__.setCharSpace=g.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _t=I,this};var Ht=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(I){var se=g.CapJoinStyles[I];if(se===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ht=se,ee(se+" J"),this};var tr=0;g.__private__.setLineJoin=g.setLineJoin=function(I){var se=g.CapJoinStyles[I];if(se===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tr=se,ee(se+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(ne(J(I))+" M"),this},g.GState=Dd,g.setGState=function(I){(I=typeof I=="string"?En[Wn[I]]:yn(null,I)).equals(Ir)||(ee("/"+I.id+" gs"),Ir=I)};var yn=function(I,se){if(!I||!Wn[I]){var je=!1;for(var Be in En)if(En.hasOwnProperty(Be)&&En[Be].equals(se)){je=!0;break}if(je)se=En[Be];else{var Ve="GS"+(Object.keys(En).length+1).toString(10);En[Ve]=se,se.id=Ve}return I&&(Wn[I]=se.id),Ur.publish("addGState",se),se}};g.addGState=function(I,se){return yn(I,se),this},g.saveGraphicsState=function(){return ee("q"),In.push({key:Jt,size:U,color:Do}),this},g.restoreGraphicsState=function(){ee("Q");var I=In.pop();return Jt=I.key,U=I.size,Do=I.color,Ir=null,this},g.setCurrentTransformationMatrix=function(I){return ee(I.toString()+" cm"),this},g.comment=function(I){return ee("#"+I),this};var Yt=function(I,se){var je=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(ft){isNaN(ft)||(je=parseFloat(ft))}});var Be=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(ft){isNaN(ft)||(Be=parseFloat(ft))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(ft){Ve=ft.toString()}}),this},Gn=function(I,se,je,Be){Yt.call(this,I,se),this.type="rect";var Ve=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(St){isNaN(St)||(Ve=parseFloat(St))}});var ft=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(St){isNaN(St)||(ft=parseFloat(St))}}),this},Zn=function(){this.page=zn,this.currentPage=Y,this.pages=te.slice(0),this.pagesContext=Sn.slice(0),this.x=Gt,this.y=Or,this.matrix=Nn,this.width=zt(Y),this.height=nr(Y),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Zn.prototype.restore=function(){zn=this.page,Y=this.currentPage,Sn=this.pagesContext,te=this.pages,Gt=this.x,Or=this.y,Nn=this.matrix,Ft(Y,this.width),Mn(Y,this.height),Oe=this.outputDestination};var Rn=function(I,se,je,Be,Ve){$i.push(new Zn),zn=Y=0,te=[],Gt=I,Or=se,Nn=Ve,Pn([je,Be])};for(var vn in g.beginFormObject=function(I,se,je,Be,Ve){return Rn(I,se,je,Be,Ve),this},g.endFormObject=function(I){return(function(se){if(Oi[se])$i.pop().restore();else{var je=new Zn,Be="Xo"+(Object.keys(ki).length+1).toString(10);je.id=Be,Oi[se]=Be,ki[Be]=je,Ur.publish("addFormObject",je),$i.pop().restore()}})(I),this},g.doFormObject=function(I,se){var je=ki[Oi[I]];return ee("q"),ee(se.toString()+" cm"),ee("/"+je.id+" Do"),ee("Q"),this},g.getFormObject=function(I){var se=ki[Oi[I]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},g.save=function(I,se){return I=I||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?($c(co(lo()),I),typeof $c.unload=="function"&&lr.setTimeout&&setTimeout($c.unload,911),this):new Promise(function(je,Be){try{var Ve=$c(co(lo()),I);typeof $c.unload=="function"&&lr.setTimeout&&setTimeout($c.unload,911),je(Ve)}catch(ft){Be(ft.message)}})},Dn.API)Dn.API.hasOwnProperty(vn)&&(vn==="events"&&Dn.API.events.length?(function(I,se){var je,Be,Ve;for(Ve=se.length-1;Ve!==-1;Ve--)je=se[Ve][0],Be=se[Ve][1],I.subscribe.apply(I,[je].concat(typeof Be=="function"?[Be]:Be))})(Ur,Dn.API.events):g[vn]=Dn.API[vn]);function zt(I){return Sn[I].mediaBox.topRightX-Sn[I].mediaBox.bottomLeftX}function Ft(I,se){Sn[I].mediaBox.topRightX=se+Sn[I].mediaBox.bottomLeftX}function nr(I){return Sn[I].mediaBox.topRightY-Sn[I].mediaBox.bottomLeftY}function Mn(I,se){Sn[I].mediaBox.topRightY=se+Sn[I].mediaBox.bottomLeftY}var hr=g.getPageWidth=function(I){return zt(I=I||Y)/Zt},wr=g.setPageWidth=function(I,se){Ft(I,se*Zt)},Xr=g.getPageHeight=function(I){return nr(I=I||Y)/Zt},no=g.setPageHeight=function(I,se){Mn(I,se*Zt)};return g.internal={pdfEscape:ur,getStyle:fo,getFont:Et,getFontSize:Le,getCharSpace:Vt,getTextColor:Cn,getLineHeight:Jo,getLineHeightFactor:il,getLineWidth:to,write:V,getHorizontalCoordinate:Ln,getVerticalCoordinate:kn,getCoordinateString:Yr,getVerticalCoordinateString:Ss,collections:{},newObject:Bn,newAdditionalObject:Xo,newObjectDeferred:Fr,newObjectDeferredBegin:fi,getFilters:Qt,putStream:cn,events:Ur,scaleFactor:Zt,pageSize:{getWidth:function(){return hr(Y)},setWidth:function(I){wr(Y,I)},getHeight:function(){return Xr(Y)},setHeight:function(I){no(Y,I)}},encryptionOptions:m,encryption:tn,getEncryptor:function(I){return m!==null?tn.encryptor(I,0):function(se){return se}},output:Ki,getNumberOfPages:Sr,get pages(){return te},out:ee,f2:re,f3:F,getPageInfo:Ei,getPageInfoByObjId:uo,getCurrentPageInfo:$o,getPDFVersion:N,Point:Yt,Rectangle:Gn,Matrix:wn,hasHotfix:Ni},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return hr(Y)},set:function(I){wr(Y,I)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Xr(Y)},set:function(I){no(Y,I)},enumerable:!0,configurable:!0}),(function(I){for(var se=0,je=C.length;se<je;se++){var Be=ii.call(this,I[se][0],I[se][1],I[se][2],C[se][3],!0);k===!1&&(b[Be]=!0);var Ve=I[se][0].split("-");hi({id:Be,fontName:Ve[0],fontStyle:Ve[1]||""})}Ur.publish("addFonts",{fonts:On,dictionary:$n})}).call(g,C),Jt="F1",Mr(a,t),Ur.publish("initialized"),g}vu.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},vu.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vu.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},vu.prototype.processOwnerPassword=function(r,e){return um(cm(e).substr(0,5),r)},vu.prototype.encryptor=function(r,e){var t=cm(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(o){return um(t,o)}},Dd.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Si(r)!==Si(this))return!1;var o=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;o++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&o--;return o===0},Dn.API={events:[]},Dn.version="4.0.0";var wo=Dn.API,Rm=1,Qc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pr=function(r){return r.toFixed(2)},_c=function(r){return r.toFixed(5)};wo.__acroform__={};var Js=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},uv=function(r){return r*Rm},kl=function(r){var e=new ww,t=_n.internal.getHeight(r)||0,o=_n.internal.getWidth(r)||0;return e.BBox=[0,0,Number(pr(o)),Number(pr(t))],e},_k=wo.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Sk=wo.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},kk=wo.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Co=wo.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kk(r,e-1)},To=wo.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _k(r,e-1)},Lo=wo.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Sk(r,e-1)},Ak=wo.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,o=e.internal.getVerticalCoordinate,a=r[0],s=r[1],u=r[2],l=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=o(s+l)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=o(s)||0,[Number(pr(f.lowerLeft_X)),Number(pr(f.lowerLeft_Y)),Number(pr(f.upperRight_X)),Number(pr(f.upperRight_Y))]},Nk=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,o=fm(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+pr(o.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=kl(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},fm=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,o={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(re){return re.split(`
`)}):a.map(function(re){return[re]});var s=t,u=_n.internal.getHeight(r)||0;u=u<0?-u:u;var l=_n.internal.getWidth(r)||0;l=l<0?-l:l;var f=function(re,F,J){if(re+1<a.length){var P=F+" "+a[re+1][0];return pd(P,r,J).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var d,m,k=pd("3",r,s).height,b=r.multiline?u-s:(u-k)/2,g=b+=2,j=0,N=0,O=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+pd(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var x="",R=0,T=0;T<a.length;T++)if(a.hasOwnProperty(T)){var A=!1;if(a[T].length!==1&&O!==a[T].length-1){if((k+2)*(R+2)+2>u)continue e;x+=a[T][O],A=!0,N=T,T--}else{x=(x+=a[T][O]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var q=parseInt(T),ie=f(q,x,s),oe=T>=a.length-1;if(ie&&!oe){x+=" ",O=0;continue}if(ie||oe){if(oe)N=q;else if(r.multiline&&(k+2)*(R+2)+2>u)continue e}else{if(!r.multiline||(k+2)*(R+2)+2>u)continue e;N=q}}for(var ne="",z=j;z<=N;z++){var le=a[z];if(r.multiline){if(z===N){ne+=le[O]+" ",O=(O+1)%le.length;continue}if(z===j){ne+=le[le.length-1]+" ";continue}}ne+=le[0]+" "}switch(ne=ne.substr(ne.length-1)==" "?ne.substr(0,ne.length-1):ne,m=pd(ne,r,s).width,r.textAlign){case"right":d=l-m-2;break;case"center":d=(l-m)/2;break;default:d=2}e+=pr(d)+" "+pr(g)+` Td
`,e+="("+Qc(ne)+`) Tj
`,e+=-pr(d)+` 0 Td
`,g=-(s+2),m=0,j=A?N:N+1,R++,x=""}break}return o.text=e,o.fontSize=s,o},pd=function(r,e,t){var o=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:o,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},Ek={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ck=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(o){return o.type===t.type&&o.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Tk=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(nl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Ek)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rm=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new xw,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];s.objId=void 0,s.hasAnnotation&&Ck(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(o,a){var s=!o;for(var u in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(u)){var l=o[u],f=[],d=l.Rect;if(l.Rect&&(l.Rect=Ak(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=_n.createDefaultAppearanceStream(l),Si(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(f=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var m=Nk(l);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(l.appearanceStreamContent){var k="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var g=l.appearanceStreamContent[b];if(k+="/"+b+" ",k+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var u in g)if(g.hasOwnProperty(u)){var j=g[u];typeof j=="function"&&(j=j.call(a,l)),k+="/"+u+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=g)=="function"&&(j=j.call(a,l)),k+="/"+u+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);k+=">>"}f.push({key:"AP",value:`<<
`+k+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:l.objId}),a.internal.out("endobj")}s&&(function(N,O){for(var x in N)if(N.hasOwnProperty(x)){var R=x,T=N[x];O.internal.newObjectDeferredBegin(T.objId,!0),Si(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete N[R]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},vw=wo.__acroform__.arrayToPdfArray=function(r,e,t){var o=function(u){return u};if(Array.isArray(r)){for(var a="[",s=0;s<r.length;s++)switch(s!==0&&(a+=" "),Si(r[s])){case"boolean":case"number":case"object":a+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(o=t.internal.getEncryptor(e)),a+="("+Qc(o(r[s].toString()))+")"):a+=r[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B1=function(r,e,t){var o=function(a){return a};return e!==void 0&&t&&(o=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Qc(o(r))+")"},Cl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cl.prototype.toString=function(){return this.objId+" 0 R"},Cl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Cl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var o=e[t],a=this[o];a&&(Array.isArray(a)?r.push({key:o,value:vw(a,this.objId,this.scope)}):a instanceof Cl?(a.scope=this.scope,r.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:o,value:a}))}return r};var ww=function(){Cl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Js(ww,Cl);var xw=function(){Cl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(o){return o};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Qc(t(r))+")"}},set:function(t){r=t}})};Js(xw,Cl);var nl=function r(){Cl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Co(e,3)},set:function(x){x?this.F=To(e,3):this.F=Lo(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(x){o=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(x){o[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(x){o[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(x){o[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(x){o[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Od)return;s="FieldObject"+r.FieldNum++}var x=function(R){return R};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Qc(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Rm:d},set:function(x){d=x}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){m=x}});var k="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!k||this instanceof Od||this instanceof Vc))return B1(k,this.objId,this.scope)},set:function(x){x=x.toString(),k=x}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof os==0?B1(b,this.objId,this.scope):b},set:function(x){x=x.toString(),b=this instanceof os==0?x.substr(0,1)==="("?pu(x.substr(1,x.length-2)):pu(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?pu(b.substr(1,b.length-1)):b},set:function(x){x=x.toString(),b=this instanceof os==1?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof os==0?B1(g,this.objId,this.scope):g},set:function(x){x=x.toString(),g=this instanceof os==0?x.substr(0,1)==="("?pu(x.substr(1,x.length-2)):pu(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?pu(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof os==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(x){x=!!x,N=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(x){j=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,1)},set:function(x){x?this.Ff=To(this.Ff,1):this.Ff=Lo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,2)},set:function(x){x?this.Ff=To(this.Ff,2):this.Ff=Lo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,3)},set:function(x){x?this.Ff=To(this.Ff,3):this.Ff=Lo(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');O=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(O){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:O=2;break;case"center":case 1:O=1;break;default:O=0}}})};Js(nl,Cl);var Cu=function(){nl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vw(e,this.objId,this.scope)},set:function(t){var o,a;a=[],typeof(o=t)=="string"&&(a=(function(s,u,l){l||(l=1);for(var f,d=[];f=u.exec(s);)d.push(f[l]);return d})(o,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,o){for(o=o||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,18)},set:function(t){t?this.Ff=To(this.Ff,18):this.Ff=Lo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=To(this.Ff,19):this.Ff=Lo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,20)},set:function(t){t?(this.Ff=To(this.Ff,20),e.sort()):this.Ff=Lo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,22)},set:function(t){t?this.Ff=To(this.Ff,22):this.Ff=Lo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,23)},set:function(t){t?this.Ff=To(this.Ff,23):this.Ff=Lo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,27)},set:function(t){t?this.Ff=To(this.Ff,27):this.Ff=Lo(this.Ff,27)}}),this.hasAppearanceStream=!1};Js(Cu,nl);var Tu=function(){Cu.call(this),this.fontName="helvetica",this.combo=!1};Js(Tu,Cu);var Lu=function(){Tu.call(this),this.combo=!0};Js(Lu,Tu);var Nd=function(){Lu.call(this),this.edit=!0};Js(Nd,Lu);var os=function(){nl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,15)},set:function(t){t?this.Ff=To(this.Ff,15):this.Ff=Lo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,16)},set:function(t){t?this.Ff=To(this.Ff,16):this.Ff=Lo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,17)},set:function(t){t?this.Ff=To(this.Ff,17):this.Ff=Lo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,26)},set:function(t){t?this.Ff=To(this.Ff,26):this.Ff=Lo(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var o,a=[];for(o in a.push("<<"),e)a.push("/"+o+" ("+Qc(t(e[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Si(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Js(os,nl);var Ed=function(){os.call(this),this.pushButton=!0};Js(Ed,os);var ju=function(){os.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Js(ju,os);var Od=function(){var r,e;nl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),o)u.push("/"+s+" ("+Qc(a(o[s]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Si(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_n.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Js(Od,nl),ju.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},ju.prototype.createOption=function(r){var e=new Od;return e.Parent=this,e.optionName=r,this.Kids.push(e),Lk.call(this.scope,e),e};var Cd=function(){os.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_n.CheckBox.createAppearanceStream()};Js(Cd,os);var Vc=function(){nl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,13)},set:function(e){e?this.Ff=To(this.Ff,13):this.Ff=Lo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,21)},set:function(e){e?this.Ff=To(this.Ff,21):this.Ff=Lo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,23)},set:function(e){e?this.Ff=To(this.Ff,23):this.Ff=Lo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,24)},set:function(e){e?this.Ff=To(this.Ff,24):this.Ff=Lo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,25)},set:function(e){e?this.Ff=To(this.Ff,25):this.Ff=Lo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,26)},set:function(e){e?this.Ff=To(this.Ff,26):this.Ff=Lo(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Js(Vc,nl);var Td=function(){Vc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Co(this.Ff,14)},set:function(r){r?this.Ff=To(this.Ff,14):this.Ff=Lo(this.Ff,14)}}),this.password=!0};Js(Td,Vc);var _n={CheckBox:{createAppearanceStream:function(){return{N:{On:_n.CheckBox.YesNormal},D:{On:_n.CheckBox.YesPushDown,Off:_n.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[],o=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=fm(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+pr(_n.internal.getWidth(r))+" "+pr(_n.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+o+" "+pr(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=kl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),a=[],s=_n.internal.getHeight(r),u=_n.internal.getWidth(r),l=fm(r,r.caption);return a.push("1 g"),a.push("0 0 "+pr(u)+" "+pr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+pr(u-1)+" "+pr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+pr(l.fontSize)+" Tf "+o),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pr(_n.internal.getWidth(r))+" "+pr(_n.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:_n.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=_n.RadioButton.Circle.YesNormal,e.D[r]=_n.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=kl(r);e.scope=r.scope;var t=[],o=_n.internal.getWidth(r)<=_n.internal.getHeight(r)?_n.internal.getWidth(r)/4:_n.internal.getHeight(r)/4;o=Number((.9*o).toFixed(5));var a=_n.internal.Bezier_C,s=Number((o*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+_c(_n.internal.getWidth(r)/2)+" "+_c(_n.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),t.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),t.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),t.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[],o=_n.internal.getWidth(r)<=_n.internal.getHeight(r)?_n.internal.getWidth(r)/4:_n.internal.getHeight(r)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),s=Number((a*_n.internal.Bezier_C).toFixed(5)),u=Number((o*_n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_c(_n.internal.getWidth(r)/2)+" "+_c(_n.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+_c(_n.internal.getWidth(r)/2)+" "+_c(_n.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+u+" "+u+" "+o+" 0 "+o+" c"),t.push("-"+u+" "+o+" -"+o+" "+u+" -"+o+" 0 c"),t.push("-"+o+" -"+u+" -"+u+" -"+o+" 0 -"+o+" c"),t.push(u+" -"+o+" "+o+" -"+u+" "+o+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[],o=_n.internal.getWidth(r)<=_n.internal.getHeight(r)?_n.internal.getWidth(r)/4:_n.internal.getHeight(r)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),s=Number((a*_n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_c(_n.internal.getWidth(r)/2)+" "+_c(_n.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:_n.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=_n.RadioButton.Cross.YesNormal,e.D[r]=_n.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=kl(r);e.scope=r.scope;var t=[],o=_n.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+pr(_n.internal.getWidth(r)-2)+" "+pr(_n.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(pr(o.x1.x)+" "+pr(o.x1.y)+" m"),t.push(pr(o.x2.x)+" "+pr(o.x2.y)+" l"),t.push(pr(o.x4.x)+" "+pr(o.x4.y)+" m"),t.push(pr(o.x3.x)+" "+pr(o.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=_n.internal.calculateCross(r),o=[];return o.push("0.749023 g"),o.push("0 0 "+pr(_n.internal.getWidth(r))+" "+pr(_n.internal.getHeight(r))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+pr(_n.internal.getWidth(r)-2)+" "+pr(_n.internal.getHeight(r)-2)+" re"),o.push("W"),o.push("n"),o.push(pr(t.x1.x)+" "+pr(t.x1.y)+" m"),o.push(pr(t.x2.x)+" "+pr(t.x2.y)+" l"),o.push(pr(t.x4.x)+" "+pr(t.x4.y)+" m"),o.push(pr(t.x3.x)+" "+pr(t.x3.y)+" l"),o.push("s"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pr(_n.internal.getWidth(r))+" "+pr(_n.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};_n.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=_n.internal.getWidth(r),t=_n.internal.getHeight(r),o=Math.min(e,t);return{x1:{x:(e-o)/2,y:(t-o)/2+o},x2:{x:(e-o)/2+o,y:(t-o)/2},x3:{x:(e-o)/2,y:(t-o)/2},x4:{x:(e-o)/2+o,y:(t-o)/2+o}}}},_n.internal.getWidth=function(r){var e=0;return Si(r)==="object"&&(e=uv(r.Rect[2])),e},_n.internal.getHeight=function(r){var e=0;return Si(r)==="object"&&(e=uv(r.Rect[3])),e};var Lk=wo.addField=function(r){if(Tk(this,r),!(r instanceof nl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};wo.AcroFormChoiceField=Cu,wo.AcroFormListBox=Tu,wo.AcroFormComboBox=Lu,wo.AcroFormEditBox=Nd,wo.AcroFormButton=os,wo.AcroFormPushButton=Ed,wo.AcroFormRadioButton=ju,wo.AcroFormCheckBox=Cd,wo.AcroFormTextField=Vc,wo.AcroFormPasswordField=Td,wo.AcroFormAppearance=_n,wo.AcroForm={ChoiceField:Cu,ListBox:Tu,ComboBox:Lu,EditBox:Nd,Button:os,PushButton:Ed,RadioButton:ju,CheckBox:Cd,TextField:Vc,PasswordField:Td,Appearance:_n},Dn.AcroForm={ChoiceField:Cu,ListBox:Tu,ComboBox:Lu,EditBox:Nd,Button:os,PushButton:Ed,RadioButton:ju,CheckBox:Cd,TextField:Vc,PasswordField:Td,Appearance:_n};Dn.AcroForm;function bw(r){return r.reduce(function(e,t,o){return e[t]=o,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(re,F){var J,P,be,Ee,pe,xe=t;if((F=F||t)==="RGBA"||re.data!==void 0&&re.data instanceof Uint8ClampedArray&&"height"in re&&"width"in re)return"RGBA";if(ie(re))for(pe in o)for(be=o[pe],J=0;J<be.length;J+=1){for(Ee=!0,P=0;P<be[J].length;P+=1)if(be[J][P]!==void 0&&be[J][P]!==re[P]){Ee=!1;break}if(Ee===!0){xe=pe;break}}else for(pe in o)for(be=o[pe],J=0;J<be.length;J+=1){for(Ee=!0,P=0;P<be[J].length;P+=1)if(be[J][P]!==void 0&&be[J][P]!==re.charCodeAt(P)){Ee=!1;break}if(Ee===!0){xe=pe;break}}return xe===t&&F!==t&&(xe=F),xe},s=function re(F){for(var J=this.internal.write,P=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Ee=[];if(Ee.push({key:"Type",value:"/XObject"}),Ee.push({key:"Subtype",value:"/Image"}),Ee.push({key:"Width",value:F.width}),Ee.push({key:"Height",value:F.height}),F.colorSpace===x.INDEXED?Ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Ee.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===x.DEVICE_CMYK&&Ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ee.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Ee.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var pe="",xe=0,Se=F.transparency.length;xe<Se;xe++)pe+=F.transparency[xe]+" "+F.transparency[xe]+" ";Ee.push({key:"Mask",value:"["+pe+"]"})}F.sMask!==void 0&&Ee.push({key:"SMask",value:F.objectId+1+" 0 R"});var De=F.filter!==void 0?["/"+F.filter]:void 0;if(P({data:F.data,additionalKeyValues:Ee,alreadyAppliedFilters:De,objectId:F.objectId}),J("endobj"),"sMask"in F&&F.sMask!==void 0){var X,E=(X=F.sMaskBitsPerComponent)!==null&&X!==void 0?X:F.bitsPerComponent,Y={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:E,data:F.sMask};"filter"in F&&(Y.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(E," /Columns ").concat(F.width),Y.filter=F.filter),re.call(this,Y)}if(F.colorSpace===x.INDEXED){var Q=this.internal.newObject();P({data:ne(new Uint8Array(F.palette)),objectId:Q}),J("endobj")}},u=function(){var re=this.internal.collections[e+"images"];for(var F in re)s.call(this,re[F])},l=function(){var re,F=this.internal.collections[e+"images"],J=this.internal.write;for(var P in F)J("/I"+(re=F[P]).index,re.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var re=this.internal.collections[e+"images"];return f.call(this),re},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},k=function(re){return typeof r["process"+re.toUpperCase()]=="function"},b=function(re){return Si(re)==="object"&&re.nodeType===1},g=function(re,F){if(re.nodeName==="IMG"&&re.hasAttribute("src")){var J=""+re.getAttribute("src");if(J.indexOf("data:image/")===0)return Ad(unescape(J).split("base64,").pop());var P=r.loadFile(J,!0);if(P!==void 0)return P}if(re.nodeName==="CANVAS"){if(re.width===0||re.height===0)throw new Error("Given canvas must have data. Canvas width: "+re.width+", height: "+re.height);var be;switch(F){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return Ad(re.toDataURL(be,1).split("base64,").pop())}},j=function(re){var F=this.internal.collections[e+"images"];if(F){for(var J in F)if(re===F[J].alias)return F[J]}},N=function(re,F,J){return re||F||(re=-96,F=-96),re<0&&(re=-1*J.width*72/re/this.internal.scaleFactor),F<0&&(F=-1*J.height*72/F/this.internal.scaleFactor),re===0&&(re=F*J.width/J.height),F===0&&(F=re*J.height/J.width),[re,F]},O=function(re,F,J,P,be,Ee){var pe=N.call(this,J,P,be),xe=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,De=d.call(this);if(J=pe[0],P=pe[1],De[be.index]=be,Ee){Ee*=Math.PI/180;var X=Math.cos(Ee),E=Math.sin(Ee),Y=function(me){return me.toFixed(4)},Q=[Y(X),Y(E),Y(-1*E),Y(X),0,0,"cm"]}this.internal.write("q"),Ee?(this.internal.write([1,"0","0",1,xe(re),Se(F+P),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([xe(J),"0","0",xe(P),"0","0","cm"].join(" "))):this.internal.write([xe(J),"0","0",xe(P),xe(re),Se(F+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},x=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=r.__addimage__.sHashCode=function(re){var F,J,P=0;if(typeof re=="string")for(J=re.length,F=0;F<J;F++)P=(P<<5)-P+re.charCodeAt(F),P|=0;else if(ie(re))for(J=re.byteLength/2,F=0;F<J;F++)P=(P<<5)-P+re[F],P|=0;return P},A=r.__addimage__.validateStringAsBase64=function(re){(re=re||"").toString().trim();var F=!0;return re.length===0&&(F=!1),re.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(re.substr(0,re.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(re.substr(-2))===!1&&(F=!1),F},q=r.__addimage__.extractImageFromDataUrl=function(re){if(re==null||!(re=re.trim()).startsWith("data:"))return null;var F=re.indexOf(",");return F<0?null:re.substring(0,F).trim().endsWith("base64")?re.substring(F+1):null};r.__addimage__.isArrayBuffer=function(re){return re instanceof ArrayBuffer};var ie=r.__addimage__.isArrayBufferView=function(re){return re instanceof Int8Array||re instanceof Uint8Array||re instanceof Uint8ClampedArray||re instanceof Int16Array||re instanceof Uint16Array||re instanceof Int32Array||re instanceof Uint32Array||re instanceof Float32Array||re instanceof Float64Array},oe=r.__addimage__.binaryStringToUint8Array=function(re){for(var F=re.length,J=new Uint8Array(F),P=0;P<F;P++)J[P]=re.charCodeAt(P);return J},ne=r.__addimage__.arrayBufferToBinaryString=function(re){for(var F="",J=ie(re)?re:new Uint8Array(re),P=0;P<J.length;P+=8192)F+=String.fromCharCode.apply(null,J.subarray(P,P+8192));return F};r.addImage=function(){var re,F,J,P,be,Ee,pe,xe,Se;if(typeof arguments[1]=="number"?(F=t,J=arguments[1],P=arguments[2],be=arguments[3],Ee=arguments[4],pe=arguments[5],xe=arguments[6],Se=arguments[7]):(F=arguments[1],J=arguments[2],P=arguments[3],be=arguments[4],Ee=arguments[5],pe=arguments[6],xe=arguments[7],Se=arguments[8]),Si(re=arguments[0])==="object"&&!b(re)&&"imageData"in re){var De=re;re=De.imageData,F=De.format||F||t,J=De.x||J||0,P=De.y||P||0,be=De.w||De.width||be,Ee=De.h||De.height||Ee,pe=De.alias||pe,xe=De.compression||xe,Se=De.rotation||De.angle||Se}var X=this.internal.getFilters();if(xe===void 0&&X.indexOf("FlateEncode")!==-1&&(xe="SLOW"),isNaN(J)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var E=z.call(this,re,F,pe,xe);return O.call(this,J,P,be,Ee,E,Se),this};var z=function(re,F,J,P){var be,Ee,pe;if(typeof re=="string"&&a(re)===t){re=unescape(re);var xe=le(re,!1);(xe!==""||(xe=r.loadFile(re,!0))!==void 0)&&(re=xe)}if(b(re)&&(re=g(re,F)),F=a(re,F),!k(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((pe=J)==null||pe.length===0)&&(J=(function(Se){return typeof Se=="string"||ie(Se)?T(Se):ie(Se.data)?T(Se.data):null})(re)),(be=j.call(this,J))||(re instanceof Uint8Array||F==="RGBA"||(Ee=re,re=oe(re)),be=this["process"+F.toUpperCase()](re,m.call(this),J,(function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in r.image_compression?Se:R.NONE})(P),Ee)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},le=r.__addimage__.convertBase64ToBinaryString=function(re,F){F=typeof F!="boolean"||F;var J,P="";if(typeof re=="string"){var be;J=(be=q(re))!==null&&be!==void 0?be:re;try{P=Ad(J)}catch(Ee){if(F)throw A(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};r.getImageProperties=function(re){var F,J,P="";if(b(re)&&(re=g(re)),typeof re=="string"&&a(re)===t&&((P=le(re,!1))===""&&(P=r.loadFile(re)||""),re=P),J=a(re),!k(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(re instanceof Uint8Array||(re=oe(re)),!(F=this["process"+J.toUpperCase()](re)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=J,F}})(Dn.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Dn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var o,a,s,u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,k=0;k<d.length&&!m;k++)switch((o=d[k]).type){case"link":(e(o.options.url)||e(o.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){o=d[b];var g=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(N.objId),R=o.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(o.bounds.x)+" "+l(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w)+" "+l(o.bounds.y)+"] ")+"/Contents ("+g(x(o.contents))+")",s+=" /Popup "+O.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+g(x(R))+") >>",N.content=s;var T=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(o.bounds.x+30)+" "+l(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w+30)+" "+l(o.bounds.y)+"] ")+" /Parent "+T,o.open&&(s+=" /Open true"),s+=" >>",O.content=s,this.internal.write(N.objId,"0 R",O.objId,"0 R");break;case"freetext":a="/Rect ["+u(o.bounds.x)+" "+l(o.bounds.y)+" "+u(o.bounds.x+o.bounds.w)+" "+l(o.bounds.y+o.bounds.h)+"] ";var A=o.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(j(o.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(o.options.name){var q=this.annotations._nameMap[o.options.name];o.options.pageNumber=q.page,o.options.top=q.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",s="",o.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(j(o.options.url))+") >>";else if(o.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,s+=" /FitV "+o.options.left+"]";break;default:var ie=l(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),s+=" /XYZ "+o.options.left+" "+ie+" "+o.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var o=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":o.pageContext.annotations.push(t)}},r.link=function(t,o,a,s,u){var l=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:f(t),y:d(o),w:f(t+a),h:d(o+s)},options:u,type:"link"})},r.textWithLink=function(t,o,a,s){var u,l,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var m=this.splitTextToSize(t,l).length;u=Math.ceil(d*m)}else l=f,u=d;return this.text(t,o,a,s),a+=.2*d,s.align==="center"&&(o-=f/2),s.align==="right"&&(o-=f),this.link(o,a-d,l,u,s),f},r.getTextWidth=function(t){var o=this.internal.getFontSize();return this.getStringUnitWidth(t)*o/this.internal.scaleFactor}})(Dn.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=r.__arabicParser__.isArabicEndLetter=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(N){return u(N)&&a.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var m=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return u(N)&&s(N)&&e[N.charCodeAt(0)].length==4},k=r.__arabicParser__.resolveLigatures=function(N){var O=0,x=t,R="",T=0;for(O=0;O<N.length;O+=1)x[N.charCodeAt(O)]!==void 0?(T++,typeof(x=x[N.charCodeAt(O)])=="number"&&(R+=String.fromCharCode(x),x=t,T=0),O===N.length-1&&(x=t,R+=N.charAt(O-(T-1)),O-=T-1,T=0)):(x=t,R+=N.charAt(O-T),O-=T,T=0);return R};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&o[N.charCodeAt(0)]!==void 0};var b=r.__arabicParser__.getCorrectForm=function(N,O,x){return u(N)?s(N)===!1?-1:!d(N)||!u(O)&&!u(x)||!u(x)&&l(O)||l(N)&&!u(O)||l(N)&&f(O)||l(N)&&l(O)?0:m(N)&&u(O)&&!l(O)&&u(x)&&d(x)?3:l(N)||!u(x)?1:2:-1},g=function(N){var O=0,x=0,R=0,T="",A="",q="",ie=(N=N||"").split("\\s+"),oe=[];for(O=0;O<ie.length;O+=1){for(oe.push(""),x=0;x<ie[O].length;x+=1)T=ie[O][x],A=ie[O][x-1],q=ie[O][x+1],u(T)?(R=b(T,A,q),oe[O]+=R!==-1?String.fromCharCode(e[T.charCodeAt(0)][R]):T):oe[O]+=T;oe[O]=k(oe[O])}return oe.join(" ")},j=r.__arabicParser__.processArabic=r.processArabic=function(){var N,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(O)){var R=0;for(x=[],R=0;R<O.length;R+=1)Array.isArray(O[R])?x.push([g(O[R][0]),O[R][1],O[R][2]]):x.push([g(O[R])]);N=x}else N=g(O);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",j])})(Dn.API),Dn.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(l){o=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(l){u=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,o){var a;if((t=t||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Dn.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var k=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return k},set:function(N){k=N}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(N){j=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return o.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){o.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),k=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,g=0,j=0,N=0,O=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var x=d.maxWidth;x>0?typeof f=="string"?f=this.splitTextToSize(f,x):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(T,A){return T.concat(O.splitTextToSize(A,x))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)g<(N=this.getStringUnitWidth(f[R],{font:k})*m)&&(g=N);return g!==0&&(j=f.length),{w:g/=b,h:Math.max((j*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/b,0)}},r.cellAddPage=function(){o.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),o.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,k=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+k.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=k.top,g&&b&&(this.printHeaderRow(f.lineNumber,!0),f.y+=b[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,m,k,b){if(o.call(this),!m)throw new Error("No data for PDF table.");var g,j,N,O,x=[],R=[],T=[],A={},q={},ie=[],oe=[],ne=(b=b||{}).autoSize||!1,z=b.printHeaders!==!1,le=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,re=b.margins||Object.assign({width:this.getPageWidth()},e),F=typeof b.padding=="number"?b.padding:3,J=b.headerBackgroundColor||"#c8c8c8",P=b.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=re,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=P,this.setFontSize(le),k==null)R=x=Object.keys(m[0]),T=x.map(function(){return"left"});else if(Array.isArray(k)&&Si(k[0])==="object")for(x=k.map(function(De){return De.name}),R=k.map(function(De){return De.prompt||De.name||""}),T=k.map(function(De){return De.align||"left"}),g=0;g<k.length;g+=1)q[k[g].name]=.7499990551181103*k[g].width;else Array.isArray(k)&&typeof k[0]=="string"&&(R=x=k,T=x.map(function(){return"left"}));if(ne||Array.isArray(k)&&typeof k[0]=="string")for(g=0;g<x.length;g+=1){for(A[O=x[g]]=m.map(function(De){return De[O]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(R[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=A[O],this.setFont(void 0,"normal"),N=0;N<j.length;N+=1)ie.push(this.getTextDimensions(j[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[O]=Math.max.apply(null,ie)+F+F,ie=[]}if(z){var be={};for(g=0;g<x.length;g+=1)be[x[g]]={},be[x[g]].text=R[g],be[x[g]].align=T[g];var Ee=l.call(this,be,q);oe=x.map(function(De){return new s(f,d,q[De],Ee,be[De].text,void 0,be[De].align)}),this.setTableHeaderRow(oe),this.printHeaderRow(1,!1)}var pe=k.reduce(function(De,X){return De[X.name]=X.align,De},{});for(g=0;g<m.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:m[g]},this);var xe=l.call(this,m[g],q);for(N=0;N<x.length;N+=1){var Se=m[g][x[N]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:N,data:Se},this),u.call(this,new s(f,d,q[x[N]],xe,Se,g+2,pe[x[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var l=function(f,d){var m=this.internal.__cell__.padding,k=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(f).map(function(g){var j=f[g];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,d[g]-m-m)},this).map(function(g){return this.getLineHeightFactor()*g.length*k/b+m+m},this).reduce(function(g,j){return Math.max(g,j)},0)};r.setTableHeaderRow=function(f){o.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var k=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(k[0],k[1],k[2],k[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){m=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,b.push(m)),m.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,m),this.setTextColor(j)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(Dn.API);var _w={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Sw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dm=bw(Sw),kw=[100,200,300,400,500,600,700,800,900],jk=bw(kw);function M1(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return _w[s=s||"normal"]?s:"normal"})(r.style),o=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),a=(function(s){return typeof dm[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:o,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,o].join(" ")}}}function fv(r,e,t,o){var a;for(a=t;a>=0&&a<e.length;a+=o)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=o)if(r[e[a]])return r[e[a]]}var Ik={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hv(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function pv(r){return r.trimLeft()}function Pk(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Rk(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var md,mv,gv,mu,gd,yv,vv,wv,z1=["times"];function xv(r,e,t,o,a){var s=4,u=_v;switch(a){case Dn.API.image_compression.FAST:s=1,u=bv;break;case Dn.API.image_compression.MEDIUM:s=6,u=Sv;break;case Dn.API.image_compression.SLOW:s=9,u=kv}r=(function(f,d,m,k){for(var b,g=f.length/d,j=new Uint8Array(f.length+g),N=[Dk,bv,_v,Sv,kv],O=0;O<g;O+=1){var x=O*d,R=f.subarray(x,x+d);if(k)j.set(k(R,m,b),x+O);else{for(var T=N.length,A=[],q=0;q<T;q+=1)A[q]=N[q](R,m,b);var ie=Fk(A.concat());j.set(A[ie],x+O)}b=R}return j})(r,e,Math.ceil(t*o/8),u);var l=om(r,{level:s});return Dn.API.__addimage__.arrayBufferToBinaryString(l)}function Dk(r){var e=Array.apply([],r);return e.unshift(0),e}function bv(r,e){var t=r.length,o=[];o[0]=1;for(var a=0;a<t;a+=1){var s=r[a-e]||0;o[a+1]=r[a]-s+256&255}return o}function _v(r,e,t){var o=r.length,a=[];a[0]=2;for(var s=0;s<o;s+=1){var u=t&&t[s]||0;a[s+1]=r[s]-u+256&255}return a}function Sv(r,e,t){var o=r.length,a=[];a[0]=3;for(var s=0;s<o;s+=1){var u=r[s-e]||0,l=t&&t[s]||0;a[s+1]=r[s]+256-(u+l>>>1)&255}return a}function kv(r,e,t){var o=r.length,a=[];a[0]=4;for(var s=0;s<o;s+=1){var u=Ok(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);a[s+1]=r[s]-u+256&255}return a}function Ok(r,e,t){if(r===e&&e===t)return r;var o=Math.abs(e-t),a=Math.abs(r-t),s=Math.abs(r+e-t-t);return o<=a&&o<=s?r:a<=s?e:t}function Fk(r){var e=r.map(function(t){return t.reduce(function(o,a){return o+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function U1(r,e,t){var o=e*t,a=Math.floor(o/8),s=16-(o-8*a+t),u=(1<<t)-1;return Aw(r,a)>>s&u}function Av(r,e,t,o){var a=t*o,s=Math.floor(a/8),u=16-(a-8*s+o),l=(1<<o)-1,f=(e&l)<<u;(function(d,m,k){if(m+1<d.byteLength)d.setUint16(m,k,!1);else{var b=k>>8&255;d.setUint8(m,b)}})(r,s,Aw(r,s)&~(l<<u)&65535|f)}function Aw(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Bk(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,o=r[e++]|r[e++]<<8,a=r[e++],s=a>>7,u=1<<1+(7&a);r[e++],r[e++];var l=null,f=null;s&&(l=e,f=u,e+=3*u);var d=!0,m=[],k=0,b=null,g=0,j=null;for(this.width=t,this.height=o;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,j=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((re=r[e++])>=0))throw Error("Invalid block size");if(re===0)break;e+=re}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];k=r[e++]|r[e++]<<8,b=r[e++],1&N||(b=null),g=N>>2&7,e++;break;case 254:for(;;){if(!((re=r[e++])>=0))throw Error("Invalid block size");if(re===0)break;e+=re}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var O=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,T=r[e++]|r[e++]<<8,A=r[e++],q=A>>6&1,ie=1<<1+(7&A),oe=l,ne=f,z=!1;A>>7&&(z=!0,oe=e,ne=ie,e+=3*ie);var le=e;for(e++;;){var re;if(!((re=r[e++])>=0))throw Error("Invalid block size");if(re===0)break;e+=re}m.push({x:O,y:x,width:R,height:T,has_local_palette:z,palette_offset:oe,palette_size:ne,data_offset:le,data_length:e-le,transparent_index:b,interlaced:!!q,delay:k,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return j},this.frameInfo=function(F){if(F<0||F>=m.length)throw new Error("Frame index out of range.");return m[F]},this.decodeAndBlitFrameBGRA=function(F,J){var P=this.frameInfo(F),be=P.width*P.height,Ee=new Uint8Array(be);Nv(r,P.data_offset,Ee,be);var pe=P.palette_offset,xe=P.transparent_index;xe===null&&(xe=256);var Se=P.width,De=t-Se,X=Se,E=4*(P.y*t+P.x),Y=4*((P.y+P.height)*t+P.x),Q=E,me=4*De;P.interlaced===!0&&(me+=4*t*7);for(var ae=8,B=0,M=Ee.length;B<M;++B){var de=Ee[B];if(X===0&&(X=Se,(Q+=me)>=Y&&(me=4*De+4*t*(ae-1),Q=E+(Se+De)*(ae<<1),ae>>=1)),de===xe)Q+=4;else{var ce=r[pe+3*de],te=r[pe+3*de+1],fe=r[pe+3*de+2];J[Q++]=fe,J[Q++]=te,J[Q++]=ce,J[Q++]=255}--X}},this.decodeAndBlitFrameRGBA=function(F,J){var P=this.frameInfo(F),be=P.width*P.height,Ee=new Uint8Array(be);Nv(r,P.data_offset,Ee,be);var pe=P.palette_offset,xe=P.transparent_index;xe===null&&(xe=256);var Se=P.width,De=t-Se,X=Se,E=4*(P.y*t+P.x),Y=4*((P.y+P.height)*t+P.x),Q=E,me=4*De;P.interlaced===!0&&(me+=4*t*7);for(var ae=8,B=0,M=Ee.length;B<M;++B){var de=Ee[B];if(X===0&&(X=Se,(Q+=me)>=Y&&(me=4*De+4*t*(ae-1),Q=E+(Se+De)*(ae<<1),ae>>=1)),de===xe)Q+=4;else{var ce=r[pe+3*de],te=r[pe+3*de+1],fe=r[pe+3*de+2];J[Q++]=ce,J[Q++]=te,J[Q++]=fe,J[Q++]=255}--X}}}function Nv(r,e,t,o){for(var a=r[e++],s=1<<a,u=s+1,l=u+1,f=a+1,d=(1<<f)-1,m=0,k=0,b=0,g=r[e++],j=new Int32Array(4096),N=null;;){for(;m<16&&g!==0;)k|=r[e++]<<m,m+=8,g===1?g=r[e++]:--g;if(m<f)break;var O=k&d;if(k>>=f,m-=f,O!==s){if(O===u)break;for(var x=O<l?O:N,R=0,T=x;T>s;)T=j[T]>>8,++R;var A=T;if(b+R+(x!==O?1:0)>o)return void Di.log("Warning, gif stream longer than expected.");t[b++]=A;var q=b+=R;for(x!==O&&(t[b++]=A),T=x;R--;)T=j[T],t[--q]=255&T,T>>=8;N!==null&&l<4096&&(j[l++]=N<<8|A,l>=d+1&&f<12&&(++f,d=d<<1|1)),N=O}else l=u+1,d=(1<<(f=a+1))-1,N=null}return b!==o&&Di.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $1(r){var e,t,o,a,s,u=Math.floor,l=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),k=new Array(65535),b=new Array(65535),g=new Array(64),j=new Array(64),N=[],O=0,x=7,R=new Array(64),T=new Array(64),A=new Array(64),q=new Array(256),ie=new Array(2048),oe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ne=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],re=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ee(E,Y){for(var Q=0,me=0,ae=new Array,B=1;B<=16;B++){for(var M=1;M<=E[B];M++)ae[Y[me]]=[],ae[Y[me]][0]=Q,ae[Y[me]][1]=B,me++,Q++;Q*=2}return ae}function pe(E){for(var Y=E[0],Q=E[1]-1;Q>=0;)Y&1<<Q&&(O|=1<<x),Q--,--x<0&&(O==255?(xe(255),xe(0)):xe(O),x=7,O=0)}function xe(E){N.push(E)}function Se(E){xe(E>>8&255),xe(255&E)}function De(E,Y,Q,me,ae){for(var B,M=ae[0],de=ae[240],ce=(function(U,we){var Le,Ce,He,at,Je,ht,Ct,$t,Jt,Zt,Gt=0;for(Jt=0;Jt<8;++Jt){Le=U[Gt],Ce=U[Gt+1],He=U[Gt+2],at=U[Gt+3],Je=U[Gt+4],ht=U[Gt+5],Ct=U[Gt+6];var Or=Le+($t=U[Gt+7]),Nn=Le-$t,On=Ce+Ct,$n=Ce-Ct,In=He+ht,pn=He-ht,jr=at+Je,En=at-Je,Wn=Or+jr,Ir=Or-jr,zn=On+In,Sn=On-In;U[Gt]=Wn+zn,U[Gt+4]=Wn-zn;var Ur=.707106781*(Sn+Ir);U[Gt+2]=Ir+Ur,U[Gt+6]=Ir-Ur;var Zs=.382683433*((Wn=En+pn)-(Sn=$n+Nn)),ki=.5411961*Wn+Zs,Oi=1.306562965*Sn+Zs,$i=.707106781*(zn=pn+$n),wn=Nn+$i,yr=Nn-$i;U[Gt+5]=yr+ki,U[Gt+3]=yr-ki,U[Gt+1]=wn+Oi,U[Gt+7]=wn-Oi,Gt+=8}for(Gt=0,Jt=0;Jt<8;++Jt){Le=U[Gt],Ce=U[Gt+8],He=U[Gt+16],at=U[Gt+24],Je=U[Gt+32],ht=U[Gt+40],Ct=U[Gt+48];var Po=Le+($t=U[Gt+56]),qi=Le-$t,ao=Ce+Ct,Bn=Ce-Ct,Fr=He+ht,fi=He-ht,Xo=at+Je,di=at-Je,Ie=Po+Xo,Ke=Po-Xo,bt=ao+Fr,Qt=ao-Fr;U[Gt]=Ie+bt,U[Gt+32]=Ie-bt;var cn=.707106781*(Qt+Ke);U[Gt+16]=Ke+cn,U[Gt+48]=Ke-cn;var on=.382683433*((Ie=di+fi)-(Qt=Bn+qi)),sn=.5411961*Ie+on,en=1.306562965*Qt+on,Fn=.707106781*(bt=fi+Bn),mr=qi+Fn,Br=qi-Fn;U[Gt+40]=Br+sn,U[Gt+24]=Br-sn,U[Gt+8]=mr+en,U[Gt+56]=mr-en,Gt++}for(Jt=0;Jt<64;++Jt)Zt=U[Jt]*we[Jt],g[Jt]=Zt>0?Zt+.5|0:Zt-.5|0;return g})(E,Y),te=0;te<64;++te)j[oe[te]]=ce[te];var fe=j[0]-Q;Q=j[0],fe==0?pe(me[0]):(pe(me[b[B=32767+fe]]),pe(k[B]));for(var Oe=63;Oe>0&&j[Oe]==0;)Oe--;if(Oe==0)return pe(M),Q;for(var W,ee=1;ee<=Oe;){for(var V=ee;j[ee]==0&&ee<=Oe;)++ee;var S=ee-V;if(S>=16){W=S>>4;for(var C=1;C<=W;++C)pe(de);S&=15}B=32767+j[ee],pe(ae[(S<<4)+b[B]]),pe(k[B]),ee++}return Oe!=63&&pe(M),Q}function X(E){E=Math.min(Math.max(E,1),100),s!=E&&((function(Y){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var ae=u((Q[me]*Y+50)/100);ae=Math.min(Math.max(ae,1),255),l[oe[me]]=ae}for(var B=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],M=0;M<64;M++){var de=u((B[M]*Y+50)/100);de=Math.min(Math.max(de,1),255),f[oe[M]]=de}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,fe=0;fe<8;fe++)for(var Oe=0;Oe<8;Oe++)d[te]=1/(l[oe[te]]*ce[fe]*ce[Oe]*8),m[te]=1/(f[oe[te]]*ce[fe]*ce[Oe]*8),te++})(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),s=E)}this.encode=function(E,Y){Y&&X(Y),N=new Array,O=0,x=7,Se(65496),Se(65504),Se(16),xe(74),xe(70),xe(73),xe(70),xe(0),xe(1),xe(1),xe(0),Se(1),Se(1),xe(0),xe(0),(function(){Se(65499),Se(132),xe(0);for(var Ce=0;Ce<64;Ce++)xe(l[Ce]);xe(1);for(var He=0;He<64;He++)xe(f[He])})(),(function(Ce,He){Se(65472),Se(17),xe(8),Se(He),Se(Ce),xe(3),xe(1),xe(17),xe(0),xe(2),xe(17),xe(1),xe(3),xe(17),xe(1)})(E.width,E.height),(function(){Se(65476),Se(418),xe(0);for(var Ce=0;Ce<16;Ce++)xe(ne[Ce+1]);for(var He=0;He<=11;He++)xe(z[He]);xe(16);for(var at=0;at<16;at++)xe(le[at+1]);for(var Je=0;Je<=161;Je++)xe(re[Je]);xe(1);for(var ht=0;ht<16;ht++)xe(F[ht+1]);for(var Ct=0;Ct<=11;Ct++)xe(J[Ct]);xe(17);for(var $t=0;$t<16;$t++)xe(P[$t+1]);for(var Jt=0;Jt<=161;Jt++)xe(be[Jt])})(),Se(65498),Se(12),xe(3),xe(1),xe(0),xe(2),xe(17),xe(3),xe(17),xe(0),xe(63),xe(0);var Q=0,me=0,ae=0;O=0,x=7,this.encode.displayName="_encode_";for(var B,M,de,ce,te,fe,Oe,W,ee,V=E.data,S=E.width,C=E.height,U=4*S,we=0;we<C;){for(B=0;B<U;){for(te=U*we+B,Oe=-1,W=0,ee=0;ee<64;ee++)fe=te+(W=ee>>3)*U+(Oe=4*(7&ee)),we+W>=C&&(fe-=U*(we+1+W-C)),B+Oe>=U&&(fe-=B+Oe-U+4),M=V[fe++],de=V[fe++],ce=V[fe++],R[ee]=(ie[M]+ie[de+256|0]+ie[ce+512|0]>>16)-128,T[ee]=(ie[M+768|0]+ie[de+1024|0]+ie[ce+1280|0]>>16)-128,A[ee]=(ie[M+1280|0]+ie[de+1536|0]+ie[ce+1792|0]>>16)-128;Q=De(R,d,Q,e,o),me=De(T,m,me,t,a),ae=De(A,m,ae,t,a),B+=32}we+=8}if(x>=0){var Le=[];Le[1]=x+1,Le[0]=(1<<x+1)-1,pe(Le)}return Se(65497),new Uint8Array(N)},r=r||50,(function(){for(var E=String.fromCharCode,Y=0;Y<256;Y++)q[Y]=E(Y)})(),e=Ee(ne,z),t=Ee(F,J),o=Ee(le,re),a=Ee(P,be),(function(){for(var E=1,Y=2,Q=1;Q<=15;Q++){for(var me=E;me<Y;me++)b[32767+me]=Q,k[32767+me]=[],k[32767+me][1]=Q,k[32767+me][0]=me;for(var ae=-(Y-1);ae<=-E;ae++)b[32767+ae]=Q,k[32767+ae]=[],k[32767+ae][1]=Q,k[32767+ae][0]=Y-1+ae;E<<=1,Y<<=1}})(),(function(){for(var E=0;E<256;E++)ie[E]=19595*E,ie[E+256|0]=38470*E,ie[E+512|0]=7471*E+32768,ie[E+768|0]=-11059*E,ie[E+1024|0]=-21709*E,ie[E+1280|0]=32768*E+8421375,ie[E+1536|0]=-27439*E,ie[E+1792|0]=-5329*E})(),X(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Za(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ev(r){function e(z){if(!z)throw Error("assert :P")}function t(z,le,re){for(var F=0;4>F;F++)if(z[le+F]!=re.charCodeAt(F))return!0;return!1}function o(z,le,re,F,J){for(var P=0;P<J;P++)z[le+P]=re[F+P]}function a(z,le,re,F){for(var J=0;J<F;J++)z[le+J]=re}function s(z){return new Int32Array(z)}function u(z,le){for(var re=[],F=0;F<z;F++)re.push(new le);return re}function l(z,le){var re=[];return(function F(J,P,be){for(var Ee=be[P],pe=0;pe<Ee&&(J.push(be.length>P+1?[]:new le),!(be.length<P+1));pe++)F(J[pe],P+1,be)})(re,0,z),re}var f=function(){var z=this;function le(p,_){for(var $=1<<_-1>>>0;p&$;)$>>>=1;return $?(p&$-1)+$:p}function re(p,_,$,K,ue){e(!(K%$));do p[_+(K-=$)]=ue;while(0<K)}function F(p,_,$,K,ue){if(e(2328>=ue),512>=ue)var ve=s(512);else if((ve=s(ue))==null)return 0;return(function(_e,Ne,Te,Pe,$e,nt){var Re,We,et=Ne,gt=1<<Te,rt=s(16),dt=s(16);for(e($e!=0),e(Pe!=null),e(_e!=null),e(0<Te),We=0;We<$e;++We){if(15<Pe[We])return 0;++rt[Pe[We]]}if(rt[0]==$e)return 0;for(dt[1]=0,Re=1;15>Re;++Re){if(rt[Re]>1<<Re)return 0;dt[Re+1]=dt[Re]+rt[Re]}for(We=0;We<$e;++We)Re=Pe[We],0<Pe[We]&&(nt[dt[Re]++]=We);if(dt[15]==1)return(Pe=new J).g=0,Pe.value=nt[0],re(_e,et,1,gt,Pe),gt;var mt,vt=-1,wt=gt-1,xn=0,an=1,ir=1,hn=1<<Te;for(We=0,Re=1,$e=2;Re<=Te;++Re,$e<<=1){if(an+=ir<<=1,0>(ir-=rt[Re]))return 0;for(;0<rt[Re];--rt[Re])(Pe=new J).g=Re,Pe.value=nt[We++],re(_e,et+xn,$e,hn,Pe),xn=le(xn,Re)}for(Re=Te+1,$e=2;15>=Re;++Re,$e<<=1){if(an+=ir<<=1,0>(ir-=rt[Re]))return 0;for(;0<rt[Re];--rt[Re]){if(Pe=new J,(xn&wt)!=vt){for(et+=hn,mt=1<<(vt=Re)-Te;15>vt&&!(0>=(mt-=rt[vt]));)++vt,mt<<=1;gt+=hn=1<<(mt=vt-Te),_e[Ne+(vt=xn&wt)].g=mt+Te,_e[Ne+vt].value=et-Ne-vt}Pe.g=Re-Te,Pe.value=nt[We++],re(_e,et+(xn>>Te),$e,hn,Pe),xn=le(xn,Re)}}return an!=2*dt[15]-1?0:gt})(p,_,$,K,ue,ve)}function J(){this.value=this.g=0}function P(){this.value=this.g=0}function be(){this.G=u(5,J),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(ds,P)}function Ee(p,_,$,K){e(p!=null),e(_!=null),e(2147483648>K),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=_,p.pa=$,p.Jd=_,p.Yc=$+K,p.Zc=4<=K?$+K-4+1:$,M(p)}function pe(p,_){for(var $=0;0<_--;)$|=ce(p,128)<<_;return $}function xe(p,_){var $=pe(p,_);return de(p)?-$:$}function Se(p,_,$,K){var ue,ve=0;for(e(p!=null),e(_!=null),e(4294967288>K),p.Sb=K,p.Ra=0,p.u=0,p.h=0,4<K&&(K=4),ue=0;ue<K;++ue)ve+=_[$+ue]<<8*ue;p.Ra=ve,p.bb=K,p.oa=_,p.pa=$}function De(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<hs-8>>>0,++p.bb,p.u-=8;me(p)&&(p.h=1,p.u=0)}function X(p,_){if(e(0<=_),!p.h&&_<=Zo){var $=Q(p)&Oo[_];return p.u+=_,De(p),$}return p.h=1,p.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(p){return p.Ra>>>(p.u&hs-1)>>>0}function me(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>hs}function ae(p,_){p.u=_,p.h=me(p)}function B(p){p.u>=Ns&&(e(p.u>=Ns),De(p))}function M(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function de(p){return pe(p,1)}function ce(p,_){var $=p.Ca;0>p.b&&M(p);var K=p.b,ue=$*_>>>8,ve=(p.I>>>K>ue)+0;for(ve?($-=ue,p.I-=ue+1<<K>>>0):$=ue+1,K=$,ue=0;256<=K;)ue+=8,K>>=8;return K=7^ue+as[K],p.b-=K,p.Ca=($<<K)-1,ve}function te(p,_,$){p[_+0]=$>>24&255,p[_+1]=$>>16&255,p[_+2]=$>>8&255,p[_+3]=255&$}function fe(p,_){return p[_+0]|p[_+1]<<8}function Oe(p,_){return fe(p,_)|p[_+2]<<16}function W(p,_){return fe(p,_)|fe(p,_+2)<<16}function ee(p,_){var $=1<<_;return e(p!=null),e(0<_),p.X=s($),p.X==null?0:(p.Mb=32-_,p.Xa=_,1)}function V(p,_){e(p!=null),e(_!=null),e(p.Xa==_.Xa),o(_.X,0,p.X,0,1<<_.Xa)}function S(){this.X=[],this.Xa=this.Mb=0}function C(p,_,$,K){e($!=null),e(K!=null);var ue=$[0],ve=K[0];return ue==0&&(ue=(p*ve+_/2)/_),ve==0&&(ve=(_*ue+p/2)/p),0>=ue||0>=ve?0:($[0]=ue,K[0]=ve,1)}function U(p,_){return p+(1<<_)-1>>>_}function we(p,_){return((4278255360&p)+(4278255360&_)>>>0&4278255360)+((16711935&p)+(16711935&_)>>>0&16711935)>>>0}function Le(p,_){z[_]=function($,K,ue,ve,_e,Ne,Te){var Pe;for(Pe=0;Pe<_e;++Pe){var $e=z[p](Ne[Te+Pe-1],ue,ve+Pe);Ne[Te+Pe]=we($[K+Pe],$e)}}}function Ce(){this.ud=this.hd=this.jd=0}function He(p,_){return((4278124286&(p^_))>>>1)+(p&_)>>>0}function at(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Je(p,_){return at(p+(p-_+.5>>1))}function ht(p,_,$){return Math.abs(_-$)-Math.abs(p-$)}function Ct(p,_,$,K,ue,ve,_e){for(K=ve[_e-1],$=0;$<ue;++$)ve[_e+$]=K=we(p[_+$],K)}function $t(p,_,$,K,ue){var ve;for(ve=0;ve<$;++ve){var _e=p[_+ve],Ne=_e>>8&255,Te=16711935&(Te=(Te=16711935&_e)+((Ne<<16)+Ne));K[ue+ve]=(4278255360&_e)+Te>>>0}}function Jt(p,_){_.jd=255&p,_.hd=p>>8&255,_.ud=p>>16&255}function Zt(p,_,$,K,ue,ve){var _e;for(_e=0;_e<K;++_e){var Ne=_[$+_e],Te=Ne>>>8,Pe=Ne,$e=255&($e=($e=Ne>>>16)+((p.jd<<24>>24)*(Te<<24>>24)>>>5));Pe=255&(Pe=(Pe+=(p.hd<<24>>24)*(Te<<24>>24)>>>5)+((p.ud<<24>>24)*($e<<24>>24)>>>5)),ue[ve+_e]=(4278255360&Ne)+($e<<16)+Pe}}function Gt(p,_,$,K,ue){z[_]=function(ve,_e,Ne,Te,Pe,$e,nt,Re,We){for(Te=nt;Te<Re;++Te)for(nt=0;nt<We;++nt)Pe[$e++]=ue(Ne[K(ve[_e++])])},z[p]=function(ve,_e,Ne,Te,Pe,$e,nt){var Re=8>>ve.b,We=ve.Ea,et=ve.K[0],gt=ve.w;if(8>Re)for(ve=(1<<ve.b)-1,gt=(1<<Re)-1;_e<Ne;++_e){var rt,dt=0;for(rt=0;rt<We;++rt)rt&ve||(dt=K(Te[Pe++])),$e[nt++]=ue(et[dt&gt]),dt>>=Re}else z["VP8LMapColor"+$](Te,Pe,et,gt,$e,nt,_e,Ne,We)}}function Or(p,_,$,K,ue){for($=_+$;_<$;){var ve=p[_++];K[ue++]=ve>>16&255,K[ue++]=ve>>8&255,K[ue++]=255&ve}}function Nn(p,_,$,K,ue){for($=_+$;_<$;){var ve=p[_++];K[ue++]=ve>>16&255,K[ue++]=ve>>8&255,K[ue++]=255&ve,K[ue++]=ve>>24&255}}function On(p,_,$,K,ue){for($=_+$;_<$;){var ve=(_e=p[_++])>>16&240|_e>>12&15,_e=240&_e|_e>>28&15;K[ue++]=ve,K[ue++]=_e}}function $n(p,_,$,K,ue){for($=_+$;_<$;){var ve=(_e=p[_++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;K[ue++]=ve,K[ue++]=_e}}function In(p,_,$,K,ue){for($=_+$;_<$;){var ve=p[_++];K[ue++]=255&ve,K[ue++]=ve>>8&255,K[ue++]=ve>>16&255}}function pn(p,_,$,K,ue,ve){if(ve==0)for($=_+$;_<$;)te(K,((ve=p[_++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),ue+=32;else o(K,ue,p,_,$)}function jr(p,_){z[_][0]=z[p+"0"],z[_][1]=z[p+"1"],z[_][2]=z[p+"2"],z[_][3]=z[p+"3"],z[_][4]=z[p+"4"],z[_][5]=z[p+"5"],z[_][6]=z[p+"6"],z[_][7]=z[p+"7"],z[_][8]=z[p+"8"],z[_][9]=z[p+"9"],z[_][10]=z[p+"10"],z[_][11]=z[p+"11"],z[_][12]=z[p+"12"],z[_][13]=z[p+"13"],z[_][14]=z[p+"0"],z[_][15]=z[p+"0"]}function En(p){return p==Ba||p==aa||p==Ma||p==ml}function Wn(){this.eb=[],this.size=this.A=this.fb=0}function Ir(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wn,this.f.kb=new Ir,this.sd=null}function Sn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zs(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ki(p,_){var $=p.T,K=_.ba.f.RGBA,ue=K.eb,ve=K.fb+p.ka*K.A,_e=Qo[_.ba.S],Ne=p.y,Te=p.O,Pe=p.f,$e=p.N,nt=p.ea,Re=p.W,We=_.cc,et=_.dc,gt=_.Mc,rt=_.Nc,dt=p.ka,mt=p.ka+p.T,vt=p.U,wt=vt+1>>1;for(dt==0?_e(Ne,Te,null,null,Pe,$e,nt,Re,Pe,$e,nt,Re,ue,ve,null,null,vt):(_e(_.ec,_.fc,Ne,Te,We,et,gt,rt,Pe,$e,nt,Re,ue,ve-K.A,ue,ve,vt),++$);dt+2<mt;dt+=2)We=Pe,et=$e,gt=nt,rt=Re,$e+=p.Rc,Re+=p.Rc,ve+=2*K.A,_e(Ne,(Te+=2*p.fa)-p.fa,Ne,Te,We,et,gt,rt,Pe,$e,nt,Re,ue,ve-K.A,ue,ve,vt);return Te+=p.fa,p.j+mt<p.o?(o(_.ec,_.fc,Ne,Te,vt),o(_.cc,_.dc,Pe,$e,wt),o(_.Mc,_.Nc,nt,Re,wt),$--):1&mt||_e(Ne,Te,null,null,Pe,$e,nt,Re,Pe,$e,nt,Re,ue,ve+K.A,null,null,vt),$}function Oi(p,_,$){var K=p.F,ue=[p.J];if(K!=null){var ve=p.U,_e=_.ba.S,Ne=_e==pl||_e==Ma;_=_.ba.f.RGBA;var Te=[0],Pe=p.ka;Te[0]=p.T,p.Kb&&(Pe==0?--Te[0]:(--Pe,ue[0]-=p.width),p.j+p.ka+p.T==p.o&&(Te[0]=p.o-p.j-Pe));var $e=_.eb;Pe=_.fb+Pe*_.A,p=dl(K,ue[0],p.width,ve,Te,$e,Pe+(Ne?0:3),_.A),e($==Te),p&&En(_e)&&ka($e,Pe,Ne,ve,Te,_.A)}return 0}function $i(p){var _=p.ma,$=_.ba.S,K=11>$,ue=$==ps||$==hl||$==pl||$==si||$==12||En($);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!sl(_.Oa,p,ue?11:12))return 0;if(ue&&En($)&&ol(),p.da)alert("todo:use_scaling");else{if(K){if(_.Ib=Zs,p.Kb){if($=p.U+1>>1,_.memory=s(p.U+2*$),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+p.U,_.Mc=_.cc,_.Nc=_.dc+$,_.Ib=ki,ol()}}else alert("todo:EmitYUV");ue&&(_.Jb=Oi,K&&pt())}if(K&&!Hi){for(p=0;256>p;++p)po[p]=89858*(p-128)+Ps>>la,es[p]=-22014*(p-128)+Ps,qs[p]=-45773*(p-128),$s[p]=113618*(p-128)+Ps>>la;for(p=Jr;p<Tr;++p)_=76283*(p-16)+Ps>>la,dc[p-Jr]=Hn(_,255),vl[p-Jr]=Hn(_+8>>4,15);Hi=1}return 1}function wn(p){var _=p.ma,$=p.U,K=p.T;return e(!(1&p.ka)),0>=$||0>=K?0:($=_.Ib(p,_),_.Jb!=null&&_.Jb(p,_,$),_.Dc+=$,1)}function yr(p){p.ma.memory=null}function Po(p,_,$,K){return X(p,8)!=47?0:(_[0]=X(p,14)+1,$[0]=X(p,14)+1,K[0]=X(p,1),X(p,3)!=0?0:!p.h)}function qi(p,_){if(4>p)return p+1;var $=p-2>>1;return(2+(1&p)<<$)+X(_,$)+1}function ao(p,_){return 120<_?_-120:1<=($=(($=qu[_-1])>>4)*p+(8-(15&$)))?$:1;var $}function Bn(p,_,$){var K=Q($),ue=p[_+=255&K].g-8;return 0<ue&&(ae($,$.u+8),K=Q($),_+=p[_].value,_+=K&(1<<ue)-1),ae($,$.u+p[_].g),p[_].value}function Fr(p,_,$){return $.g+=p.g,$.value+=p.value<<_>>>0,e(8>=$.g),p.g}function fi(p,_,$){var K=p.xc;return e((_=K==0?0:p.vc[p.md*($>>K)+(_>>K)])<p.Wb),p.Ya[_]}function Xo(p,_,$,K){var ue=p.ab,ve=p.c*_,_e=p.C;_=_e+_;var Ne=$,Te=K;for(K=p.Ta,$=p.Ua;0<ue--;){var Pe=p.gc[ue],$e=_e,nt=_,Re=Ne,We=Te,et=(Te=K,Ne=$,Pe.Ea);switch(e($e<nt),e(nt<=Pe.nc),Pe.hc){case 2:Fi(Re,We,(nt-$e)*et,Te,Ne);break;case 0:var gt=$e,rt=nt,dt=Te,mt=Ne,vt=(hn=Pe).Ea;gt==0&&(ra(Re,We,null,null,1,dt,mt),Ct(Re,We+1,0,0,vt-1,dt,mt+1),We+=vt,mt+=vt,++gt);for(var wt=1<<hn.b,xn=wt-1,an=U(vt,hn.b),ir=hn.K,hn=hn.w+(gt>>hn.b)*an;gt<rt;){var kr=ir,Ii=hn,or=1;for(Es(Re,We,dt,mt-vt,1,dt,mt);or<vt;){var ln=(or&~xn)+wt;ln>vt&&(ln=vt),(0,Pa[kr[Ii++]>>8&15])(Re,We+ +or,dt,mt+or-vt,ln-or,dt,mt+or),or=ln}We+=vt,mt+=vt,++gt&xn||(hn+=an)}nt!=Pe.nc&&o(Te,Ne-et,Te,Ne+(nt-$e-1)*et,et);break;case 1:for(et=Re,rt=We,vt=(Re=Pe.Ea)-(mt=Re&~(dt=(We=1<<Pe.b)-1)),gt=U(Re,Pe.b),wt=Pe.K,Pe=Pe.w+($e>>Pe.b)*gt;$e<nt;){for(xn=wt,an=Pe,ir=new Ce,hn=rt+mt,kr=rt+Re;rt<hn;)Jt(xn[an++],ir),ll(ir,et,rt,We,Te,Ne),rt+=We,Ne+=We;rt<kr&&(Jt(xn[an++],ir),ll(ir,et,rt,vt,Te,Ne),rt+=vt,Ne+=vt),++$e&dt||(Pe+=gt)}break;case 3:if(Re==Te&&We==Ne&&0<Pe.b){for(rt=Te,Re=et=Ne+(nt-$e)*et-(mt=(nt-$e)*U(Pe.Ea,Pe.b)),We=Te,dt=Ne,gt=[],mt=(vt=mt)-1;0<=mt;--mt)gt[mt]=We[dt+mt];for(mt=vt-1;0<=mt;--mt)rt[Re+mt]=gt[mt];Ia(Pe,$e,nt,Te,et,Te,Ne)}else Ia(Pe,$e,nt,Re,We,Te,Ne)}Ne=K,Te=$}Te!=$&&o(K,$,Ne,Te,ve)}function di(p,_){var $=p.V,K=p.Ba+p.c*p.C,ue=_-p.C;if(e(_<=p.l.o),e(16>=ue),0<ue){var ve=p.l,_e=p.Ta,Ne=p.Ua,Te=ve.width;if(Xo(p,ue,$,K),ue=Ne=[Ne],e(($=p.C)<(K=_)),e(ve.v<ve.va),K>ve.o&&(K=ve.o),$<ve.j){var Pe=ve.j-$;$=ve.j,ue[0]+=Pe*Te}if($>=K?$=0:(ue[0]+=4*ve.v,ve.ka=$-ve.j,ve.U=ve.va-ve.v,ve.T=K-$,$=1),$){if(Ne=Ne[0],11>($=p.ca).S){var $e=$.f.RGBA,nt=(K=$.S,ue=ve.U,ve=ve.T,Pe=$e.eb,$e.A),Re=ve;for($e=$e.fb+p.Ma*$e.A;0<Re--;){var We=_e,et=Ne,gt=ue,rt=Pe,dt=$e;switch(K){case Fa:cl(We,et,gt,rt,dt);break;case ps:oa(We,et,gt,rt,dt);break;case Ba:oa(We,et,gt,rt,dt),ka(rt,dt,0,gt,1,0);break;case uc:ba(We,et,gt,rt,dt);break;case hl:pn(We,et,gt,rt,dt,1);break;case aa:pn(We,et,gt,rt,dt,1),ka(rt,dt,0,gt,1,0);break;case pl:pn(We,et,gt,rt,dt,0);break;case Ma:pn(We,et,gt,rt,dt,0),ka(rt,dt,1,gt,1,0);break;case si:sa(We,et,gt,rt,dt);break;case ml:sa(We,et,gt,rt,dt),ic(rt,dt,gt,1,0);break;case Bl:xa(We,et,gt,rt,dt);break;default:e(0)}Ne+=Te,$e+=nt}p.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=$.height)}}p.C=_,e(p.C<=p.i)}function Ie(p){var _;if(0<p.ua)return 0;for(_=0;_<p.Wb;++_){var $=p.Ya[_].G,K=p.Ya[_].H;if(0<$[1][K[1]+0].g||0<$[2][K[2]+0].g||0<$[3][K[3]+0].g)return 0}return 1}function Ke(p,_,$,K,ue,ve){if(p.Z!=0){var _e=p.qd,Ne=p.rd;for(e(Mo[p.Z]!=null);_<$;++_)Mo[p.Z](_e,Ne,K,ue,K,ue,ve),_e=K,Ne=ue,ue+=ve;p.qd=_e,p.rd=Ne}}function bt(p,_){var $=p.l.ma,K=$.Z==0||$.Z==1?p.l.j:p.C;if(K=p.C<K?K:p.C,e(_<=p.l.o),_>K){var ue=p.l.width,ve=$.ca,_e=$.tb+ue*K,Ne=p.V,Te=p.Ba+p.c*K,Pe=p.gc;e(p.ab==1),e(Pe[0].hc==3),Cs(Pe[0],K,_,Ne,Te,ve,_e),Ke($,K,_,ve,_e,ue)}p.C=p.Ma=_}function Qt(p,_,$,K,ue,ve,_e){var Ne=p.$/K,Te=p.$%K,Pe=p.m,$e=p.s,nt=$+p.$,Re=nt;ue=$+K*ue;var We=$+K*ve,et=280+$e.ua,gt=p.Pb?Ne:16777216,rt=0<$e.ua?$e.Wa:null,dt=$e.wc,mt=nt<We?fi($e,Te,Ne):null;e(p.C<ve),e(We<=ue);var vt=!1;e:for(;;){for(;vt||nt<We;){var wt=0;if(Ne>=gt){var xn=nt-$;e((gt=p).Pb),gt.wd=gt.m,gt.xd=xn,0<gt.s.ua&&V(gt.s.Wa,gt.s.vb),gt=Ne+zl}if(Te&dt||(mt=fi($e,Te,Ne)),e(mt!=null),mt.Qb&&(_[nt]=mt.qb,vt=!0),!vt)if(B(Pe),mt.jc){wt=Pe,xn=_;var an=nt,ir=mt.pd[Q(wt)&ds-1];e(mt.jc),256>ir.g?(ae(wt,wt.u+ir.g),xn[an]=ir.value,wt=0):(ae(wt,wt.u+ir.g-256),e(256<=ir.value),wt=ir.value),wt==0&&(vt=!0)}else wt=Bn(mt.G[0],mt.H[0],Pe);if(Pe.h)break;if(vt||256>wt){if(!vt)if(mt.nd)_[nt]=(mt.qb|wt<<8)>>>0;else{if(B(Pe),vt=Bn(mt.G[1],mt.H[1],Pe),B(Pe),xn=Bn(mt.G[2],mt.H[2],Pe),an=Bn(mt.G[3],mt.H[3],Pe),Pe.h)break;_[nt]=(an<<24|vt<<16|wt<<8|xn)>>>0}if(vt=!1,++nt,++Te>=K&&(Te=0,++Ne,_e!=null&&Ne<=ve&&!(Ne%16)&&_e(p,Ne),rt!=null))for(;Re<nt;)wt=_[Re++],rt.X[(506832829*wt&4294967295)>>>rt.Mb]=wt}else if(280>wt){if(wt=qi(wt-256,Pe),xn=Bn(mt.G[4],mt.H[4],Pe),B(Pe),xn=ao(K,xn=qi(xn,Pe)),Pe.h)break;if(nt-$<xn||ue-nt<wt)break e;for(an=0;an<wt;++an)_[nt+an]=_[nt+an-xn];for(nt+=wt,Te+=wt;Te>=K;)Te-=K,++Ne,_e!=null&&Ne<=ve&&!(Ne%16)&&_e(p,Ne);if(e(nt<=ue),Te&dt&&(mt=fi($e,Te,Ne)),rt!=null)for(;Re<nt;)wt=_[Re++],rt.X[(506832829*wt&4294967295)>>>rt.Mb]=wt}else{if(!(wt<et))break e;for(vt=wt-280,e(rt!=null);Re<nt;)wt=_[Re++],rt.X[(506832829*wt&4294967295)>>>rt.Mb]=wt;wt=nt,e(!(vt>>>(xn=rt).Xa)),_[wt]=xn.X[vt],vt=!0}vt||e(Pe.h==me(Pe))}if(p.Pb&&Pe.h&&nt<ue)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&V(p.s.vb,p.s.Wa);else{if(Pe.h)break e;_e!=null&&_e(p,Ne>ve?ve:Ne),p.a=0,p.$=nt-$}return 1}return p.a=3,0}function cn(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var _=p.Wa;_!=null&&(_.X=null),p.vb=null,e(p!=null)}function on(){var p=new Vn;return p==null?null:(p.a=0,p.xb=qa,jr("Predictor","VP8LPredictors"),jr("Predictor","VP8LPredictors_C"),jr("PredictorAdd","VP8LPredictorsAdd"),jr("PredictorAdd","VP8LPredictorsAdd_C"),Fi=$t,ll=Zt,cl=Or,oa=Nn,sa=On,xa=$n,ba=In,z.VP8LMapColor32b=Us,z.VP8LMapColor8b=ia,p)}function sn(p,_,$,K,ue){var ve=1,_e=[p],Ne=[_],Te=K.m,Pe=K.s,$e=null,nt=0;e:for(;;){if($)for(;ve&&X(Te,1);){var Re=_e,We=Ne,et=K,gt=1,rt=et.m,dt=et.gc[et.ab],mt=X(rt,2);if(et.Oc&1<<mt)ve=0;else{switch(et.Oc|=1<<mt,dt.hc=mt,dt.Ea=Re[0],dt.nc=We[0],dt.K=[null],++et.ab,e(4>=et.ab),mt){case 0:case 1:dt.b=X(rt,3)+2,gt=sn(U(dt.Ea,dt.b),U(dt.nc,dt.b),0,et,dt.K),dt.K=dt.K[0];break;case 3:var vt,wt=X(rt,8)+1,xn=16<wt?0:4<wt?1:2<wt?2:3;if(Re[0]=U(dt.Ea,xn),dt.b=xn,vt=gt=sn(wt,1,0,et,dt.K)){var an,ir=wt,hn=dt,kr=1<<(8>>hn.b),Ii=s(kr);if(Ii==null)vt=0;else{var or=hn.K[0],ln=hn.w;for(Ii[0]=hn.K[0][0],an=1;an<1*ir;++an)Ii[an]=we(or[ln+an],Ii[an-1]);for(;an<4*kr;++an)Ii[an]=0;hn.K[0]=null,hn.K[0]=Ii,vt=1}}gt=vt;break;case 2:break;default:e(0)}ve=gt}}if(_e=_e[0],Ne=Ne[0],ve&&X(Te,1)&&!(ve=1<=(nt=X(Te,4))&&11>=nt)){K.a=3;break e}var Xt;if(Xt=ve)t:{var Mi,Kn,xr,mi=K,oo=_e,Gi=Ne,Ti=nt,Ji=$,so=mi.m,vi=mi.s,Lr=[null],Hr=1,wi=0,Gr=gl[Ti];n:for(;;){if(Ji&&X(so,1)){var Pi=X(so,3)+2,Ri=U(oo,Pi),ai=U(Gi,Pi),So=Ri*ai;if(!sn(Ri,ai,0,mi,Lr))break n;for(Lr=Lr[0],vi.xc=Pi,Mi=0;Mi<So;++Mi){var h=Lr[Mi]>>8&65535;Lr[Mi]=h,h>=Hr&&(Hr=h+1)}}if(so.h)break n;for(Kn=0;5>Kn;++Kn){var y=Aa[Kn];!Kn&&0<Ti&&(y+=1<<Ti),wi<y&&(wi=y)}var L=u(Hr*Gr,J),G=Hr,Z=u(G,be);if(Z==null)var ge=null;else e(65536>=G),ge=Z;var Ae=s(wi);if(ge==null||Ae==null||L==null){mi.a=1;break n}var ke=L;for(Mi=xr=0;Mi<Hr;++Mi){var he=ge[Mi],Ze=he.G,Qe=he.H,Me=0,kt=1,ct=0;for(Kn=0;5>Kn;++Kn){y=Aa[Kn],Ze[Kn]=ke,Qe[Kn]=xr,!Kn&&0<Ti&&(y+=1<<Ti);i:{var Tt,st=y,xt=mi,Ge=Ae,ze=ke,yt=xr,Xe=0,lt=xt.m,Wt=X(lt,1);if(a(Ge,0,0,st),Wt){var Lt=X(lt,1)+1,un=X(lt,1),jt=X(lt,un==0?1:8);Ge[jt]=1,Lt==2&&(Ge[jt=X(lt,8)]=1);var Pt=1}else{var At=s(19),Ut=X(lt,4)+4;if(19<Ut){xt.a=3;var Mt=0;break i}for(Tt=0;Tt<Ut;++Tt)At[$u[Tt]]=X(lt,3);var Bt=void 0,xi=void 0,Un=xt,ts=At,Tn=st,bi=Ge,zi=0,ko=Un.m,ns=8,Vo=u(128,J);r:for(;F(Vo,0,7,ts,19);){if(X(ko,1)){var wl=2+2*X(ko,3);if((Bt=2+X(ko,wl))>Tn)break r}else Bt=Tn;for(xi=0;xi<Tn&&Bt--;){B(ko);var Ic=Vo[0+(127&Q(ko))];ae(ko,ko.u+Ic.g);var sr=Ic.value;if(16>sr)bi[xi++]=sr,sr!=0&&(ns=sr);else{var Ar=sr==16,ni=sr-16,mo=Ml[ni],Zi=X(ko,ms[ni])+mo;if(xi+Zi>Tn)break r;for(var Ui=Ar?ns:0;0<Zi--;)bi[xi++]=Ui}}zi=1;break r}zi||(Un.a=3),Pt=zi}(Pt=Pt&&!lt.h)&&(Xe=F(ze,yt,8,Ge,st)),Pt&&Xe!=0?Mt=Xe:(xt.a=3,Mt=0)}if(Mt==0)break n;if(kt&&eu[Kn]==1&&(kt=ke[xr].g==0),Me+=ke[xr].g,xr+=Mt,3>=Kn){var Ga,ql=Ae[0];for(Ga=1;Ga<y;++Ga)Ae[Ga]>ql&&(ql=Ae[Ga]);ct+=ql}}if(he.nd=kt,he.Qb=0,kt&&(he.qb=(Ze[3][Qe[3]+0].value<<24|Ze[1][Qe[1]+0].value<<16|Ze[2][Qe[2]+0].value)>>>0,Me==0&&256>Ze[0][Qe[0]+0].value&&(he.Qb=1,he.qb+=Ze[0][Qe[0]+0].value<<8)),he.jc=!he.Qb&&6>ct,he.jc){var br,li=he;for(br=0;br<ds;++br){var Ao=br,gi=li.pd[Ao],Ds=li.G[0][li.H[0]+Ao];256<=Ds.value?(gi.g=Ds.g+256,gi.value=Ds.value):(gi.g=0,gi.value=0,Ao>>=Fr(Ds,8,gi),Ao>>=Fr(li.G[1][li.H[1]+Ao],16,gi),Ao>>=Fr(li.G[2][li.H[2]+Ao],0,gi),Fr(li.G[3][li.H[3]+Ao],24,gi))}}}vi.vc=Lr,vi.Wb=Hr,vi.Ya=ge,vi.yc=L,Xt=1;break t}Xt=0}if(!(ve=Xt)){K.a=3;break e}if(0<nt){if(Pe.ua=1<<nt,!ee(Pe.Wa,nt)){K.a=1,ve=0;break e}}else Pe.ua=0;var Hs=K,hc=_e,Af=Ne,iu=Hs.s,ou=iu.xc;if(Hs.c=hc,Hs.i=Af,iu.md=U(hc,ou),iu.wc=ou==0?-1:(1<<ou)-1,$){K.xb=cs;break e}if(($e=s(_e*Ne))==null){K.a=1,ve=0;break e}ve=(ve=Qt(K,$e,0,_e,Ne,Ne,null))&&!Te.h;break e}return ve?(ue!=null?ue[0]=$e:(e($e==null),e($)),K.$=0,$||cn(Pe)):cn(Pe),ve}function en(p,_){var $=p.c*p.i,K=$+_+16*_;return e(p.c<=_),p.V=s(K),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+$+_,1)}function Fn(p,_){var $=p.C,K=_-$,ue=p.V,ve=p.Ba+p.c*$;for(e(_<=p.l.o);0<K;){var _e=16<K?16:K,Ne=p.l.ma,Te=p.l.width,Pe=Te*_e,$e=Ne.ca,nt=Ne.tb+Te*$,Re=p.Ta,We=p.Ua;Xo(p,_e,ue,ve),oc(Re,We,$e,nt,Pe),Ke(Ne,$,$+_e,$e,nt,Te),K-=_e,ue+=_e*p.c,$+=_e}e($==_),p.C=p.Ma=_}function mr(){this.ub=this.yd=this.td=this.Rb=0}function Br(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _r(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Jn(){this.Yb=(function(){var p=[];return(function _($,K,ue){for(var ve=ue[K],_e=0;_e<ve&&($.push(ue.length>K+1?[]:0),!(ue.length<K+1));_e++)_($[_e],K+1,ue)})(p,0,[3,11]),p})()}function hi(){this.jb=s(3),this.Wc=l([4,8],Jn),this.Xc=l([4,17],Jn)}function ii(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ur(){this.ld=this.La=this.dd=this.tc=0}function Pn(){this.Na=this.la=0}function Mr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Er(){this.uc=this.M=this.Nb=0,this.wa=Array(new ur),this.Y=0,this.ya=Array(new Qr),this.aa=0,this.l=new $r}function Sr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ai(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new mr,this.Kc=new Br,this.ed=new ii,this.Qa=new _r,this.Ic=this.$c=this.Aa=0,this.D=new Er,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,E),this.ia=0,this.pb=u(4,Mr),this.Pa=new hi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sr),this.Hd=0,this.rb=Array(new Pn),this.sb=0,this.wa=Array(new ur),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qr),this.L=this.aa=0,this.gd=l([4,2],ur),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hn(p,_){return 0>p?0:p>_?_:p}function $r(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ei(){var p=new Ai;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ua||(Ua=co)),p}function vr(p,_,$){return p.a==0&&(p.a=_,p.sc=$,p.cb=0),0}function Ro(p,_,$){return 3<=$&&p[_+0]==157&&p[_+1]==1&&p[_+2]==42}function lo(p,_){if(p==null)return 0;if(p.a=0,p.sc="OK",_==null)return vr(p,2,"null VP8Io passed to VP8GetHeaders()");var $=_.data,K=_.w,ue=_.ha;if(4>ue)return vr(p,7,"Truncated header.");var ve=$[K+0]|$[K+1]<<8|$[K+2]<<16,_e=p.Od;if(_e.Rb=!(1&ve),_e.td=ve>>1&7,_e.yd=ve>>4&1,_e.ub=ve>>5,3<_e.td)return vr(p,3,"Incorrect keyframe parameters.");if(!_e.yd)return vr(p,4,"Frame not displayable.");K+=3,ue-=3;var Ne=p.Kc;if(_e.Rb){if(7>ue)return vr(p,7,"cannot parse picture header");if(!Ro($,K,ue))return vr(p,3,"Bad code word");Ne.c=16383&($[K+4]<<8|$[K+3]),Ne.Td=$[K+4]>>6,Ne.i=16383&($[K+6]<<8|$[K+5]),Ne.Ud=$[K+6]>>6,K+=7,ue-=7,p.za=Ne.c+15>>4,p.Ub=Ne.i+15>>4,_.width=Ne.c,_.height=Ne.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((ve=p.Pa).jb,0,255,ve.jb.length),e((ve=p.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,a(ve.Zb,0,0,ve.Zb.length),a(ve.Lb,0,0,ve.Lb)}if(_e.ub>ue)return vr(p,7,"bad partition length");Ee(ve=p.m,$,K,_e.ub),K+=_e.ub,ue-=_e.ub,_e.Rb&&(Ne.Ld=de(ve),Ne.Kd=de(ve)),Ne=p.Qa;var Te,Pe=p.Pa;if(e(ve!=null),e(Ne!=null),Ne.Cb=de(ve),Ne.Cb){if(Ne.Bb=de(ve),de(ve)){for(Ne.Fb=de(ve),Te=0;4>Te;++Te)Ne.Zb[Te]=de(ve)?xe(ve,7):0;for(Te=0;4>Te;++Te)Ne.Lb[Te]=de(ve)?xe(ve,6):0}if(Ne.Bb)for(Te=0;3>Te;++Te)Pe.jb[Te]=de(ve)?pe(ve,8):255}else Ne.Bb=0;if(ve.Ka)return vr(p,3,"cannot parse segment header");if((Ne=p.ed).zd=de(ve),Ne.Tb=pe(ve,6),Ne.wb=pe(ve,3),Ne.Pc=de(ve),Ne.Pc&&de(ve)){for(Pe=0;4>Pe;++Pe)de(ve)&&(Ne.vd[Pe]=xe(ve,6));for(Pe=0;4>Pe;++Pe)de(ve)&&(Ne.od[Pe]=xe(ve,6))}if(p.L=Ne.Tb==0?0:Ne.zd?1:2,ve.Ka)return vr(p,3,"cannot parse filter header");var $e=ue;if(ue=Te=K,K=Te+$e,Ne=$e,p.Xb=(1<<pe(p.m,2))-1,$e<3*(Pe=p.Xb))$=7;else{for(Te+=3*Pe,Ne-=3*Pe,$e=0;$e<Pe;++$e){var nt=$[ue+0]|$[ue+1]<<8|$[ue+2]<<16;nt>Ne&&(nt=Ne),Ee(p.Jc[+$e],$,Te,nt),Te+=nt,Ne-=nt,ue+=3}Ee(p.Jc[+Pe],$,Te,Ne),$=Te<K?0:5}if($!=0)return vr(p,$,"cannot parse partitions");for($=pe(Te=p.m,7),ue=de(Te)?xe(Te,4):0,K=de(Te)?xe(Te,4):0,Ne=de(Te)?xe(Te,4):0,Pe=de(Te)?xe(Te,4):0,Te=de(Te)?xe(Te,4):0,$e=p.Qa,nt=0;4>nt;++nt){if($e.Cb){var Re=$e.Zb[nt];$e.Fb||(Re+=$)}else{if(0<nt){p.pb[nt]=p.pb[0];continue}Re=$}var We=p.pb[nt];We.Sc[0]=Na[Hn(Re+ue,127)],We.Sc[1]=za[Hn(Re+0,127)],We.Eb[0]=2*Na[Hn(Re+K,127)],We.Eb[1]=101581*za[Hn(Re+Ne,127)]>>16,8>We.Eb[1]&&(We.Eb[1]=8),We.Qc[0]=Na[Hn(Re+Pe,117)],We.Qc[1]=za[Hn(Re+Te,127)],We.lc=Re+Te}if(!_e.Rb)return vr(p,4,"Not a key frame.");for(de(ve),_e=p.Pa,$=0;4>$;++$){for(ue=0;8>ue;++ue)for(K=0;3>K;++K)for(Ne=0;11>Ne;++Ne)Pe=ce(ve,Wu[$][ue][K][Ne])?pe(ve,8):Ul[$][ue][K][Ne],_e.Wc[$][ue].Yb[K][Ne]=Pe;for(ue=0;17>ue;++ue)_e.Xc[$][ue]=_e.Wc[$][Tc[ue]]}return p.kc=de(ve),p.kc&&(p.Bd=pe(ve,8)),p.cb=1}function co(p,_,$,K,ue,ve,_e){var Ne=_[ue].Yb[$];for($=0;16>ue;++ue){if(!ce(p,Ne[$+0]))return ue;for(;!ce(p,Ne[$+1]);)if(Ne=_[++ue].Yb[0],$=0,ue==16)return 16;var Te=_[ue+1].Yb;if(ce(p,Ne[$+2])){var Pe=p,$e=0;if(ce(Pe,(Re=Ne)[(nt=$)+3]))if(ce(Pe,Re[nt+6])){for(Ne=0,nt=2*($e=ce(Pe,Re[nt+8]))+(Re=ce(Pe,Re[nt+9+$e])),$e=0,Re=$a[nt];Re[Ne];++Ne)$e+=$e+ce(Pe,Re[Ne]);$e+=3+(8<<nt)}else ce(Pe,Re[nt+7])?($e=7+2*ce(Pe,165),$e+=ce(Pe,145)):$e=5+ce(Pe,159);else $e=ce(Pe,Re[nt+4])?3+ce(Pe,Re[nt+5]):2;Ne=Te[2]}else $e=1,Ne=Te[1];Te=_e+fc[ue],0>(Pe=p).b&&M(Pe);var nt,Re=Pe.b,We=(nt=Pe.Ca>>1)-(Pe.I>>Re)>>31;--Pe.b,Pe.Ca+=We,Pe.Ca|=1,Pe.I-=(nt+1&We)<<Re,ve[Te]=(($e^We)-We)*K[(0<ue)+0]}return 16}function Ki(p){var _=p.rb[p.sb-1];_.la=0,_.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Ni(p,_,$,K,ue){ue=p[_+$+32*K]+(ue>>3),p[_+$+32*K]=-256&ue?0>ue?0:255:ue}function tn(p,_,$,K,ue,ve){Ni(p,_,0,$,K+ue),Ni(p,_,1,$,K+ve),Ni(p,_,2,$,K-ve),Ni(p,_,3,$,K-ue)}function Ei(p){return(20091*p>>16)+p}function uo(p,_,$,K){var ue,ve=0,_e=s(16);for(ue=0;4>ue;++ue){var Ne=p[_+0]+p[_+8],Te=p[_+0]-p[_+8],Pe=(35468*p[_+4]>>16)-Ei(p[_+12]),$e=Ei(p[_+4])+(35468*p[_+12]>>16);_e[ve+0]=Ne+$e,_e[ve+1]=Te+Pe,_e[ve+2]=Te-Pe,_e[ve+3]=Ne-$e,ve+=4,_++}for(ue=ve=0;4>ue;++ue)Ne=(p=_e[ve+0]+4)+_e[ve+8],Te=p-_e[ve+8],Pe=(35468*_e[ve+4]>>16)-Ei(_e[ve+12]),Ni($,K,0,0,Ne+($e=Ei(_e[ve+4])+(35468*_e[ve+12]>>16))),Ni($,K,1,0,Te+Pe),Ni($,K,2,0,Te-Pe),Ni($,K,3,0,Ne-$e),ve++,K+=32}function $o(p,_,$,K){var ue=p[_+0]+4,ve=35468*p[_+4]>>16,_e=Ei(p[_+4]),Ne=35468*p[_+1]>>16;tn($,K,0,ue+_e,p=Ei(p[_+1]),Ne),tn($,K,1,ue+ve,p,Ne),tn($,K,2,ue-ve,p,Ne),tn($,K,3,ue-_e,p,Ne)}function zr(p,_,$,K,ue){uo(p,_,$,K),ue&&uo(p,_+16,$,K+4)}function Qn(p,_,$,K){Sa(p,_+0,$,K,1),Sa(p,_+32,$,K+128,1)}function fo(p,_,$,K){var ue;for(p=p[_+0]+4,ue=0;4>ue;++ue)for(_=0;4>_;++_)Ni($,K,_,ue,p)}function Cr(p,_,$,K){p[_+0]&&Wr(p,_+0,$,K),p[_+16]&&Wr(p,_+16,$,K+4),p[_+32]&&Wr(p,_+32,$,K+128),p[_+48]&&Wr(p,_+48,$,K+128+4)}function xo(p,_,$,K){var ue,ve=s(16);for(ue=0;4>ue;++ue){var _e=p[_+0+ue]+p[_+12+ue],Ne=p[_+4+ue]+p[_+8+ue],Te=p[_+4+ue]-p[_+8+ue],Pe=p[_+0+ue]-p[_+12+ue];ve[0+ue]=_e+Ne,ve[8+ue]=_e-Ne,ve[4+ue]=Pe+Te,ve[12+ue]=Pe-Te}for(ue=0;4>ue;++ue)_e=(p=ve[0+4*ue]+3)+ve[3+4*ue],Ne=ve[1+4*ue]+ve[2+4*ue],Te=ve[1+4*ue]-ve[2+4*ue],Pe=p-ve[3+4*ue],$[K+0]=_e+Ne>>3,$[K+16]=Pe+Te>>3,$[K+32]=_e-Ne>>3,$[K+48]=Pe-Te>>3,K+=64}function ho(p,_,$){var K,ue=_-32,ve=Fo,_e=255-p[ue-1];for(K=0;K<$;++K){var Ne,Te=ve,Pe=_e+p[_-1];for(Ne=0;Ne<$;++Ne)p[_+Ne]=Te[Pe+p[ue+Ne]];_+=32}}function ha(p,_){ho(p,_,4)}function qn(p,_){ho(p,_,8)}function qr(p,_){ho(p,_,16)}function gr(p,_){var $;for($=0;16>$;++$)o(p,_+32*$,p,_-32,16)}function _s(p,_){var $;for($=16;0<$;--$)a(p,_,p[_-1],16),_+=32}function dr(p,_,$){var K;for(K=0;16>K;++K)a(_,$+32*K,p,16)}function Et(p,_){var $,K=16;for($=0;16>$;++$)K+=p[_-1+32*$]+p[_+$-32];dr(K>>5,p,_)}function Kr(p,_){var $,K=8;for($=0;16>$;++$)K+=p[_-1+32*$];dr(K>>4,p,_)}function eo(p,_){var $,K=8;for($=0;16>$;++$)K+=p[_+$-32];dr(K>>4,p,_)}function to(p,_){dr(128,p,_)}function dn(p,_,$){return p+2*_+$+2>>2}function Jo(p,_){var $,K=_-32;for(K=new Uint8Array([dn(p[K-1],p[K+0],p[K+1]),dn(p[K+0],p[K+1],p[K+2]),dn(p[K+1],p[K+2],p[K+3]),dn(p[K+2],p[K+3],p[K+4])]),$=0;4>$;++$)o(p,_+32*$,K,0,K.length)}function Qs(p,_){var $=p[_-1],K=p[_-1+32],ue=p[_-1+64],ve=p[_-1+96];te(p,_+0,16843009*dn(p[_-1-32],$,K)),te(p,_+32,16843009*dn($,K,ue)),te(p,_+64,16843009*dn(K,ue,ve)),te(p,_+96,16843009*dn(ue,ve,ve))}function il(p,_){var $,K=4;for($=0;4>$;++$)K+=p[_+$-32]+p[_-1+32*$];for(K>>=3,$=0;4>$;++$)a(p,_+32*$,K,4)}function Ln(p,_){var $=p[_-1+0],K=p[_-1+32],ue=p[_-1+64],ve=p[_-1-32],_e=p[_+0-32],Ne=p[_+1-32],Te=p[_+2-32],Pe=p[_+3-32];p[_+0+96]=dn(K,ue,p[_-1+96]),p[_+1+96]=p[_+0+64]=dn($,K,ue),p[_+2+96]=p[_+1+64]=p[_+0+32]=dn(ve,$,K),p[_+3+96]=p[_+2+64]=p[_+1+32]=p[_+0+0]=dn(_e,ve,$),p[_+3+64]=p[_+2+32]=p[_+1+0]=dn(Ne,_e,ve),p[_+3+32]=p[_+2+0]=dn(Te,Ne,_e),p[_+3+0]=dn(Pe,Te,Ne)}function kn(p,_){var $=p[_+1-32],K=p[_+2-32],ue=p[_+3-32],ve=p[_+4-32],_e=p[_+5-32],Ne=p[_+6-32],Te=p[_+7-32];p[_+0+0]=dn(p[_+0-32],$,K),p[_+1+0]=p[_+0+32]=dn($,K,ue),p[_+2+0]=p[_+1+32]=p[_+0+64]=dn(K,ue,ve),p[_+3+0]=p[_+2+32]=p[_+1+64]=p[_+0+96]=dn(ue,ve,_e),p[_+3+32]=p[_+2+64]=p[_+1+96]=dn(ve,_e,Ne),p[_+3+64]=p[_+2+96]=dn(_e,Ne,Te),p[_+3+96]=dn(Ne,Te,Te)}function Yr(p,_){var $=p[_-1+0],K=p[_-1+32],ue=p[_-1+64],ve=p[_-1-32],_e=p[_+0-32],Ne=p[_+1-32],Te=p[_+2-32],Pe=p[_+3-32];p[_+0+0]=p[_+1+64]=ve+_e+1>>1,p[_+1+0]=p[_+2+64]=_e+Ne+1>>1,p[_+2+0]=p[_+3+64]=Ne+Te+1>>1,p[_+3+0]=Te+Pe+1>>1,p[_+0+96]=dn(ue,K,$),p[_+0+64]=dn(K,$,ve),p[_+0+32]=p[_+1+96]=dn($,ve,_e),p[_+1+32]=p[_+2+96]=dn(ve,_e,Ne),p[_+2+32]=p[_+3+96]=dn(_e,Ne,Te),p[_+3+32]=dn(Ne,Te,Pe)}function Ss(p,_){var $=p[_+0-32],K=p[_+1-32],ue=p[_+2-32],ve=p[_+3-32],_e=p[_+4-32],Ne=p[_+5-32],Te=p[_+6-32],Pe=p[_+7-32];p[_+0+0]=$+K+1>>1,p[_+1+0]=p[_+0+64]=K+ue+1>>1,p[_+2+0]=p[_+1+64]=ue+ve+1>>1,p[_+3+0]=p[_+2+64]=ve+_e+1>>1,p[_+0+32]=dn($,K,ue),p[_+1+32]=p[_+0+96]=dn(K,ue,ve),p[_+2+32]=p[_+1+96]=dn(ue,ve,_e),p[_+3+32]=p[_+2+96]=dn(ve,_e,Ne),p[_+3+64]=dn(_e,Ne,Te),p[_+3+96]=dn(Ne,Te,Pe)}function ss(p,_){var $=p[_-1+0],K=p[_-1+32],ue=p[_-1+64],ve=p[_-1+96];p[_+0+0]=$+K+1>>1,p[_+2+0]=p[_+0+32]=K+ue+1>>1,p[_+2+32]=p[_+0+64]=ue+ve+1>>1,p[_+1+0]=dn($,K,ue),p[_+3+0]=p[_+1+32]=dn(K,ue,ve),p[_+3+32]=p[_+1+64]=dn(ue,ve,ve),p[_+3+64]=p[_+2+64]=p[_+0+96]=p[_+1+96]=p[_+2+96]=p[_+3+96]=ve}function Ms(p,_){var $=p[_-1+0],K=p[_-1+32],ue=p[_-1+64],ve=p[_-1+96],_e=p[_-1-32],Ne=p[_+0-32],Te=p[_+1-32],Pe=p[_+2-32];p[_+0+0]=p[_+2+32]=$+_e+1>>1,p[_+0+32]=p[_+2+64]=K+$+1>>1,p[_+0+64]=p[_+2+96]=ue+K+1>>1,p[_+0+96]=ve+ue+1>>1,p[_+3+0]=dn(Ne,Te,Pe),p[_+2+0]=dn(_e,Ne,Te),p[_+1+0]=p[_+3+32]=dn($,_e,Ne),p[_+1+32]=p[_+3+64]=dn(K,$,_e),p[_+1+64]=p[_+3+96]=dn(ue,K,$),p[_+1+96]=dn(ve,ue,K)}function Do(p,_){var $;for($=0;8>$;++$)o(p,_+32*$,p,_-32,8)}function Cn(p,_){var $;for($=0;8>$;++$)a(p,_,p[_-1],8),_+=32}function _t(p,_,$){var K;for(K=0;8>K;++K)a(_,$+32*K,p,8)}function Vt(p,_){var $,K=8;for($=0;8>$;++$)K+=p[_+$-32]+p[_-1+32*$];_t(K>>4,p,_)}function Ht(p,_){var $,K=4;for($=0;8>$;++$)K+=p[_+$-32];_t(K>>3,p,_)}function tr(p,_){var $,K=4;for($=0;8>$;++$)K+=p[_-1+32*$];_t(K>>3,p,_)}function yn(p,_){_t(128,p,_)}function Yt(p,_,$){var K=p[_-$],ue=p[_+0],ve=3*(ue-K)+js[1020+p[_-2*$]-p[_+$]],_e=Oa[112+(ve+4>>3)];p[_-$]=Fo[255+K+Oa[112+(ve+3>>3)]],p[_+0]=Fo[255+ue-_e]}function Gn(p,_,$,K){var ue=p[_+0],ve=p[_+$];return ls[255+p[_-2*$]-p[_-$]]>K||ls[255+ve-ue]>K}function Zn(p,_,$,K){return 4*ls[255+p[_-$]-p[_+0]]+ls[255+p[_-2*$]-p[_+$]]<=K}function Rn(p,_,$,K,ue){var ve=p[_-3*$],_e=p[_-2*$],Ne=p[_-$],Te=p[_+0],Pe=p[_+$],$e=p[_+2*$],nt=p[_+3*$];return 4*ls[255+Ne-Te]+ls[255+_e-Pe]>K?0:ls[255+p[_-4*$]-ve]<=ue&&ls[255+ve-_e]<=ue&&ls[255+_e-Ne]<=ue&&ls[255+nt-$e]<=ue&&ls[255+$e-Pe]<=ue&&ls[255+Pe-Te]<=ue}function vn(p,_,$,K){var ue=2*K+1;for(K=0;16>K;++K)Zn(p,_+K,$,ue)&&Yt(p,_+K,$)}function zt(p,_,$,K){var ue=2*K+1;for(K=0;16>K;++K)Zn(p,_+K*$,1,ue)&&Yt(p,_+K*$,1)}function Ft(p,_,$,K){var ue;for(ue=3;0<ue;--ue)vn(p,_+=4*$,$,K)}function nr(p,_,$,K){var ue;for(ue=3;0<ue;--ue)zt(p,_+=4,$,K)}function Mn(p,_,$,K,ue,ve,_e,Ne){for(ve=2*ve+1;0<ue--;){if(Rn(p,_,$,ve,_e))if(Gn(p,_,$,Ne))Yt(p,_,$);else{var Te=p,Pe=_,$e=$,nt=Te[Pe-2*$e],Re=Te[Pe-$e],We=Te[Pe+0],et=Te[Pe+$e],gt=Te[Pe+2*$e],rt=27*(mt=js[1020+3*(We-Re)+js[1020+nt-et]])+63>>7,dt=18*mt+63>>7,mt=9*mt+63>>7;Te[Pe-3*$e]=Fo[255+Te[Pe-3*$e]+mt],Te[Pe-2*$e]=Fo[255+nt+dt],Te[Pe-$e]=Fo[255+Re+rt],Te[Pe+0]=Fo[255+We-rt],Te[Pe+$e]=Fo[255+et-dt],Te[Pe+2*$e]=Fo[255+gt-mt]}_+=K}}function hr(p,_,$,K,ue,ve,_e,Ne){for(ve=2*ve+1;0<ue--;){if(Rn(p,_,$,ve,_e))if(Gn(p,_,$,Ne))Yt(p,_,$);else{var Te=p,Pe=_,$e=$,nt=Te[Pe-$e],Re=Te[Pe+0],We=Te[Pe+$e],et=Oa[112+(4+(gt=3*(Re-nt))>>3)],gt=Oa[112+(gt+3>>3)],rt=et+1>>1;Te[Pe-2*$e]=Fo[255+Te[Pe-2*$e]+rt],Te[Pe-$e]=Fo[255+nt+gt],Te[Pe+0]=Fo[255+Re-et],Te[Pe+$e]=Fo[255+We-rt]}_+=K}}function wr(p,_,$,K,ue,ve){Mn(p,_,$,1,16,K,ue,ve)}function Xr(p,_,$,K,ue,ve){Mn(p,_,1,$,16,K,ue,ve)}function no(p,_,$,K,ue,ve){var _e;for(_e=3;0<_e;--_e)hr(p,_+=4*$,$,1,16,K,ue,ve)}function I(p,_,$,K,ue,ve){var _e;for(_e=3;0<_e;--_e)hr(p,_+=4,1,$,16,K,ue,ve)}function se(p,_,$,K,ue,ve,_e,Ne){Mn(p,_,ue,1,8,ve,_e,Ne),Mn($,K,ue,1,8,ve,_e,Ne)}function je(p,_,$,K,ue,ve,_e,Ne){Mn(p,_,1,ue,8,ve,_e,Ne),Mn($,K,1,ue,8,ve,_e,Ne)}function Be(p,_,$,K,ue,ve,_e,Ne){hr(p,_+4*ue,ue,1,8,ve,_e,Ne),hr($,K+4*ue,ue,1,8,ve,_e,Ne)}function Ve(p,_,$,K,ue,ve,_e,Ne){hr(p,_+4,1,ue,8,ve,_e,Ne),hr($,K+4,1,ue,8,ve,_e,Ne)}function ft(){this.ba=new zn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nn(){this.ua=0,this.Wa=new S,this.vb=new S,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new J}function Vn(){this.xb=this.a=0,this.l=new $r,this.ca=new zn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nn,this.ab=0,this.gc=u(4,rn),this.Oc=0}function er(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $r,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rr(p,_,$,K,ue,ve,_e){for(p=p==null?0:p[_+0],_=0;_<_e;++_)ue[ve+_]=p+$[K+_]&255,p=ue[ve+_]}function yi(p,_,$,K,ue,ve,_e){var Ne;if(p==null)Rr(null,null,$,K,ue,ve,_e);else for(Ne=0;Ne<_e;++Ne)ue[ve+Ne]=p[_+Ne]+$[K+Ne]&255}function Ci(p,_,$,K,ue,ve,_e){if(p==null)Rr(null,null,$,K,ue,ve,_e);else{var Ne,Te=p[_+0],Pe=Te,$e=Te;for(Ne=0;Ne<_e;++Ne)Pe=$e+(Te=p[_+Ne])-Pe,$e=$[K+Ne]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=Te,ue[ve+Ne]=$e}}function oi(p,_,$,K){var ue=_.width,ve=_.o;if(e(p!=null&&_!=null),0>$||0>=K||$+K>ve)return null;if(!p.Cc){if(p.ga==null){var _e;if(p.ga=new er,(_e=p.ga==null)||(_e=_.width*_.o,e(p.Gb.length==0),p.Gb=s(_e),p.Uc=0,p.Gb==null?_e=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,_e=1),_e=!_e),!_e){_e=p.ga;var Ne=p.Fa,Te=p.P,Pe=p.qc,$e=p.mb,nt=p.nb,Re=Te+1,We=Pe-1,et=_e.l;if(e(Ne!=null&&$e!=null&&_!=null),Mo[0]=null,Mo[1]=Rr,Mo[2]=yi,Mo[3]=Ci,_e.ca=$e,_e.tb=nt,_e.c=_.width,_e.i=_.height,e(0<_e.c&&0<_e.i),1>=Pe)_=0;else if(_e.$a=3&Ne[Te+0],_e.Z=Ne[Te+0]>>2&3,_e.Lc=Ne[Te+0]>>4&3,Te=Ne[Te+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||Te)_=0;else if(et.put=wn,et.ac=$i,et.bc=yr,et.ma=_e,et.width=_.width,et.height=_.height,et.Da=_.Da,et.v=_.v,et.va=_.va,et.j=_.j,et.o=_.o,_e.$a)e:{e(_e.$a==1),_=on();t:for(;;){if(_==null){_=0;break e}if(e(_e!=null),_e.mc=_,_.c=_e.c,_.i=_e.i,_.l=_e.l,_.l.ma=_e,_.l.width=_e.c,_.l.height=_e.i,_.a=0,Se(_.m,Ne,Re,We),!sn(_e.c,_e.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ie(_.s)?(_e.ic=1,Ne=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Ne),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(_e.ic=0,_=en(_,_e.c)),!_))break t;_=1;break e}_e.mc=null,_=0}else _=We>=_e.c*_e.i;_e=!_}if(_e)return null;p.ga.Lc!=1?p.Ga=0:K=ve-$}e(p.ga!=null),e($+K<=ve);e:{if(_=(Ne=p.ga).c,ve=Ne.l.o,Ne.$a==0){if(Re=p.rc,We=p.Vc,et=p.Fa,Te=p.P+1+$*_,Pe=p.mb,$e=p.nb+$*_,e(Te<=p.P+p.qc),Ne.Z!=0)for(e(Mo[Ne.Z]!=null),_e=0;_e<K;++_e)Mo[Ne.Z](Re,We,et,Te,Pe,$e,_),Re=Pe,We=$e,$e+=_,Te+=_;else for(_e=0;_e<K;++_e)o(Pe,$e,et,Te,_),Re=Pe,We=$e,$e+=_,Te+=_;p.rc=Re,p.Vc=We}else{if(e(Ne.mc!=null),_=$+K,e((_e=Ne.mc)!=null),e(_<=_e.i),_e.C>=_)_=1;else if(Ne.ic||pt(),Ne.ic){Ne=_e.V,Re=_e.Ba,We=_e.c;var gt=_e.i,rt=(et=1,Te=_e.$/We,Pe=_e.$%We,$e=_e.m,nt=_e.s,_e.$),dt=We*gt,mt=We*_,vt=nt.wc,wt=rt<mt?fi(nt,Pe,Te):null;e(rt<=dt),e(_<=gt),e(Ie(nt));t:for(;;){for(;!$e.h&&rt<mt;){if(Pe&vt||(wt=fi(nt,Pe,Te)),e(wt!=null),B($e),256>(gt=Bn(wt.G[0],wt.H[0],$e)))Ne[Re+rt]=gt,++rt,++Pe>=We&&(Pe=0,++Te<=_&&!(Te%16)&&bt(_e,Te));else{if(!(280>gt)){et=0;break t}gt=qi(gt-256,$e);var xn,an=Bn(wt.G[4],wt.H[4],$e);if(B($e),!(rt>=(an=ao(We,an=qi(an,$e)))&&dt-rt>=gt)){et=0;break t}for(xn=0;xn<gt;++xn)Ne[Re+rt+xn]=Ne[Re+rt+xn-an];for(rt+=gt,Pe+=gt;Pe>=We;)Pe-=We,++Te<=_&&!(Te%16)&&bt(_e,Te);rt<mt&&Pe&vt&&(wt=fi(nt,Pe,Te))}e($e.h==me($e))}bt(_e,Te>_?_:Te);break t}!et||$e.h&&rt<dt?(et=0,_e.a=$e.h?5:3):_e.$=rt,_=et}else _=Qt(_e,_e.V,_e.Ba,_e.c,_e.i,_,Fn);if(!_){K=0;break e}}$+K>=ve&&(p.Cc=1),K=1}if(!K)return null;if(p.Cc&&((K=p.ga)!=null&&(K.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+$*ue}function ro(p,_,$,K,ue,ve){for(;0<ue--;){var _e,Ne=p,Te=_+($?1:0),Pe=p,$e=_+($?0:3);for(_e=0;_e<K;++_e){var nt=Pe[$e+4*_e];nt!=255&&(nt*=32897,Ne[Te+4*_e+0]=Ne[Te+4*_e+0]*nt>>23,Ne[Te+4*_e+1]=Ne[Te+4*_e+1]*nt>>23,Ne[Te+4*_e+2]=Ne[Te+4*_e+2]*nt>>23)}_+=ve}}function Wi(p,_,$,K,ue){for(;0<K--;){var ve;for(ve=0;ve<$;++ve){var _e=p[_+2*ve+0],Ne=15&(Pe=p[_+2*ve+1]),Te=4369*Ne,Pe=(240&Pe|Pe>>4)*Te>>16;p[_+2*ve+0]=(240&_e|_e>>4)*Te>>16&240|(15&_e|_e<<4)*Te>>16>>4&15,p[_+2*ve+1]=240&Pe|Ne}_+=ue}}function bo(p,_,$,K,ue,ve,_e,Ne){var Te,Pe,$e=255;for(Pe=0;Pe<ue;++Pe){for(Te=0;Te<K;++Te){var nt=p[_+Te];ve[_e+4*Te]=nt,$e&=nt}_+=$,_e+=Ne}return $e!=255}function ea(p,_,$,K,ue){var ve;for(ve=0;ve<ue;++ve)$[K+ve]=p[_+ve]>>8}function pt(){ka=ro,ic=Wi,dl=bo,oc=ea}function ta(p,_,$){z[p]=function(K,ue,ve,_e,Ne,Te,Pe,$e,nt,Re,We,et,gt,rt,dt,mt,vt){var wt,xn=vt-1>>1,an=Ne[Te+0]|Pe[$e+0]<<16,ir=nt[Re+0]|We[et+0]<<16;e(K!=null);var hn=3*an+ir+131074>>2;for(_(K[ue+0],255&hn,hn>>16,gt,rt),ve!=null&&(hn=3*ir+an+131074>>2,_(ve[_e+0],255&hn,hn>>16,dt,mt)),wt=1;wt<=xn;++wt){var kr=Ne[Te+wt]|Pe[$e+wt]<<16,Ii=nt[Re+wt]|We[et+wt]<<16,or=an+kr+ir+Ii+524296,ln=or+2*(kr+ir)>>3;hn=ln+an>>1,an=(or=or+2*(an+Ii)>>3)+kr>>1,_(K[ue+2*wt-1],255&hn,hn>>16,gt,rt+(2*wt-1)*$),_(K[ue+2*wt-0],255&an,an>>16,gt,rt+(2*wt-0)*$),ve!=null&&(hn=or+ir>>1,an=ln+Ii>>1,_(ve[_e+2*wt-1],255&hn,hn>>16,dt,mt+(2*wt-1)*$),_(ve[_e+2*wt+0],255&an,an>>16,dt,mt+(2*wt+0)*$)),an=kr,ir=Ii}1&vt||(hn=3*an+ir+131074>>2,_(K[ue+vt-1],255&hn,hn>>16,gt,rt+(vt-1)*$),ve!=null&&(hn=3*ir+an+131074>>2,_(ve[_e+vt-1],255&hn,hn>>16,dt,mt+(vt-1)*$)))}}function ol(){Qo[Fa]=Lc,Qo[ps]=Ea,Qo[uc]=Hu,Qo[hl]=Is,Qo[pl]=Wa,Qo[si]=yl,Qo[Bl]=$l,Qo[Ba]=Ea,Qo[aa]=Is,Qo[Ma]=Wa,Qo[ml]=yl}function Il(p){return p&-16384?0>p?0:255:p>>Xi}function pa(p,_){return Il((19077*p>>8)+(26149*_>>8)-14234)}function ks(p,_,$){return Il((19077*p>>8)-(6419*_>>8)-(13320*$>>8)+8708)}function ma(p,_){return Il((19077*p>>8)+(33050*_>>8)-17685)}function ga(p,_,$,K,ue){K[ue+0]=pa(p,$),K[ue+1]=ks(p,_,$),K[ue+2]=ma(p,_)}function _o(p,_,$,K,ue){K[ue+0]=ma(p,_),K[ue+1]=ks(p,_,$),K[ue+2]=pa(p,$)}function ya(p,_,$,K,ue){var ve=ks(p,_,$);_=ve<<3&224|ma(p,_)>>3,K[ue+0]=248&pa(p,$)|ve>>5,K[ue+1]=_}function va(p,_,$,K,ue){var ve=240&ma(p,_)|15;K[ue+0]=240&pa(p,$)|ks(p,_,$)>>4,K[ue+1]=ve}function Pl(p,_,$,K,ue){K[ue+0]=255,ga(p,_,$,K,ue+1)}function Rl(p,_,$,K,ue){_o(p,_,$,K,ue),K[ue+3]=255}function qo(p,_,$,K,ue){ga(p,_,$,K,ue),K[ue+3]=255}function As(p,_,$){z[p]=function(K,ue,ve,_e,Ne,Te,Pe,$e,nt){for(var Re=$e+(-2&nt)*$;$e!=Re;)_(K[ue+0],ve[_e+0],Ne[Te+0],Pe,$e),_(K[ue+1],ve[_e+0],Ne[Te+0],Pe,$e+$),ue+=2,++_e,++Te,$e+=2*$;1&nt&&_(K[ue+0],ve[_e+0],Ne[Te+0],Pe,$e)}}function zs(p,_,$){return $==0?p==0?_==0?6:5:_==0?4:0:$}function Dl(p,_,$,K,ue){switch(p>>>30){case 3:Sa(_,$,K,ue,0);break;case 2:ji(_,$,K,ue);break;case 1:Wr(_,$,K,ue)}}function Wo(p,_){var $,K,ue=_.M,ve=_.Nb,_e=p.oc,Ne=p.pc+40,Te=p.oc,Pe=p.pc+584,$e=p.oc,nt=p.pc+600;for($=0;16>$;++$)_e[Ne+32*$-1]=129;for($=0;8>$;++$)Te[Pe+32*$-1]=129,$e[nt+32*$-1]=129;for(0<ue?_e[Ne-1-32]=Te[Pe-1-32]=$e[nt-1-32]=129:(a(_e,Ne-32-1,127,21),a(Te,Pe-32-1,127,9),a($e,nt-32-1,127,9)),K=0;K<p.za;++K){var Re=_.ya[_.aa+K];if(0<K){for($=-1;16>$;++$)o(_e,Ne+32*$-4,_e,Ne+32*$+12,4);for($=-1;8>$;++$)o(Te,Pe+32*$-4,Te,Pe+32*$+4,4),o($e,nt+32*$-4,$e,nt+32*$+4,4)}var We=p.Gd,et=p.Hd+K,gt=Re.ad,rt=Re.Hc;if(0<ue&&(o(_e,Ne-32,We[et].y,0,16),o(Te,Pe-32,We[et].f,0,8),o($e,nt-32,We[et].ea,0,8)),Re.Za){var dt=_e,mt=Ne-32+16;for(0<ue&&(K>=p.za-1?a(dt,mt,We[et].y[15],4):o(dt,mt,We[et+1].y,0,4)),$=0;4>$;$++)dt[mt+128+$]=dt[mt+256+$]=dt[mt+384+$]=dt[mt+0+$];for($=0;16>$;++$,rt<<=2)dt=_e,mt=Ne+jc[$],Bo[Re.Ob[$]](dt,mt),Dl(rt,gt,16*+$,dt,mt)}else if(dt=zs(K,ue,Re.Ob[0]),Ho[dt](_e,Ne),rt!=0)for($=0;16>$;++$,rt<<=2)Dl(rt,gt,16*+$,_e,Ne+jc[$]);for($=Re.Gc,dt=zs(K,ue,Re.Dd),Go[dt](Te,Pe),Go[dt]($e,nt),rt=gt,dt=Te,mt=Pe,255&(Re=0|$)&&(170&Re?io(rt,256,dt,mt):ti(rt,256,dt,mt)),Re=$e,rt=nt,255&($>>=8)&&(170&$?io(gt,320,Re,rt):ti(gt,320,Re,rt)),ue<p.Ub-1&&(o(We[et].y,0,_e,Ne+480,16),o(We[et].f,0,Te,Pe+224,8),o(We[et].ea,0,$e,nt+224,8)),$=8*ve*p.B,We=p.sa,et=p.ta+16*K+16*ve*p.R,gt=p.qa,Re=p.ra+8*K+$,rt=p.Ha,dt=p.Ia+8*K+$,$=0;16>$;++$)o(We,et+$*p.R,_e,Ne+32*$,16);for($=0;8>$;++$)o(gt,Re+$*p.B,Te,Pe+32*$,8),o(rt,dt+$*p.B,$e,nt+32*$,8)}}function wa(p,_,$,K,ue,ve,_e,Ne,Te){var Pe=[0],$e=[0],nt=0,Re=Te!=null?Te.kd:0,We=Te??new St;if(p==null||12>$)return 7;We.data=p,We.w=_,We.ha=$,_=[_],$=[$],We.gb=[We.gb];e:{var et=_,gt=$,rt=We.gb;if(e(p!=null),e(gt!=null),e(rt!=null),rt[0]=0,12<=gt[0]&&!t(p,et[0],"RIFF")){if(t(p,et[0]+8,"WEBP")){rt=3;break e}var dt=W(p,et[0]+4);if(12>dt||4294967286<dt){rt=3;break e}if(Re&&dt>gt[0]-8){rt=7;break e}rt[0]=dt,et[0]+=12,gt[0]-=12}rt=0}if(rt!=0)return rt;for(dt=0<We.gb[0],$=$[0];;){e:{var mt=p;gt=_,rt=$;var vt=Pe,wt=$e,xn=et=[0];if((hn=nt=[nt])[0]=0,8>rt[0])rt=7;else{if(!t(mt,gt[0],"VP8X")){if(W(mt,gt[0]+4)!=10){rt=3;break e}if(18>rt[0]){rt=7;break e}var an=W(mt,gt[0]+8),ir=1+Oe(mt,gt[0]+12);if(2147483648<=ir*(mt=1+Oe(mt,gt[0]+15))){rt=3;break e}xn!=null&&(xn[0]=an),vt!=null&&(vt[0]=ir),wt!=null&&(wt[0]=mt),gt[0]+=18,rt[0]-=18,hn[0]=1}rt=0}}if(nt=nt[0],et=et[0],rt!=0)return rt;if(gt=!!(2&et),!dt&&nt)return 3;if(ve!=null&&(ve[0]=!!(16&et)),_e!=null&&(_e[0]=gt),Ne!=null&&(Ne[0]=0),_e=Pe[0],et=$e[0],nt&&gt&&Te==null){rt=0;break}if(4>$){rt=7;break}if(dt&&nt||!dt&&!nt&&!t(p,_[0],"ALPH")){$=[$],We.na=[We.na],We.P=[We.P],We.Sa=[We.Sa];e:{an=p,rt=_,dt=$;var hn=We.gb;vt=We.na,wt=We.P,xn=We.Sa,ir=22,e(an!=null),e(dt!=null),mt=rt[0];var kr=dt[0];for(e(vt!=null),e(xn!=null),vt[0]=null,wt[0]=null,xn[0]=0;;){if(rt[0]=mt,dt[0]=kr,8>kr){rt=7;break e}var Ii=W(an,mt+4);if(4294967286<Ii){rt=3;break e}var or=8+Ii+1&-2;if(ir+=or,0<hn&&ir>hn){rt=3;break e}if(!t(an,mt,"VP8 ")||!t(an,mt,"VP8L")){rt=0;break e}if(kr[0]<or){rt=7;break e}t(an,mt,"ALPH")||(vt[0]=an,wt[0]=mt+8,xn[0]=Ii),mt+=or,kr-=or}}if($=$[0],We.na=We.na[0],We.P=We.P[0],We.Sa=We.Sa[0],rt!=0)break}$=[$],We.Ja=[We.Ja],We.xa=[We.xa];e:if(hn=p,rt=_,dt=$,vt=We.gb[0],wt=We.Ja,xn=We.xa,an=rt[0],mt=!t(hn,an,"VP8 "),ir=!t(hn,an,"VP8L"),e(hn!=null),e(dt!=null),e(wt!=null),e(xn!=null),8>dt[0])rt=7;else{if(mt||ir){if(hn=W(hn,an+4),12<=vt&&hn>vt-12){rt=3;break e}if(Re&&hn>dt[0]-8){rt=7;break e}wt[0]=hn,rt[0]+=8,dt[0]-=8,xn[0]=ir}else xn[0]=5<=dt[0]&&hn[an+0]==47&&!(hn[an+4]>>5),wt[0]=dt[0];rt=0}if($=$[0],We.Ja=We.Ja[0],We.xa=We.xa[0],_=_[0],rt!=0)break;if(4294967286<We.Ja)return 3;if(Ne==null||gt||(Ne[0]=We.xa?2:1),_e=[_e],et=[et],We.xa){if(5>$){rt=7;break}Ne=_e,Re=et,gt=ve,p==null||5>$?p=0:5<=$&&p[_+0]==47&&!(p[_+4]>>5)?(dt=[0],hn=[0],vt=[0],Se(wt=new Y,p,_,$),Po(wt,dt,hn,vt)?(Ne!=null&&(Ne[0]=dt[0]),Re!=null&&(Re[0]=hn[0]),gt!=null&&(gt[0]=vt[0]),p=1):p=0):p=0}else{if(10>$){rt=7;break}Ne=et,p==null||10>$||!Ro(p,_+3,$-3)?p=0:(Re=p[_+0]|p[_+1]<<8|p[_+2]<<16,gt=16383&(p[_+7]<<8|p[_+6]),p=16383&(p[_+9]<<8|p[_+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=We.Ja||!gt||!p?p=0:(_e&&(_e[0]=gt),Ne&&(Ne[0]=p),p=1))}if(!p||(_e=_e[0],et=et[0],nt&&(Pe[0]!=_e||$e[0]!=et)))return 3;Te!=null&&(Te[0]=We,Te.offset=_-Te.w,e(4294967286>_-Te.w),e(Te.offset==Te.ha-$));break}return rt==0||rt==7&&nt&&Te==null?(ve!=null&&(ve[0]|=We.na!=null&&0<We.na.length),K!=null&&(K[0]=_e),ue!=null&&(ue[0]=et),0):rt}function sl(p,_,$){var K=_.width,ue=_.height,ve=0,_e=0,Ne=K,Te=ue;if(_.Da=p!=null&&0<p.Da,_.Da&&(Ne=p.cd,Te=p.bd,ve=p.v,_e=p.j,11>$||(ve&=-2,_e&=-2),0>ve||0>_e||0>=Ne||0>=Te||ve+Ne>K||_e+Te>ue))return 0;if(_.v=ve,_.j=_e,_.va=ve+Ne,_.o=_e+Te,_.U=Ne,_.T=Te,_.da=p!=null&&0<p.da,_.da){if(!C(Ne,Te,$=[p.ib],ve=[p.hb]))return 0;_.ib=$[0],_.hb=ve[0]}return _.ob=p!=null&&p.ob,_.Kb=p==null||!p.Sd,_.da&&(_.ob=_.ib<3*K/4&&_.hb<3*ue/4,_.Kb=0),1}function al(p){if(p==null)return 2;if(11>p.S){var _=p.f.RGBA;_.fb+=(p.height-1)*_.A,_.A=-_.A}else _=p.f.kb,p=p.height,_.O+=(p-1)*_.fa,_.fa=-_.fa,_.N+=(p-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(p-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(p-1)*_.lb,_.lb=-_.lb);return 0}function na(p,_,$,K){if(K==null||0>=p||0>=_)return 2;if($!=null){if($.Da){var ue=$.cd,ve=$.bd,_e=-2&$.v,Ne=-2&$.j;if(0>_e||0>Ne||0>=ue||0>=ve||_e+ue>p||Ne+ve>_)return 2;p=ue,_=ve}if($.da){if(!C(p,_,ue=[$.ib],ve=[$.hb]))return 2;p=ue[0],_=ve[0]}}K.width=p,K.height=_;e:{var Te=K.width,Pe=K.height;if(p=K.S,0>=Te||0>=Pe||!(p>=Fa&&13>p))p=2;else{if(0>=K.Rd&&K.sd==null){_e=ve=ue=_=0;var $e=(Ne=Te*Ws[p])*Pe;if(11>p||(ve=(Pe+1)/2*(_=(Te+1)/2),p==12&&(_e=(ue=Te)*Pe)),(Pe=s($e+2*ve+_e))==null){p=1;break e}K.sd=Pe,11>p?((Te=K.f.RGBA).eb=Pe,Te.fb=0,Te.A=Ne,Te.size=$e):((Te=K.f.kb).y=Pe,Te.O=0,Te.fa=Ne,Te.Fd=$e,Te.f=Pe,Te.N=0+$e,Te.Ab=_,Te.Cd=ve,Te.ea=Pe,Te.W=0+$e+ve,Te.Db=_,Te.Ed=ve,p==12&&(Te.F=Pe,Te.J=0+$e+2*ve),Te.Tc=_e,Te.lb=ue)}if(_=1,ue=K.S,ve=K.width,_e=K.height,ue>=Fa&&13>ue)if(11>ue)p=K.f.RGBA,_&=(Ne=Math.abs(p.A))*(_e-1)+ve<=p.size,_&=Ne>=ve*Ws[ue],_&=p.eb!=null;else{p=K.f.kb,Ne=(ve+1)/2,$e=(_e+1)/2,Te=Math.abs(p.fa),Pe=Math.abs(p.Ab);var nt=Math.abs(p.Db),Re=Math.abs(p.lb),We=Re*(_e-1)+ve;_&=Te*(_e-1)+ve<=p.Fd,_&=Pe*($e-1)+Ne<=p.Cd,_=(_&=nt*($e-1)+Ne<=p.Ed)&Te>=ve&Pe>=Ne&nt>=Ne,_&=p.y!=null,_&=p.f!=null,_&=p.ea!=null,ue==12&&(_&=Re>=ve,_&=We<=p.Tc,_&=p.F!=null)}else _=0;p=_?0:2}}return p!=0||$!=null&&$.fd&&(p=al(K)),p}var ds=64,Oo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zo=24,hs=32,Ns=8,as=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(p){return p},z.Predictor2=function(p,_,$){return _[$+0]},z.Predictor3=function(p,_,$){return _[$+1]},z.Predictor4=function(p,_,$){return _[$-1]},z.Predictor5=function(p,_,$){return He(He(p,_[$+1]),_[$+0])},z.Predictor6=function(p,_,$){return He(p,_[$-1])},z.Predictor7=function(p,_,$){return He(p,_[$+0])},z.Predictor8=function(p,_,$){return He(_[$-1],_[$+0])},z.Predictor9=function(p,_,$){return He(_[$+0],_[$+1])},z.Predictor10=function(p,_,$){return He(He(p,_[$-1]),He(_[$+0],_[$+1]))},z.Predictor11=function(p,_,$){var K=_[$+0];return 0>=ht(K>>24&255,p>>24&255,(_=_[$-1])>>24&255)+ht(K>>16&255,p>>16&255,_>>16&255)+ht(K>>8&255,p>>8&255,_>>8&255)+ht(255&K,255&p,255&_)?K:p},z.Predictor12=function(p,_,$){var K=_[$+0];return(at((p>>24&255)+(K>>24&255)-((_=_[$-1])>>24&255))<<24|at((p>>16&255)+(K>>16&255)-(_>>16&255))<<16|at((p>>8&255)+(K>>8&255)-(_>>8&255))<<8|at((255&p)+(255&K)-(255&_)))>>>0},z.Predictor13=function(p,_,$){var K=_[$-1];return(Je((p=He(p,_[$+0]))>>24&255,K>>24&255)<<24|Je(p>>16&255,K>>16&255)<<16|Je(p>>8&255,K>>8&255)<<8|Je(255&p,255&K))>>>0};var ra=z.PredictorAdd0;z.PredictorAdd1=Ct,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Es=z.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Fi,Ia=z.ColorIndexInverseTransform,Us=z.MapARGB,Cs=z.VP8LColorIndexInverseTransformAlpha,ia=z.MapAlpha,Pa=z.VP8LPredictorsAdd=[];Pa.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var ll,cl,oa,sa,xa,ba,_a,Sa,ji,io,Wr,ti,Bi,Yi,Ts,ul,fl,Ls,rc,rr,Ol,pi,Ra,Da,ka,ic,dl,oc,Fl=s(511),sc=s(2041),ac=s(225),lc=s(767),cc=0,js=sc,Oa=ac,Fo=lc,ls=Fl,Fa=0,ps=1,uc=2,hl=3,pl=4,si=5,Bl=6,Ba=7,aa=8,Ma=9,ml=10,ms=[2,3,7],Ml=[3,3,11],Aa=[280,256,256,256,40],eu=[0,1,1,1,0],$u=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zl=8,Na=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],za=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ua=null,$a=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ul=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ho=[],Bo=[],Go=[],cs=1,qa=2,Mo=[],Qo=[];ta("UpsampleRgbLinePair",ga,3),ta("UpsampleBgrLinePair",_o,3),ta("UpsampleRgbaLinePair",qo,4),ta("UpsampleBgraLinePair",Rl,4),ta("UpsampleArgbLinePair",Pl,4),ta("UpsampleRgba4444LinePair",va,2),ta("UpsampleRgb565LinePair",ya,2);var Lc=z.UpsampleRgbLinePair,Hu=z.UpsampleBgrLinePair,Ea=z.UpsampleRgbaLinePair,Is=z.UpsampleBgraLinePair,Wa=z.UpsampleArgbLinePair,yl=z.UpsampleRgba4444LinePair,$l=z.UpsampleRgb565LinePair,la=16,Ps=1<<la-1,Jr=-227,Tr=482,Xi=6,Hi=0,po=s(256),$s=s(256),qs=s(256),es=s(256),dc=s(Tr-Jr),vl=s(Tr-Jr);As("YuvToRgbRow",ga,3),As("YuvToBgrRow",_o,3),As("YuvToRgbaRow",qo,4),As("YuvToBgraRow",Rl,4),As("YuvToArgbRow",Pl,4),As("YuvToRgba4444Row",va,2),As("YuvToRgb565Row",ya,2);var jc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ha=[0,2,8],ru=[8,7,6,4,4,2,2,2,1,1,1,1],Rs=1;this.WebPDecodeRGBA=function(p,_,$,K,ue){var ve=ps,_e=new ft,Ne=new zn;_e.ba=Ne,Ne.S=ve,Ne.width=[Ne.width],Ne.height=[Ne.height];var Te=Ne.width,Pe=Ne.height,$e=new Sn;if($e==null||p==null)var nt=2;else e($e!=null),nt=wa(p,_,$,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(nt!=0?Te=0:(Te!=null&&(Te[0]=$e.width[0]),Pe!=null&&(Pe[0]=$e.height[0]),Te=1),Te){Ne.width=Ne.width[0],Ne.height=Ne.height[0],K!=null&&(K[0]=Ne.width),ue!=null&&(ue[0]=Ne.height);e:{if(K=new $r,(ue=new St).data=p,ue.w=_,ue.ha=$,ue.kd=1,_=[0],e(ue!=null),((p=wa(ue.data,ue.w,ue.ha,null,null,null,_,null,ue))==0||p==7)&&_[0]&&(p=4),(_=p)==0){if(e(_e!=null),K.data=ue.data,K.w=ue.w+ue.offset,K.ha=ue.ha-ue.offset,K.put=wn,K.ac=$i,K.bc=yr,K.ma=_e,ue.xa){if((p=on())==null){_e=1;break e}if((function(Re,We){var et=[0],gt=[0],rt=[0];t:for(;;){if(Re==null)return 0;if(We==null)return Re.a=2,0;if(Re.l=We,Re.a=0,Se(Re.m,We.data,We.w,We.ha),!Po(Re.m,et,gt,rt)){Re.a=3;break t}if(Re.xb=qa,We.width=et[0],We.height=gt[0],!sn(et[0],gt[0],1,Re,null))break t;return 1}return e(Re.a!=0),0})(p,K)){if(K=(_=na(K.width,K.height,_e.Oa,_e.ba))==0){t:{K=p;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e(($=K.l)!=null),e((ue=$.ma)!=null),K.xb!=0){if(K.ca=ue.ba,K.tb=ue.tb,e(K.ca!=null),!sl(ue.Oa,$,hl)){K.a=2;break n}if(!en(K,$.width)||$.da)break n;if(($.da||En(K.ca.S))&&pt(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&pt()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ee(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!Qt(K,K.V,K.Ba,K.c,K.i,$.o,di))break n;ue.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(_=p.a)}else _=p.a}else{if((p=new ei)==null){_e=1;break e}if(p.Fa=ue.na,p.P=ue.P,p.qc=ue.Sa,lo(p,K)){if((_=na(K.width,K.height,_e.Oa,_e.ba))==0){if(p.Aa=0,$=_e.Oa,e((ue=p)!=null),$!=null){if(0<(Te=0>(Te=$.Md)?0:100<Te?255:255*Te/100)){for(Pe=$e=0;4>Pe;++Pe)12>(nt=ue.pb[Pe]).lc&&(nt.ia=Te*ru[0>nt.lc?0:nt.lc]>>3),$e|=nt.ia;$e&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=$.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Re,We){if(Re==null)return 0;if(We==null)return vr(Re,2,"NULL VP8Io parameter in VP8Decode().");if(!Re.cb&&!lo(Re,We))return 0;if(e(Re.cb),We.ac==null||We.ac(We)){We.ob&&(Re.L=0);var et=Ha[Re.L];if(Re.L==2?(Re.yb=0,Re.zb=0):(Re.yb=We.v-et>>4,Re.zb=We.j-et>>4,0>Re.yb&&(Re.yb=0),0>Re.zb&&(Re.zb=0)),Re.Va=We.o+15+et>>4,Re.Hb=We.va+15+et>>4,Re.Hb>Re.za&&(Re.Hb=Re.za),Re.Va>Re.Ub&&(Re.Va=Re.Ub),0<Re.L){var gt=Re.ed;for(et=0;4>et;++et){var rt;if(Re.Qa.Cb){var dt=Re.Qa.Lb[et];Re.Qa.Fb||(dt+=gt.Tb)}else dt=gt.Tb;for(rt=0;1>=rt;++rt){var mt=Re.gd[et][rt],vt=dt;if(gt.Pc&&(vt+=gt.vd[0],rt&&(vt+=gt.od[0])),0<(vt=0>vt?0:63<vt?63:vt)){var wt=vt;0<gt.wb&&(wt=4<gt.wb?wt>>2:wt>>1)>9-gt.wb&&(wt=9-gt.wb),1>wt&&(wt=1),mt.dd=wt,mt.tc=2*vt+wt,mt.ld=40<=vt?2:15<=vt?1:0}else mt.tc=0;mt.La=rt}}}et=0}else vr(Re,6,"Frame setup failed"),et=Re.a;if(et=et==0){if(et){Re.$c=0,0<Re.Aa||(Re.Ic=Rs);t:{et=Re.Ic,gt=4*(wt=Re.za);var xn=32*wt,an=wt+1,ir=0<Re.L?wt*(0<Re.Aa?2:1):0,hn=(Re.Aa==2?2:1)*wt;if((mt=gt+832+(rt=3*(16*et+Ha[Re.L])/2*xn)+(dt=Re.Fa!=null&&0<Re.Fa.length?Re.Kc.c*Re.Kc.i:0))!=mt)et=0;else{if(mt>Re.Vb){if(Re.Vb=0,Re.Ec=s(mt),Re.Fc=0,Re.Ec==null){et=vr(Re,1,"no memory during frame initialization.");break t}Re.Vb=mt}mt=Re.Ec,vt=Re.Fc,Re.Ac=mt,Re.Bc=vt,vt+=gt,Re.Gd=u(xn,Sr),Re.Hd=0,Re.rb=u(an+1,Pn),Re.sb=1,Re.wa=ir?u(ir,ur):null,Re.Y=0,Re.D.Nb=0,Re.D.wa=Re.wa,Re.D.Y=Re.Y,0<Re.Aa&&(Re.D.Y+=wt),e(!0),Re.oc=mt,Re.pc=vt,vt+=832,Re.ya=u(hn,Qr),Re.aa=0,Re.D.ya=Re.ya,Re.D.aa=Re.aa,Re.Aa==2&&(Re.D.aa+=wt),Re.R=16*wt,Re.B=8*wt,wt=(xn=Ha[Re.L])*Re.R,xn=xn/2*Re.B,Re.sa=mt,Re.ta=vt+wt,Re.qa=Re.sa,Re.ra=Re.ta+16*et*Re.R+xn,Re.Ha=Re.qa,Re.Ia=Re.ra+8*et*Re.B+xn,Re.$c=0,vt+=rt,Re.mb=dt?mt:null,Re.nb=dt?vt:null,e(vt+dt<=Re.Fc+Re.Vb),Ki(Re),a(Re.Ac,Re.Bc,0,gt),et=1}}if(et){if(We.ka=0,We.y=Re.sa,We.O=Re.ta,We.f=Re.qa,We.N=Re.ra,We.ea=Re.Ha,We.Vd=Re.Ia,We.fa=Re.R,We.Rc=Re.B,We.F=null,We.J=0,!cc){for(et=-255;255>=et;++et)Fl[255+et]=0>et?-et:et;for(et=-1020;1020>=et;++et)sc[1020+et]=-128>et?-128:127<et?127:et;for(et=-112;112>=et;++et)ac[112+et]=-16>et?-16:15<et?15:et;for(et=-255;510>=et;++et)lc[255+et]=0>et?0:255<et?255:et;cc=1}_a=xo,Sa=zr,io=Qn,Wr=fo,ti=Cr,ji=$o,Bi=wr,Yi=Xr,Ts=se,ul=je,fl=no,Ls=I,rc=Be,rr=Ve,Ol=vn,pi=zt,Ra=Ft,Da=nr,Bo[0]=il,Bo[1]=ha,Bo[2]=Jo,Bo[3]=Qs,Bo[4]=Ln,Bo[5]=Yr,Bo[6]=kn,Bo[7]=Ss,Bo[8]=Ms,Bo[9]=ss,Ho[0]=Et,Ho[1]=qr,Ho[2]=gr,Ho[3]=_s,Ho[4]=Kr,Ho[5]=eo,Ho[6]=to,Go[0]=Vt,Go[1]=qn,Go[2]=Do,Go[3]=Cn,Go[4]=tr,Go[5]=Ht,Go[6]=yn,et=1}else et=0}et&&(et=(function(kr,Ii){for(kr.M=0;kr.M<kr.Va;++kr.M){var or,ln=kr.Jc[kr.M&kr.Xb],Xt=kr.m,Mi=kr;for(or=0;or<Mi.za;++or){var Kn=Xt,xr=Mi,mi=xr.Ac,oo=xr.Bc+4*or,Gi=xr.zc,Ti=xr.ya[xr.aa+or];if(xr.Qa.Bb?Ti.$b=ce(Kn,xr.Pa.jb[0])?2+ce(Kn,xr.Pa.jb[2]):ce(Kn,xr.Pa.jb[1]):Ti.$b=0,xr.kc&&(Ti.Ad=ce(Kn,xr.Bd)),Ti.Za=!ce(Kn,145)+0,Ti.Za){var Ji=Ti.Ob,so=0;for(xr=0;4>xr;++xr){var vi,Lr=Gi[0+xr];for(vi=0;4>vi;++vi){Lr=nu[mi[oo+vi]][Lr];for(var Hr=tu[ce(Kn,Lr[0])];0<Hr;)Hr=tu[2*Hr+ce(Kn,Lr[Hr])];Lr=-Hr,mi[oo+vi]=Lr}o(Ji,so,mi,oo,4),so+=4,Gi[0+xr]=Lr}}else Lr=ce(Kn,156)?ce(Kn,128)?1:3:ce(Kn,163)?2:0,Ti.Ob[0]=Lr,a(mi,oo,Lr,4),a(Gi,0,Lr,4);Ti.Dd=ce(Kn,142)?ce(Kn,114)?ce(Kn,183)?1:3:2:0}if(Mi.m.Ka)return vr(kr,7,"Premature end-of-partition0 encountered.");for(;kr.ja<kr.za;++kr.ja){if(Mi=ln,Kn=(Xt=kr).rb[Xt.sb-1],mi=Xt.rb[Xt.sb+Xt.ja],or=Xt.ya[Xt.aa+Xt.ja],oo=Xt.kc?or.Ad:0)Kn.la=mi.la=0,or.Za||(Kn.Na=mi.Na=0),or.Hc=0,or.Gc=0,or.ia=0;else{var wi,Gr;if(Kn=mi,mi=Mi,oo=Xt.Pa.Xc,Gi=Xt.ya[Xt.aa+Xt.ja],Ti=Xt.pb[Gi.$b],xr=Gi.ad,Ji=0,so=Xt.rb[Xt.sb-1],Lr=vi=0,a(xr,Ji,0,384),Gi.Za)var Pi=0,Ri=oo[3];else{Hr=s(16);var ai=Kn.Na+so.Na;if(ai=Ua(mi,oo[1],ai,Ti.Eb,0,Hr,0),Kn.Na=so.Na=(0<ai)+0,1<ai)_a(Hr,0,xr,Ji);else{var So=Hr[0]+3>>3;for(Hr=0;256>Hr;Hr+=16)xr[Ji+Hr]=So}Pi=1,Ri=oo[0]}var h=15&Kn.la,y=15&so.la;for(Hr=0;4>Hr;++Hr){var L=1&y;for(So=Gr=0;4>So;++So)h=h>>1|(L=(ai=Ua(mi,Ri,ai=L+(1&h),Ti.Sc,Pi,xr,Ji))>Pi)<<7,Gr=Gr<<2|(3<ai?3:1<ai?2:xr[Ji+0]!=0),Ji+=16;h>>=4,y=y>>1|L<<7,vi=(vi<<8|Gr)>>>0}for(Ri=h,Pi=y>>4,wi=0;4>wi;wi+=2){for(Gr=0,h=Kn.la>>4+wi,y=so.la>>4+wi,Hr=0;2>Hr;++Hr){for(L=1&y,So=0;2>So;++So)ai=L+(1&h),h=h>>1|(L=0<(ai=Ua(mi,oo[2],ai,Ti.Qc,0,xr,Ji)))<<3,Gr=Gr<<2|(3<ai?3:1<ai?2:xr[Ji+0]!=0),Ji+=16;h>>=2,y=y>>1|L<<5}Lr|=Gr<<4*wi,Ri|=h<<4<<wi,Pi|=(240&y)<<wi}Kn.la=Ri,so.la=Pi,Gi.Hc=vi,Gi.Gc=Lr,Gi.ia=43690&Lr?0:Ti.ia,oo=!(vi|Lr)}if(0<Xt.L&&(Xt.wa[Xt.Y+Xt.ja]=Xt.gd[or.$b][or.Za],Xt.wa[Xt.Y+Xt.ja].La|=!oo),Mi.Ka)return vr(kr,7,"Premature end-of-file encountered.")}if(Ki(kr),Xt=Ii,Mi=1,or=(ln=kr).D,Kn=0<ln.L&&ln.M>=ln.zb&&ln.M<=ln.Va,ln.Aa==0)t:{if(or.M=ln.M,or.uc=Kn,Wo(ln,or),Mi=1,or=(Gr=ln.D).Nb,Kn=(Lr=Ha[ln.L])*ln.R,mi=Lr/2*ln.B,Hr=16*or*ln.R,So=8*or*ln.B,oo=ln.sa,Gi=ln.ta-Kn+Hr,Ti=ln.qa,xr=ln.ra-mi+So,Ji=ln.Ha,so=ln.Ia-mi+So,y=(h=Gr.M)==0,vi=h>=ln.Va-1,ln.Aa==2&&Wo(ln,Gr),Gr.uc)for(L=(ai=ln).D.M,e(ai.D.uc),Gr=ai.yb;Gr<ai.Hb;++Gr){Pi=Gr,Ri=L;var G=(Z=(ct=ai).D).Nb;wi=ct.R;var Z=Z.wa[Z.Y+Pi],ge=ct.sa,Ae=ct.ta+16*G*wi+16*Pi,ke=Z.dd,he=Z.tc;if(he!=0)if(e(3<=he),ct.L==1)0<Pi&&pi(ge,Ae,wi,he+4),Z.La&&Da(ge,Ae,wi,he),0<Ri&&Ol(ge,Ae,wi,he+4),Z.La&&Ra(ge,Ae,wi,he);else{var Ze=ct.B,Qe=ct.qa,Me=ct.ra+8*G*Ze+8*Pi,kt=ct.Ha,ct=ct.Ia+8*G*Ze+8*Pi;G=Z.ld,0<Pi&&(Yi(ge,Ae,wi,he+4,ke,G),ul(Qe,Me,kt,ct,Ze,he+4,ke,G)),Z.La&&(Ls(ge,Ae,wi,he,ke,G),rr(Qe,Me,kt,ct,Ze,he,ke,G)),0<Ri&&(Bi(ge,Ae,wi,he+4,ke,G),Ts(Qe,Me,kt,ct,Ze,he+4,ke,G)),Z.La&&(fl(ge,Ae,wi,he,ke,G),rc(Qe,Me,kt,ct,Ze,he,ke,G))}}if(ln.ia&&alert("todo:DitherRow"),Xt.put!=null){if(Gr=16*h,h=16*(h+1),y?(Xt.y=ln.sa,Xt.O=ln.ta+Hr,Xt.f=ln.qa,Xt.N=ln.ra+So,Xt.ea=ln.Ha,Xt.W=ln.Ia+So):(Gr-=Lr,Xt.y=oo,Xt.O=Gi,Xt.f=Ti,Xt.N=xr,Xt.ea=Ji,Xt.W=so),vi||(h-=Lr),h>Xt.o&&(h=Xt.o),Xt.F=null,Xt.J=null,ln.Fa!=null&&0<ln.Fa.length&&Gr<h&&(Xt.J=oi(ln,Xt,Gr,h-Gr),Xt.F=ln.mb,Xt.F==null&&Xt.F.length==0)){Mi=vr(ln,3,"Could not decode alpha data.");break t}Gr<Xt.j&&(Lr=Xt.j-Gr,Gr=Xt.j,e(!(1&Lr)),Xt.O+=ln.R*Lr,Xt.N+=ln.B*(Lr>>1),Xt.W+=ln.B*(Lr>>1),Xt.F!=null&&(Xt.J+=Xt.width*Lr)),Gr<h&&(Xt.O+=Xt.v,Xt.N+=Xt.v>>1,Xt.W+=Xt.v>>1,Xt.F!=null&&(Xt.J+=Xt.v),Xt.ka=Gr-Xt.j,Xt.U=Xt.va-Xt.v,Xt.T=h-Gr,Mi=Xt.put(Xt))}or+1!=ln.Ic||vi||(o(ln.sa,ln.ta-Kn,oo,Gi+16*ln.R,Kn),o(ln.qa,ln.ra-mi,Ti,xr+8*ln.B,mi),o(ln.Ha,ln.Ia-mi,Ji,so+8*ln.B,mi))}if(!Mi)return vr(kr,6,"Output aborted.")}return 1})(Re,We)),We.bc!=null&&We.bc(We),et&=1}return et?(Re.cb=0,et):0})(p,K)||(_=p.a)}}else _=p.a}_==0&&_e.Oa!=null&&_e.Oa.fd&&(_=al(_e.ba))}_e=_}ve=_e!=0?null:11>ve?Ne.f.RGBA.eb:Ne.f.kb.y}else ve=null;return ve};var Ws=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(z,le){for(var re="",F=0;F<4;F++)re+=String.fromCharCode(z[le++]);return re}function m(z,le){return z[le+0]|z[le+1]<<8}function k(z,le){return(z[le+0]|z[le+1]<<8|z[le+2]<<16)>>>0}function b(z,le){return(z[le+0]|z[le+1]<<8|z[le+2]<<16|z[le+3]<<24)>>>0}new f;var g=[0],j=[0],N=[],O=new f,x=r,R=(function(z,le){var re={},F=0,J=!1,P=0,be=0;if(re.frames=[],!(function(E,Y){for(var Q=0;Q<4;Q++)if(E[Y+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(z,le)){for(b(z,le+=4),le+=8;le<z.length;){var Ee=d(z,le),pe=b(z,le+=4);le+=4;var xe=pe+(1&pe);switch(Ee){case"VP8 ":case"VP8L":re.frames[F]===void 0&&(re.frames[F]={}),(X=re.frames[F]).src_off=J?be:le-8,X.src_size=P+pe+8,F++,J&&(J=!1,P=0,be=0);break;case"VP8X":(X=re.header={}).feature_flags=z[le];var Se=le+4;X.canvas_width=1+k(z,Se),Se+=3,X.canvas_height=1+k(z,Se),Se+=3;break;case"ALPH":J=!0,P=xe+8,be=le-8;break;case"ANIM":(X=re.header).bgcolor=b(z,le),Se=le+4,X.loop_count=m(z,Se),Se+=2;break;case"ANMF":var De,X;(X=re.frames[F]={}).offset_x=2*k(z,le),le+=3,X.offset_y=2*k(z,le),le+=3,X.width=1+k(z,le),le+=3,X.height=1+k(z,le),le+=3,X.duration=k(z,le),le+=3,De=z[le++],X.dispose=1&De,X.blend=De>>1&1}Ee!="ANMF"&&(le+=xe)}return re}})(x,0);R.response=x,R.rgbaoutput=!0,R.dataurl=!1;var T=R.header?R.header:null,A=R.frames?R.frames:null;if(T){T.loop_counter=T.loop_count,g=[T.canvas_height],j=[T.canvas_width];for(var q=0;q<A.length&&A[q].blend!=0;q++);}var ie=A[0],oe=O.WebPDecodeRGBA(x,ie.src_off,ie.src_size,j,g);ie.rgba=oe,ie.imgwidth=j[0],ie.imgheight=g[0];for(var ne=0;ne<j[0]*g[0]*4;ne++)N[ne]=oe[ne];return this.width=j,this.height=g,this.data=N,this}(function(r){var e,t,o,a,s,u,l,f,d,m=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new f,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new u,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new u,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new k(this),e=this.internal.f2,t=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,l=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var k=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=E;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ee){Q=!!ee}});var me=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return me},set:function(ee){me=!!ee}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(ee){isNaN(ee)||(ae=ee)}});var B=0;Object.defineProperty(this,"posY",{get:function(){return B},set:function(ee){isNaN(ee)||(B=ee)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ee){var V;typeof ee=="number"?V=[ee,ee,ee,ee]:((V=new Array(4))[0]=ee[0],V[1]=ee.length>=2?ee[1]:V[0],V[2]=ee.length>=3?ee[2]:V[0],V[3]=ee.length>=4?ee[3]:V[1]),d.margin=V}});var M=!1;Object.defineProperty(this,"autoPaging",{get:function(){return M},set:function(ee){M=ee}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ee){de=ee}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(ee){ce=ee}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ee){ee instanceof m&&(d=ee)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ee){d.path=ee}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(ee){te=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var V;V=b(ee),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var V=b(ee);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var fe=null,Oe=null,W=null;Object.defineProperty(this,"fontFaces",{get:function(){return W},set:function(ee){fe=null,Oe=null,W=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var V;if(this.ctx.font=ee,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ee))!==null){var S=V[1];V[2];var C=V[3],U=V[4];V[5];var we=V[6],Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(U)[2];U=Math.floor(Le==="px"?parseFloat(U)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(U)*this.pdf.getFontSize():parseFloat(U)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(U);var Ce=(function(Gt){var Or,Nn,On=[],$n=Gt.trim();if($n==="")return z1;if($n in dv)return[dv[$n]];for(;$n!=="";){switch(Nn=null,Or=($n=pv($n)).charAt(0)){case'"':case"'":Nn=Pk($n.substring(1),Or);break;default:Nn=Rk($n)}if(Nn===null||(On.push(Nn[0]),($n=pv(Nn[1]))!==""&&$n.charAt(0)!==","))return z1;$n=$n.replace(/^,/,"")}return On})(we);if(this.fontFaces){var He=(function(Gt,Or){var Nn=Gt.getFontList(),On=JSON.stringify(Nn);if(fe===null||Oe!==On){var $n=(function(In){var pn=[];return Object.keys(In).forEach(function(jr){In[jr].forEach(function(En){var Wn=null;switch(En){case"bold":Wn={family:jr,weight:"bold"};break;case"italic":Wn={family:jr,style:"italic"};break;case"bolditalic":Wn={family:jr,weight:"bold",style:"italic"};break;case"":case"normal":Wn={family:jr}}Wn!==null&&(Wn.ref={name:jr,style:En},pn.push(Wn))})}),pn})(Nn);fe=(function(In){for(var pn={},jr=0;jr<In.length;++jr){var En=M1(In[jr]),Wn=En.family,Ir=En.stretch,zn=En.style,Sn=En.weight;pn[Wn]=pn[Wn]||{},pn[Wn][Ir]=pn[Wn][Ir]||{},pn[Wn][Ir][zn]=pn[Wn][Ir][zn]||{},pn[Wn][Ir][zn][Sn]=En}return pn})($n.concat(Or)),Oe=On}return fe})(this.pdf,this.fontFaces),at=Ce.map(function(Gt){return{family:Gt,stretch:"normal",weight:C,style:S}}),Je=(function(Gt,Or,Nn){for(var On=(Nn=Nn||{}).defaultFontFamily||"times",$n=Object.assign({},Ik,Nn.genericFontFamilies||{}),In=null,pn=null,jr=0;jr<Or.length;++jr)if($n[(In=M1(Or[jr])).family]&&(In.family=$n[In.family]),Gt.hasOwnProperty(In.family)){pn=Gt[In.family];break}if(!(pn=pn||Gt[On]))throw new Error("Could not find a font-family for the rule '"+hv(In)+"' and default family '"+On+"'.");if(pn=(function(En,Wn){if(Wn[En])return Wn[En];var Ir=dm[En],zn=Ir<=dm.normal?-1:1,Sn=fv(Wn,Sw,Ir,zn);if(!Sn)throw new Error("Could not find a matching font-stretch value for "+En);return Sn})(In.stretch,pn),pn=(function(En,Wn){if(Wn[En])return Wn[En];for(var Ir=_w[En],zn=0;zn<Ir.length;++zn)if(Wn[Ir[zn]])return Wn[Ir[zn]];throw new Error("Could not find a matching font-style for "+En)})(In.style,pn),!(pn=(function(En,Wn){if(Wn[En])return Wn[En];if(En===400&&Wn[500])return Wn[500];if(En===500&&Wn[400])return Wn[400];var Ir=jk[En],zn=fv(Wn,kw,Ir,En<400?-1:1);if(!zn)throw new Error("Could not find a matching font-weight for value "+En);return zn})(In.weight,pn)))throw new Error("Failed to resolve a font for the rule '"+hv(In)+"'.");return pn})(He,at);this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var ht="";(C==="bold"||parseInt(C,10)>=700||S==="bold")&&(ht="bold"),S==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var Ct="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<Ce.length;Jt++){if(this.pdf.internal.getFont(Ce[Jt],ht,{noFallback:!0,disableWarning:!0})!==void 0){Ct=Ce[Jt];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(Ce[Jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ct=Ce[Jt],ht="bold";else if(this.pdf.internal.getFont(Ce[Jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ct=Ce[Jt],ht="normal";break}}if(Ct===""){for(var Zt=0;Zt<Ce.length;Zt++)if($t[Ce[Zt]]){Ct=$t[Ce[Zt]];break}}Ct=Ct===""?"Times":Ct,this.pdf.setFont(Ct,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};k.prototype.setLineDash=function(E){this.lineDash=E},k.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},k.prototype.fill=function(){A.call(this,"fill",!1)},k.prototype.stroke=function(){A.call(this,"stroke",!1)},k.prototype.beginPath=function(){this.path=[{type:"begin"}]},k.prototype.moveTo=function(E,Y){if(isNaN(E)||isNaN(Y))throw Di.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new u(E,Y));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new u(E,Y)},k.prototype.closePath=function(){var E=new u(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Si(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){E=new u(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(E.x,E.y)},k.prototype.lineTo=function(E,Y){if(isNaN(E)||isNaN(Y))throw Di.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new u(E,Y));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new u(Q.x,Q.y)},k.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},k.prototype.quadraticCurveTo=function(E,Y,Q,me){if(isNaN(Q)||isNaN(me)||isNaN(E)||isNaN(Y))throw Di.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new u(Q,me)),B=this.ctx.transform.applyToPoint(new u(E,Y));this.path.push({type:"qct",x1:B.x,y1:B.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new u(ae.x,ae.y)},k.prototype.bezierCurveTo=function(E,Y,Q,me,ae,B){if(isNaN(ae)||isNaN(B)||isNaN(E)||isNaN(Y)||isNaN(Q)||isNaN(me))throw Di.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var M=this.ctx.transform.applyToPoint(new u(ae,B)),de=this.ctx.transform.applyToPoint(new u(E,Y)),ce=this.ctx.transform.applyToPoint(new u(Q,me));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:ce.x,y2:ce.y,x:M.x,y:M.y}),this.ctx.lastPoint=new u(M.x,M.y)},k.prototype.arc=function(E,Y,Q,me,ae,B){if(isNaN(E)||isNaN(Y)||isNaN(Q)||isNaN(me)||isNaN(ae))throw Di.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(B=!!B,!this.ctx.transform.isIdentity){var M=this.ctx.transform.applyToPoint(new u(E,Y));E=M.x,Y=M.y;var de=this.ctx.transform.applyToPoint(new u(0,Q)),ce=this.ctx.transform.applyToPoint(new u(0,0));Q=Math.sqrt(Math.pow(de.x-ce.x,2)+Math.pow(de.y-ce.y,2))}Math.abs(ae-me)>=2*Math.PI&&(me=0,ae=2*Math.PI),this.path.push({type:"arc",x:E,y:Y,radius:Q,startAngle:me,endAngle:ae,counterclockwise:B})},k.prototype.arcTo=function(E,Y,Q,me,ae){throw new Error("arcTo not implemented.")},k.prototype.rect=function(E,Y,Q,me){if(isNaN(E)||isNaN(Y)||isNaN(Q)||isNaN(me))throw Di.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,Y),this.lineTo(E+Q,Y),this.lineTo(E+Q,Y+me),this.lineTo(E,Y+me),this.lineTo(E,Y),this.lineTo(E+Q,Y),this.lineTo(E,Y)},k.prototype.fillRect=function(E,Y,Q,me){if(isNaN(E)||isNaN(Y)||isNaN(Q)||isNaN(me))throw Di.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,Y,Q,me),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},k.prototype.strokeRect=function(E,Y,Q,me){if(isNaN(E)||isNaN(Y)||isNaN(Q)||isNaN(me))throw Di.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(E,Y,Q,me),this.stroke())},k.prototype.clearRect=function(E,Y,Q,me){if(isNaN(E)||isNaN(Y)||isNaN(Q)||isNaN(me))throw Di.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,Y,Q,me))},k.prototype.save=function(E){E=typeof E!="boolean"||E;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},k.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},k.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(E){var Y,Q,me,ae;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))Y=0,Q=0,me=0,ae=0;else{var B=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(B!==null)Y=parseInt(B[1]),Q=parseInt(B[2]),me=parseInt(B[3]),ae=1;else if((B=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)Y=parseInt(B[1]),Q=parseInt(B[2]),me=parseInt(B[3]),ae=parseFloat(B[4]);else{if(ae=1,typeof E=="string"&&E.charAt(0)!=="#"){var M=new mw(E);E=M.ok?M.toHex():"#000000"}E.length===4?(Y=E.substring(1,2),Y+=Y,Q=E.substring(2,3),Q+=Q,me=E.substring(3,4),me+=me):(Y=E.substring(1,3),Q=E.substring(3,5),me=E.substring(5,7)),Y=parseInt(Y,16),Q=parseInt(Q,16),me=parseInt(me,16)}}return{r:Y,g:Q,b:me,a:ae,style:E}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};k.prototype.fillText=function(E,Y,Q,me){if(isNaN(Y)||isNaN(Q)||typeof E!="string")throw Di.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!g.call(this)){var ae=xe(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;F.call(this,{text:E,x:Y,y:Q,scale:B,angle:ae,align:this.textAlign,maxWidth:me})}},k.prototype.strokeText=function(E,Y,Q,me){if(isNaN(Y)||isNaN(Q)||typeof E!="string")throw Di.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){me=isNaN(me)?void 0:me;var ae=xe(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;F.call(this,{text:E,x:Y,y:Q,scale:B,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:me})}},k.prototype.measureText=function(E){if(typeof E!="string")throw Di.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Q=this.pdf.internal.scaleFactor,me=Y.internal.getFontSize(),ae=Y.getStringUnitWidth(E)*me/Y.internal.scaleFactor;return new function(B){var M=(B=B||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return M}}),this}({width:ae*=Math.round(96*Q/72*1e4)/1e4})},k.prototype.scale=function(E,Y){if(isNaN(E)||isNaN(Y))throw Di.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new f(E,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},k.prototype.rotate=function(E){if(isNaN(E))throw Di.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},k.prototype.translate=function(E,Y){if(isNaN(E)||isNaN(Y))throw Di.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new f(1,0,0,1,E,Y);this.ctx.transform=this.ctx.transform.multiply(Q)},k.prototype.transform=function(E,Y,Q,me,ae,B){if(isNaN(E)||isNaN(Y)||isNaN(Q)||isNaN(me)||isNaN(ae)||isNaN(B))throw Di.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var M=new f(E,Y,Q,me,ae,B);this.ctx.transform=this.ctx.transform.multiply(M)},k.prototype.setTransform=function(E,Y,Q,me,ae,B){E=isNaN(E)?1:E,Y=isNaN(Y)?0:Y,Q=isNaN(Q)?0:Q,me=isNaN(me)?1:me,ae=isNaN(ae)?0:ae,B=isNaN(B)?0:B,this.ctx.transform=new f(E,Y,Q,me,ae,B)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};k.prototype.drawImage=function(E,Y,Q,me,ae,B,M,de,ce){var te=this.pdf.getImageProperties(E),fe=1,Oe=1,W=1,ee=1;me!==void 0&&de!==void 0&&(W=de/me,ee=ce/ae,fe=te.width/me*de/me,Oe=te.height/ae*ce/ae),B===void 0&&(B=Y,M=Q,Y=0,Q=0),me!==void 0&&de===void 0&&(de=me,ce=ae),me===void 0&&de===void 0&&(de=te.width,ce=te.height);var V=this.ctx.transform.decompose(),S=xe(V.rotate.shx),C=new f,U=(C=(C=(C=C.multiply(V.translate)).multiply(V.skew)).multiply(V.scale)).applyToRectangle(new l(B-Y*W,M-Q*ee,me*fe,ae*Oe));if(this.autoPaging){for(var we,Le=O.call(this,U),Ce=[],He=0;He<Le.length;He+=1)Ce.indexOf(Le[He])===-1&&Ce.push(Le[He]);T(Ce);for(var at=Ce[0],Je=Ce[Ce.length-1],ht=at;ht<Je+1;ht++){this.pdf.setPage(ht);var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=ht===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=ht===1?0:Jt+(ht-2)*Zt;if(this.ctx.clip_path.length!==0){var Or=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(we,this.posX+this.margin[3],-Gt+$t+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Or}var Nn=JSON.parse(JSON.stringify(U));Nn=R([Nn],this.posX+this.margin[3],-Gt+$t+this.ctx.prevPageLastElemOffset)[0];var On=(ht>at||ht<Je)&&N.call(this);On&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Zt,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Nn.x,Nn.y,Nn.w,Nn.h,null,null,S),On&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(E,"JPEG",U.x,U.y,U.w,U.h,null,null,S)};var O=function(E,Y,Q){var me=[];Y=Y||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":me.push(Math.floor((E.y+ae)/Q)+1);break;case"arc":me.push(Math.floor((E.y+ae-E.radius)/Q)+1),me.push(Math.floor((E.y+ae+E.radius)/Q)+1);break;case"qct":var B=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);me.push(Math.floor((B.y+ae)/Q)+1),me.push(Math.floor((B.y+B.h+ae)/Q)+1);break;case"bct":var M=De(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);me.push(Math.floor((M.y+ae)/Q)+1),me.push(Math.floor((M.y+M.h+ae)/Q)+1);break;case"rect":me.push(Math.floor((E.y+ae)/Q)+1),me.push(Math.floor((E.y+E.h+ae)/Q)+1)}for(var de=0;de<me.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<me[de];)x.call(this);return me},x=function(){var E=this.fillStyle,Y=this.strokeStyle,Q=this.font,me=this.lineCap,ae=this.lineWidth,B=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=Y,this.font=Q,this.lineCap=me,this.lineWidth=ae,this.lineJoin=B},R=function(E,Y,Q){for(var me=0;me<E.length;me++)switch(E[me].type){case"bct":E[me].x2+=Y,E[me].y2+=Q;case"qct":E[me].x1+=Y,E[me].y1+=Q;default:E[me].x+=Y,E[me].y+=Q}return E},T=function(E){return E.sort(function(Y,Q){return Y-Q})},A=function(E,Y){var Q=this.fillStyle,me=this.strokeStyle,ae=this.lineCap,B=this.lineWidth,M=Math.abs(B*this.ctx.transform.scaleX),de=this.lineJoin;if(this.autoPaging){for(var ce,te,fe=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),W=[],ee=0;ee<Oe.length;ee++)if(Oe[ee].x!==void 0)for(var V=O.call(this,Oe[ee]),S=0;S<V.length;S+=1)W.indexOf(V[S])===-1&&W.push(V[S]);for(var C=0;C<W.length;C++)for(;this.pdf.internal.getNumberOfPages()<W[C];)x.call(this);T(W);for(var U=W[0],we=W[W.length-1],Le=U;Le<we+1;Le++){this.pdf.setPage(Le),this.fillStyle=Q,this.strokeStyle=me,this.lineCap=ae,this.lineWidth=M,this.lineJoin=de;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Le===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Le===1?0:at+(Le-2)*Je;if(this.ctx.clip_path.length!==0){var Ct=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ce,this.posX+this.margin[3],-ht+He+this.ctx.prevPageLastElemOffset),q.call(this,E,!0),this.path=Ct}if(te=JSON.parse(JSON.stringify(fe)),this.path=R(te,this.posX+this.margin[3],-ht+He+this.ctx.prevPageLastElemOffset),Y===!1||Le===0){var $t=(Le>U||Le<we)&&N.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,Je,null).clip().discardPath()),q.call(this,E,Y),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=B}this.path=fe}else this.lineWidth=M,q.call(this,E,Y),this.lineWidth=B},q=function(E,Y){if((E!=="stroke"||Y||!j.call(this))&&(E==="stroke"||Y||!g.call(this))){for(var Q,me,ae=[],B=this.path,M=0;M<B.length;M++){var de=B[M];switch(de.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:de,deltas:[],abs:[]});break;case"lt":var ce=ae.length;if(B[M-1]&&!isNaN(B[M-1].x)&&(Q=[de.x-B[M-1].x,de.y-B[M-1].y],ce>0)){for(;ce>=0;ce--)if(ae[ce-1].close!==!0&&ae[ce-1].begin!==!0){ae[ce-1].deltas.push(Q),ae[ce-1].abs.push(de);break}}break;case"bct":Q=[de.x1-B[M-1].x,de.y1-B[M-1].y,de.x2-B[M-1].x,de.y2-B[M-1].y,de.x-B[M-1].x,de.y-B[M-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var te=B[M-1].x+2/3*(de.x1-B[M-1].x),fe=B[M-1].y+2/3*(de.y1-B[M-1].y),Oe=de.x+2/3*(de.x1-de.x),W=de.y+2/3*(de.y1-de.y),ee=de.x,V=de.y;Q=[te-B[M-1].x,fe-B[M-1].y,Oe-B[M-1].x,W-B[M-1].y,ee-B[M-1].x,V-B[M-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(de)}}me=Y?null:E==="stroke"?"stroke":"fill";for(var S=!1,C=0;C<ae.length;C++)if(ae[C].arc)for(var U=ae[C].abs,we=0;we<U.length;we++){var Le=U[we];Le.type==="arc"?ne.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,Y,!S):J.call(this,Le.x,Le.y),S=!0}else if(ae[C].close===!0)this.pdf.internal.out("h"),S=!1;else if(ae[C].begin!==!0){var Ce=ae[C].start.x,He=ae[C].start.y;P.call(this,ae[C].deltas,Ce,He),S=!0}me&&z.call(this,me),Y&&le.call(this)}},ie=function(E){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-Q;case"top":return E+Y-Q;case"hanging":return E+Y-2*Q;case"middle":return E+Y/2-Q;default:return E}},oe=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};k.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(Y,Q){this.colorStops.push([Y,Q])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},k.prototype.createPattern=function(){return this.createLinearGradient()},k.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ne=function(E,Y,Q,me,ae,B,M,de,ce){for(var te=Ee.call(this,Q,me,ae,B),fe=0;fe<te.length;fe++){var Oe=te[fe];fe===0&&(ce?re.call(this,Oe.x1+E,Oe.y1+Y):J.call(this,Oe.x1+E,Oe.y1+Y)),be.call(this,E,Y,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}de?le.call(this):z.call(this,M)},z=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},re=function(E,Y){this.pdf.internal.out(t(E)+" "+o(Y)+" m")},F=function(E){var Y;switch(E.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var Q,me,ae,B=this.pdf.getTextDimensions(E.text),M=ie.call(this,E.y),de=oe.call(this,M)-B.h,ce=this.ctx.transform.applyToPoint(new u(E.x,M));if(this.autoPaging){var te=this.ctx.transform.decompose(),fe=new f;fe=(fe=(fe=fe.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var Oe=this.ctx.transform.applyToRectangle(new l(E.x,M,B.w,B.h)),W=fe.applyToRectangle(new l(E.x,de,B.w,B.h)),ee=O.call(this,W),V=[],S=0;S<ee.length;S+=1)V.indexOf(ee[S])===-1&&V.push(ee[S]);T(V);for(var C=V[0],U=V[V.length-1],we=C;we<U+1;we++){this.pdf.setPage(we);var Le=we===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],at=He-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],ht=Je-this.margin[3],Ct=we===1?0:Ce+(we-2)*at;if(this.ctx.clip_path.length!==0){var $t=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Q,this.posX+this.margin[3],-1*Ct+Le),q.call(this,"fill",!0),this.path=$t}var Jt=R([JSON.parse(JSON.stringify(W))],this.posX+this.margin[3],-Ct+Le+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*E.scale),ae=this.lineWidth,this.lineWidth=ae*E.scale);var Zt=this.autoPaging!=="text";if(Zt||Jt.y+Jt.h<=He){if(Zt||Jt.y>=Le&&Jt.x<=Je){var Gt=Zt?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Je-Jt.x)[0],Or=R([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Ct+Le+this.ctx.prevPageLastElemOffset)[0],Nn=Zt&&(we>C||we<U)&&N.call(this);Nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,at,null).clip().discardPath()),this.pdf.text(Gt,Or.x,Or.y,{angle:E.angle,align:Y,renderingMode:E.renderingMode}),Nn&&this.pdf.restoreGraphicsState()}}else Jt.y<He&&(this.ctx.prevPageLastElemOffset+=He-Jt.y);E.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ae)}}else E.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*E.scale),ae=this.lineWidth,this.lineWidth=ae*E.scale),this.pdf.text(E.text,ce.x+this.posX,ce.y+this.posY,{angle:E.angle,align:Y,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ae)},J=function(E,Y,Q,me){Q=Q||0,me=me||0,this.pdf.internal.out(t(E+Q)+" "+o(Y+me)+" l")},P=function(E,Y,Q){return this.pdf.lines(E,Y,Q,null,null)},be=function(E,Y,Q,me,ae,B,M,de){this.pdf.internal.out([e(a(Q+E)),e(s(me+Y)),e(a(ae+E)),e(s(B+Y)),e(a(M+E)),e(s(de+Y)),"c"].join(" "))},Ee=function(E,Y,Q,me){for(var ae=2*Math.PI,B=Math.PI/2;Y>Q;)Y-=ae;var M=Math.abs(Q-Y);M<ae&&me&&(M=ae-M);for(var de=[],ce=me?-1:1,te=Y;M>1e-5;){var fe=te+ce*Math.min(M,B);de.push(pe.call(this,E,te,fe)),M-=Math.abs(fe-te),te=fe}return de},pe=function(E,Y,Q){var me=(Q-Y)/2,ae=E*Math.cos(me),B=E*Math.sin(me),M=ae,de=-B,ce=M*M+de*de,te=ce+M*ae+de*B,fe=4/3*(Math.sqrt(2*ce*te)-te)/(M*B-de*ae),Oe=M-fe*de,W=de+fe*M,ee=Oe,V=-W,S=me+Y,C=Math.cos(S),U=Math.sin(S);return{x1:E*Math.cos(Y),y1:E*Math.sin(Y),x2:Oe*C-W*U,y2:Oe*U+W*C,x3:ee*C-V*U,y3:ee*U+V*C,x4:E*Math.cos(Q),y4:E*Math.sin(Q)}},xe=function(E){return 180*E/Math.PI},Se=function(E,Y,Q,me,ae,B){var M=E+.5*(Q-E),de=Y+.5*(me-Y),ce=ae+.5*(Q-ae),te=B+.5*(me-B),fe=Math.min(E,ae,M,ce),Oe=Math.max(E,ae,M,ce),W=Math.min(Y,B,de,te),ee=Math.max(Y,B,de,te);return new l(fe,W,Oe-fe,ee-W)},De=function(E,Y,Q,me,ae,B,M,de){var ce,te,fe,Oe,W,ee,V,S,C,U,we,Le,Ce,He,at=Q-E,Je=me-Y,ht=ae-Q,Ct=B-me,$t=M-ae,Jt=de-B;for(te=0;te<41;te++)C=(V=(fe=E+(ce=te/40)*at)+ce*((W=Q+ce*ht)-fe))+ce*(W+ce*(ae+ce*$t-W)-V),U=(S=(Oe=Y+ce*Je)+ce*((ee=me+ce*Ct)-Oe))+ce*(ee+ce*(B+ce*Jt-ee)-S),te==0?(we=C,Le=U,Ce=C,He=U):(we=Math.min(we,C),Le=Math.min(Le,U),Ce=Math.max(Ce,C),He=Math.max(He,U));return new l(Math.round(we),Math.round(Le),Math.round(Ce-we),Math.round(He-Le))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,Y,Q=(E=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:Y}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Dn.API),(function(r){var e=function(u){var l,f,d,m,k,b,g,j,N,O;for(f=[],d=0,m=(u+=l="\0\0\0\0".slice(u.length%4||4)).length;m>d;d+=4)(k=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(b=(k=((k=((k=((k=(k-(O=k%85))/85)-(N=k%85))/85)-(j=k%85))/85)-(g=k%85))/85)%85,f.push(b+33,g+33,j+33,N+33,O+33)):f.push(122);return(function(x,R){for(var T=R;T>0;T--)x.pop()})(f,l.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var l,f,d,m,k,b=String,g="length",j=255,N="charCodeAt",O="slice",x="replace";for(u[O](-2),u=u[O](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),d=[],m=0,k=(u+=l="uuuuu"[O](u[g]%5||5))[g];k>m;m+=5)f=52200625*(u[N](m)-33)+614125*(u[N](m+1)-33)+7225*(u[N](m+2)-33)+85*(u[N](m+3)-33)+(u[N](m+4)-33),d.push(j&f>>24,j&f>>16,j&f>>8,j&f);return(function(R,T){for(var A=T;A>0;A--)R.pop()})(d,l[g]),b.fromCharCode.apply(b,d)},o=function(u){return u.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),l.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},s=function(u){for(var l=new Uint8Array(u.length),f=u.length;f--;)l[f]=u.charCodeAt(f);return(l=om(l)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};r.processDataByFilters=function(u,l){var f=0,d=u||"",m=[];for(typeof(l=l||[])=="string"&&(l=[l]),f=0;f<l.length;f+=1)switch(l[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=o(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Dn.API),(function(r){r.loadFile=function(e,t,o){return(function(a,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var l=void 0;try{l=(function(f,d,m){var k=new XMLHttpRequest,b=0,g=function(j){var N=j.length,O=[],x=String.fromCharCode;for(b=0;b<N;b+=1)O.push(x(255&j.charCodeAt(b)));return O.join("")};if(k.open("GET",f,!d),k.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(k.onload=function(){k.status===200?m(g(this.responseText)):m(void 0)}),k.send(null),d&&k.status===200)return g(k.responseText)})(a,s,u)}catch{}return l})(e,t,o)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(Dn.API),(function(r){function e(){return(lr.html2canvas?Promise.resolve(lr.html2canvas):ku(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(lr.DOMPurify?Promise.resolve(lr.DOMPurify):ku(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var o=function(l){var f=Si(l);return f==="undefined"?"undefined":f==="string"||l instanceof String?"string":f==="number"||l instanceof Number?"number":f==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(l,f){var d=document.createElement(l);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},s=function l(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),k=f.firstChild;k;k=k.nextSibling)d!==!0&&k.nodeType===1&&k.nodeName==="SCRIPT"||m.appendChild(l(k,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},u=function l(f){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),m=l.convert(Promise.resolve(),d);return(m=m.setProgress(1,l,1,[l])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(l,f){return l.__proto__=f||u.prototype,l},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(l,f){return this.then(function(){switch(f=f||(function(d){switch(o(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},u.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,k=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:k,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var g=0;g<m.length;++g){var j=m[g],N=j.src.find(function(O){return O.format==="truetype"});N&&d.addFont(N.url,j.ref.name,j.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,d.context2d.save(!0),f(this.prop.container,b)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(l,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,f):this.outputPdf(l,f)},u.prototype.outputPdf=function(l,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,f)})},u.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},u.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(l){if(o(l)!=="object")return this;var f=Object.keys(l||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(l,f){return this.then(function(){var d=l in u.template.prop?this.prop[l]:this.opt[l];return f?f(d):d})},u.prototype.setMargin=function(l){return this.then(function(){switch(o(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},u.prototype.setPageSize=function(l){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(l=l||Dn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:f(l.inner.width,l.k),height:f(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},u.prototype.setProgress=function(l,f,d,m){return l!=null&&(this.progress.val=l),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(l,f,d,m){return this.setProgress(l?this.progress.val+l:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},u.prototype.then=function(l,f){var d=this;return this.thenCore(l,f,function(m,k){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(b){return d.updateProgress(null,m),b}).then(m,k).then(function(b){return d.updateProgress(1),b})})},u.prototype.thenCore=function(l,f,d){d=d||Promise.prototype.then;var m=this;l&&(l=l.bind(m)),f&&(f=f.bind(m));var k=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:u.convert(Object.assign({},m),Promise.prototype),b=d.call(k,l,f);return u.convert(b,m.__proto__)},u.prototype.thenExternal=function(l,f){return Promise.prototype.then.call(this,l,f)},u.prototype.thenList=function(l){var f=this;return l.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(l){l&&(l=l.bind(this));var f=Promise.prototype.catch.call(this,l);return u.convert(f,this)},u.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},u.prototype.error=function(l){return this.then(function(){throw new Error(l)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Dn.getPageSize=function(l,f,d){if(Si(l)==="object"){var m=l;l=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var k,b=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=.75;break;case"pc":case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+f}var j,N=0,O=0;if(g.hasOwnProperty(b))N=g[b][1]/k,O=g[b][0]/k;else try{N=d[1],O=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",O>N&&(j=O,O=N,N=j);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",N>O&&(j=O,O=N,N=j)}return{width:O,height:N,unit:f,k,orientation:l}},r.html=function(l,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(M1):null;var d=new u(f);return f.worker?d:d.from(l).doCallback()}})(Dn.API),Dn.API.addJS=function(r){return gv=r,this.internal.events.subscribe("postPutResources",function(){md=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(md+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){md!==void 0&&mv!==void 0&&this.internal.out("/Names <</JavaScript "+md+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var u=a[s],l=o.exec(u);if(l!=null){var f=l[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(s=0;s<d;s++){var k=t.internal.newObject();m.push(k);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<m.length;s++)t.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(o,a,s){var u={title:a,options:s,children:[]};return o==null&&(o=this.root),o.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(o){o.id=t.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},t.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},t.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<o.children.length;s++){var u=o.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(o)),s>0&&this.line("/Prev "+this.makeRef(o.children[s-1])),s<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var l=this.count=this.count_r({count:0},u);if(l>0&&this.line("/Count "+l),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<o.children.length;d++)this.renderItems(o.children[d])},t.outline.line=function(o){this.ctx.val+=o+`\r
`},t.outline.makeRef=function(o){return o.id+" 0 R"},t.outline.makeString=function(o){return"("+t.internal.pdfEscape(o)+")"},t.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(o,a){for(var s=0;s<a.children.length;s++)o.count++,this.count_r(o,a.children[s]);return o.count}}])})(Dn.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,o,a,s,u,l){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(k){for(var b,g=256*k.charCodeAt(4)+k.charCodeAt(5),j=k.length,N={width:0,height:0,numcomponents:1},O=4;O<j;O+=2){if(O+=g,e.indexOf(k.charCodeAt(O+1))!==-1){b=256*k.charCodeAt(O+5)+k.charCodeAt(O+6),N={width:256*k.charCodeAt(O+7)+k.charCodeAt(O+8),height:b,numcomponents:k.charCodeAt(O+9)};break}g=256*k.charCodeAt(O+2)+k.charCodeAt(O+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:l,bitsPerComponent:8,filter:d,index:o,alias:a}}return m}})(Dn.API),Dn.API.processPNG=function(r,e,t,o){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,s=yk(r,{checkCrc:!0}),u=s.width,l=s.height,f=s.channels,d=s.palette,m=s.depth;a=d&&f===1?(function(ne){for(var z=ne.width,le=ne.height,re=ne.data,F=ne.palette,J=ne.depth,P=!1,be=[],Ee=[],pe=void 0,xe=!1,Se=0,De=0;De<F.length;De++){var X=x2(F[De],4),E=X[0],Y=X[1],Q=X[2],me=X[3];be.push(E,Y,Q),me!=null&&(me===0?(Se++,Ee.length<1&&Ee.push(De)):me<255&&(xe=!0))}if(xe||Se>1){P=!0,Ee=void 0;var ae=z*le;pe=new Uint8Array(ae);for(var B=new DataView(re.buffer),M=0;M<ae;M++){var de=U1(B,M,J),ce=x2(F[de],4)[3];pe[M]=ce}}else Se===0&&(Ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:P?8:void 0,colorBytes:re,alphaBytes:pe,needSMask:P,palette:be,mask:Ee}})(s):f===2||f===4?(function(ne){for(var z=ne.data,le=ne.width,re=ne.height,F=ne.channels,J=ne.depth,P=F===2?"DeviceGray":"DeviceRGB",be=F-1,Ee=le*re,pe=be,xe=Ee*pe,Se=1*Ee,De=Math.ceil(xe*J/8),X=Math.ceil(Se*J/8),E=new Uint8Array(De),Y=new Uint8Array(X),Q=new DataView(z.buffer),me=new DataView(E.buffer),ae=new DataView(Y.buffer),B=!1,M=0;M<Ee;M++){for(var de=M*F,ce=0;ce<pe;ce++)Av(me,U1(Q,de+ce,J),M*pe+ce,J);var te=U1(Q,de+pe,J);te<(1<<J)-1&&(B=!0),Av(ae,te,1*M,J)}return{colorSpace:P,colorsPerPixel:be,sMaskBitsPerComponent:B?J:void 0,colorBytes:E,alphaBytes:Y,needSMask:B}})(s):(function(ne){var z=ne.data,le=ne.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:le,colorsPerPixel:le==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?(function(re){for(var F=re.length,J=new Uint8Array(2*F),P=new DataView(J.buffer,J.byteOffset,J.byteLength),be=0;be<F;be++)P.setUint16(2*be,re[be],!1);return J})(z):z,needSMask:!1}})(s);var k,b,g,j=a,N=j.colorSpace,O=j.colorsPerPixel,x=j.sMaskBitsPerComponent,R=j.colorBytes,T=j.alphaBytes,A=j.needSMask,q=j.palette,ie=j.mask,oe=null;return o!==Dn.API.image_compression.NONE&&typeof om=="function"?(oe=(function(ne){var z;switch(ne){case Dn.API.image_compression.FAST:z=11;break;case Dn.API.image_compression.MEDIUM:z=13;break;case Dn.API.image_compression.SLOW:z=14;break;default:z=12}return z})(o),k=this.decode.FLATE_DECODE,b="/Predictor ".concat(oe," /Colors ").concat(O," /BitsPerComponent ").concat(m," /Columns ").concat(u),r=xv(R,Math.ceil(u*O*m/8),O,m,o),A&&(g=xv(T,Math.ceil(u*x/8),1,x,o))):(k=void 0,b=void 0,r=R,A&&(g=T)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:r,index:e,filter:k,decodeParameters:b,transparency:ie,palette:q,sMask:g,predictor:oe,width:u,height:l,bitsPerComponent:m,sMaskBitsPerComponent:x,colorSpace:N}}},(function(r){r.processGIF89A=function(e,t,o,a){var s=new Bk(e),u=s.width,l=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:l},m=new $1(100).encode(d,100);return r.processJPEG.call(this,m,t,o,a)},r.processGIF87A=r.processGIF89A})(Dn.API),Za.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:o,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Za.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Di.log("bit decode error:"+t)}},Za.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var f=this.palette[s>>7-l&1];this.data[u+4*l]=f.blue,this.data[u+4*l+1]=f.green,this.data[u+4*l+2]=f.red,this.data[u+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Za.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var s=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+2*a*4,l=s>>4,f=15&s,d=this.palette[l];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Za.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*o;if(a<this.palette.length){var u=this.palette[a];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Za.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,d=s>>15?255:0,m=o*this.width*4+4*a;this.data[m]=f,this.data[m+1]=l,this.data[m+2]=u,this.data[m+3]=d}this.pos+=r}},Za.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,m=a*this.width*4+4*s;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=l,this.data[m+3]=255}this.pos+=r}},Za.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=255}this.pos+=this.width%4}},Za.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=o,this.data[l+3]=u}},Za.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,o,a){var s=new Za(e,!1),u=s.width,l=s.height,f={data:s.getData(),width:u,height:l},d=new $1(100).encode(f,100);return r.processJPEG.call(this,d,t,o,a)}})(Dn.API),Ev.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,o,a){var s=new Ev(e),u=s.width,l=s.height,f={data:s.getData(),width:u,height:l},d=new $1(100).encode(f,100);return r.processJPEG.call(this,d,t,o,a)}})(Dn.API),Dn.API.processRGBA=function(r,e,t){for(var o=r.data,a=o.length,s=new Uint8Array(a/4*3),u=new Uint8Array(a/4),l=0,f=0,d=0;d<a;d+=4){var m=o[d],k=o[d+1],b=o[d+2],g=o[d+3];s[l++]=m,s[l++]=k,s[l++]=b,u[f++]=g}var j=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Dn.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mu=Dn.API,gd=mu.getCharWidthsArray=function(r,e){var t,o,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,f=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,k=e.doKerning!==!1,b=0,g=r.length,j=0,N=l[0]||f,O=[];for(t=0;t<g;t++)o=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?O.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+u*(1e3/s)||0)/1e3):(b=k&&Si(d[o])==="object"&&!isNaN(parseInt(d[o][j],10))?d[o][j]/m:0,O.push((l[o]||N)/f+b)),j=o;return O},yv=mu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),o=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return mu.processArabic&&(r=mu.processArabic(r)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(r,t,a)/t:gd.apply(this,arguments).reduce(function(s,u){return s+u},0)},vv=function(r,e,t,o){for(var a=[],s=0,u=r.length,l=0;s!==u&&l+e[s]<t;)l+=e[s],s++;a.push(r.slice(0,s));var f=s;for(l=0;s!==u;)l+e[s]>o&&(a.push(r.slice(f,s)),l=0,f=s),l+=e[s],s++;return f!==s&&a.push(r.slice(f,s)),a},wv=function(r,e,t){t||(t={});var o,a,s,u,l,f,d,m=[],k=[m],b=t.textIndent||0,g=0,j=0,N=r.split(" "),O=gd.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var x=Array(f).join(" "),R=[];N.map(function(A){(A=A.split(/\s*\n/)).length>1?R=R.concat(A.map(function(q,ie){return(ie&&q.length?`
`:"")+q})):R.push(A[0])}),N=R,f=yv.apply(this,[x,t])}for(s=0,u=N.length;s<u;s++){var T=0;if(o=N[s],f&&o[0]==`
`&&(o=o.substr(1),T=1),b+g+(j=(a=gd.apply(this,[o,t])).reduce(function(A,q){return A+q},0))>e||T){if(j>e){for(l=vv.apply(this,[o,a,e-(b+g),e]),m.push(l.shift()),m=[l.pop()];l.length;)k.push([l.shift()]);j=a.slice(o.length-(m[0]?m[0].length:0)).reduce(function(A,q){return A+q},0)}else m=[o];k.push(m),b=j+f,g=O}else m.push(o),b+=g+j,g=O}return d=f?function(A,q){return(q?x:"")+A.join(" ")}:function(A){return A.join(" ")},k.map(d)},mu.splitTextToSize=function(r,e,t){var o,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var k=this.internal.getFont(m.fontName,m.fontStyle),b="Unicode";return k.metadata[b]?{widths:k.metadata[b].widths||{0:1},kerning:k.metadata[b].kerning||{}}:{font:k.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);o=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var l,f,d=[];for(l=0,f=o.length;l<f;l++)d=d.concat(wv.apply(this,[o[l],u,s]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",o={},a={},s=0;s<16;s++)o[t[s]]=e[s],a[e[s]]=t[s];var u=function(b){return"0x"+parseInt(b,10).toString(16)},l=r.__fontmetrics__.compress=function(b){var g,j,N,O,x=["{"];for(var R in b){if(g=b[R],isNaN(parseInt(R,10))?j="'"+R+"'":(R=parseInt(R,10),j=(j=u(R).slice(2)).slice(0,-1)+a[j.slice(-1)]),typeof g=="number")g<0?(N=u(g).slice(3),O="-"):(N=u(g).slice(2),O=""),N=O+N.slice(0,-1)+a[N.slice(-1)];else{if(Si(g)!=="object")throw new Error("Don't know what to do with value type "+Si(g)+".");N=l(g)}x.push(j+N)}return x.push("}"),x.join("")},f=r.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,j,N,O,x={},R=1,T=x,A=[],q="",ie="",oe=b.length-1,ne=1;ne<oe;ne+=1)(O=b[ne])=="'"?g?(N=g.join(""),g=void 0):g=[]:g?g.push(O):O=="{"?(A.push([T,N]),T={},N=void 0):O=="}"?((j=A.pop())[0][j[1]]=T,N=void 0,T=j[0]):O=="-"?R=-1:N===void 0?o.hasOwnProperty(O)?(q+=o[O],N=parseInt(q,16)*R,R=1,q=""):q+=O:o.hasOwnProperty(O)?(ie+=o[O],T[N]=parseInt(ie,16)*R,R=1,N=void 0,ie=""):ie+=O;return x},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},k={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(b){var g=b.font,j=k.Unicode[g.postScriptName];j&&(g.metadata.Unicode={},g.metadata.Unicode.widths=j.widths,g.metadata.Unicode.kerning=j.kerning);var N=m.Unicode[g.postScriptName];N&&(g.metadata.Unicode.encoding=N,g.encoding=N.codePages[0])}])})(Dn.API),(function(r){var e=function(t){for(var o=t.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=t.charCodeAt(s);return a};r.API.events.push(["addFont",function(t){var o=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Ad(l)),u.metadata=r.API.TTFFont.open(l),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,o)}}])})(Dn),Dn.API.addSvgAsImage=function(r,e,t,o,a,s,u,l){if(isNaN(e)||isNaN(t))throw Di.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Di.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=o,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},k=this;return(lr.canvg?Promise.resolve(lr.canvg):ku(()=>import("./index.es-BIdGxEV4.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(d,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){k.addImage(f.toDataURL("image/jpeg",1),e,t,o,a,u,l)})},Dn.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(e,t);return this},Dn.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var o,a,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(u),f=[],d=0,m=0,k=0;function b(j,N){var O,x=!1;for(O=0;O<j.length;O+=1)j[O]===N&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var g=l.length;for(k=0;k<g;k+=1)t[l[k]].value=t[l[k]].defaultValue,t[l[k]].explicitSet=!1}if(Si(r)==="object"){for(a in r)if(s=r[a],b(l,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&b(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(d=0;d<s.length;d+=1)if(o=!0,s[d].length===1&&typeof s[d][0]=="number")f.push(String(s[d]-1));else if(s[d].length>1){for(m=0;m<s[d].length;m+=1)typeof s[d][m]!="number"&&(o=!1);o===!0&&f.push([s[d][0]-1,s[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,N=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?N.push("/"+j+" /"+t[j].value):N.push("/"+j+" "+t[j].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(o)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+u.length+l.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+u+l+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Dn.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,u){for(var l,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],k=0,b=s.length;k<b;++k){if(l=u.metadata.characterToGlyph(s.charCodeAt(k)),u.metadata.glyIdsUsed.push(l),u.metadata.toUnicode[l]=s.charCodeAt(k),f.indexOf(l)==-1&&(f.push(l),f.push([parseInt(u.metadata.widthOfGlyph(l),10)])),l=="0")return m.join("");l=l.toString(16),m.push(d[4-l.length],l)}return m.join("")},o=function(s){var u,l,f,d,m,k,b;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],k=0,b=(l=Object.keys(s).sort(function(g,j){return g-j})).length;k<b;k++)u=l[k],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(d=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(u){var l=u.font,f=u.out,d=u.newObject,m=u.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var k=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",j=0;j<b.length;j++)g+=String.fromCharCode(b[j]);var N=d();m({data:g,addLength1:!0,objectId:N}),f("endobj");var O=d();m({data:o(l.metadata.toUnicode),addLength1:!0,objectId:O}),f("endobj");var x=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+wu(l.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),f("/Flags "+l.metadata.flags),f("/StemV "+l.metadata.stemV),f("/ItalicAngle "+l.metadata.italicAngle),f("/Ascent "+l.metadata.ascender),f("/Descent "+l.metadata.decender),f("/CapHeight "+l.metadata.capHeight),f(">>"),f("endobj");var R=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+wu(l.fontName)),f("/FontDescriptor "+x+" 0 R"),f("/W "+r.API.PDFObject.convert(k)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+l.encoding+")"),f(">>"),f(">>"),f("endobj"),l.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+O+" 0 R"),f("/BaseFont /"+wu(l.fontName)),f("/Encoding /"+l.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(u){var l=u.font,f=u.out,d=u.newObject,m=u.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var k=l.metadata.rawData,b="",g=0;g<k.length;g++)b+=String.fromCharCode(k[g]);var j=d();m({data:b,addLength1:!0,objectId:j}),f("endobj");var N=d();m({data:o(l.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var O=d();f("<<"),f("/Descent "+l.metadata.decender),f("/CapHeight "+l.metadata.capHeight),f("/StemV "+l.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),f("/FontName /"+wu(l.fontName)),f("/ItalicAngle "+l.metadata.italicAngle),f("/Ascent "+l.metadata.ascender),f(">>"),f("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+wu(l.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),f("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var u,l=s.text||"",f=s.x,d=s.y,m=s.options||{},k=s.mutex||{},b=k.pdfEscape,g=k.activeFontKey,j=k.fonts,N=g,O="",x=0,R="",T=j[N].encoding;if(j[N].encoding!=="Identity-H")return{text:l,x:f,y:d,options:m,mutex:k};for(R=l,N=g,Array.isArray(l)&&(R=l[0]),x=0;x<R.length;x+=1)j[N].metadata.hasOwnProperty("cmap")&&(u=j[N].metadata.cmap.unicode.codeMap[R[x].charCodeAt(0)]),u||R[x].charCodeAt(0)<256&&j[N].metadata.hasOwnProperty("Unicode")?O+=R[x]:O+="";var A="";return parseInt(N.slice(1))<14||T==="WinAnsiEncoding"?A=b(O,N).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(A=t(O,j[N])),k.isHex=!0,{text:A,x:f,y:d,options:m,mutex:k}};e.events.push(["postProcessText",function(s){var u=s.text||"",l=[],f={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?l.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):l.push(a(Object.assign({},f,{text:u[d]})).text);s.text=l}else s.text=a(Object.assign({},f,{text:u})).text}])})(Dn),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,o){return e.call(this),this.internal.vFS[t]=o,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Dn.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(o){var a,s,u,l,f,d,m,k=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,T=0;this.__bidiEngine__={};var A=function(re){var F=re.charCodeAt(),J=F>>8,P=N[J];return P!==void 0?k[256*P+(255&F)]:J===252||J===253?"AL":x.test(J)?"L":J===8?"R":"N"},q=function(re){for(var F,J=0;J<re.length;J++){if((F=A(re.charAt(J)))==="L")return!1;if(F==="R")return!0}return!1},ie=function(re,F,J,P){var be,Ee,pe,xe,Se=F[P];switch(Se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(Se="AN");break;case"AL":R=!0,Se="R";break;case"WS":case"BN":Se="N";break;case"CS":P<1||P+1>=F.length||(be=J[P-1])!=="EN"&&be!=="AN"||(Ee=F[P+1])!=="EN"&&Ee!=="AN"?Se="N":R&&(Ee="AN"),Se=Ee===be?Ee:"N";break;case"ES":Se=(be=P>0?J[P-1]:"B")==="EN"&&P+1<F.length&&F[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&J[P-1]==="EN"){Se="EN";break}if(R){Se="N";break}for(pe=P+1,xe=F.length;pe<xe&&F[pe]==="ET";)pe++;Se=pe<xe&&F[pe]==="EN"?"EN":"N";break;case"NSM":if(u&&!l){for(xe=F.length,pe=P+1;pe<xe&&F[pe]==="NSM";)pe++;if(pe<xe){var De=re[P],X=De>=1425&&De<=2303||De===64286;if(be=F[pe],X&&(be==="R"||be==="AL")){Se="R";break}}}Se=P<1||(be=F[P-1])==="B"?"N":J[P-1];break;case"B":R=!1,a=!0,Se=T;break;case"S":s=!0,Se="N"}return Se},oe=function(re,F,J){var P=re.split("");return J&&ne(P,J,{hiLevel:T}),P.reverse(),F&&F.reverse(),P.join("")},ne=function(re,F,J){var P,be,Ee,pe,xe,Se=-1,De=re.length,X=0,E=[],Y=T?g:b,Q=[];for(R=!1,a=!1,s=!1,be=0;be<De;be++)Q[be]=A(re[be]);for(Ee=0;Ee<De;Ee++){if(xe=X,E[Ee]=ie(re,Q,E,Ee),P=240&(X=Y[xe][j[E[Ee]]]),X&=15,F[Ee]=pe=Y[X][5],P>0)if(P===16){for(be=Se;be<Ee;be++)F[be]=1;Se=-1}else Se=-1;if(Y[X][6])Se===-1&&(Se=Ee);else if(Se>-1){for(be=Se;be<Ee;be++)F[be]=pe;Se=-1}Q[Ee]==="B"&&(F[Ee]=0),J.hiLevel|=pe}s&&(function(me,ae,B){for(var M=0;M<B;M++)if(me[M]==="S"){ae[M]=T;for(var de=M-1;de>=0&&me[de]==="WS";de--)ae[de]=T}})(Q,F,De)},z=function(re,F,J,P,be){if(!(be.hiLevel<re)){if(re===1&&T===1&&!a)return F.reverse(),void(J&&J.reverse());for(var Ee,pe,xe,Se,De=F.length,X=0;X<De;){if(P[X]>=re){for(xe=X+1;xe<De&&P[xe]>=re;)xe++;for(Se=X,pe=xe-1;Se<pe;Se++,pe--)Ee=F[Se],F[Se]=F[pe],F[pe]=Ee,J&&(Ee=J[Se],J[Se]=J[pe],J[pe]=Ee);X=xe}X++}}},le=function(re,F,J){var P=re.split(""),be={hiLevel:T};return J||(J=[]),ne(P,J,be),(function(Ee,pe,xe){if(xe.hiLevel!==0&&m)for(var Se,De=0;De<Ee.length;De++)pe[De]===1&&(Se=O.indexOf(Ee[De]))>=0&&(Ee[De]=O[Se+1])})(P,J,be),z(2,P,F,J,be),z(1,P,F,J,be),P.join("")};return this.__bidiEngine__.doBidiReorder=function(re,F,J){if((function(be,Ee){if(Ee)for(var pe=0;pe<be.length;pe++)Ee[pe]=pe;l===void 0&&(l=q(be)),d===void 0&&(d=q(be))})(re,F),u||!f||d)if(u&&f&&l^d)T=l?1:0,re=oe(re,F,J);else if(!u&&f&&d)T=l?1:0,re=le(re,F,J),re=oe(re,F);else if(!u||l||f||d){if(u&&!f&&l^d)re=oe(re,F),l?(T=0,re=le(re,F,J)):(T=1,re=le(re,F,J),re=oe(re,F));else if(u&&l&&!f&&d)T=1,re=le(re,F,J),re=oe(re,F);else if(!u&&!f&&l^d){var P=m;l?(T=1,re=le(re,F,J),T=0,m=!1,re=le(re,F,J),m=P):(T=0,re=le(re,F,J),re=oe(re,F),T=1,m=!1,re=le(re,F,J),m=P,re=oe(re,F))}}else T=0,re=le(re,F,J);else T=l?1:0,re=le(re,F,J);return re},this.__bidiEngine__.setOptions=function(re){re&&(u=re.isInputVisual,f=re.isOutputVisual,l=re.isInputRtl,d=re.isOutputRtl,m=re.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var s=o.options||{};o.mutex,s.lang;var u=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(u=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?u.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):u.push([t.doBidiReorder(a[l])]);o.text=u}else o.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Dn),Dn.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Nc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Qk(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Mk(this.contents),this.head=new Uk(this),this.name=new Gk(this),this.cmap=new Nw(this),this.toUnicode={},this.hhea=new $k(this),this.maxp=new Vk(this),this.hmtx=new Kk(this),this.post=new Wk(this),this.os2=new qk(this),this.loca=new Zk(this),this.glyf=new Yk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,o,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,l,f,d;for(d=[],u=0,l=(f=this.bbox).length;u<l;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,o){var a,s,u,l;for(u=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/t)||0;return u*(t/1e3)},r.prototype.lineHeight=function(e,t){var o;return t==null&&(t=!1),o=t?this.lineGap:0,(this.ascender+o-this.decender)/1e3*e},r})();var rl,Nc=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,o;for(o=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)o[t]=String.fromCharCode(this.readByte());return o.join("")},r.prototype.writeString=function(e){var t,o,a;for(a=[],t=0,o=e.length;0<=o?t<o:t>o;t=0<=o?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,o,a,s,u,l,f;return e=this.readByte(),t=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),u=this.readByte(),l=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^s)+65536*(255^u)+256*(255^l)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*o+4294967296*a+16777216*s+65536*u+256*l+f},r.prototype.writeLongLong=function(e){var t,o;return t=Math.floor(e/4294967296),o=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,o;for(t=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)t.push(this.readByte());return t},r.prototype.write=function(e){var t,o,a,s;for(s=[],o=0,a=e.length;o<a;o++)t=e[o],s.push(this.writeByte(t));return s},r})(),Mk=(function(){var r;function e(t){var o,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)o={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[o.tag]=o}return e.prototype.encode=function(t){var o,a,s,u,l,f,d,m,k,b,g,j,N;for(N in g=Object.keys(t).length,f=Math.log(2),k=16*Math.floor(Math.log(g)/f),u=Math.floor(k/f),m=16*g-k,(a=new Nc).writeInt(this.scalarType),a.writeShort(g),a.writeShort(k),a.writeShort(u),a.writeShort(m),s=16*g,d=a.pos+s,l=null,j=[],t)for(b=t[N],a.writeString(N),a.writeInt(r(b)),a.writeInt(d),a.writeInt(b.length),j=j.concat(b),N==="head"&&(l=d),d+=b.length;d%4;)j.push(0),d++;return a.write(j),o=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(o),a.data},r=function(t){var o,a,s,u;for(t=Ew.call(t);t.length%4;)t.push(0);for(s=new Nc(t),a=0,o=0,u=t.length;o<u;o=o+=4)a+=s.readUInt32();return 4294967295&a},e})(),zk={}.hasOwnProperty,jl=function(r,e){for(var t in e)zk.call(e,t)&&(r[t]=e[t]);function o(){this.constructor=r}return o.prototype=e.prototype,r.prototype=new o,r.__super__=e.prototype,r};rl=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var Uk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Nc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Cv=(function(){function r(e,t){var o,a,s,u,l,f,d,m,k,b,g,j,N,O,x,R,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),k=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(g=e.readUInt16(),b=g/2,e.pos+=6,s=(function(){var A,q;for(q=[],f=A=0;0<=b?A<b:A>b;f=0<=b?++A:--A)q.push(e.readUInt16());return q})(),e.pos+=2,N=(function(){var A,q;for(q=[],f=A=0;0<=b?A<b:A>b;f=0<=b?++A:--A)q.push(e.readUInt16());return q})(),d=(function(){var A,q;for(q=[],f=A=0;0<=b?A<b:A>b;f=0<=b?++A:--A)q.push(e.readUInt16());return q})(),m=(function(){var A,q;for(q=[],f=A=0;0<=b?A<b:A>b;f=0<=b?++A:--A)q.push(e.readUInt16());return q})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var A,q;for(q=[],f=A=0;0<=a?A<a:A>a;f=0<=a?++A:--A)q.push(e.readUInt16());return q})(),f=x=0,T=s.length;x<T;f=++x)for(O=s[f],o=R=j=N[f];j<=O?R<=O:R>=O;o=j<=O?++R:--R)m[f]===0?u=o+d[f]:(u=l[m[f]/2+(o-j)-(b-f)]||0)!==0&&(u+=d[f]),this.codeMap[o]=65535&u}e.pos=k}return r.encode=function(e,t){var o,a,s,u,l,f,d,m,k,b,g,j,N,O,x,R,T,A,q,ie,oe,ne,z,le,re,F,J,P,be,Ee,pe,xe,Se,De,X,E,Y,Q,me,ae,B,M,de,ce,te,fe;switch(P=new Nc,u=Object.keys(e).sort(function(Oe,W){return Oe-W}),t){case"macroman":for(N=0,O=(function(){var Oe=[];for(j=0;j<256;++j)Oe.push(0);return Oe})(),R={0:0},s={},be=0,Se=u.length;be<Se;be++)R[de=e[a=u[be]]]==null&&(R[de]=++N),s[a]={old:e[a],new:R[e[a]]},O[a]=R[e[a]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(O),{charMap:s,subtable:P.data,maxGlyphID:N+1};case"unicode":for(F=[],k=[],T=0,R={},o={},x=d=null,Ee=0,De=u.length;Ee<De;Ee++)R[q=e[a=u[Ee]]]==null&&(R[q]=++T),o[a]={old:q,new:R[q]},l=R[q]-a,x!=null&&l===d||(x&&k.push(x),F.push(a),d=l),x=a;for(x&&k.push(x),k.push(65535),F.push(65535),le=2*(z=F.length),ne=2*Math.pow(Math.log(z)/Math.LN2,2),b=Math.log(ne/2)/Math.LN2,oe=2*z-ne,f=[],ie=[],g=[],j=pe=0,X=F.length;pe<X;j=++pe){if(re=F[j],m=k[j],re===65535){f.push(0),ie.push(0);break}if(re-(J=o[re].new)>=32768)for(f.push(0),ie.push(2*(g.length+z-j)),a=xe=re;re<=m?xe<=m:xe>=m;a=re<=m?++xe:--xe)g.push(o[a].new);else f.push(J-re),ie.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*z+2*g.length),P.writeUInt16(0),P.writeUInt16(le),P.writeUInt16(ne),P.writeUInt16(b),P.writeUInt16(oe),B=0,E=k.length;B<E;B++)a=k[B],P.writeUInt16(a);for(P.writeUInt16(0),M=0,Y=F.length;M<Y;M++)a=F[M],P.writeUInt16(a);for(ce=0,Q=f.length;ce<Q;ce++)l=f[ce],P.writeUInt16(l);for(te=0,me=ie.length;te<me;te++)A=ie[te],P.writeUInt16(A);for(fe=0,ae=g.length;fe<ae;fe++)N=g[fe],P.writeUInt16(N);return{charMap:o,subtable:P.data,maxGlyphID:T+1}}},r})(),Nw=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,o,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)t=new Cv(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var o,a;return t==null&&(t="macroman"),o=Cv.encode(e,t),(a=new Nc).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},r})(),$k=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),qk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,o;for(o=[],t=0;t<10;++t)o.push(e.readByte());return o})(),this.charRange=(function(){var t,o;for(o=[],t=0;t<4;++t)o.push(e.readInt());return o})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,o;for(o=[],t=0;t<2;t=++t)o.push(e.readInt());return o})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),Wk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="post",r.prototype.parse=function(e){var t,o,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(o=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return o=e.readUInt16(),this.offsets=e.read(o);case 262144:return this.map=(function(){var u,l,f;for(f=[],s=u=0,l=this.file.maxp.numGlyphs;0<=l?u<l:u>l;s=0<=l?++u:--u)f.push(e.readUInt32());return f}).call(this)}},r})(),Hk=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Gk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="name",r.prototype.parse=function(e){var t,o,a,s,u,l,f,d,m,k,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),o=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)o.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(f={},s=m=0,k=o.length;m<k;s=++m)a=o[s],e.pos=a.offset,d=e.readString(a.length),u=new Hk(d,a),f[b=a.nameID]==null&&(f[b]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),Vk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),Kk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,o,a,s,u,l,f;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,k,b;for(b=[],d=0,m=(k=this.metrics).length;d<m;d++)s=k[d],b.push(s.advance);return b}).call(this),o=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(o));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Ew=[].slice,Yk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,o,a,s,u,l,f,d,m,k;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,o=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+o,u=(l=new Nc(t.read(a))).readShort(),d=l.readShort(),k=l.readShort(),f=l.readShort(),m=l.readShort(),this.cache[e]=u===-1?new Jk(l,d,k,f,m):new Xk(l,u,d,k,f,m),this.cache[e]))},r.prototype.encode=function(e,t,o){var a,s,u,l,f;for(u=[],s=[],l=0,f=t.length;l<f;l++)a=e[t[l]],s.push(u.length),a&&(u=u.concat(a.encode(o)));return s.push(u.length),{table:u,offsets:s}},r})(),Xk=(function(){function r(e,t,o,a,s,u){this.raw=e,this.numberOfContours=t,this.xMin=o,this.yMin=a,this.xMax=s,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),Jk=(function(){function r(e,t,o,a,s){var u,l;for(this.raw=e,this.xMin=t,this.yMin=o,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;l=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&l;)u.pos+=1&l?4:2,128&l?u.pos+=8:64&l?u.pos+=4:8&l&&(u.pos+=2)}return r.prototype.encode=function(){var e,t,o;for(t=new Nc(Ew.call(this.raw.data)),e=0,o=this.glyphIDs.length;e<o;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),Zk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,rl),r.prototype.tag="loca",r.prototype.parse=function(e){var t,o;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,s;for(s=[],o=0,a=this.length;o<a;o+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],o=0,a=this.length;o<a;o+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var o=new Uint32Array(this.offsets.length),a=0,s=0,u=0;u<o.length;++u)if(o[u]=a,s<t.length&&t[s]==u){++s,o[u]=a;var l=this.offsets[u],f=this.offsets[u+1]-l;f>0&&(a+=f)}for(var d=new Array(4*o.length),m=0;m<o.length;++m)d[4*m+3]=255&o[m],d[4*m+2]=(65280&o[m])>>8,d[4*m+1]=(16711680&o[m])>>16,d[4*m]=(4278190080&o[m])>>24;return d},r})(),Qk=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,o,a,s;for(t in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)o=s[t],e[t]=a[o];return e},r.prototype.glyphsFor=function(e){var t,o,a,s,u,l,f;for(a={},u=0,l=e.length;u<l;u++)a[s=e[u]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(o=a[s])!=null&&o.compound&&t.push.apply(t,o.glyphIDs);if(t.length>0)for(s in f=this.glyphsFor(t))o=f[s],a[s]=o;return a},r.prototype.encode=function(e,t){var o,a,s,u,l,f,d,m,k,b,g,j,N,O,x;for(a in o=Nw.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),g={0:0},x=o.charMap)g[(f=x[a]).old]=f.new;for(j in b=o.maxGlyphID,u)j in g||(g[j]=b++);return m=(function(R){var T,A;for(T in A={},R)A[R[T]]=T;return A})(g),k=Object.keys(m).sort(function(R,T){return R-T}),N=(function(){var R,T,A;for(A=[],R=0,T=k.length;R<T;R++)l=k[R],A.push(m[l]);return A})(),s=this.font.glyf.encode(u,N,g),d=this.font.loca.encode(s.offsets,N),O={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},r})();Dn.API.PDFObject=(function(){var r;function e(){}return r=function(t,o){return(Array(o+1).join("0")+t).slice(-o)},e.convert=function(t){var o,a,s,u;if(Array.isArray(t))return"["+(function(){var l,f,d;for(d=[],l=0,f=t.length;l<f;l++)o=t[l],d.push(e.convert(o));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)u=t[a],s.push("/"+a+" "+e.convert(u));return s.push(">>"),s.join(`
`)}return""+t},e})();const gu={t1:"",t2:" Word",t3:" PDF",t4:"",t5:"",t6:""},Tv={1:"",2:"",3:"",4:""},eA={1:lf.HEADING_1,2:lf.HEADING_2,3:lf.HEADING_3,4:lf.HEADING_4};function tA({isOpen:r,onClose:e,sections:t,docName:o}){const[a,s]=tt.useState(""),[u,l]=tt.useState(!1),f=tt.useRef(null),d=()=>{if(!t||t.length===0)return"";let b="";return t.forEach(g=>{const j=g.level||1,N=Tv[j]||Tv[1];b+=`${N}${g.title||""}
`,g.summary&&(b+=`${g.summary}
`),b+=`
`}),b.trim()};if(tt.useState(()=>{r&&s(d())}),r&&!a){const b=d();b!==a&&s(b)}const m=async()=>{try{const b=[];u||a!==d()?a.split(`
`).forEach(O=>{O.trim()?b.push(new Sc({children:[new Id(O)]})):b.push(new Sc({}))}):t.forEach(N=>{const O=N.level||1;b.push(new Sc({text:N.title||"",heading:eA[O]||lf.HEADING_1})),N.summary&&b.push(new Sc({children:[new Id(N.summary)]})),b.push(new Sc({}))});const g=new V6({sections:[{properties:{},children:b}]}),j=await lS.toBlob(g);fS.saveAs(j,`${o||""}.docx`)}catch(b){console.error("Word:",b),alert("Word: "+(b.message||""))}},k=async()=>{try{const b=(await ku(async()=>{const{default:ne}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:ne}},[])).default,g=document.createElement("div");g.style.cssText=`
                position: fixed;
                left: -9999px;
                top: 0;
                width: 595px;
                padding: 40px;
                background: white;
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
                font-size: 14px;
                line-height: 1.8;
                color: #333;
            `;const j=a.split(`
`);let N="";j.forEach(ne=>{ne.includes("")?N+=`<p style="font-size: 16px; font-weight: bold; margin: 16px 0 8px; color: #111;">${ne}</p>`:ne.trim()?N+=`<p style="margin: 8px 0; text-indent: 2em;">${ne}</p>`:N+='<div style="height: 12px;"></div>'}),g.innerHTML=N,document.body.appendChild(g);const O=await b(g,{scale:2,useCORS:!0,logging:!1});document.body.removeChild(g);const x=new Dn("p","mm","a4"),R=190,T=277,A=O.height*R/O.width;let q=A,ie=10;const oe=O.toDataURL("image/png");for(x.addImage(oe,"PNG",10,ie,R,A),q-=T;q>0;)ie=q-A+10,x.addPage(),x.addImage(oe,"PNG",10,ie,R,A),q-=T;x.save(`${o||""}.pdf`)}catch(b){console.error("PDF:",b),alert("PDF: "+(b.message||""))}};return r?v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:e,children:v.jsxs("div",{style:{background:"#fff",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"},onClick:b=>b.stopPropagation(),children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #e2e8f0"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(yf,{size:20,color:"#3b82f6"}),v.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:gu.t1})]}),v.jsx("button",{onClick:e,style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#666"},children:v.jsx(Mu,{size:20})})]}),v.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px 20px",borderBottom:"1px solid #f0f0f0",background:"#fafafa"},children:[v.jsxs("button",{onClick:()=>l(!u),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:u?"#3b82f6":"#fff",color:u?"#fff":"#333",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:[u?v.jsx($x,{size:16}):v.jsx(cf,{size:16}),u?gu.t5:gu.t4]}),v.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"#fff",color:"#333",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:[v.jsx(Q0,{size:16}),gu.t2]}),v.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"#fff",color:"#333",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:[v.jsx(Q0,{size:16}),gu.t3]})]}),v.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px"},children:u?v.jsx("textarea",{ref:f,value:a,onChange:b=>s(b.target.value),style:{width:"100%",height:"100%",minHeight:"400px",padding:"16px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",lineHeight:"1.8",resize:"none",fontFamily:"inherit"}}):v.jsx("div",{style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"1.8",color:"#333",padding:"16px",background:"#f8fafc",borderRadius:"8px",minHeight:"400px"},children:a||gu.t6})})]})}):null}const Ue={t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:"",t9:" Prompt:",t10:"",t11:" Replay",t12:" Replay",t15:"",t16:"",t17:"",t18:"",t19:"",t20:"",t21:"",t22:"",t23:"",t24:"",t25:"",t26:"",t27:"",t28:"",t29:"",t30:"",t41:"",t43:"",t45:"",t59:"",t61:"",t62:"",t63:"",t64:"",t65:"",t66:"",t67:"",t70:"",t71:" section",t72:"",t73:"",t74:"",t75:"",t76:"",t77:"",t78:"",t79:"",t80:"",t81:"",t82:"",t83:"",t84:"",t85:"",t86:"",t87:"",t88:"1. / 2. /",t89:"",t90:"",t91:"",t92:"",t93:"",t94:"",t95:"",t96:"",t97:"",t98:"A",t99:"",t100:"",t101:"",t102:"",t103:"",t104:"()",t105:"(%)",t106:"",t107:"",t108:"SOP",t109:"",t110:"",t111:"",t112:"",t113:"...",t114:"",t115:"",t116:"",t117:"...",t118:"",t119:"...",t120:"",t122:"",t123:"",t124:"...",t125:"",t126:"",t127:"",t128:"",t129:"",t130:"",t131:"...",t134:"",t135:"",t136:"",t137:"",t138:"",t139:"",t140:"",t141:"",t142:"",t143:"",t144:"",t145:"",t146:"",t147:"Prompt",t148:"",t149:"",t150:"",t151:"",t152:"",t153:"",t154:"",t155:"",t156:"",t157:"",t158:"",t159:"",t160:"",t161:"",t162:"",t164:""};async function mn(r,e={}){const t=await fetch(r,{headers:{"Content-Type":"application/json"},...e,body:e.body?JSON.stringify(e.body):void 0});if(!t.ok){const a=await t.text();let s=a;try{s=JSON.parse(a).error||a}catch{}throw new Error(s||"")}return(t.headers.get("content-type")||"").includes("application/json")?t.json():t.text()}function nA(r){return new Promise((e,t)=>{const o=new FileReader;o.onload=()=>e(o.result.toString()),o.onerror=t,o.readAsText(r,"utf-8")})}const Lv=r=>(r||"").toString().trim().toLowerCase().endsWith(".docx"),yd=["tab_outline","tab_records","tab_config","tab_strategy"],jv={tab_outline:"",tab_records:"",tab_config:"",tab_strategy:""},Iv=/^[:]?\s*/,Wc=r=>{if(typeof r!="string"||!/[\u00C0-\u00FF]/.test(r))return r;const e=Uint8Array.from(r,o=>o.charCodeAt(0)&255),t=new TextDecoder("utf-8").decode(e);return/[\u4e00-\u9fff]/.test(t)?t:r},rA=r=>typeof r=="string"&&(/\uFFFD/.test(r)||/\?{2,}/.test(r)),ec=(r,e="")=>{if(r==null)return e;const o=Wc((r||"").toString()).trim();return!o||rA(o)?e:o},q1=r=>{if(!r||typeof r!="object")return r;const e={...r};return typeof e.label=="string"&&(e.label=ec(e.label,"")),typeof e.prompt=="string"&&(e.prompt=ec(e.prompt,"")),typeof e.title=="string"&&(e.title=ec(e.title,"")),e},iA={tab_outline:["","",""],tab_records:["","",""],tab_config:["","",""],tab_strategy:["",""]},oA={inputSource:"optional",actionExecution:"optional",executionSummary:"optional",recordLocation:"optional"},Pv=[{id:"app_btn_daily_merge",label:"",groupIds:[]},{id:"app_btn_competitor_report",label:"",groupIds:[]},{id:"app_btn_custom_write",label:"",groupIds:[]}],sA=async()=>{const r=await ku(()=>import("./mammoth.browser-BNU1FDIp.js").then(e=>e.m),[]);return(r==null?void 0:r.default)||r},aA=r=>{var l;const e=(r||"").toString();if(!e.trim())return"";let t;try{t=new DOMParser().parseFromString(e,"text/html")}catch{return e.replace(/<[^>]+>/g," ").replace(/\s+\n/g,`
`).trim()}const o=[],a=(f="")=>{const d=(f||"").toString().replace(/\s+/g," ").trim();d&&o.push(d)},s=()=>{o.length&&o[o.length-1]!==""&&o.push("")},u=(f,d=0)=>{if(!f||f.nodeType===3)return;const m=f;if(!m.tagName){Array.from(m.childNodes||[]).forEach(b=>u(b,d));return}const k=m.tagName.toUpperCase();if(/^H[1-6]$/.test(k)){const b=Math.max(1,Math.min(6,Number(k.slice(1))||1)),g=(m.textContent||"").toString().trim();g&&a(`${"#".repeat(b)} ${g}`),s();return}if(k==="P"){const b=(m.textContent||"").toString().trim();b&&a(b),s();return}if(k==="LI"){const b=(m.textContent||"").toString().trim();b&&a(`${"  ".repeat(Math.max(0,d))}- ${b}`);return}if(k==="UL"||k==="OL"){Array.from(m.children||[]).forEach(b=>u(b,d+1)),s();return}if(k==="BR"){s();return}Array.from(m.childNodes||[]).forEach(b=>u(b,d))};return Array.from(((l=t.body)==null?void 0:l.childNodes)||[]).forEach(f=>u(f,0)),o.join(`
`).replace(/\n{3,}/g,`

`).trim()},Rv=async r=>{const e=await r.arrayBuffer(),o=await(await sA()).convertToHtml({arrayBuffer:e}),a=((o==null?void 0:o.value)||"").toString(),s=aA(a);return s.trim()?s:""};function Cw(r){const e=new Set,t=[];for(let o=r.length-1;o>=0;o-=1){const a=r[o];!(a!=null&&a.id)||e.has(a.id)||(e.add(a.id),t.unshift(a))}return t}function vd(r,e){const t=Cw(e||[]),o=new Set(t.map(s=>s.id)),a=(r||[]).filter(s=>!o.has(s.id));return[...t,...a]}function lA(r){const e=[],t=[];return(r||[]).forEach(o=>{const a=Number(o==null?void 0:o.level)||1,s=Math.max(1,Math.min(4,a)),u={section:o,level:s,children:[]};for(;t.length&&t[t.length-1].level>=s;)t.pop();t.length?t[t.length-1].node.children.push(u):e.push(u),t.push({level:s,node:u})}),e}const pf="llm_buttons_v1",Dv="llm_buttons_migrated_v2",Tw="deposits_v1",Lw="deposits_seq_v1",af="__REPLAY_META__",W1="replay_dir_handle_v1",H1="shared_scene_id";function Dm(){return new Promise((r,e)=>{const t=indexedDB.open("doc_workspace_handles",1);t.onupgradeneeded=()=>{const o=t.result;o.objectStoreNames.contains("kv")||o.createObjectStore("kv")},t.onsuccess=()=>r(t.result),t.onerror=()=>e(t.error)})}async function cA(r){const e=await Dm();return new Promise((t,o)=>{const u=e.transaction("kv","readonly").objectStore("kv").get(r);u.onsuccess=()=>t(u.result||null),u.onerror=()=>o(u.error)})}async function uA(r,e){const t=await Dm();return new Promise((o,a)=>{const l=t.transaction("kv","readwrite").objectStore("kv").put(e,r);l.onsuccess=()=>o(!0),l.onerror=()=>a(l.error)})}async function fA(r){const e=await Dm();return new Promise((t,o)=>{const u=e.transaction("kv","readwrite").objectStore("kv").delete(r);u.onsuccess=()=>t(!0),u.onerror=()=>o(u.error)})}const Om=`
 JSON 

[
  {"id":"...","title":"","summary":"20","hint":"","level":1-4}
]


- level  1/2/3/4 1
- title 
- summary 20
- hint 1-2
-  JSON


{{text}}
`.trim(),_u=`
 JSON
- summary: 
- detail: 
- edits: [{sectionId, field:'title'|'summary', content}]
 JSON
`.trim(),jw=`
 Markdown 
`.trim();function Su(r,e){const t=(e==null?void 0:e.dataSource)==="selected_doc"?"selected_doc":"preview",o=(e==null?void 0:e.outputTarget)==="title"?"title":"summary",a=Array.isArray(r)?r:null;if(!a)return[{id:"io_migrated_1",enabled:!0,dataSource:t,output:"titles",target:"title"},{id:"io_migrated_2",enabled:!0,dataSource:t,output:"summaries",target:o}];const s=a.map((u,l)=>{const f=typeof(u==null?void 0:u.id)=="string"&&u.id.trim()?u.id.trim():`io_${l+1}`,d=(u==null?void 0:u.enabled)!==!1,m=(u==null?void 0:u.dataSource)==="selected_doc"?"selected_doc":"preview",k=(u==null?void 0:u.output)==="summaries"?"summaries":"titles",b=(u==null?void 0:u.target)==="title"?"title":"summary";return{id:f,enabled:d,dataSource:m,output:k,target:b}}).filter(u=>u.id);return s.length?s:Su(null,e)}const Ov="llm",Zl=r=>r==="script"?"script":"llm";function Ac(){return[{id:"btn_outline_extract",kind:"outline_extract",label:"",enabled:!0,precipitationMode:"llm",prompt:Om,dataSource:"preview",outputTarget:"summary",io:[{id:"io_default_1",enabled:!0,dataSource:"preview",output:"titles",target:"title"},{id:"io_default_2",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_outline_slot_1",kind:"outline_action",label:"",enabled:!1,precipitationMode:"llm",prompt:_u,io:[{id:"io_outline_slot_1",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_outline_slot_2",kind:"outline_action",label:"",enabled:!1,precipitationMode:"llm",prompt:_u,io:[{id:"io_outline_slot_2",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_outline_slot_3",kind:"outline_action",label:"",enabled:!1,precipitationMode:"llm",prompt:_u,io:[{id:"io_outline_slot_3",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_dispatch",kind:"dispatch",label:"",enabled:!0,precipitationMode:"llm",prompt:_u,io:[{id:"io_dispatch_1",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]},{id:"btn_final_generate",kind:"final_generate",label:"",enabled:!0,precipitationMode:"llm",prompt:jw,io:[{id:"io_final_1",enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]}]}function Fv(){try{const r=localStorage.getItem(pf);if(!r)return Ac();const e=JSON.parse(r);if(!Array.isArray(e))return Ac();const t=e.map((l,f)=>{const d=typeof(l==null?void 0:l.id)=="string"&&l.id.trim()?l.id.trim():`btn_${f+1}`,m=(l==null?void 0:l.kind)==="dispatch"||(l==null?void 0:l.kind)==="final_generate"||(l==null?void 0:l.kind)==="outline_extract"||(l==null?void 0:l.kind)==="outline_action"?l.kind:"outline_extract",k=typeof(l==null?void 0:l.label)=="string"?l.label:"",b=!!(l!=null&&l.enabled),g=(l==null?void 0:l.dataSource)==="selected_doc"?"selected_doc":"preview",j=m==="dispatch"?_u:m==="final_generate"?jw:m==="outline_action"?_u:Om,N=typeof(l==null?void 0:l.prompt)=="string"?l.prompt:j,O=(l==null?void 0:l.outputTarget)==="title"?"title":"summary",x=Su(l==null?void 0:l.io,{dataSource:g,outputTarget:O}),R=Zl(l==null?void 0:l.precipitationMode);return{id:d,kind:m,label:k,enabled:b,prompt:N,io:x,precipitationMode:R}}).filter(l=>l.id),o=Ac(),a=localStorage.getItem(Dv)==="1",s=[...t];if((a?o.filter(l=>l.kind==="outline_action"):o).forEach(l=>{s.some(f=>f.id===l.id)||s.push(l)}),!a)try{localStorage.setItem(Dv,"1"),localStorage.setItem(pf,JSON.stringify(s))}catch{}return s.length?s:o}catch{return Ac()}}function dA(){try{const r=localStorage.getItem(Tw);if(!r)return[];const e=JSON.parse(r);return Array.isArray(e)?e.map(t=>({id:typeof(t==null?void 0:t.id)=="string"&&t.id.trim()?t.id.trim():`_${Date.now()}`,name:typeof(t==null?void 0:t.name)=="string"&&t.name.trim()?Wc(t.name).trim():void 0,createdAt:typeof(t==null?void 0:t.createdAt)=="number"?t.createdAt:Date.now(),precipitationMode:Zl(t==null?void 0:t.precipitationMode),sections:Array.isArray(t==null?void 0:t.sections)?t.sections.map(o=>({...o,action:Wc(o==null?void 0:o.action),content:Wc(o==null?void 0:o.content),summary:Wc(o==null?void 0:o.summary),hint:Wc(o==null?void 0:o.hint)})):[]})).filter(t=>t.id):[]}catch{return[]}}function hA(){try{const r=localStorage.getItem(Lw),e=Number(r);return Number.isFinite(e)&&e>0?Math.floor(e):0}catch{return 0}}function pA({onSwitch:r}){var nt,Re,We,et,gt,rt,dt,mt,vt,wt,xn,an,ir,hn,kr,Ii,or,ln,Xt,Mi,Kn,xr,mi,oo,Gi,Ti,Ji,so,vi,Lr,Hr,wi,Gr,Pi,Ri,ai,So;const[e,t]=tt.useState(null),[o,a]=tt.useState([]),[s,u]=tt.useState(null),[l,f]=tt.useState(null),[d,m]=tt.useState(!1),[k,b]=tt.useState(!1),[g,j]=tt.useState(!1),[N,O]=tt.useState(""),[x,R]=tt.useState(!0),[T,A]=tt.useState("outline"),[q,ie]=tt.useState("deposits"),[oe,ne]=tt.useState([]),[z,le]=tt.useState({}),[re,F]=tt.useState({}),[J,P]=tt.useState(""),[be,Ee]=tt.useState("doc"),[pe,xe]=tt.useState({}),[Se,De]=tt.useState({}),[X,E]=tt.useState({}),[Y,Q]=tt.useState({}),[me,ae]=tt.useState(""),[B,M]=tt.useState({}),[de,ce]=tt.useState({}),[te,fe]=tt.useState({}),[Oe,W]=tt.useState({}),[ee,V]=tt.useState(!1),[S,C]=tt.useState(!1),U={"preview-panel":{left:20,top:20,width:600,height:360},"document-list-panel":{left:20,top:396,width:600,height:376},"processing-panel":{left:636,top:20,width:550,height:376},"operations-panel":{left:636,top:412,width:550,height:360}},[we,Le]=tt.useState(()=>{let h=null;try{const G=localStorage.getItem("layout_panel_positions");G&&(h=JSON.parse(G))}catch(G){console.warn("Failed to load layout",G)}const y=G=>G&&G.width>100&&G.height>100;if(h){if(h["input-panel"]&&!h["input-form-panel"]){console.log("[Layout Migration] 45...");const Z=h["input-panel"],ge=Math.floor(Z.height/2)-10;h["input-form-panel"]={left:Z.left,top:Z.top,width:Z.width,height:ge},h["document-list-panel"]={left:Z.left,top:Z.top+ge+20,width:Z.width,height:ge},delete h["input-panel"];try{localStorage.setItem("layout_panel_positions",JSON.stringify(h)),console.log("[Layout Migration] ")}catch(Ae){console.warn("[Layout Migration] :",Ae)}}if(h["input-form-panel"]){console.log("[Layout Migration] Removing input-form-panel and expanding document-list-panel...");const Z=h["input-form-panel"],ge=h["document-list-panel"];Z&&ge&&(h["document-list-panel"]={left:ge.left,top:Z.top,width:ge.width,height:ge.top-Z.top+ge.height}),delete h["input-form-panel"];try{localStorage.setItem("layout_panel_positions",JSON.stringify(h)),console.log("[Layout Migration 2] Completed")}catch(Ae){console.warn("[Layout Migration 2] Save failed:",Ae)}}const G={...U};return Object.keys(U).forEach(Z=>{h[Z]&&y(h[Z])&&(G[Z]=h[Z])}),G}console.log("[Panel Init] DEFAULT_LAYOUT:",U);const L={...U};return console.log("[Panel Init] ?",L),L}),[Ce,He]=tt.useState(()=>{try{const h=localStorage.getItem("layout_size");if(h){const y=JSON.parse(h);if(y&&Number(y.width)>0&&Number(y.height)>0)return{width:Number(y.width),height:Number(y.height)}}}catch{}return{width:1800,height:1200}}),at={"input-form-panel":{left:10,top:10,width:560,height:400},"document-list-panel":{left:10,top:10,width:560,height:300},"document-replay-ui":{left:10,top:320,width:560,height:46},"preview-textarea":{left:10,top:10,width:420,height:250},"preview-toolbar":{left:10,top:270,width:420,height:50},"processing-panel":{left:10,top:60,width:1060,height:720},"processing-tabs":{left:10,top:10,width:560,height:44},"processing-records-toolbar":{left:10,top:60,width:560,height:36},"processing-records-list":{left:10,top:108,width:1060,height:650},"operations-panel":{left:10,top:10,width:1100,height:300}},[Je,ht]=tt.useState(()=>{try{const h=localStorage.getItem("layout_content_blocks");if(h){const y=JSON.parse(h),L={...at,...y},G=L["processing-records-toolbar"];return G&&Number(G.height)>50&&(L["processing-records-toolbar"]={...G,height:36}),L}}catch(h){console.warn("Failed to load content block positions",h)}return at}),Ct=h=>{if(!h||typeof h!="object")return{...Gl};const y={...h};y["input-panel"]&&!y["input-form-panel"]&&(y["input-form-panel"]=y["input-panel"]||[],delete y["input-panel"]);const L={...Gl};if(Object.keys(Gl).forEach(G=>{Array.isArray(y[G])&&(L[G]=y[G])}),L["input-form-panel"]&&(L["input-form-panel"]=L["input-form-panel"].filter(G=>G.id!=="btn_input_import_text")),Array.isArray(L["processing-tabs"])){const G=Gl["processing-tabs"]||[],Z=new Map(L["processing-tabs"].map(he=>[he.kind,he])),ge=new Map(G.map(he=>[he.kind,he]));let Ae=!1,ke=G.map(he=>{var Me;const Ze=Z.get(he.kind);if(!Ze)return he;const Qe=typeof(Ze==null?void 0:Ze.label)=="string"?ec(Ze.label,""):"";return(Me=iA[he.kind])!=null&&Me.includes(Qe)&&(Ae=!0),{...Ze,label:jv[he.kind]||he.label}});Ae&&(ke=ke.map(he=>{const Ze=ge.get(he.kind);return Ze?{...he,left:Ze.left,top:Ze.top,width:Ze.width,height:Ze.height}:he})),L["processing-tabs"]=ke.concat(L["processing-tabs"].filter(he=>!G.some(Ze=>Ze.kind===he.kind)))}if(Object.keys(L).forEach(G=>{if(!Array.isArray(L[G]))return;const Z=Gl[G]||[],ge=new Map(Z.map(ke=>[ke.kind,ke])),Ae=new Map(Z.map(ke=>[ke.id,ke]));L[G]=L[G].map(ke=>{var Me,kt;const he=q1(ke),Ze=((Me=Ae.get(ke.id))==null?void 0:Me.label)||((kt=ge.get(ke.kind))==null?void 0:kt.label)||he.label||ke.label||"",Qe=ec(he.label,Ze);return{...he,label:Qe}})}),Array.isArray(L["processing-records-toolbar"])){const G={group_new:{left:12,top:44},group_update:{left:122,top:44}},Z=Gl["processing-records-toolbar"]||[],ge=new Map(L["processing-records-toolbar"].map(ke=>[ke.kind,ke]));Object.entries(G).every(([ke,he])=>{const Ze=ge.get(ke);return Ze&&Number(Ze.left)===he.left&&Number(Ze.top)===he.top})&&(L["processing-records-toolbar"]=L["processing-records-toolbar"].map(ke=>{const he=Z.find(Ze=>Ze.kind===ke.kind);return he?{...ke,left:he.left,top:he.top,width:he.width,height:he.height}:ke}))}return L},[$t,Jt]=tt.useState(()=>{let h=Ih();return h?(h["input-panel"]&&!h["input-form-panel"]&&(console.log("[Button Migration] 45..."),h["input-form-panel"]=h["input-panel"]||[],h["document-list-panel"]=Gl["document-list-panel"]||[],delete h["input-panel"],console.log("[Button Migration] ")),Ct(h)):Gl}),[Zt,Gt]=tt.useState(()=>{try{const h=localStorage.getItem("global-buttons-config");if(h){const L=JSON.parse(h);if(L.activeButtons)return console.log("[GlobalButtons] Loaded from new format:",L.activeButtons.length,"buttons"),L.activeButtons.map(Z=>{const ge=q1(Z);return ge.label===""&&!ge.kind?(console.log("[GlobalButtons] Auto-fixing missing kind for outline_extract button"),{...ge,kind:"outline_extract"}):ge})}const y=Ih();if(y&&Object.keys(y).length>0){console.log("[GlobalButtons] Migrating from old format..."),Lx(y,"app-button-config"),Ix("app-button-config",3);const L=Tx(y,we);return L.activeButtons=(L.activeButtons||[]).map(G=>q1(G)),localStorage.setItem("global-buttons-config",JSON.stringify(L)),console.log("[GlobalButtons] Migration complete:",L.activeButtons.length,"buttons"),L.activeButtons}}catch(h){console.warn("[GlobalButtons] Failed to load config:",h)}return[]}),[Or,Nn]=tt.useState(()=>{try{const h=localStorage.getItem("global_buttons_backup");return h?JSON.parse(h):[]}catch{return[]}}),[On,$n]=tt.useState(()=>{try{const h=localStorage.getItem("deleted_buttons_config");return h?JSON.parse(h):[]}catch{return[]}}),[In,pn]=tt.useState(()=>{try{const h=localStorage.getItem("layout_deleted_blocks");return h?JSON.parse(h):[]}catch{return[]}}),[jr,En]=tt.useState(!1);tt.useEffect(()=>{En(!1)},[S]),tt.useEffect(()=>{mn("/api/config/all").then(h=>{let y=!1;if(h.layout&&Object.keys(h.layout).length>0&&(Le(L=>({...L,...h.layout})),y=!0),h.globalButtons&&h.globalButtons.activeButtons){const L=h.globalButtons.activeButtons.map(G=>G.label===""&&!G.kind?(console.log("[GlobalButtons] Auto-fixing missing kind for outline_extract button (backend)"),{...G,kind:"outline_extract"}):G);L.some(G=>G.id==="btn_input_upload_file")||(console.log("[GlobalButtons] Restoring missing upload_file button"),L.push({id:"btn_input_upload_file",kind:"upload_file",label:"",x:136,y:408,width:100,height:36,enabled:!0})),Gt(L),y=!0}else if(h.buttons&&h.buttons.activeButtons){const L=h.buttons.activeButtons.map(G=>G.label===""&&!G.kind?(console.log("[GlobalButtons] Auto-fixing missing kind for outline_extract button (backend)"),{...G,kind:"outline_extract"}):G);L.some(G=>G.id==="btn_input_upload_file")||(console.log("[GlobalButtons] Restoring missing upload_file button"),L.push({id:"btn_input_upload_file",kind:"upload_file",label:"",x:136,y:408,width:100,height:36,enabled:!0})),Gt(L),y=!0}if(h.contentBlocks&&Object.keys(h.contentBlocks).length>0&&(ht(L=>({...L,...h.contentBlocks})),y=!0),h.deletedBlocks&&Array.isArray(h.deletedBlocks)&&(pn(h.deletedBlocks),y=!0),Array.isArray(h.llmButtons)&&h.llmButtons.length>0)try{localStorage.setItem(pf,JSON.stringify(h.llmButtons)),zt(Fv()),y=!0}catch{}if(h.headerTitles&&typeof h.headerTitles=="object"&&(Ei(L=>({...L,...h.headerTitles})),y=!0),h.layoutSize&&Number(h.layoutSize.width)>0&&Number(h.layoutSize.height)>0&&(He({width:Number(h.layoutSize.width),height:Number(h.layoutSize.height)}),y=!0),console.log("Loaded config from backend, hasServerData:",y),!y){console.log("Server config empty, syncing local config to server...");const L=localStorage.getItem("layout_panel_positions"),G=localStorage.getItem("global-buttons-config"),Z=localStorage.getItem("layout_content_blocks"),ge=localStorage.getItem("layout_deleted_blocks"),Ae=localStorage.getItem("workbench_header_titles"),ke=localStorage.getItem("layout_size"),he=localStorage.getItem(pf);if(L||G||Z||Ae||ke||he){const Ze={layout:L?JSON.parse(L):we,globalButtons:G?JSON.parse(G):{activeButtons:Zt},contentBlocks:Z?JSON.parse(Z):Je,deletedBlocks:ge?JSON.parse(ge):In,headerTitles:Ae?JSON.parse(Ae):tn,layoutSize:ke?JSON.parse(ke):Ce,llmButtons:he?JSON.parse(he):vn};mn("/api/config/save",{method:"POST",body:Ze}).then(()=>console.log("Synced local config to server"))}}}).catch(h=>console.warn("Failed to load backend config, using local storage",h))},[]);const[Wn,Ir]=tt.useState(null),[zn,Sn]=tt.useState(null),[Ur,Zs]=tt.useState(null),[ki,Oi]=tt.useState(null),[$i,wn]=tt.useState(null),[yr,Po]=tt.useState(null),[qi,ao]=tt.useState([]),[Bn,Fr]=tt.useState(()=>dA()),[fi,Xo]=tt.useState(()=>hA()),[di,Ie]=tt.useState({}),[Ke,bt]=tt.useState({}),[Qt,cn]=tt.useState({}),[on,sn]=tt.useState({}),[en,Fn]=tt.useState(""),[mr,Br]=tt.useState(""),[_r,Jn]=tt.useState([]),[hi,ii]=tt.useState(""),[ur,Pn]=tt.useState({}),[Mr,Qr]=tt.useState(!1),[Er,Sr]=tt.useState(Pv),[Ai,Hn]=tt.useState(!1),[$r,ei]=tt.useState({dirPath:"",autoLoadFiles:!0}),[vr,Ro]=tt.useState(!1),[lo,co]=tt.useState(!1),[Ki,Ni]=tt.useState(""),[tn,Ei]=tt.useState(()=>{var L,G;const h={eyebrow:{text:"EXPERIENCE STUDIO",style:{},position:{left:0,top:0},width:200,height:30},title:{text:"",style:{},position:{left:0,top:24},width:200,height:40}},y=(Z,ge)=>ec(Z,ge);try{const Z=localStorage.getItem("workbench_header_titles");if(Z){const ge=JSON.parse(Z);return{eyebrow:{...h.eyebrow,...(ge==null?void 0:ge.eyebrow)||{},text:y((L=ge==null?void 0:ge.eyebrow)==null?void 0:L.text,h.eyebrow.text)},title:{...h.title,...(ge==null?void 0:ge.title)||{},text:y((G=ge==null?void 0:ge.title)==null?void 0:G.text,h.title.text)}}}}catch(Z){console.warn("Failed to load header titles",Z)}return h}),[uo,$o]=tt.useState(null),[zr,Qn]=tt.useState(null),[fo,Cr]=tt.useState(null),xo=h=>{var Z;const L={"input-form-panel":Ue.t149,"document-list-panel":Ue.t150,"processing-panel":Ue.t151,"preview-panel":Ue.t152,"operations-panel":Ue.t153}[h]||h;return ec((Z=we[h])==null?void 0:Z.customTitle,"")||L},ho=tt.useRef(null),ha=tt.useRef(null),qn=tt.useRef(null),qr=tt.useRef(null);tt.useEffect(()=>{if(d)return;const h=Zt.find(G=>G.kind==="outline_extract");let y=!1,L=[...Zt];if(h)h.enabled===!1&&(L=L.map(G=>G.id===h.id?{...G,enabled:!0}:G),y=!0);else{console.log("Guardian: Restoring missing outline_extract button");const G=Ac().find(Z=>Z.kind==="outline_extract");G&&(L=[{...G,id:`btn_guardian_${Date.now()}`,enabled:!0},...L],y=!0)}y&&(Gt(L),localStorage.setItem("global-buttons-config",JSON.stringify({activeButtons:L})))},[Zt,d]);const[gr,_s]=tt.useState({text:"",start:0,end:0}),[dr,Et]=tt.useState({}),[Kr,eo]=tt.useState(null),[to,dn]=tt.useState(""),[Jo,Qs]=tt.useState([]),[il,Ln]=tt.useState(!1),[kn,Yr]=tt.useState(!1),[Ss,ss]=tt.useState(!1),[Ms,Do]=tt.useState(!1),[Cn,_t]=tt.useState(null),[Vt,Ht]=tt.useState(-1),[tr,yn]=tt.useState(!1),[Yt,Gn]=tt.useState([]),[Zn,Rn]=tt.useState(null),[vn,zt]=tt.useState(()=>Fv()),Ft=vn.find(h=>h.kind==="dispatch");vn.find(h=>h.kind==="final_generate"),vn.filter(h=>h.kind==="outline_action").slice(0,3);const nr=Object.keys(B||{}).filter(h=>B[h]),Mn=(gr.text||"").toString().trim().length>0;x&&T==="outline"&&nr.length>0;const hr=h=>{try{return structuredClone(h)}catch{return JSON.parse(JSON.stringify(h))}},wr=(h,y)=>{try{const L=JSON.stringify(y||{});return`${(h||"").toString()}

${af}
${L}`}catch{return(h||"").toString()}},Xr=h=>{const y=(h||"").toString(),L=y.indexOf(af);if(L===-1)return null;const G=y.slice(L+af.length).trim();try{const Z=JSON.parse(G);return Z&&typeof Z=="object"?Z:null}catch{return null}},no=1,I=(h,y=600)=>{const L=(h??"").toString();return L.length<=y?L:`${L.slice(0,y)}...`},se=h=>{if(!h)return"";if(typeof h=="string")return h;if(typeof h!="object")return String(h);const y=(h.kind||"").toString();return y==="manual_text"?`${h.length??0}`:y==="upload_file"?`${h.docName||Ue.t135}`:y==="doc_preview"?`${h.docName||""}`:y==="doc_resource"?`${h.docName||""}`:y==="selection"?`${h.docName||""} ${h.start??0}-${h.end??0}`:y==="outline_selected"?`${Array.isArray(h.sectionIds)?h.sectionIds.length:h.count??0}`:y==="doc_link_pick"?`${h.sectionId||""} ${h.docName||""}`:y?`${y}`:JSON.stringify(h)},je=h=>{if(!h)return"";if(typeof h=="string")return h;if(typeof h!="object")return String(h);const y=(h.kind||h||"").toString(),L=()=>h.sectionTitle||h.sectionId||"";return y==="outline_apply"?`${h.count??0}`:y==="outline_section_summary"?`${L()}`:y==="outline_section_summary_batch"?`${h.count??(Array.isArray(h.sectionIds)?h.sectionIds.length:0)}`:y==="outline_section_title"?`${L()}`:y==="outline_section_docs"?`${L()}`:y==="dispatch_result"?"":y==="final_preview"?"":y?`${y}`:JSON.stringify(h)},Be=(h,y=[])=>{var Ae;const L=h&&typeof h=="object"?h:{},G=Array.isArray(L.inputs)?L.inputs:[],Z=Array.isArray(L.destinations)?L.destinations:[],ge=[];if(L.type==="add_doc"){const ke=((Ae=G.find(he=>he.kind==="upload_file"))==null?void 0:Ae.docName)||Ue.t135;ge.push(""+ke)}else{const ke=(L.record||L.process||Ue.t71).toString().slice(0,50);ge.push(""+ke)}if(G.length){const ke=G.map(se).filter(Boolean).join("");ge.push(""+ke)}if(L.process){let ke=(L.process||"").toString();ge.push(""+ke)}if(L.outputs&&L.outputs.summary&&ge.push(""+(L.outputs.summary||"").toString()),Z.length){const ke=Z.map(je).filter(Boolean).join("");ge.push(""+ke)}return Array.isArray(y)&&y.length&&(ge.push(""),ge.push(...y.filter(Boolean))),ge.join(`
`).trim()},Ve=h=>{const y=(h||"").toString(),L=y.indexOf(af),Z=(L===-1?y.trim():y.slice(0,L).trim()).split(/\r?\n/).map(Me=>Me.trim()).filter(Boolean),ge=Z.find(Me=>Me.startsWith(""))||Z.find(Me=>Me.startsWith(""))||Z.find(Me=>Me.startsWith(""))||"",Ae=ge?ge.replace(/^\u64cd\u4f5c\u8bb0\u5f55\uff1a?/,"").trim():"",ke=(Z.find(Me=>Me.startsWith(""))||"").replace(/^\u52a8\u4f5c\u6267\u884c\uff1a?/,"").trim(),he=(Z.find(Me=>Me.startsWith(""))||"").replace(/^\u6267\u884c\u6458\u8981\uff1a?/,"").trim(),Ze=(Z.find(Me=>Me.startsWith(""))||"").replace(/^\u8bb0\u5f55\u4f4d\u7f6e\uff1a?/,"").trim(),Qe=Z.find(Me=>Me.startsWith(""))||"";return{operationRecord:Ae,actionExecution:ke,executionSummary:he,recordLocation:Ze,inputLine:Qe.replace(/^\u8f93\u5165\u6765\u6e90\uff1a?/,"").trim()}},ft=h=>h==="required"?"required":"optional",St=h=>{const y=Xr((h==null?void 0:h.content)||"")||{},L=(h==null?void 0:h.requirements)||(y==null?void 0:y.requirements)||{};return{inputSource:ft(L.inputSource),actionExecution:ft(L.actionExecution),executionSummary:ft(L.executionSummary),recordLocation:ft(L.recordLocation)}},rn=h=>{if(h!=null&&h.precipitationMode)return Zl(h.precipitationMode);const y=h==null?void 0:h.buttonId;if(y){const L=vn.find(G=>G.id===y);if(L!=null&&L.precipitationMode)return Zl(L.precipitationMode)}return Ov},nn=(h,y,L)=>{var Ae,ke,he,Ze,Qe,Me,kt,ct,Tt,st;({...y||{}});const G={sceneId:(s==null?void 0:s.id)||null,loadedDocs:Array.isArray(o)?o.map(xt=>({id:xt.id,name:xt.name})).slice(0,10):[],loadedDocsCount:Array.isArray(o)?o.length:0,hasOutline:!!((ke=(Ae=s==null?void 0:s.customTemplate)==null?void 0:Ae.sections)!=null&&ke.length||(Ze=(he=s==null?void 0:s.template)==null?void 0:he.sections)!=null&&Ze.length),outlineSectionsCount:((Me=(Qe=s==null?void 0:s.customTemplate)==null?void 0:Qe.sections)==null?void 0:Me.length)||((ct=(kt=s==null?void 0:s.template)==null?void 0:kt.sections)==null?void 0:ct.length)||0,outlineSectionTitles:(((Tt=s==null?void 0:s.customTemplate)==null?void 0:Tt.sections)||((st=s==null?void 0:s.template)==null?void 0:st.sections)||[]).slice(0,10).map(xt=>xt.title||""),timestamp:Date.now()},Z={v:no,ts:Date.now(),buttonAction:(y==null?void 0:y.buttonAction)||(y==null?void 0:y.type)||h,buttonLabel:(y==null?void 0:y.buttonLabel)||"",buttonId:(y==null?void 0:y.buttonId)||"",type:(y==null?void 0:y.type)||h,precipitationMode:rn(y),docName:(y==null?void 0:y.docName)||"",selectedDocName:(y==null?void 0:y.selectedDocName)||"",docId:(y==null?void 0:y.docId)||"",outlineId:(y==null?void 0:y.outlineId)||"",outlineTitle:(y==null?void 0:y.outlineTitle)||"",targetSectionIds:(y==null?void 0:y.targetSectionIds)||[],targetSectionId:(y==null?void 0:y.targetSectionId)||"",targetSectionTitle:(y==null?void 0:y.targetSectionTitle)||"",intentDescription:(y==null?void 0:y.intentDescription)||h,expectedResult:(y==null?void 0:y.expectedResult)||"",record:(y==null?void 0:y.record)||"",overwritten:y==null?void 0:y.overwritten,source:(y==null?void 0:y.source)||"",inputs:Array.isArray(y==null?void 0:y.inputs)?y.inputs.map(xt=>({kind:xt.kind,docName:xt.docName||"",contextSummary:xt.contextSummary||xt.docName||"",sourceType:xt.sourceType||xt.kind,textExcerpt:xt.textExcerpt?I(xt.textExcerpt,200):void 0,textLength:xt.textLength,contextBefore:xt.contextBefore?I(xt.contextBefore,80):void 0,contextAfter:xt.contextAfter?I(xt.contextAfter,80):void 0,selectionStart:xt.start,selectionEnd:xt.end})):[],inputKind:(y==null?void 0:y.inputKind)||"",inputSourceType:(y==null?void 0:y.inputSourceType)||(y==null?void 0:y.inputKind)||"",destinations:Array.isArray(y==null?void 0:y.destinations)?y.destinations.map(xt=>typeof xt=="string"?xt:typeof xt=="object"?{kind:xt.kind,sectionTitle:xt.sectionTitle||xt.label||"",sectionId:xt.sectionId,count:xt.count}:xt):[],outputs:y!=null&&y.outputs&&typeof y.outputs=="object"?{summary:y.outputs.summary||"",usedModel:y.outputs.usedModel||"",detailExcerpt:y.outputs.detailExcerpt?I(y.outputs.detailExcerpt,100):void 0,outputContent:y.outputs.outputContent||"",outputContentExcerpt:y.outputs.outputContent?I(y.outputs.outputContent,500):void 0,edits:Array.isArray(y.outputs.edits)?y.outputs.edits:[],editsCount:y.outputs.editsCount,status:y.outputs.status||"done",targetSections:y.outputs.targetSections||[],generatedSections:y.outputs.generatedSections||[]}:y==null?void 0:y.outputs,process:y!=null&&y.process?I(y.process,100):void 0,actionDescription:(y==null?void 0:y.actionDescription)||"",instructions:(y==null?void 0:y.instructions)||"",promptContent:(y==null?void 0:y.promptContent)||(y==null?void 0:y.instructions)||"",inputSourceDesc:(y==null?void 0:y.inputSourceDesc)||"",outputTargetDesc:(y==null?void 0:y.outputTargetDesc)||"",inputContent:(y==null?void 0:y.inputContent)||"",inputContentExcerpt:y!=null&&y.inputContent?I(y.inputContent,500):void 0,targetSectionsDetail:(y==null?void 0:y.targetSectionsDetail)||[],aiGuidance:(y==null?void 0:y.aiGuidance)||"",specialRequirements:(y==null?void 0:y.specialRequirements)||"",afterSection:(y==null?void 0:y.afterSection)||null,newSection:(y==null?void 0:y.newSection)||null,targetSection:(y==null?void 0:y.targetSection)||null,removedSections:(y==null?void 0:y.removedSections)||[],context:G},ge=Be(Z,L);_o(h,wr(ge,Z))},Vn=async()=>{var h,y;try{if(!window.showDirectoryPicker){pt(" Chrome/Edge");return}const L=await window.showDirectoryPicker();await uA(W1,L),eo(L),dn(L.name||"");try{await((y=(h=navigator.storage)==null?void 0:h.persist)==null?void 0:y.call(h))}catch{}pt("")}catch(L){if((L==null?void 0:L.name)==="AbortError")return;console.error(L),pt(L.message||"")}},er=async()=>{try{await fA(W1)}catch{}eo(null),dn(""),pt("")},Rr=async h=>{if(!h)return!1;if(!h.queryPermission)return!0;try{const y={mode:"read"};let L=await h.queryPermission(y);return L==="granted"?!0:(L=await h.requestPermission(y),L==="granted")}catch{return!1}},yi=async h=>{const y=(h||"").toString().trim();if(!y)throw new Error("");if(!Kr)throw new Error("");if(!await Rr(Kr))throw new Error("");let G;try{G=await Kr.getFileHandle(y,{create:!1})}catch{throw new Error(`${y}`)}const Z=await G.getFile(),Ae=Lv(y)?await Rv(Z):await Z.text(),ke=await mn("/api/docs",{method:"POST",body:{name:y,content:(Ae??"").toString()}}),he=ke==null?void 0:ke.doc,Ze=!!(ke!=null&&ke.overwritten);if(a(Qe=>vd(Qe,[he])),f(he.id),ae(he.content||""),s)try{const Qe=Array.from(new Set([he.id,...s.docIds||[]])),{scene:Me}=await mn(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:Qe}});u(Me)}catch{}return{doc:he,overwritten:Ze,text:Ae}},Ci=async h=>(await yi(h)).doc,oi=h=>{const y=h&&typeof h=="object"?h:{},L=y.kind==="regex"?"regex":"keywords",G=y.mode==="multi"?"multi":"single",Z=y.pick==="first"?"first":"newest",ge=(y.extension||"").toString().trim(),Ae=Array.isArray(y.keywords)?y.keywords.map(Qe=>(Qe||"").toString()).filter(Boolean):[],ke=(y.pattern||"").toString(),he=(y.flags||"i").toString()||"i",Ze=(y.description||"").toString();return{kind:L,mode:G,pick:Z,extension:ge,keywords:Ae,pattern:ke,flags:he,description:Ze}},ro=(h,y)=>{const L=oi(y),G=(h||"").toString();if(!G)return!1;const Z=G.toLowerCase();if(L.extension&&!Z.endsWith(L.extension.toLowerCase()))return!1;if(L.kind==="regex"){if(!L.pattern.trim())return!1;try{return new RegExp(L.pattern,L.flags||"i").test(G)}catch{return!1}}return L.keywords.length?L.keywords.every(ge=>Z.includes((ge||"").toString().toLowerCase())):!0},Wi=async()=>{if(!Kr)throw new Error("");if(!await Rr(Kr))throw new Error("");const y=[];for await(const L of Kr.values())(L==null?void 0:L.kind)==="file"&&y.push(L);return y},bo=async h=>{var Ae;const y=oi(h),G=(await Wi()).filter(ke=>ro((ke==null?void 0:ke.name)||"",y));if(!G.length){const ke=y.description?""+y.description+"":"",he=y.kind==="regex"?"regex="+(y.pattern||"()"):"keywords="+((y.keywords||[]).join("")||"()")+(y.extension?" ext="+y.extension:"");throw new Error(""+ke+""+he)}let Z=G;if(y.mode!=="multi")if(y.pick==="first"){const ke=G.slice().sort((he,Ze)=>((he==null?void 0:he.name)||"").localeCompare((Ze==null?void 0:Ze.name)||"","zh-CN"));Z=ke[0]?[ke[0]]:[G[0]]}else{const ke=[];for(const he of G){const Ze=await he.getFile();ke.push({handle:he,lastModified:Number((Ze==null?void 0:Ze.lastModified)||0)})}ke.sort((he,Ze)=>{var Qe,Me;return Ze.lastModified-he.lastModified||(((Qe=he.handle)==null?void 0:Qe.name)||"").localeCompare(((Me=Ze.handle)==null?void 0:Me.name)||"","zh-CN")}),Z=(Ae=ke[0])!=null&&Ae.handle?[ke[0].handle]:[G[0]]}else Z=G.sort((ke,he)=>((ke==null?void 0:ke.name)||"").localeCompare((he==null?void 0:he.name)||"","zh-CN"));const ge=[];for(const ke of Z){const he=await yi(ke.name);ge.push({name:ke.name,overwritten:!!he.overwritten})}return{count:ge.length,names:ge.map(ke=>ke.name),overwrittenAny:ge.some(ke=>ke.overwritten)}},ea=async({btn:h,preferDocName:y})=>{var st,xt,Ge;if(!(s!=null&&s.id))throw new Error("scene ");const G=Su(h==null?void 0:h.io,{dataSource:h==null?void 0:h.dataSource,outputTarget:h==null?void 0:h.outputTarget}).filter(ze=>ze.enabled);if(!G.some(ze=>ze.output==="titles"))throw new Error("");let Z=null;if(y){const ze=Tr(y);ze?Z=o.find(yt=>yt.id===ze):Kr&&(Z=await Ci(y))}if(Z||(Z=o.find(ze=>ze.id===l)||null),!Z)throw new Error("");const ge=Z!=null&&Z.id&&Z.id===l&&(me||"").toString().trim()?me:(Z.content||"").toString(),ke=Array.from(new Set(G.map(ze=>ze.dataSource))).map(ze=>ze==="selected_doc"?`
${Z.content||""}`.trim():`
${ge}`.trim()),he=`${Z.name||""}

${ke.join(`

---

`)}`.trim();if(!he.trim())throw new Error("");const Ze=await mn("/api/template/auto",{method:"POST",body:{text:he,prompt:(h==null?void 0:h.prompt)||""}});if(!(Ze!=null&&Ze.template))throw new Error("template");if((Ze==null?void 0:Ze.usedModel)===!1)if(Ze!=null&&Ze.blocked)pt("");else throw new Error(" QWEN_API_KEY server.js ");const Qe=G.some(ze=>ze.output==="summaries"&&ze.target==="summary"),Me=G.some(ze=>ze.output==="summaries"&&ze.target==="title"),kt=G.some(ze=>ze.output==="titles"&&ze.target==="summary"),ct={...Ze.template,sections:(((st=Ze.template)==null?void 0:st.sections)||[]).map(ze=>{const yt=((ze==null?void 0:ze.title)||"").toString(),Xe=((ze==null?void 0:ze.summary)||"").toString().trim(),lt=Me&&Xe?`${yt} - ${Xe}`:yt,Wt=[];kt&&yt&&Wt.push(yt),Qe&&Xe&&Wt.push(Xe);const Lt=Wt.join(`
`).trim();return{...ze,title:lt,summary:Lt}})},Tt=await mn(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:ct}});t(Tt.template),u(Tt.scene),R(!0);try{const ze={id:`outline_${Date.now()}`,template:Tt.template,timestamp:Date.now(),docName:Z.name||"",title:Z.name||""};await mn("/api/multi/outlines",{method:"POST",body:ze}),Qs(yt=>[ze,...yt])}catch(ze){console.error("",ze)}return((Ge=(xt=Tt==null?void 0:Tt.template)==null?void 0:xt.sections)==null?void 0:Ge.length)||0};tt.useEffect(()=>{try{localStorage.setItem(pf,JSON.stringify(vn))}catch{}mn("/api/config/save",{method:"POST",body:{llmButtons:vn}}).catch(h=>{console.warn("",h)})},[vn]),tt.useEffect(()=>{(async()=>{try{const h=await cA(W1);h&&(eo(h),dn(h.name||""))}catch{}})()},[]),tt.useEffect(()=>{try{localStorage.setItem(Tw,JSON.stringify(Bn)),localStorage.setItem(Lw,String(fi||0))}catch{}},[Bn,fi]),tt.useEffect(()=>{if((fi||0)>0||!Bn.length)return;const h=Bn.reduce((y,L)=>{const G=/_(\d+)$/.exec((L==null?void 0:L.id)||""),Z=G?Number(G[1]):0;return Number.isFinite(Z)&&Z>y?Z:y},0);h>0&&Xo(h)},[fi,Bn]),tt.useEffect(()=>{if(!e||!e.sections||!e.sections.length)return;const y=setTimeout(async()=>{try{await mn("/api/outline/cache",{method:"POST",body:{template:e}})}catch(L){console.log("",L)}},500);return()=>clearTimeout(y)},[e]),tt.useEffect(()=>{(async()=>{try{const ge=await mn("/api/layout");ge!=null&&ge.layout&&(Le(ge.layout),Ir(ge.layout))}catch(ge){console.error(":",ge);const Ae=Cx();Ae&&(Le(Ae),Ir(Ae))}try{const ge=await mn("/api/buttons");if(ge!=null&&ge.buttons&&mm(ge.buttons)){const Ae=Ct(ge.buttons);Jt(Ae),Sn(Ae)}}catch(ge){console.error(":",ge);const Ae=Ih();if(Ae){const ke=Ct(Ae);Jt(ke),Sn(ke)}}let y=null;try{const ge=await mn("/api/outline/cache");ge!=null&&ge.template&&(y=ge.template)}catch(ge){console.log("",ge)}const L=await mn("/api/template");t(y||L.template);const G=await mn("/api/docs"),Z=await Ns();Z&&(u(Z),E(Z.sectionDocLinks||{})),a(G.docs||[]),(G.docs||[]).length&&f(G.docs[0].id),await Oo(!0),await hs(!0);try{const ge=await mn("/api/multi/app-buttons"),Ae=Pa(ge);Ae.length&&Sr(Ae)}catch(ge){console.error("",ge)}try{const ge=await mn("/api/multi/replay/config");ge&&ei({dirPath:ge.dirPath||"",autoLoadFiles:ge.autoLoadFiles!==!1})}catch(ge){console.error(" Replay ",ge)}try{const ge=await mn("/api/multi/outlines");Array.isArray(ge)&&Qs(ge)}catch(ge){console.error("",ge)}})().catch(y=>pt(y.message))},[]),tt.useEffect(()=>{s!=null&&s.sectionDocLinks&&E(s.sectionDocLinks)},[s]),tt.useEffect(()=>{s!=null&&s.id&&localStorage.setItem(H1,s.id)},[s==null?void 0:s.id]),tt.useEffect(()=>{const h=o.find(y=>y.id===l);ae((h==null?void 0:h.content)||""),_s({text:"",start:0,end:0})},[l,o]);const pt=h=>{O(h),setTimeout(()=>O(""),1800)},ta=h=>{Oi(h.id),Rn({...h,precipitationMode:Zl(h==null?void 0:h.precipitationMode),io:Su(h==null?void 0:h.io,{dataSource:h==null?void 0:h.dataSource,outputTarget:h==null?void 0:h.outputTarget})})},[ol,Il]=tt.useState(!1),pa=()=>{const y={id:`btn_${Date.now()}`,kind:"outline_extract",label:"",enabled:!0,precipitationMode:Ov,prompt:Om,io:[{id:`io_${Date.now()}_1`,enabled:!0,dataSource:"preview",output:"titles",target:"title"},{id:`io_${Date.now()}_2`,enabled:!0,dataSource:"preview",output:"summaries",target:"summary"}]};zt(L=>[...L,y]),ta(y)},ks=h=>{const y=[...In,h],L=[...new Set(y)];pn(L),localStorage.setItem("layout_deleted_blocks",JSON.stringify(L))},ma=h=>{const y=In.filter(L=>L!==h);pn(y),localStorage.setItem("layout_deleted_blocks",JSON.stringify(y))},ga=h=>{if(!confirm(""))return;const y=In.filter(L=>L!==h);pn(y),localStorage.setItem("layout_deleted_blocks",JSON.stringify(y))},_o=(h,y)=>{ee&&ao(L=>[...L,{id:`sec_${Date.now()}_${L.length+1}`,action:h,content:y,requirements:{...oA}}])},ya=()=>{V(!0),ao([]),pt("")},va=()=>{if(!ee)return;if(k||d){pt("");return}if(qi.length===0){V(!1),pt("");return}const h=Pl(qi);_t({sections:[...qi],userRequirements:"",structuredScript:h,aiOptimizedContent:null,isProcessing:!1,depositName:"",precipitationMode:"llm"}),Ht(-1),Do(!0)},Pl=h=>{if(!h||h.length===0)return"";const y=[];return y.push(""),y.push(""),h.forEach((L,G)=>{var Ae;y.push(`===  ${G+1}: ${L.action||""} ===`);const Z=L.content||"",ge=Z.match(/__REPLAY_META__\n(.+)/s);if(ge)try{const ke=JSON.parse(ge[1]),he=ke.type||ke.buttonAction||"";if(y.push(`${he}`),he==="insert_to_summary"||he==="fill_summary"){const Qe=ke.inputs||[],Me=Qe.find(Xe=>Xe.kind==="selection"),kt=Qe.find(Xe=>Xe.kind==="outline_selected"),ct=ke.docName||(Me==null?void 0:Me.docName)||"";y.push(`${ct}`);const Tt=(Me==null?void 0:Me.textExcerpt)||(Me==null?void 0:Me.text)||"";Tt&&(y.push(`${Tt.slice(0,150)}${Tt.length>150?"...":""}`),y.push(`"${Tt.slice(0,100)}${Tt.length>100?"...":""}"`));const st=(Me==null?void 0:Me.contextBefore)||"",xt=(Me==null?void 0:Me.contextAfter)||"";(st||xt)&&(y.push(""),st&&y.push(`  : "${st}"`),xt&&y.push(`  : "${xt}"`));const Ge=ke.outputs||{},ze=Ge.targetSections||[],yt=ke.destinations||[];if(ze.length>0){const Xe=ze.map(lt=>lt.title||"").join("");y.push(`${Xe}`)}else if(yt.length>0){const Xe=yt.map(lt=>lt.sectionTitle||lt.kind||"").filter(Boolean).join("");Xe&&y.push(`${Xe}`)}Ge.summary&&y.push(`${Ge.summary}`),y.push(`${ke.specialRequirements||""}`)}else if(he==="add_doc"||he==="upload_doc"){y.push(`${ke.docName||""}`);const Qe=ke.outputs||{};Qe.summary&&y.push(`${Qe.summary}`),y.push(`${ke.specialRequirements||""}`)}else if(he==="outline_extract"){ke.actionDescription&&y.push(`${ke.actionDescription}`),y.push(`${ke.selectedDocName||ke.docName||""}`);const Qe=ke.inputContentExcerpt||"";if(Qe){const ct=Qe.length>200?Qe.substring(0,200)+"...":Qe;y.push(`${ct}`)}const kt=(ke.outputs||{}).generatedSections||[];if(kt.length>0)y.push(` ${kt.length} `),kt.slice(0,10).forEach((ct,Tt)=>{const st=ct.levelText||`${ct.level}`;if(y.push(`  ${Tt+1}. [${st}] ${ct.title}`),ct.summary){const xt=ct.summary.length>80?ct.summary.substring(0,80)+"...":ct.summary;y.push(`     ${xt}`)}}),kt.length>10&&y.push(`  ...  ${kt.length-10} `);else{const ct=ke.context||{};ct.outlineSectionsCount&&y.push(` ${ct.outlineSectionsCount} `),(Ae=ct.outlineSectionTitles)!=null&&Ae.length&&y.push(`${ct.outlineSectionTitles.slice(0,5).join("")}${ct.outlineSectionTitles.length>5?"...":""}`)}ke.aiGuidance&&y.push(`AI${ke.aiGuidance}`),y.push(`${ke.specialRequirements||""}`)}else if(he==="add_outline_section"){ke.actionDescription&&y.push(`${ke.actionDescription}`);const Qe=ke.afterSection;if(Qe){if(y.push(`${Qe.levelText||`${Qe.level}`}${Qe.title}`),Qe.summary){const kt=Qe.summary.length>100?Qe.summary.substring(0,100)+"...":Qe.summary;y.push(`  ${kt}`)}}else y.push("");const Me=ke.newSection;Me&&(y.push(`${Me.levelText||`${Me.level}`}${Me.title}`),Me.summary&&y.push(`  ${Me.summary}`)),ke.aiGuidance&&y.push(`AI${ke.aiGuidance}`),y.push(`${ke.specialRequirements||""}`)}else if(he==="delete_outline_section"){ke.actionDescription&&y.push(`${ke.actionDescription}`);const Qe=ke.targetSection;if(Qe&&(y.push(`${Qe.levelText||`${Qe.level}`}${Qe.title}`),Qe.summary)){const kt=Qe.summary.length>100?Qe.summary.substring(0,100)+"...":Qe.summary;y.push(`  ${kt}`)}const Me=ke.removedSections||[];Me.length>0&&(y.push(` ${Me.length} `),Me.slice(0,8).forEach((kt,ct)=>{y.push(`  ${ct+1}. [${kt.levelText||`${kt.level}`}] ${kt.title}`)}),Me.length>8&&y.push(`  ...  ${Me.length-8} `)),ke.aiGuidance&&y.push(`AI${ke.aiGuidance}`),y.push(`${ke.specialRequirements||""}`)}else if(he==="restore_history_outline"){y.push(`${ke.outlineTitle||ke.outlineId||""}`);const Qe=ke.outputs||{};Qe.summary&&y.push(`${Qe.summary}`),y.push(`${ke.specialRequirements||""}`)}else if(he==="dispatch"||he==="execute_instruction"){const Qe=ke.actionDescription||"";Qe&&y.push(`${Qe}`);const Me=ke.promptContent||ke.instructions||ke.process||"";Me&&y.push(`${Me}`);const kt=ke.inputSourceDesc||"",ct=ke.inputKind||"";if(kt)y.push(`${kt}`);else if(ct){const lt={doc:"",result:"",batch_outline:"",outline_selected_batch:"",outline_unprocessed_docs:""};y.push(`${lt[ct]||ct}`)}const Tt=ke.inputContent||ke.inputContentExcerpt||"";if(Tt){const lt=Tt.length>300?Tt.substring(0,300)+"...":Tt;y.push(`${lt}`)}const st=ke.targetSectionsDetail||[];if(st.length>0)y.push(` ${st.length} `),st.forEach((lt,Wt)=>{const Lt=lt.levelText||`${lt.level||1}`;if(y.push(`  ${Wt+1}. ${Lt}${lt.title}`),lt.originalSummary){const un=lt.originalSummary.length>100?lt.originalSummary.substring(0,100)+"...":lt.originalSummary;y.push(`     ${un}`)}});else{const lt=ke.selectedSectionTitles||[];lt.length>0&&y.push(`${lt.join("")}`)}const xt=ke.outputTargetDesc||"";xt&&y.push(`${xt}`);const Ge=ke.outputs||{},ze=Ge.edits||[];if(ze.length>0)y.push(` ${ze.length} `),ze.forEach((lt,Wt)=>{const Lt=lt.newValueExcerpt||lt.newValue||"",un=Lt.length>150?Lt.substring(0,150)+"...":Lt;y.push(`  ${Wt+1}. : ${lt.field||"summary"}`),y.push(`     : ${un}`)});else if(Ge.outputContent){const lt=Ge.outputContent.length>300?Ge.outputContent.substring(0,300)+"...":Ge.outputContent;y.push(`${lt}`)}else Ge.summary&&y.push(`${Ge.summary}`);const yt=ke.aiGuidance||"";yt&&y.push(`AI${yt}`);const Xe=ke.specialRequirements||"";Xe&&Xe!==""&&y.push(`${Xe}`)}else{ke.docName&&y.push(`${ke.docName}`),ke.outlineTitle&&y.push(`${ke.outlineTitle}`),ke.process&&y.push(`${ke.process}`);const Qe=ke.outputs||{};Qe.summary&&y.push(`${Qe.summary}`),y.push(`${ke.specialRequirements||""}`)}const Ze=ke.context||{};Ze.loadedDocsCount>0&&y.push(` ${Ze.loadedDocsCount} `)}catch{y.push(`${Z.slice(0,200)}...`)}else y.push(`${Z.slice(0,200)}...`);y.push("")}),y.push("---"),y.push(": AI "),y.join(`
`)},Rl=(h,y)=>{if(!h||y<0)return h||"";const L=/(\[\d+\][^\[]*?)(?=\[\d+\]|===\s*Replay|===\s*|$)/gs,G=[...h.matchAll(L)];if(G.length>0&&y<G.length)return G[y][1].trim();const Z=/(===\s*\s*\d+[:][^=]*?===[\s\S]*?)(?====\s*|===\s*Replay|===\s*|---\n|$)/g,ge=[...h.matchAll(Z)];return ge.length>0&&y<ge.length?ge[y][1].trim():h},qo=(h,y,L)=>{if(!h||y<0)return L;const G=/(\[\d+\][^\[]*?)(?=\[\d+\]|===\s*Replay|===\s*|$)/gs,Z=[...h.matchAll(G)];if(Z.length>0&&y<Z.length){const ke=[];let he=0;return Z.forEach((Ze,Qe)=>{Qe===y?(ke.push(h.slice(he,Ze.index)),ke.push(L)):ke.push(h.slice(he,Ze.index+Ze[1].length)),he=Ze.index+Ze[1].length}),ke.push(h.slice(he)),ke.join("")}const ge=/(===\s*\s*\d+[:][^=]*?===[\s\S]*?)(?====\s*|===\s*Replay|===\s*|---\n|$)/g,Ae=[...h.matchAll(ge)];if(Ae.length>0&&y<Ae.length){const ke=[];let he=0;return Ae.forEach((Ze,Qe)=>{Qe===y?(ke.push(h.slice(he,Ze.index)),ke.push(L+`

`)):ke.push(h.slice(he,Ze.index+Ze[1].length)),he=Ze.index+Ze[1].length}),ke.push(h.slice(he)),ke.join("")}return L},As=async()=>{var h,y;if(Cn){_t(L=>({...L,isProcessing:!0}));try{const L=Cn.sections.map((Qe,Me)=>`${Me+1}${Qe.action||""}
${Qe.content||""}`).join(`

---

`),G=Cn.structuredScript||"",Z=G&&!G.includes(": AI "),ge=((h=Cn.userRequirements)==null?void 0:h.trim())||"",Ae=Cn.accumulatedRequirements||"",ke=Ae?ge?`${Ae}

${ge}`:Ae:ge||"",he=`

****


${L}

${Z?`
${G}
`:""}

${ke}


1. ****
2. ********
3.  {{}}{{}}
4.  Replay
5. ""






===  ===

[1] 
- :  add_doc, outline_extract, insert_to_summary
- : 
- : 
- : 
- : 
- :   
- : 
- AI:  Replay AI 
- : 

[2] ...

=== Replay  ===


===  ===
 Replay `,Ze=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:he}],maxTokens:2500})});if(Ze.ok){const Qe=await Ze.json();if((Qe==null?void 0:Qe.usedModel)===!1||(Qe==null?void 0:Qe.content)===null){_t(Me=>({...Me,isProcessing:!1})),pt(" AI QWEN_API_KEY");return}if(Qe!=null&&Qe.content){const Me=Qe.content.trim(),kt=Me.match(/(.+)/),ct=kt?kt[1].trim():"",Tt=(y=Cn.userRequirements)!=null&&y.trim()?Cn.accumulatedRequirements?`${Cn.accumulatedRequirements}
${Cn.userRequirements.trim()}`:Cn.userRequirements.trim():Cn.accumulatedRequirements||"";_t(st=>({...st,structuredScript:Me,depositName:ct||st.depositName,accumulatedRequirements:Tt,userRequirements:"",isProcessing:!1,optimizeCount:(st.optimizeCount||0)+1})),pt(" AI ");return}}_t(Qe=>({...Qe,isProcessing:!1})),pt("AI ")}catch(L){console.error("AI ",L),_t(G=>({...G,isProcessing:!1})),pt("AI ")}}},zs=async()=>{var ct,Tt;if(!Cn)return;const h=(fi||0)+1,y=`_${h}`,L=Cn.precipitationMode||"llm",G=((ct=Cn.depositName)==null?void 0:ct.trim())||y,Z=((Tt=Cn.structuredScript)==null?void 0:Tt.trim())||"",Ae=(st=>{if(!st)return[];const xt=[],Ge=(Xe,lt)=>{const Wt=new RegExp(`-\\s*${lt}[:]\\s*(.*?)(?=-\\s*\\w||$)`,"s"),Lt=Xe.match(Wt);if(Lt)return Lt[1].trim();const un=new RegExp(`${lt}\\s*(.*?)(?=|===|$)`,"s"),jt=Xe.match(un);return jt?jt[1].trim():""},ze=/\[(\d+)\]\s*([^\n]+)([\s\S]*?)(?=\[\d+\]|===\s*Replay|===\s*|$)/g;let yt;for(;(yt=ze.exec(st))!==null;){const Xe=parseInt(yt[1]),lt=yt[2].trim(),Wt=yt[3].trim();xt.push({stepNum:Xe,title:lt,type:Ge(Wt,""),description:Ge(Wt,""),condition:Ge(Wt,""),contentDescription:Ge(Wt,""),contextBefore:Ge(Wt,""),contextAfter:Ge(Wt,""),targetTitle:Ge(Wt,""),aiGuidance:Ge(Wt,"AI"),fallbackParams:Ge(Wt,""),rawContent:Wt})}if(xt.length===0){const Xe=/===\s*\s*(\d+)[:]\s*([^=\n]+?)\s*===([\s\S]*?)(?====\s*|===\s*Replay|===\s*|---|\n\n\n|$)/g;for(;(yt=Xe.exec(st))!==null;){const lt=parseInt(yt[1]),Wt=yt[2].trim(),Lt=yt[3].trim();xt.push({stepNum:lt,title:Wt,type:Ge(Lt,"")||Ge(Lt,""),description:Ge(Lt,"")||Ge(Lt,"Prompt"),condition:Ge(Lt,""),contentDescription:Ge(Lt,""),contextBefore:Ge(Lt,""),contextAfter:Ge(Lt,""),targetTitle:Ge(Lt,"")||Ge(Lt,""),aiGuidance:Ge(Lt,"AI"),inputSource:Ge(Lt,""),outputTarget:Ge(Lt,""),outputContent:Ge(Lt,""),specialRequirements:Ge(Lt,""),rawContent:Lt})}}return xt})(Z),ke=L==="llm",he=st=>{if(!st)return null;const xt=st.match(/__REPLAY_META__\n(.+)/s);if(xt)try{return JSON.parse(xt[1])}catch{}return null},Ze=(st,xt,Ge)=>{const ze=xt||{};return{...ze,type:(st==null?void 0:st.type)||ze.type||Ge.action,buttonAction:(st==null?void 0:st.type)||ze.buttonAction||"dispatch",intentDescription:(st==null?void 0:st.description)||ze.intentDescription||Ge.action,inputSourceDesc:(st==null?void 0:st.inputSource)||ze.inputSourceDesc||"",outputTargetDesc:(st==null?void 0:st.outputTarget)||ze.outputTargetDesc||"",targetTitle:(st==null?void 0:st.targetTitle)||ze.targetTitle||"",contentDescription:(st==null?void 0:st.contentDescription)||ze.contentDescription||"",contextBefore:(st==null?void 0:st.contextBefore)||ze.contextBefore||"",contextAfter:(st==null?void 0:st.contextAfter)||ze.contextAfter||"",aiGuidance:(st==null?void 0:st.aiGuidance)||ze.aiGuidance||"",specialRequirements:(st==null?void 0:st.specialRequirements)||ze.specialRequirements||"",generatedByLLM:!0,generatedAt:Date.now()}},Qe=(st,xt)=>{if(!st)return null;const Ge=new RegExp(`(\\[${xt}\\][^\\[]*?)(?=\\[\\d+\\]|===\\s*Replay|===\\s*|$)`,"s"),ze=st.match(Ge);if(ze)return ze[1].trim();const yt=new RegExp(`(===\\s*\\s*${xt}[:][^=]*?===.*?)(?====\\s*|===\\s*Replay|===\\s*|---|


|$)`,"s"),Xe=st.match(yt);return Xe?Xe[1].trim():null},Me=Cn.sections.map((st,xt)=>{var jt,Pt;const Ge=Ae[xt]||null,ze=he(st.content)||st.meta,yt=Qe(Z,xt+1),Xe=yt||(Ge==null?void 0:Ge.rawContent)||st.content;let lt=ze;ke&&Ge&&(lt=Ze(Ge,ze,st));const Wt=lt?`${Xe}

${af}
${JSON.stringify(lt)}`:Xe,Lt={action:st.action,buttonLabel:st.buttonLabel,content:Wt,meta:lt,rawContent:st.content};let un=null;return ke&&(un={title:(Ge==null?void 0:Ge.title)||st.action||"",type:(Ge==null?void 0:Ge.type)||(ze==null?void 0:ze.type)||"",description:(Ge==null?void 0:Ge.description)||(ze==null?void 0:ze.actionDescription)||"",condition:(Ge==null?void 0:Ge.condition)||"",contentDescription:(Ge==null?void 0:Ge.contentDescription)||"",contextBefore:(Ge==null?void 0:Ge.contextBefore)||(ze==null?void 0:ze.contextBefore)||"",contextAfter:(Ge==null?void 0:Ge.contextAfter)||(ze==null?void 0:ze.contextAfter)||"",targetTitle:(Ge==null?void 0:Ge.targetTitle)||(ze==null?void 0:ze.outputTargetDesc)||"",aiGuidance:(Ge==null?void 0:Ge.aiGuidance)||(ze==null?void 0:ze.aiGuidance)||"",inputSource:(Ge==null?void 0:Ge.inputSource)||(ze==null?void 0:ze.inputSourceDesc)||"",outputTarget:(Ge==null?void 0:Ge.outputTarget)||(ze==null?void 0:ze.outputTargetDesc)||"",specialRequirements:(Ge==null?void 0:Ge.specialRequirements)||(ze==null?void 0:ze.specialRequirements)||"",structuredScriptContent:yt||(Ge==null?void 0:Ge.rawContent)||"",rawContent:(Ge==null?void 0:Ge.rawContent)||"",actionDescription:(ze==null?void 0:ze.actionDescription)||(Ge==null?void 0:Ge.description)||"",instructions:(ze==null?void 0:ze.instructions)||(ze==null?void 0:ze.promptContent)||"",promptContent:(ze==null?void 0:ze.promptContent)||(ze==null?void 0:ze.instructions)||"",inputKind:(ze==null?void 0:ze.inputKind)||"",inputSourceType:(ze==null?void 0:ze.inputSourceType)||(ze==null?void 0:ze.inputKind)||"",inputSourceDesc:(ze==null?void 0:ze.inputSourceDesc)||"",inputContent:(ze==null?void 0:ze.inputContent)||"",inputContentExcerpt:(ze==null?void 0:ze.inputContentExcerpt)||"",inputContentIsReference:!0,inputs:(ze==null?void 0:ze.inputs)||[],targetSectionsDetail:(ze==null?void 0:ze.targetSectionsDetail)||[],selectedSectionIds:(ze==null?void 0:ze.selectedSectionIds)||[],selectedSectionTitles:(ze==null?void 0:ze.selectedSectionTitles)||[],outlineSegmentsMeta:(ze==null?void 0:ze.outlineSegmentsMeta)||[],destinations:(ze==null?void 0:ze.destinations)||[],outputs:(ze==null?void 0:ze.outputs)||{},outputContent:(Ge==null?void 0:Ge.outputContent)||((jt=ze==null?void 0:ze.outputs)==null?void 0:jt.outputContent)||"",outputTargetDesc:(ze==null?void 0:ze.outputTargetDesc)||"",afterSection:(ze==null?void 0:ze.afterSection)||null,newSection:(ze==null?void 0:ze.newSection)||null,targetSection:(ze==null?void 0:ze.targetSection)||null,removedSections:(ze==null?void 0:ze.removedSections)||[],generatedSections:((Pt=ze==null?void 0:ze.outputs)==null?void 0:Pt.generatedSections)||[],docName:(ze==null?void 0:ze.docName)||"",selectedDocName:(ze==null?void 0:ze.selectedDocName)||"",originalScriptContent:Wt,originalScriptRawContent:st.content,replayMeta:lt}),{...st,content:Wt,meta:lt,llmScript:un,originalScript:Lt,lastReplayStatus:null,lastReplayMode:null,lastReplayTime:null,lastReplayError:null}}),kt={id:y,name:G,title:G,createdAt:Date.now(),precipitationMode:L,sections:Me,structuredScript:ke?Z:null,accumulatedRequirements:ke&&Cn.accumulatedRequirements||"",optimizeCount:ke&&Cn.optimizeCount||0,summary:ke&&Dl(Z,"")||"",replayGuidance:ke&&Dl(Z,"Replay ")||"",supportsScriptFallback:!0};Xo(h),Fr(st=>[...st,kt]),V(!1),ao([]),Do(!1),_t(null),pt(`${L==="llm"?" Replay":" Replay"}`);try{await mn("/api/multi/precipitation/records",{method:"POST",body:kt})}catch(st){console.error("",st)}},Dl=(h,y)=>{if(!h)return"";const L=new RegExp(`${y}(.+?)(?=\\n|$)`),G=h.match(L);return G?G[1].trim():""},Wo=()=>{Do(!1),_t(null),Ht(-1)},wa=()=>{Yr(!0)},sl=async()=>{var h,y;if(!e||!e.sections.length){pt("");return}Ln(!0);try{const L={id:`outline_${Date.now()}`,template:hr(e),timestamp:Date.now(),docName:((h=o.find(G=>G.id===l))==null?void 0:h.name)||"",title:((y=o.find(G=>G.id===l))==null?void 0:y.name)||""};await mn("/api/multi/outlines",{method:"POST",body:L}),Qs(G=>[L,...G]),pt("")}catch(L){console.error("",L),pt("")}finally{Ln(!1)}},al=async h=>{if(h!=null&&h.template){Ln(!0);try{const y=await mn(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:h.template}});t(y.template),u(y.scene),R(!0),nn("",{type:"restore_history_outline",outlineId:h.id,outlineTitle:h.title||h.docName,process:`${h.title||h.docName}`,destinations:[{kind:"outline_panel"}],outputs:{summary:`${h.title||h.docName}`}}),pt(""),Yr(!1)}catch(y){console.error("",y),pt("")}finally{Ln(!1)}}},na=async h=>{if(confirm("")){Ln(!0);try{await mn(`/api/multi/outlines/${h}`,{method:"DELETE"}),Qs(y=>y.filter(L=>L.id!==h)),pt("")}catch(y){console.error("",y),pt("")}finally{Ln(!1)}}},ds=async(h,y)=>{Ln(!0);try{await mn(`/api/multi/outlines/${h}`,{method:"PATCH",body:{title:y}}),Qs(L=>L.map(G=>G.id===h?{...G,title:y}:G)),pt("")}catch(L){console.error("",L),pt("")}finally{Ln(!1)}},Oo=async(h=!1)=>{try{const y=await mn("/api/multi/precipitation/records");if(Array.isArray(y)){const L=y.map(Z=>({...Z,precipitationMode:Zl(Z==null?void 0:Z.precipitationMode),sections:Array.isArray(Z==null?void 0:Z.sections)?Z.sections:[]}));Fr(L);const G=y.reduce((Z,ge)=>{const Ae=/_(\d+)$/.exec((ge==null?void 0:ge.id)||""),ke=Ae?Number(Ae[1]):0;return Number.isFinite(ke)&&ke>Z?ke:Z},0);G>0&&Xo(G)}return!0}catch(y){return console.error("",y),h||pt(""),!1}},Zo=h=>{if(!h)return null;const y=typeof h.id=="string"&&h.id.trim()?h.id.trim():`group_${Date.now()}`,L=typeof h.name=="string"&&h.name.trim()?h.name.trim():y,G=Array.isArray(h.depositIds)?Array.from(new Set(h.depositIds.filter(Boolean))):[],Z=typeof h.createdAt=="number"?h.createdAt:Date.now();return{...h,id:y,name:L,depositIds:G,createdAt:Z}},hs=async(h=!1)=>{try{const y=await mn("/api/multi/precipitation/groups");if(Array.isArray(y)){const L=y.map(Zo).filter(Boolean);Jn(L),hi&&!L.some(G=>G.id===hi)&&ii("")}return!0}catch(y){return console.error("",y),h||pt(""),!1}},Ns=async()=>{var L;const h=localStorage.getItem(H1);if(h)try{const G=await mn(`/api/scene/${h}`);if(G!=null&&G.scene)return G.scene}catch{}const y=await mn("/api/scene",{method:"POST",body:{docIds:[]}});return(L=y==null?void 0:y.scene)!=null&&L.id&&localStorage.setItem(H1,y.scene.id),(y==null?void 0:y.scene)||null},as=()=>Bn.filter(h=>di==null?void 0:di[h.id]).map(h=>h.id),ra=async()=>{const h=as();if(!h.length){pt("");return}const y=`_${_r.length+1}`,L=window.prompt(Ue.t164,y);if(L===null)return;const G=L.trim()||y,Z={id:`group_${Date.now()}`,name:G,depositIds:h,createdAt:Date.now()};Jn(ge=>[...ge,Z]),ii(Z.id),ie("groups");try{await mn("/api/multi/precipitation/groups",{method:"POST",body:Z}),pt("")}catch(ge){console.error("",ge),pt(""),await hs(!0)}},Es=async(h,y,L)=>{if(!h)return;const G={...y};Array.isArray(G.depositIds)&&(G.depositIds=G.depositIds.filter(Boolean)),Jn(Z=>Z.map(ge=>ge.id===h?{...ge,...G}:ge));try{await mn(`/api/multi/precipitation/groups/${h}`,{method:"PATCH",body:G}),L&&pt(L)}catch(Z){console.error("",Z),pt(""),await hs(!0)}},Fi=async()=>{const h=_r.find(G=>G.id===hi);if(!h){pt("");return}const y=window.prompt("",h.name);if(y===null)return;const L=y.trim()||h.name;await Es(h.id,{name:L},"")},Ia=async()=>{if(!as().length){pt("");return}if(_r.length===0){pt("");return}Gn([]),yn(!0)},Us=async()=>{const h=as();if(!h.length){pt("");return}if(!Yt.length){pt("");return}for(const L of Yt){const G=_r.find(Z=>Z.id===L);if(G){const Z=Array.from(new Set([...G.depositIds||[],...h]));await Es(G.id,{depositIds:Z})}}const y=Yt.map(L=>{var G;return(G=_r.find(Z=>Z.id===L))==null?void 0:G.name}).filter(Boolean).join("");pt(`${y}`),yn(!1),Gn([]),Yt.length===1&&ii(Yt[0])},Cs=async()=>{const h=_r.find(y=>y.id===hi);if(!h){pt("");return}if(confirm(' "'+h.name+'" ')){Jn(y=>y.filter(L=>L.id!==h.id)),hi===h.id&&ii("");try{await mn(`/api/multi/precipitation/groups/${h.id}`,{method:"DELETE"}),pt("")}catch(y){console.error("delete deposit group failed",y),pt(""),await hs(!0)}}},ia=async()=>{const h=_r.find(y=>y.id===hi);if(!h){pt("");return}if(!ur[h.id]){Pn(y=>({...y,[h.id]:!0})),pt(`Replay${h.name}`);for(const y of h.depositIds||[])Bn.find(G=>G.id===y)&&await vl(y);Pn(y=>({...y,[h.id]:!1})),pt("Replay")}},Pa=h=>!h||!Array.isArray(h.buttons)?Pv:h.buttons.map((y,L)=>{if(!y||typeof y!="object")return null;const G=typeof y.id=="string"&&y.id.trim()?y.id.trim():`app_btn_${L}`,Z=typeof y.label=="string"?Wc(y.label).trim():"";if(!Z)return null;const ge=Array.isArray(y.groupIds)?y.groupIds.filter(Boolean):[];return{id:G,label:Z,groupIds:ge}}).filter(Boolean),ll=(h,y)=>{Sr(L=>L.map(G=>G.id===h?{...G,label:y}:G))},cl=(h,y)=>{Sr(L=>L.map(G=>{if(G.id!==h)return G;const Z=Array.isArray(G.groupIds)?G.groupIds:[],Ae=Z.includes(y)?Z.filter(ke=>ke!==y):[...Z,y];return{...G,groupIds:Ae}}))},oa=async()=>{Hn(!0);try{const h=new Set(_r.map(L=>L.id)),y=Er.map(L=>({...L,groupIds:(L.groupIds||[]).filter(G=>h.has(G))}));Sr(y),await mn("/api/multi/app-buttons",{method:"POST",body:{buttons:y}}),pt("")}catch(h){console.error("",h),pt("")}finally{Hn(!1)}},sa=async()=>{Ro(!0);try{await mn("/api/multi/replay/config",{method:"POST",body:{dirPath:$r.dirPath,autoLoadFiles:$r.autoLoadFiles}}),pt("Replay ")}catch(h){console.error(" Replay ",h),pt(" Replay ")}finally{Ro(!1)}},xa=async()=>{try{const h={globalButtons:{activeButtons:Zt,deletedButtons:On,version:"2.0",savedAt:Date.now()}};localStorage.setItem("global-buttons-config",JSON.stringify(h.globalButtons)),await mn("/api/config/save",{method:"POST",body:h}),pt("")}catch(h){console.error("",h),pt("")}},ba=()=>v.jsxs("div",{className:"app-buttons-config",children:[v.jsxs("div",{className:"card-head",style:{alignItems:"center",justifyContent:"space-between"},children:[v.jsxs("div",{children:[v.jsx("div",{className:"section-title",children:Ue.t1}),v.jsx("div",{className:"hint",children:Ue.t2})]}),v.jsx("button",{className:"ghost small",type:"button",onClick:oa,disabled:Ai,style:{pointerEvents:"auto"},children:Ai?Ue.t117:Ue.t66})]}),Er.length===0?v.jsx("div",{className:"hint",children:Ue.t3}):v.jsxs("div",{className:"app-buttons-config-grid",children:[v.jsx("div",{className:"app-buttons-left",children:Er.map((h,y)=>{const L=h.id===Ki,G=(h.groupIds||[]).map(Z=>{var ge;return((ge=_r.find(Ae=>Ae.id===Z))==null?void 0:ge.name)||Z});return v.jsxs("div",{className:`app-button-item ${L?"active":""}`,onClick:()=>Ni(h.id),children:[v.jsxs("div",{className:"app-button-row",children:[v.jsx("span",{className:"pill muted",children:y+1}),v.jsx("input",{value:h.label,onChange:Z=>ll(h.id,Z.target.value),onClick:Z=>Z.stopPropagation(),placeholder:Ue.t43})]}),v.jsx("div",{className:"app-button-selected-groups",children:G.length===0?v.jsx("span",{className:"hint",children:Ue.t118}):G.map(Z=>v.jsx("span",{className:"pill muted",children:Z},Z))})]},h.id)})}),v.jsxs("div",{className:"app-buttons-right",children:[v.jsx("div",{className:"section-title",style:{fontSize:"14px"},children:Ue.t4}),v.jsx("div",{className:"hint",children:Ue.t5}),_r.length===0?v.jsx("div",{className:"hint",children:Ue.t6}):v.jsx("div",{className:"app-button-group-list",children:_r.map(h=>{var G;const y=Er.find(Z=>Z.id===Ki),L=(G=y==null?void 0:y.groupIds)==null?void 0:G.includes(h.id);return v.jsxs("label",{className:`app-button-group-item ${L?"active":""}`,children:[v.jsx("input",{type:"checkbox",checked:!!L,onChange:()=>{y&&cl(y.id,h.id)}}),v.jsx("span",{children:h.name})]},h.id)})})]})]})]}),_a=()=>v.jsxs("div",{style:{height:"100%",overflow:"auto"},children:[v.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f0f0f0",background:"#fafafa"},children:[v.jsx("h4",{style:{margin:"0 0 4px",fontSize:"13px",fontWeight:600},children:Ue.t7}),v.jsx("p",{style:{margin:0,fontSize:"12px",color:"#999"},children:Ue.t8})]}),v.jsx("div",{style:{padding:"0 12px"},children:Zt.map(h=>v.jsxs("label",{style:{display:"block",padding:"10px 0",borderBottom:"1px solid #f0f0f0"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"13px",fontWeight:500},children:h.label}),v.jsx("div",{style:{fontSize:"11px",color:"#999"},children:h.kind})]}),v.jsx("input",{type:"checkbox",checked:h.enabled!==!1,disabled:h.kind==="outline_extract",style:h.kind==="outline_extract"?{opacity:.6,cursor:"not-allowed"}:{},title:h.kind==="outline_extract"?Ue.t157:"",onChange:y=>{if(h.kind==="outline_extract")return;const L=y.target.checked,G=Zt.map(Z=>Z.id===h.id?{...Z,enabled:L}:Z);Gt(G),Xf({activeButtons:G})}})]}),h.kind==="outline_extract"&&v.jsxs("div",{style:{padding:"8px 0 4px"},children:[v.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:Ue.t9}),v.jsx("textarea",{value:h.prompt||"",onChange:y=>{const L=y.target.value,G=Zt.map(Z=>Z.id===h.id?{...Z,prompt:L}:Z);Gt(G),Xf({activeButtons:G})},style:{width:"100%",minHeight:"80px",fontSize:"12px"}})]})]},h.id))}),v.jsx("div",{style:{padding:"12px 16px",borderTop:"1px solid #f0f0f0",textAlign:"center"},children:v.jsx("button",{className:"ghost small",type:"button",style:{color:"#666"},onClick:()=>{const h=Ac(),y=Zt.map(G=>G.kind),L=h.filter(G=>!y.includes(G.kind));if(L.length===0){pt(Ue.t158);return}if(window.confirm(`${Ue.t159}${L.length}${Ue.t160}`)){const G=L.map(ge=>({...ge,id:`btn_restored_${Date.now()}_${Math.random().toString(36).slice(2)}`,enabled:!0})),Z=[...Zt,...G];Gt(Z),Xf({activeButtons:Z}),pt(Ue.t161)}},children:Ue.t10})})]}),Sa=(h,y)=>{if(!S)return;h.preventDefault(),h.stopPropagation();const L=h.clientX,G=h.clientY,Z=tn[y].position||{left:0,top:0};Qn({titleKey:y,startX:L,startY:G,startPos:Z})};tt.useEffect(()=>{if(!zr)return;const h=L=>{const G=L.clientX-zr.startX,Z=L.clientY-zr.startY;Ei(ge=>({...ge,[zr.titleKey]:{...ge[zr.titleKey],position:{left:zr.startPos.left+G,top:zr.startPos.top+Z}}}))},y=()=>{Qn(null)};return document.addEventListener("mousemove",h),document.addEventListener("mouseup",y),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",y)}},[zr]);const ji=(h,y,L)=>{if(!S)return;h.preventDefault(),h.stopPropagation();const G=h.clientX,Z=h.clientY,ge={width:tn[y].width||200,height:tn[y].height||30};Cr({titleKey:y,startX:G,startY:Z,startSize:ge,direction:L})};tt.useEffect(()=>{if(!fo)return;const h=L=>{const G=L.clientX-fo.startX,Z=L.clientY-fo.startY;Ei(ge=>{const Ae=Math.max(50,fo.startSize.width+G),ke=Math.max(20,fo.startSize.height+Z);return{...ge,[fo.titleKey]:{...ge[fo.titleKey],width:Ae,height:ke}}})},y=()=>{Cr(null)};return document.addEventListener("mousemove",h),document.addEventListener("mouseup",y),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",y)}},[fo]),tt.useEffect(()=>{if(!yr)return;const h=L=>{const G=L.clientX-yr.startX,Z=L.clientY-yr.startY;if(yr.panelId){const{panelId:ge,buttonId:Ae,dragType:ke}=yr;let he=yr.originalLeft,Ze=yr.originalTop,Qe=yr.originalWidth,Me=yr.originalHeight;ke==="move"?(he=yr.originalLeft+G,Ze=yr.originalTop+Z):ke==="resize-e"?Qe=Math.max(40,yr.originalWidth+G):ke==="resize-s"?Me=Math.max(20,yr.originalHeight+Z):ke==="resize-se"&&(Qe=Math.max(40,yr.originalWidth+G),Me=Math.max(20,yr.originalHeight+Z)),Jt(kt=>{const Tt=(kt[ge]||[]).map(st=>st.id===Ae?{...st,left:he,top:Ze,width:Qe,height:Me}:st);return{...kt,[ge]:Tt}});return}if(yr.action==="move")$(yr.buttonId,{x:yr.startPos.x+G,y:yr.startPos.y+Z});else if(yr.action==="resize"){const ge=Math.max(50,yr.startSize.width+G),Ae=Math.max(20,yr.startSize.height+Z);$(yr.buttonId,{width:ge,height:Ae})}},y=()=>{Po(null)};return document.addEventListener("mousemove",h),document.addEventListener("mouseup",y),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",y)}},[yr,Zt]),tt.useEffect(()=>{tn&&(tn.eyebrow||tn.title)&&(localStorage.setItem("workbench_header_titles",JSON.stringify(tn)),console.log("[HeaderTitles] Auto-saved to localStorage:",tn))},[tn]);const io=(h,y,L,G="move")=>{var ke;if(!S)return;const Z=(ke=$t[y])==null?void 0:ke.find(he=>he.id===L);if(!Z)return;const ge=h.clientX,Ae=h.clientY;Po({panelId:y,buttonId:L,dragType:G,startX:ge,startY:Ae,originalLeft:Z.left,originalTop:Z.top,originalWidth:Z.width,originalHeight:Z.height}),h.preventDefault()},Wr=(h,y)=>{Ie(L=>{const G={...L};return y?G[h]=!0:delete G[h],G})},ti=()=>Ie({}),Bi=async h=>{const y=(h||[]).map(L=>L.id);if(y.length)try{await mn("/api/multi/precipitation/records/order",{method:"POST",body:{order:y}})}catch(L){console.error("",L),pt("")}},Yi=(h,y,L)=>{const G=[...h||[]],Z=G.findIndex(ke=>ke.id===y),ge=G.findIndex(ke=>ke.id===L);if(Z===-1||ge===-1||Z===ge)return h;const[Ae]=G.splice(Z,1);return G.splice(ge,0,Ae),G},Ts=(h,y,L)=>{const G=[...h||[]],Z=G.findIndex(ke=>ke.id===y);if(Z===-1)return h;const ge=Math.max(0,Math.min(L,G.length-1)),[Ae]=G.splice(Z,1);return G.splice(ge,0,Ae),G},ul=h=>{let y=null;Fr(L=>(y=h(L),y)),y&&Bi(y)},fl=()=>{Ie(()=>{const h={};return Bn.forEach(y=>{h[y.id]=!0}),h})},Ls=async h=>{const y=Array.from(new Set((h||[]).filter(Boolean)));if(!y.length||!window.confirm(`${y.length} `))return;const G=await Promise.allSettled(y.map(ke=>mn(`/api/multi/precipitation/records/${ke}`,{method:"DELETE"}))),Z=y.filter((ke,he)=>G[he].status==="fulfilled"),ge=y.filter((ke,he)=>G[he].status!=="fulfilled");if(Z.length&&(Fr(ke=>ke.filter(he=>!Z.includes(he.id))),Jn(ke=>ke.map(he=>({...he,depositIds:(he.depositIds||[]).filter(Ze=>!Z.includes(Ze))}))),le(ke=>{const he={...ke};return Z.forEach(Ze=>delete he[Ze]),he}),cn(ke=>{const he={...ke};return Z.forEach(Ze=>delete he[Ze]),he}),Ie(ke=>{const he={...ke};return Z.forEach(Ze=>delete he[Ze]),he})),ge.length){console.error("",ge),pt(`${ge.length}/${y.length}`),await Oo(!0),await hs(!0);return}await Oo(!1)&&pt("")},rc=()=>void Ls(Object.keys(di||{}).filter(h=>di[h])),rr=(h,y,L)=>{bt(G=>({...G,[`${h}||${y}`]:(L??"").toString()}))},Ol=(h,y)=>{rr(h,"order",String(y))},pi=(h,y)=>{bt(L=>{const G={...L};return delete G[`${h}||${y}`],G})},Ra=async h=>{const y=`${h}||name`,G=(Ke[y]??"").toString().trim()||h;try{await mn(`/api/multi/precipitation/records/${h}`,{method:"PATCH",body:{name:G,title:G}}),Fr(Z=>Z.map(ge=>ge.id===h?{...ge,name:G,title:G}:ge)),pi(h,"name"),pt("")}catch(Z){console.error("",Z),pt("")}},Da=async(h,y)=>{const L=Zl(y);Fr(G=>G.map(Z=>Z.id===h?{...Z,precipitationMode:L}:Z));try{await mn(`/api/multi/precipitation/records/${h}`,{method:"PATCH",body:{precipitationMode:L}}),pt("")}catch(G){console.error("",G),pt(""),await Oo(!0)}},ka=h=>v.jsx("label",{className:"deposit-mode",children:v.jsxs("select",{value:Zl(h==null?void 0:h.precipitationMode),onChange:y=>Da(h.id,y.target.value),children:[v.jsx("option",{value:"llm",children:Ue.t11}),v.jsx("option",{value:"script",children:Ue.t12})]})}),ic=()=>{const h=$t["processing-tabs"]||[],y=Gl["processing-tabs"]||[],L=new Map(h.filter(G=>yd.includes(G==null?void 0:G.kind)).map(G=>[G.kind,G]));return yd.map(G=>L.get(G)||y.find(Z=>Z.kind===G)).filter(Boolean)},dl={tab_outline:{bg:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",inactiveBg:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",color:"#1e40af",activeColor:"#ffffff",border:"#3b82f6",shadow:"rgba(59, 130, 246, 0.4)"},tab_records:{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",inactiveBg:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",color:"#047857",activeColor:"#ffffff",border:"#10b981",shadow:"rgba(16, 185, 129, 0.4)"},tab_config:{bg:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",inactiveBg:"linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%)",color:"#6d28d9",activeColor:"#ffffff",border:"#8b5cf6",shadow:"rgba(139, 92, 246, 0.4)"},tab_strategy:{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",inactiveBg:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",color:"#b45309",activeColor:"#ffffff",border:"#f59e0b",shadow:"rgba(245, 158, 11, 0.4)"}},oc=()=>ic().map(y=>{const L=ec(y.label,""),G={...y,label:jv[y.kind]||L||y.label},Z=y.kind==="tab_outline"&&T==="outline"||y.kind==="tab_config"&&T==="config"||y.kind==="tab_records"&&T==="records"||y.kind==="tab_strategy"&&T==="strategy",ge=dl[y.kind]||dl.tab_outline;return{...G,style:{...G.style||{},background:Z?ge.bg:ge.inactiveBg,color:Z?ge.activeColor:ge.color,border:Z?"none":`1px solid ${ge.border}40`,borderRadius:"14px",boxShadow:Z?`0 4px 14px ${ge.shadow}`:"0 1px 3px rgba(0,0,0,0.08)",fontWeight:Z?700:600,transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",transform:Z?"translateY(-1px)":"none"}}}),Fl=h=>{const y=`${h}||order`,L=(Ke[y]??"").toString().trim(),G=Number.parseInt(L,10);if(!Number.isFinite(G)){pi(h,"order");return}ul(Z=>Ts(Z,h,Math.max(0,G-1))),pi(h,"order")},sc=(h,y)=>{h.key==="Enter"&&(h.preventDefault(),Fl(y))},ac=h=>y=>{Fn(h),Br("");try{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",h)}catch{}},lc=h=>y=>{!en||en===h||(y.preventDefault(),Br(h))},cc=h=>y=>{var G,Z;y.preventDefault();const L=en||((Z=(G=y.dataTransfer)==null?void 0:G.getData)==null?void 0:Z.call(G,"text/plain"));!L||L===h||(ul(ge=>Yi(ge,L,h)),Fn(""),Br(""))},js=()=>{Fn(""),Br("")},Oa=()=>{const h=ic();if(!h.length)return null;const y={};return h.forEach(L=>{L!=null&&L.kind&&(y[L.kind]=L)}),yd.slice(0,-1).map((L,G)=>{const Z=y[L],ge=y[yd[G+1]];if(!Z||!ge)return null;const Ae=Z.left+Z.width,ke=ge.left,he=Ae+(ke-Ae)/2,Ze=Z.top+(Z.height-16)/2;return v.jsx("span",{className:"tab-seq-arrow",style:{left:`${Math.max(0,he-10)}px`,top:`${Math.max(0,Ze)}px`},children:"-->"},`tab-seq-${L}`)})},Fo=new Set(["batch_replay","select_all","delete_selected","clear_selection","group_new","group_update"]),ls=new Set(["group_rename","group_delete","group_replay"]),Fa=h=>{const y=_r.find(ke=>ke.id===hi)||null,G=as().length>0,Z=Bn.length>0&&Object.keys(di||{}).filter(ke=>di[ke]).length===Bn.length,ge=$t["processing-records-toolbar"]||[];return(h?ge.filter(ke=>h.has(ke.kind)):ge).map(ke=>{let he=!1;switch(ke.kind){case"batch_replay":case"delete_selected":case"clear_selection":he=!G;break;case"select_all":he=Bn.length===0;break;case"group_new":he=!G;break;case"group_update":he=!G;break;case"group_rename":case"group_delete":case"group_replay":he=!y;break}ke.kind==="batch_replay"&&Mr&&(he=!0),ke.kind==="group_replay"&&y&&ur[y.id]&&(he=!0);let Ze=ke.label;return ke.kind==="select_all"&&(Ze=Z?"":""),{...ke,label:Ze,disabled:he}})},ps=h=>{var G;const y=((G=dr==null?void 0:dr[h==null?void 0:h.id])==null?void 0:G.bySection)||{},L=((h==null?void 0:h.sections)||[]).map(Z=>{var ge;return(ge=y==null?void 0:y[Z.id])==null?void 0:ge.status}).filter(Boolean);return L.length?L.every(Z=>Z==="done")?"done":L.every(Z=>Z==="fail")?"fail":"partial done":""},uc=h=>{var G;const y=((G=dr==null?void 0:dr[h==null?void 0:h.id])==null?void 0:G.bySection)||{},L=((h==null?void 0:h.sections)||[]).map(Z=>{const ge=y==null?void 0:y[Z.id];if(!ge||ge.status==="done"||ge.status==="running")return null;const Ae=(Z.action||Z.id||"").toString(),ke=(ge.message||"").toString().trim();return ke?`${Ae}${ge.status} - ${ke}`:`${Ae}${ge.status}`}).filter(Boolean);return L.length?L.length<=3?L.join(""):`${L.slice(0,3).join("")}  ${L.length} `:""},hl=()=>_r.length===0?v.jsx("p",{className:"hint",style:{padding:"20px",textAlign:"center"},children:Ue.t6}):v.jsx("div",{className:"deposit-groups-list",style:{display:"flex",flexDirection:"column",gap:"8px"},children:_r.map(h=>{const y=hi===h.id,L=(h.depositIds||[]).length;return v.jsx("div",{className:`section deposit-group-item ${y?"selected":""}`,style:{padding:"12px 16px",borderRadius:"8px",background:y?"#e0f2fe":"#f8fafc",border:y?"2px solid #0ea5e9":"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.15s ease"},onClick:()=>ii(y?"":h.id),children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx("input",{type:"checkbox",checked:y,onChange:()=>ii(y?"":h.id),onClick:G=>G.stopPropagation(),style:{width:"16px",height:"16px"}}),v.jsx("span",{style:{fontWeight:500,fontSize:"14px"},children:ec(h.name,h.id)}),v.jsxs("span",{className:"pill muted",style:{fontSize:"12px"},children:[L," "]})]}),v.jsxs("div",{style:{display:"flex",gap:"6px"},children:[v.jsx("button",{type:"button",className:"ghost xsmall",onClick:G=>{G.stopPropagation(),ii(h.id),Fi()},children:Ue.t67}),v.jsx("button",{type:"button",className:"ghost xsmall",onClick:G=>{G.stopPropagation(),ii(h.id),setTimeout(()=>ia(),0)},disabled:ur[h.id],children:ur[h.id]?Ue.t119:"Replay"})]})]})},h.id)})}),pl=()=>{const h=_r.find(L=>L.id===hi);if(!h)return null;const y=(h.depositIds||[]).map((L,G)=>{const Z=Bn.find(ge=>ge.id===L);return Z?{...Z,_groupIdx:G}:null}).filter(Boolean);return v.jsxs("div",{className:"section deposit-group-panel",children:[v.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10},children:[v.jsxs("span",{children:[Ue.t15,h.name]}),v.jsx("span",{className:"pill muted",children:y.length})]}),v.jsx("div",{className:"section-actions",style:{gap:6},children:v.jsx("button",{className:"ghost xsmall",type:"button",onClick:ia,disabled:ur[h.id],children:ur[h.id]?Ue.t119:"Replay"})})]}),v.jsxs("div",{className:"sections",style:{gap:6},children:[y.length===0&&v.jsx("div",{className:"hint",children:Ue.t16}),y.map((L,G)=>{var Z;return v.jsx("div",{className:"section",children:v.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[v.jsx("span",{className:"pill muted",children:G+1}),Ke[`${L.id}||name`]!==void 0?v.jsx("input",{className:"deposit-name-input",value:Ke[`${L.id}||name`],onChange:ge=>rr(L.id,"name",ge.target.value),onBlur:()=>void Ra(L.id),onKeyDown:ge=>ml(ge,L.id),autoFocus:!0,onClick:ge=>ge.stopPropagation(),style:{border:"1px solid #1a73e8",padding:"2px 6px",borderRadius:"4px",fontSize:"16px",width:"200px"}}):v.jsx("span",{className:"deposit-name",onDoubleClick:ge=>{ge.stopPropagation(),rr(L.id,"name",L.name||L.id)},title:Ue.t120,style:{cursor:"text",fontWeight:500},children:L.name||Ue.t144}),v.jsx("button",{className:"icon-btn tiny",type:"button",onClick:ge=>{ge.stopPropagation(),rr(L.id,"name",L.name||L.id)},title:Ue.t67,style:{width:20,height:20,padding:2,opacity:.5},children:v.jsx(cf,{size:12})})]}),v.jsxs("div",{className:"section-actions",style:{gap:6},children:[ps(L)?v.jsx("span",{className:`status ${ps(L).replace(" ","-")}`,title:uc(L)||Ue.t122,children:ps(L)}):null,v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void vl(L.id),disabled:!!((Z=dr==null?void 0:dr[L.id])!=null&&Z.running),children:"Replay"})]})]})},`${L.id}_${L._groupIdx}`)})]})]})},si=(h,y)=>{Fr(L=>L.map(G=>G.id===h?{...G,sections:(G.sections||[]).filter(Z=>Z.id!==y)}:G)),cn(L=>{const G={...L};return G[h]&&(G[h]={...G[h]||{}},delete G[h][y]),G}),pi(h,`${y}||action`),pi(h,`${y}||exec`),pi(h,`${y}||summary`),pi(h,`${y}||location`),pi(h,`${y}||req_input`),pi(h,`${y}||req_exec`),pi(h,`${y}||req_summary`),pi(h,`${y}||req_location`),pt(" section")},Bl=(h,y)=>{var ge;cn(Ae=>({...Ae,[h]:{...(Ae==null?void 0:Ae[h])||{},[y.id]:!0}}));const L=Ve((y==null?void 0:y.content)||""),G=(y==null?void 0:y.llmScript)||{},Z=St(y);rr(h,`${y.id}||type`,G.type||((ge=y==null?void 0:y.meta)==null?void 0:ge.type)||""),rr(h,`${y.id}||description`,G.description||G.actionDescription||""),rr(h,`${y.id}||instructions`,G.instructions||G.promptContent||""),rr(h,`${y.id}||inputSourceDesc`,G.inputSourceDesc||""),rr(h,`${y.id}||targetTitle`,G.targetTitle||G.outputTargetDesc||""),rr(h,`${y.id}||aiGuidance`,G.aiGuidance||""),rr(h,`${y.id}||action`,(y==null?void 0:y.action)||L.operationRecord||""),rr(h,`${y.id}||exec`,L.actionExecution||""),rr(h,`${y.id}||summary`,L.executionSummary||""),rr(h,`${y.id}||location`,L.recordLocation||""),rr(h,`${y.id}||req_input`,Z.inputSource),rr(h,`${y.id}||req_exec`,Z.actionExecution),rr(h,`${y.id}||req_summary`,Z.executionSummary),rr(h,`${y.id}||req_location`,Z.recordLocation)},Ba=async(h,y)=>{var L;try{const G=Xr((y==null?void 0:y.content)||"")||{},Z=(((L=G==null?void 0:G.docSelector)==null?void 0:L.description)||"").toString(),ge=window.prompt("202410 .txt ",Z);if(ge===null)return;const Ae=ge.toString().trim();if(!Ae){pt("");return}const ke=await mn("/api/replay/file-selector",{method:"POST",body:{description:Ae,exampleName:((G==null?void 0:G.docName)||"").toString()}}),he=ke==null?void 0:ke.selector;if(!he||typeof he!="object"){pt("");return}const Ze={...G||{},type:"add_doc",source:"upload",docSelector:he},Qe=he.kind==="regex"?`regex=${(he.pattern||"").toString()}`:`keywords=${Array.isArray(he.keywords)?he.keywords.join("??"):""}${he.extension?` ext=${he.extension}`:""}`,Me=`${he.mode==="multi"?"":""}`,kt=[`${Ae}`,`${Qe}`].join(`
`),ct=wr([Me,kt].join(`
`),Ze);Fr(Tt=>Tt.map(st=>{if(st.id!==h)return st;const xt=(st.sections||[]).map(Ge=>Ge.id===y.id?{...Ge,content:ct}:Ge);return{...st,sections:xt}})),pt((ke==null?void 0:ke.usedModel)===!1?"":"")}catch(G){console.error(G),pt((G==null?void 0:G.message)||"")}},aa=(h,y)=>{pi(h,`${y}||type`),pi(h,`${y}||description`),pi(h,`${y}||instructions`),pi(h,`${y}||inputSourceDesc`),pi(h,`${y}||targetTitle`),pi(h,`${y}||aiGuidance`),pi(h,`${y}||action`),pi(h,`${y}||exec`),pi(h,`${y}||summary`),pi(h,`${y}||location`),pi(h,`${y}||req_input`),pi(h,`${y}||req_exec`),pi(h,`${y}||req_summary`),pi(h,`${y}||req_location`)},Ma=async(h,y)=>{var Bt,xi;const L=`${h}||${y}||type`,G=`${h}||${y}||description`,Z=`${h}||${y}||instructions`,ge=`${h}||${y}||inputSourceDesc`,Ae=`${h}||${y}||targetTitle`,ke=`${h}||${y}||aiGuidance`,he=`${h}||${y}||action`,Ze=`${h}||${y}||exec`,Qe=`${h}||${y}||summary`,Me=`${h}||${y}||location`,kt=`${h}||${y}||req_input`,ct=`${h}||${y}||req_exec`,Tt=`${h}||${y}||req_summary`,st=`${h}||${y}||req_location`,xt=(Ke[L]??"").toString(),Ge=(Ke[G]??"").toString(),ze=(Ke[Z]??"").toString(),yt=(Ke[ge]??"").toString(),Xe=(Ke[Ae]??"").toString(),lt=(Ke[ke]??"").toString(),Wt=(Ke[he]??"").toString(),Lt=(Ke[Ze]??"").toString(),un=(Ke[Qe]??"").toString(),jt=(Ke[Me]??"").toString(),Pt=((xi=(Bt=Bn.find(Un=>Un.id===h))==null?void 0:Bt.sections)==null?void 0:xi.find(Un=>Un.id===y))||{},At=St(Pt),Ut={inputSource:ft(Ke[kt]??At.inputSource),actionExecution:ft(Ke[ct]??At.actionExecution),executionSummary:ft(Ke[Tt]??At.executionSummary),recordLocation:ft(Ke[st]??At.recordLocation)},Mt=`${h}||${y}`;sn(Un=>({...Un,[Mt]:!0}));try{const Un=await mn(`/api/multi/precipitation/records/${h}/sections/${y}/compile`,{method:"POST",body:{llmScript:{type:xt,description:Ge,actionDescription:Ge,instructions:ze,promptContent:ze,inputSourceDesc:yt,targetTitle:Xe,outputTargetDesc:Xe,aiGuidance:lt},operationRecord:Wt,actionExecution:Lt,executionSummary:un,recordLocation:jt,actionLabel:Wt,requirements:Ut}});Un!=null&&Un.record?Fr(ts=>ts.map(Tn=>Tn.id===Un.record.id?Un.record:Tn)):Un!=null&&Un.section&&Fr(ts=>ts.map(Tn=>{if(Tn.id!==h)return Tn;const bi=(Tn.sections||[]).map(zi=>zi.id===y?{...Un.section,requirements:Un.section.requirements||Ut}:zi);return{...Tn,sections:bi}})),aa(h,y),pt(" section")}catch(Un){console.error("",Un),pt((Un==null?void 0:Un.message)||"")}finally{sn(Un=>{const ts={...Un};return delete ts[Mt],ts})}},ml=(h,y)=>{h.key==="Enter"&&(h.preventDefault(),Ra(y))},ms=(h,y,L)=>{h.key==="Enter"&&(h.shiftKey||(h.preventDefault(),Ma(y,L)))},Ml=(h,y)=>{const L=Qt==null?void 0:Qt[h];return!L||L[y]===void 0?!0:!!L[y]},Aa=(h,y)=>{cn(L=>{const G=(L==null?void 0:L[h])||{},Z=G[y]===!1;return{...L,[h]:{...G,[y]:Z}}})},eu=async()=>{const h=Object.keys(di||{}).filter(y=>di[y]);if(!h.length){pt(" Replay ");return}if(!Mr){Qr(!0);try{for(const y of h)await vl(y);pt(" Replay ")}finally{Qr(!1)}}},$u=async h=>{const y=h instanceof HTMLFormElement?h:ha.current;if(y)try{const L=new FormData(y),G=(L.get("name")||"").toString().trim()||"",Z=(L.get("content")||"").toString();if(!Z.trim()){pt("");return}if(typeof Z!="string"){pt("content ");return}const ge=await mn("/api/docs",{method:"POST",body:{name:G,content:Z}}),Ae=ge==null?void 0:ge.doc;if(a(ke=>vd(ke,[Ae])),f(Ae.id),nn("",{type:"add_doc",docName:(Ae==null?void 0:Ae.name)||G,source:"manual",overwritten:!!(ge!=null&&ge.overwritten),inputs:[{kind:"manual_text",length:(Z||"").toString().length}],process:ge!=null&&ge.overwritten?"":"",outputs:{summary:""+((Ae==null?void 0:Ae.name)||G)+(ge!=null&&ge.overwritten?"":"")},destinations:[{kind:"docs_list"}]}),s){const ke=Array.from(new Set([Ae.id,...s.docIds||[]])),{scene:he}=await mn(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:ke}});u(he)}y.reset(),pt("")}catch(L){console.error(L),pt(L.message||"")}};async function qu(h){await $u(h.target)}function gl(h){if(!h)return"";if(typeof h!="string")return String(h);const y=h.trim();if(y.startsWith("{")||y.startsWith("["))try{const L=JSON.parse(y);if(typeof L=="string")return L;if(L.detail&&typeof L.detail=="string")return L.detail;if(L.content&&typeof L.content=="string")return L.content;if(L.summary&&typeof L.summary=="string")return L.summary;const G=Object.values(L).find(Z=>typeof Z=="string");if(G)return G}catch{return y}return y}async function zl(h){const y=h==null?void 0:h.target,L=Array.from((y==null?void 0:y.files)||[]);if(!L.length)return;const G=[],Z=[];try{for(const Ae of L)try{const ke=(Ae==null?void 0:Ae.name)||"",he=Lv(ke),Ze=he?await Rv(Ae):await nA(Ae),Qe=typeof Ze=="string"?Ze:String(Ze??""),Me=await mn("/api/docs",{method:"POST",body:{name:ke,content:Qe}}),kt=Me==null?void 0:Me.doc;G.push(kt),nn("",{type:"add_doc",docName:(kt==null?void 0:kt.name)||ke,source:"upload",overwritten:!!(Me!=null&&Me.overwritten),inputs:[{kind:"upload_file",docName:(kt==null?void 0:kt.name)||ke,length:Qe.length,format:he?"docx":"text"}],process:(he?" Word(.docx) ":"")+(Me!=null&&Me.overwritten?"":""),outputs:{summary:""+((kt==null?void 0:kt.name)||ke)+(Me!=null&&Me.overwritten?"":"")},destinations:[{kind:"docs_list"}]})}catch(ke){console.error(ke),Z.push({name:(Ae==null?void 0:Ae.name)||"(unknown)",error:(ke==null?void 0:ke.message)||""})}const ge=Cw(G);if(ge.length&&(a(Ae=>vd(Ae,ge)),f(ge[0].id),s)){const Ae=ge.map(Ze=>Ze.id),ke=Array.from(new Set([...Ae,...s.docIds||[]])),{scene:he}=await mn(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:ke}});u(he)}if(ge.length&&Z.length)pt(` ${ge.length}  ${Z.length} `);else if(ge.length)pt(` ${ge.length} `);else{const Ae=Z[0];pt(Ae!=null&&Ae.error?`${Ae.error}`:"")}}catch(ge){console.error(ge),pt((ge==null?void 0:ge.message)||"")}finally{ho.current&&(ho.current.value="")}}async function Na(h){var Qe;console.log("[autoTemplate] Called with buttonConfig:",h);let y=s;if(!y)try{y=(await mn("/api/scene",{method:"POST",body:{docIds:l?[l]:[]}})).scene,u(y),pt("")}catch(Me){console.error("[autoTemplate] Scene creation failed:",Me),pt("");return}let L=h;if(L&&!L.io){const Me=Ac(),kt=Me.find(ct=>ct.kind===L.kind)||Me[0];L={...kt,...L,io:kt.io}}L||(L=Ac()[0]);const G=L;console.log("[autoTemplate] Using resolved config:",G);const Z=o.find(Me=>Me.id===l);if(!Z)return console.warn("[autoTemplate] No document selected"),pt("");const Ae=Su(G==null?void 0:G.io,{dataSource:G==null?void 0:G.dataSource,outputTarget:G==null?void 0:G.outputTarget}).filter(Me=>Me.enabled);if(!Ae.some(Me=>Me.output==="titles")){pt("");return}const ke=Array.from(new Set(Ae.map(Me=>Me.dataSource))),he=ke.map(Me=>Me==="selected_doc"?`
${Z.content||""}`.trim():`
${me||""}`.trim()),Ze=`${Z.name||""}

${he.join(`

---

`)}`.trim();if(!Ze.trim())return pt("");console.log("[autoTemplate] Sending to API, text length:",Ze.length),m(!0);try{const Me=await mn("/api/template/auto",{method:"POST",body:{text:Ze,prompt:G.prompt||""}});console.log("[autoTemplate] API response:",Me);const kt=Ae.some(Ge=>Ge.output==="summaries"&&Ge.target==="summary"),ct=Ae.some(Ge=>Ge.output==="summaries"&&Ge.target==="title"),Tt=Ae.some(Ge=>Ge.output==="titles"&&Ge.target==="summary"),st={...Me.template,sections:(((Qe=Me.template)==null?void 0:Qe.sections)||[]).map(Ge=>{const ze=((Ge==null?void 0:Ge.title)||"").toString(),yt=((Ge==null?void 0:Ge.summary)||"").toString().trim(),Xe=ct&&yt?`${ze} - ${yt}`:ze,lt=[];Tt&&ze&&lt.push(ze),kt&&yt&&lt.push(yt);const Wt=lt.join(`
`).trim();return{...Ge,title:Xe,summary:Wt}})},xt=await mn(`/api/scene/${y.id}/apply-template`,{method:"POST",body:{template:st}});t(xt.template),u(xt.scene),R(!0),nn("",{type:"outline_extract",actionDescription:`${Z.name}`,buttonId:G.id,buttonLabel:G.label,prompt:G.prompt,io:Ae,selectedDocName:Z.name,selectedDocId:Z.id,inputContentExcerpt:(Z.content||"").toString().substring(0,500),inputContentLength:(Z.content||"").toString().length,inputs:ke.map(Ge=>Ge==="selected_doc"?{kind:"doc_resource",docName:Z.name,docId:Z.id,length:(Z.content||"").toString().length,contentExcerpt:(Z.content||"").toString().substring(0,300)}:{kind:"doc_preview",docName:Z.name,length:(me||"").toString().length,contentExcerpt:(me||"").toString().substring(0,300)}),process:" 1-3 /",outputs:{summary:" "+xt.template.sections.length+((Me==null?void 0:Me.usedModel)===!1?Me!=null&&Me.blocked?"":"":""),sectionsCount:xt.template.sections.length,usedModel:(Me==null?void 0:Me.usedModel)!==!1,generatedSections:(xt.template.sections||[]).map(Ge=>({id:Ge.id,level:Ge.level,levelText:Ge.level===1?"":Ge.level===2?"":Ge.level===3?"":`${Ge.level}`,title:Ge.title||"",summary:Ge.summary||"",hint:Ge.hint||""})),sectionsSample:(xt.template.sections||[]).slice(0,8).map(Ge=>({id:Ge.id,level:Ge.level,title:I(Ge.title||"",80),summaryExcerpt:I(Ge.summary||Ge.hint||"",120)}))},destinations:[{kind:"outline_apply",count:xt.template.sections.length}],outputTarget:"",aiGuidance:"1-3Replay ",specialRequirements:""}),pt((Me==null?void 0:Me.usedModel)===!1?Me!=null&&Me.blocked?"":" QWEN_API_KEY":"")}catch(Me){pt(Me.message)}finally{m(!1)}}const za=async()=>{var L;if(!(s!=null&&s.id)){pt("scene ");return}if(!window.confirm(""))return;const y=((e==null?void 0:e.sections)||[]).length;m(!0);try{const G={id:"template_empty",name:"",sections:[]};try{await mn(`/api/scene/${s.id}`,{method:"PATCH",body:{sectionDocLinks:{}}})}catch{}const Z=await mn(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:G}});Z!=null&&Z.scene&&u(Z.scene),Z!=null&&Z.template&&t(Z.template),E(((L=Z==null?void 0:Z.scene)==null?void 0:L.sectionDocLinks)||{}),Q({}),M({}),ce({}),fe({}),De({}),nn("",{type:"outline_clear",inputs:[{kind:"outline_selected",count:y,sectionIds:((e==null?void 0:e.sections)||[]).map(ge=>ge.id)}],process:"",outputs:{summary:` ${y} `,clearedCount:y},destinations:[{kind:"outline_apply",count:0}]}),pt("")}catch(G){console.error(G),pt((G==null?void 0:G.message)||"")}finally{m(!1)}},Ua=async h=>{if(!(h!=null&&h.enabled)||!s||!e)return;const y=(e.sections||[]).filter(ct=>B[ct.id]);if(!y.length){pt("");return}const G=Su(h==null?void 0:h.io,{dataSource:h==null?void 0:h.dataSource,outputTarget:h==null?void 0:h.outputTarget}).filter(ct=>ct.enabled),Z=G.some(ct=>ct.output==="summaries"&&ct.target==="summary"),ge=G.some(ct=>ct.output==="summaries"&&ct.target==="title");if(!Z&&!ge){pt("/");return}const Ae=o.find(ct=>ct.id===l)||null;if(!Ae){pt("");return}const ke=Ae!=null&&Ae.id&&Ae.id===l&&(me||"").toString().trim()?me:(Ae.content||"").toString(),he=Array.from(new Set(G.map(ct=>ct.dataSource))),Ze=he.map(ct=>ct==="selected_doc"?`
${Ae.content||""}`.trim():`
${ke}`.trim()),Qe=`${Ae.name||""}

${Ze.join(`

---

`)}`.trim();if(!Qe.trim()){pt("");return}const Me=(((h==null?void 0:h.label)||"").toString().trim()||"").toString(),kt=y.map((ct,Tt)=>({sectionId:ct.id,field:"summary",label:(ct.title||`${Tt+1}`).toString(),content:(ct.summary||ct.hint||"").toString()}));m(!0);try{const ct=await mn("/api/dispatch",{method:"POST",body:{sceneId:s.id,instructions:Me,docContent:Qe,outlineSegments:kt,systemPrompt:h==null?void 0:h.prompt}});if((ct==null?void 0:ct.usedModel)===!1)throw new Error("QWEN_API_KEY `server.js` ");const Tt=gl(ct.summary||"")||"",st=gl(ct.detail||"")||"";if(st.trim()){const xt=y.map(Ge=>Ge.id);t(Ge=>{if(!Ge)return Ge;const ze=Ge.sections.map(Xe=>xt.includes(Xe.id)?{...Xe,title:ge?st:Xe.title,summary:Z?st:Xe.summary}:Xe),yt={...Ge,sections:ze};return s!=null&&s.customTemplate&&u({...s,customTemplate:yt}),yt})}nn("",{type:"outline_action",buttonId:h==null?void 0:h.id,buttonLabel:h==null?void 0:h.label,prompt:h==null?void 0:h.prompt,selectedSectionIds:y.map(xt=>xt.id),inputs:[{kind:"outline_selected",sectionIds:y.map(xt=>xt.id)},...he.map(xt=>({kind:xt==="selected_doc"?"selected_doc":"preview",length:Qe.length}))],process:"",outputs:{summary:Tt,detailLength:st.length},destinations:[{kind:"outline_section_summary_batch",sectionIds:y.map(xt=>xt.id),count:y.length}]}),pt(Tt)}catch(ct){console.error(ct),pt((ct==null?void 0:ct.message)||"")}finally{m(!1)}};async function $a(){var Ze,Qe;if(!s)return;const h=vn.find(Me=>Me.kind==="dispatch");if(h&&!h.enabled){pt("");return}const y=((Ze=qn.current)==null?void 0:Ze.value)||"";if(!y.trim()){pt("");return}qn.current&&(qn.current.value="");let G=((Qe=o.find(Me=>Me.id===l))==null?void 0:Qe.content)||"",Z=[];const ge=[];let Ae=be==="result"?"result":"doc",ke=[],he=null;if(be==="batch_outline"){const Me=((e==null?void 0:e.sections)||[]).filter(ct=>B[ct.id]);if(!Me.length){pt("");return}ke=Me.map(ct=>ct.id),ge.push({kind:"outline_selected",sectionIds:ke}),Ae="outline_selected_batch",Z=Me.map((ct,Tt)=>({sectionId:ct.id,field:"summary",content:`${ct.title}
${ct.summary||ct.hint||""}`,label:`${Tt+1}`})),G=Z.map(ct=>`${ct.label} | ID=${ct.sectionId}
${ct.content}`).join(`

`)}else if(x){const Me=((e==null?void 0:e.sections)||[]).filter(st=>B[st.id]);if(!Me.length){pt("");return}if(ke=Me.map(st=>st.id),ge.push({kind:"outline_selected",sectionIds:ke}),!(Me.length>0)){pt("");return}let ct=[],Tt=[];if(Me.forEach(st=>{const xt=X[st.id]||[],Ge=de[st.id]||{},ze=xt.filter(yt=>!Ge[yt]);ze.length?ct.push({sec:st,unprocessed:ze}):Tt.push(st)}),ct.length&&Tt.length){pt("");return}if(ct.length){Ae="outline_unprocessed_docs";const xt=ct.flatMap(Ge=>Ge.unprocessed).map(Ge=>o.find(ze=>ze.id===Ge)).filter(Boolean);if(!xt.length){pt("");return}xt.forEach(Ge=>ge.push({kind:"doc_resource",docName:Ge.name,length:(Ge.content||"").toString().length})),G=xt.map((Ge,ze)=>`${ze+1}${Ge.name}
${Ge.content}`).join(`

---

`),Z=ct.map((Ge,ze)=>({sectionId:Ge.sec.id,field:"summary",content:Ge.sec.summary||Ge.sec.hint||Ge.sec.title||"",label:`${ze+1}`}))}else Ae="outline_summaries",Z=Me.map((xt,Ge)=>({sectionId:xt.id,field:"summary",content:xt.summary||xt.hint||xt.title||"",label:`${Ge+1}`})),G=Z.map(xt=>`${xt.label} | ID=${xt.sectionId}
${xt.content}`).join(`

`)}else if(be==="result"){Ae="result";const Me=Object.entries(pe).filter(([,ct])=>typeof ct=="string"&&ct.trim());if(!Me.length){pt("");return}he=Me.map(([ct,Tt])=>({key:ct,length:(Tt||"").toString().trim().length,text:I((Tt||"").toString().trim(),2200)})),ge.push(`${Me.length}`),G=Me.map(([ct,Tt],st)=>{const xt=ct.includes("detail")?"":"/";return`${st+1}${xt}
${Tt.trim()}`}).join(`

`)}else{if(Ae="doc",!G.trim()){pt("");return}const Me=o.find(kt=>kt.id===l);Me&&ge.push({kind:"doc_resource",docName:Me.name,length:(Me.content||"").toString().length})}ne(Me=>[...Me,{role:"user",text:y}]),b(!0);try{const Me=await mn("/api/dispatch",{method:"POST",body:{sceneId:s.id,instructions:y,docContent:G,outlineSegments:Z,systemPrompt:h==null?void 0:h.prompt}}),kt=(Me==null?void 0:Me.usedModel)!==!1,ct=gl(Me.summary||"")||(kt?"":""),Tt=gl(Me.detail||"");ne(jt=>[...jt,{role:"system",text:ct,detail:Tt}]),P(Tt||ct),xe({}),pt(ct||""),qn.current&&(qn.current.value="");let st=0;const xt=(jt,Pt)=>{if(!jt)return null;const At=String(jt).trim(),Ut=At.match(/ID\s*=\s*(.+)/i);if(Ut)return Ut[1].trim();const Mt=At.match(/\d+\s*[:]\s*(.+)/);if(Mt)return Mt[1].trim();const Bt=At.match(/\|\s*ID\s*=\s*(.+)/i);if(Bt)return Bt[1].trim();if(/^\d+$/.test(At)){const Un=parseInt(At,10)-1;if(Un>=0&&Un<Pt.length)return Pt[Un]}const xi=At.match(/(\d+)/);if(xi){const Un=parseInt(xi[1],10)-1;if(Un>=0&&Un<Pt.length)return Pt[Un]}return At},Ge=Z.map(jt=>jt.sectionId);Array.isArray(Me.edits)&&Me.edits.length&&(st=Me.edits.length,t(jt=>{if(!jt)return jt;const Pt=jt.sections.map(Ut=>{const Mt=Me.edits.find(Bt=>xt(Bt.sectionId,Ge)===Ut.id||Bt.sectionId===Ut.id);return Mt?{...Ut,title:Mt.field==="title"&&Mt.content?Mt.content:Ut.title,summary:Mt.field==="summary"&&Mt.content?Mt.content:Ut.summary}:Ut}),At={...jt,sections:Pt};return s!=null&&s.customTemplate&&u({...s,customTemplate:At}),At}));const ze=new Set;Array.isArray(Me.edits)&&Me.edits.forEach(jt=>{const Pt=xt(jt.sectionId,Ge);Pt&&ze.add(Pt),jt.sectionId&&ze.add(jt.sectionId)});let yt=0;if(x&&Tt){const Pt=Object.keys(B).filter(At=>B[At]).filter(At=>!ze.has(At));Pt.length&&(yt=Pt.length,t(At=>{if(!At)return At;const Ut=At.sections.map(Bt=>Pt.includes(Bt.id)?{...Bt,summary:Tt}:Bt),Mt={...At,sections:Ut};return s!=null&&s.customTemplate&&u({...s,customTemplate:Mt}),Mt}))}const Xe=[{kind:"dispatch_result"}];x&&yt&&Xe.push({kind:"dispatch_apply",count:yt}),st&&Xe.push(`/ edits ${st}`);const lt=(()=>{var At;const jt=[],Pt=Ut=>{const Mt=((e==null?void 0:e.sections)||[]).find(xi=>xi.id===Ut);return Mt?`${Mt.level===1?"":Mt.level===2?"":Mt.level===3?"":`${Mt.level}`}${Mt.title}`:Ut};if(Ae==="doc"){const Ut=(At=o.find(Mt=>Mt.id===l))==null?void 0:At.name;jt.push(`${Ut||""}`)}else if(Ae==="result")jt.push("");else if(Ae==="outline_selected_batch"){const Ut=ke.map(Pt);jt.push(`${Ut.join("")}`)}else if(Ae==="outline_summaries"){const Ut=ke.map(Pt);jt.push(`${Ut.join("")}`)}else if(Ae==="outline_unprocessed_docs"){const Ut=ke.map(Pt);jt.push(`${Ut.join("")}`)}else if(Ae==="batch_outline"){const Ut=ke.map(Pt);jt.push(`${Ut.join("")}`)}return jt.join("")||""})(),Wt=(()=>{const jt=[];if(x&&yt){const Pt=ke.map(At=>{const Ut=((e==null?void 0:e.sections)||[]).find(Bt=>Bt.id===At);return Ut?`${Ut.level===1?"":Ut.level===2?"":Ut.level===3?"":`${Ut.level}`}${Ut.title}`:At});jt.push(`${Pt.join("")}`)}if(st&&Array.isArray(Me.edits)){const Pt=Me.edits.map(At=>{const Ut=Z.find(Bt=>Bt.sectionId===At.sectionId),Mt=((e==null?void 0:e.sections)||[]).find(Bt=>Bt.id===At.sectionId);return Mt?`${Mt.level===1?"":Mt.level===2?"":Mt.level===3?"":`${Mt.level}`}${Mt.title}${At.field==="title"?"":""}`:`${At.sectionId}${At.field||"summary"}`});jt.push(`${Pt.join("")}`)}return jt.push(""),jt.join("")})(),Lt=Ae==="result"&&Array.isArray(he)&&he.length?he.map((jt,Pt)=>`${Pt+1}${(jt==null?void 0:jt.key)||""}
${(jt==null?void 0:jt.text)||""}`).join(`

`):Z&&Z.length>0?Z.map((jt,Pt)=>`${jt.label||`${Pt+1}`}
${jt.content||""}`).join(`

`):"",un=ke.map(jt=>{const Pt=((e==null?void 0:e.sections)||[]).find(Ut=>Ut.id===jt);if(!Pt)return{id:jt,found:!1};const At=Pt.level===1?"":Pt.level===2?"":Pt.level===3?"":`${Pt.level}`;return{id:Pt.id,level:Pt.level,levelText:At,title:Pt.title,originalSummary:Pt.summary||"",originalHint:Pt.hint||"",found:!0}});if(nn("",{type:"dispatch",actionDescription:`${y}`,promptContent:y,instructions:y,inputKind:Ae,inputSourceType:Ae,inputSourceDesc:lt,inputContent:Lt,inputContentExcerpt:Lt.length>500?Lt.substring(0,500)+"...":Lt,selectedSectionTitles:ke.map(jt=>{const Pt=((e==null?void 0:e.sections)||[]).find(At=>At.id===jt);return(Pt==null?void 0:Pt.title)||jt}),selectedSectionIds:ke,inputs:ge,targetSectionsDetail:un,outlineSegmentsMeta:(Z||[]).map(jt=>({sectionTitle:jt.label||jt.title||"",sectionId:jt.sectionId,field:jt.field,originalContent:jt.content||""})),outputTargetDesc:Wt,process:`${y}`,outputs:{summary:ct,usedModel:kt,outputContent:Tt||ct,outputContentExcerpt:Tt?Tt.substring(0,500):ct,detailExcerpt:Tt,edits:Array.isArray(Me.edits)?Me.edits.map(jt=>({sectionId:jt.sectionId,field:jt.field||"summary",newValue:jt.newValue,newValueExcerpt:(jt.newValue||"").substring(0,200)})):[],editsCount:Array.isArray(Me.edits)?Me.edits.length:0,status:"done"},destinations:Xe,aiGuidance:`${y}Replay `,specialRequirements:""}),x){const jt=Object.keys(B).filter(Pt=>B[Pt]);ce(Pt=>{const At={...Pt};return jt.forEach(Ut=>{(X[Ut]||[]).forEach(Bt=>{At[Ut]||(At[Ut]={}),At[Ut][Bt]=!0})}),At})}}catch(Me){pt(Me.message),ne(kt=>[...kt,{role:"system",text:`${Me.message}`}])}finally{b(!1)}}async function fc(h){var y;try{await mn(`/api/docs/${h}`,{method:"DELETE"});const L=o.filter(G=>G.id!==h);if(a(L),E(G=>{const Z={...G};return Object.keys(Z).forEach(ge=>{Z[ge]=(Z[ge]||[]).filter(Ae=>Ae!==h),Z[ge].length||delete Z[ge]}),Z}),s){const G=(s.docIds||[]).filter(ge=>ge!==h),Z={...s,docIds:G};u(Z)}l===h&&f(((y=L[0])==null?void 0:y.id)||null),pt("")}catch(L){console.error(L),pt(L.message||"")}}const tu=async()=>{if(o.length&&confirm(""))try{for(const h of o)await mn(`/api/docs/${h.id}`,{method:"DELETE"});a([]),f(null),E({}),Q({}),ce({}),s&&u({...s,docIds:[]}),pt("")}catch(h){console.error(h),pt(h.message||"")}};tt.useEffect(()=>{if(!Er.length){Ni("");return}Ni(h=>h&&Er.some(y=>y.id===h)?h:Er[0].id)},[Er]),o.find(h=>h.id===l);const Ul={1:"",2:"",3:"",4:"",5:""};Object.keys(re).length;const nu=(h,y,L)=>{De(G=>({...G,[`${h}||${y}`]:L??""}))},Wu=h=>{var Ae;const y=Y[h]||l;if(!y){pt("");return}const L=X[h]||[];if(L.includes(y))return;const G={...X,[h]:[...L,y]};E(G),Bo(G);const Z=((e==null?void 0:e.sections)||[]).find(ke=>ke.id===h),ge=((Ae=o.find(ke=>ke.id===y))==null?void 0:Ae.name)||y;nn("",{type:"outline_link_doc",sectionId:h,docId:y,docName:ge,inputs:[{kind:"doc_link_pick",sectionId:h,docName:ge}],process:"/",outputs:{summary:`${ge}`},destinations:[{kind:"outline_section_docs",sectionId:h}]},[Z?`${Z.title||""}${Number(Z.level)||1}`:`${h}`])},Tc=(h,y)=>{const L=y||Y[h]||l,G=o.find(ke=>ke.id===L),Z=L&&L===l?me||(G==null?void 0:G.content)||"":(G==null?void 0:G.content)||"";t(ke=>{if(!ke)return ke;const he=ke.sections.map(Qe=>Qe.id===h?{...Qe,summary:Z}:Qe),Ze={...ke,sections:he};return s!=null&&s.customTemplate&&u({...s,customTemplate:Ze}),Ze});const ge=((e==null?void 0:e.sections)||[]).find(ke=>ke.id===h),Ae=(G==null?void 0:G.name)||L||"";nn("",{type:"copy_full_to_summary",sectionId:h,docId:L,docName:Ae,inputs:[L&&L===l?{kind:"doc_preview",docName:Ae,length:(me||"").toString().length}:{kind:"doc_resource",docName:Ae,length:((G==null?void 0:G.content)||"").toString().length}],process:"",outputs:{summary:`${(Z||"").toString().length}`},destinations:[{kind:"outline_section_summary",sectionId:h}]},[ge?`${ge.title||""}${Number(ge.level)||1}`:`${h}`]),pt(Z.toString().trim().length?"":"")},Ho=(h,y)=>{var ke;const G=(X[h]||[]).filter(he=>he!==y),Z={...X,[h]:G};G.length||delete Z[h],E(Z),Bo(Z),ce(he=>{const Ze={...he};return Ze[h]&&(delete Ze[h][y],Object.keys(Ze[h]).length||delete Ze[h]),Ze});const ge=((e==null?void 0:e.sections)||[]).find(he=>he.id===h),Ae=((ke=o.find(he=>he.id===y))==null?void 0:ke.name)||y;nn("",{type:"outline_unlink_doc",sectionId:h,docId:y,docName:Ae,inputs:[{kind:"doc_link_pick",sectionId:h,docName:Ae}],process:"",outputs:{summary:`${Ae}`},destinations:[{kind:"outline_section_docs",sectionId:h}]},[ge?`${ge.title||""}${Number(ge.level)||1}`:`${h}`])},Bo=async h=>{if(!s)return null;try{const{scene:y}=await mn(`/api/scene/${s.id}`,{method:"PATCH",body:{sectionDocLinks:h}});return u(y),E((y==null?void 0:y.sectionDocLinks)||{}),y}catch(y){console.error(y),pt(y.message||"")}return null},Go=async()=>{if(l)try{const{doc:h}=await mn(`/api/docs/${l}`,{method:"PATCH",body:{content:me}});a(y=>y.map(L=>L.id===h.id?h:L)),pt("")}catch(h){console.error(h),pt(h.message||"")}},cs=(h,y)=>{De(L=>{const G={...L};return delete G[`${h}||${y}`],G})},qa=(h,y,L)=>{var Z,ge;(Z=e==null?void 0:e.sections.find(Ae=>Ae.id===h))!=null&&Z.summary;const G=((ge=e==null?void 0:e.sections.find(Ae=>Ae.id===h))==null?void 0:ge.title)||"";if(t(Ae=>{if(!Ae)return Ae;const ke=Ae.sections.map(Ze=>Ze.id===h?{...Ze,[y]:L}:Ze),he={...Ae,sections:ke};return u(Ze=>Ze&&(Ze.customTemplate||Ae.id==="template_auto"||Ae.id==="template_empty"?{...Ze,customTemplate:he}:Ze)),he}),cs(h,y),y==="summary"){const Ae=((e==null?void 0:e.sections)||[]).find(ke=>ke.id===h);nn("",{type:"edit_outline_summary",sectionTitle:(Ae==null?void 0:Ae.title)||"",sectionId:h,inputs:[{kind:"manual_edit",sourceType:"user_edit"}],process:"",outputs:{summary:"",status:"done"},destinations:[{kind:"outline_section_summary",sectionTitle:(Ae==null?void 0:Ae.title)||"",sectionId:h}]},[Ae?`${Ae.title||""}${Number(Ae.level)||1}`:`${h}`])}else if(y==="title"){const Ae=((e==null?void 0:e.sections)||[]).find(ke=>ke.id===h);nn("",{type:"edit_outline_title",sectionTitle:G||"",sectionId:h,inputs:[{kind:"manual_edit",sourceType:"user_edit"}],process:"",outputs:{summary:"",status:"done"},destinations:[{kind:"outline_section_title",sectionTitle:G||"",sectionId:h}]},[Ae?`${G||""}`:`${h}`])}},Mo=h=>{const y=e==null?void 0:e.sections.find(G=>G.id===h),L=(y==null?void 0:y.summary)||(y==null?void 0:y.hint)||"";t(G=>{if(!G)return G;const Z=G.sections.map(Ae=>Ae.id===h?{...Ae,summary:"",hint:""}:Ae),ge={...G,sections:Z};return u(Ae=>Ae&&(Ae.customTemplate||G.id==="template_auto"||G.id==="template_empty"?{...Ae,customTemplate:ge}:Ae)),ge}),fe(G=>({...G,[h]:!1})),cs(h,"summary"),nn("",{type:"clear_outline_summary",sectionId:h,inputs:[{kind:"outline_selected",sectionIds:[h]}],process:"/",outputs:{summary:`${(L||"").toString().length}`,beforeExcerpt:I(L||"",260)},destinations:[{kind:"outline_section_summary",sectionId:h}]},[y?`${y.title||""}${Number(y.level)||1}`:`${h}`]),pt("")},Qo=(h,y)=>{const L=Number(y)||1;t(G=>{if(!G)return G;const Z=G.sections.map(Ae=>Ae.id===h?{...Ae,level:Math.max(1,Math.min(4,L))}:Ae),ge={...G,sections:Z};return u(Ae=>Ae&&(Ae.customTemplate||G.id==="template_auto"||G.id==="template_empty"?{...Ae,customTemplate:ge}:Ae)),ge})},Lc=h=>{t(y=>{if(!y)return y;const L=h(y.sections||[]),G={...y,sections:L};return u(Z=>Z&&(Z.customTemplate||y.id==="template_auto"||y.id==="template_empty"?{...Z,customTemplate:G}:Z)),G})},Hu=h=>{const y=((e==null?void 0:e.sections)||[]).find(ge=>ge.id===h),L=(y==null?void 0:y.level)||1,G=L===1?"":L===2?"":L===3?"":`${L}`,Z={id:`sec_local_${Date.now()}_${Math.floor(Math.random()*1e3)}`,title:"",summary:"",hint:"",level:L};Lc(ge=>{if(!ge.length)return[Z];const Ae=ge.findIndex(Ze=>Ze.id===h);if(Ae===-1)return[...ge,Z];const ke=ge.slice(0,Ae+1),he=ge.slice(Ae+1);return[...ke,Z,...he]}),nn("",{type:"add_outline_section",actionDescription:y?`${G}${y.title}`:"",afterSectionId:h,afterSection:y?{id:y.id,level:y.level,levelText:G,title:y.title||"",summary:y.summary||""}:null,inputs:[{kind:"outline_position",afterSectionId:h}],newSection:{id:Z.id,level:Z.level,levelText:G,title:Z.title,summary:Z.summary},process:"",outputs:{summary:`${(y==null?void 0:y.title)||""}`,newSectionId:Z.id,newSectionTitle:Z.title},destinations:["/"],outputTarget:"",aiGuidance:`Replay ${(y==null?void 0:y.title)||""}`,specialRequirements:""})},Ea=h=>{var he,Ze;const y=(e==null?void 0:e.sections)||[],L=y.findIndex(Qe=>Qe.id===h);if(L===-1)return;const G=Math.max(1,Math.min(3,Number((he=y[L])==null?void 0:he.level)||1)),Z=[y[L].id];for(let Qe=L+1;Qe<y.length&&!(Math.max(1,Math.min(3,Number((Ze=y[Qe])==null?void 0:Ze.level)||1))<=G);Qe+=1)Z.push(y[Qe].id);const ge=y.filter(Qe=>Z.includes(Qe.id));Lc(Qe=>(Qe||[]).filter(Me=>!Z.includes(Me.id))),E(Qe=>{const Me={...Qe};return Z.forEach(kt=>delete Me[kt]),Bo(Me),Me}),Q(Qe=>{const Me={...Qe};return Z.forEach(kt=>delete Me[kt]),Me}),M(Qe=>{const Me={...Qe};return Z.forEach(kt=>delete Me[kt]),Me}),ce(Qe=>{const Me={...Qe};return Z.forEach(kt=>delete Me[kt]),Me}),fe(Qe=>{const Me={...Qe};return Z.forEach(kt=>delete Me[kt]),Me}),De(Qe=>{const Me={...Qe};return Z.forEach(kt=>{delete Me[`${kt}||title`],delete Me[`${kt}||summary`]}),Me});const Ae=y[L],ke=G===1?"":G===2?"":G===3?"":`${G}`;nn("",{type:"delete_outline_section",actionDescription:`${ke}${(Ae==null?void 0:Ae.title)||""}`,sectionId:h,removedIds:Z,baseLevel:G,inputs:[{kind:"outline_selected",sectionIds:[h]}],targetSection:{id:Ae==null?void 0:Ae.id,level:Ae==null?void 0:Ae.level,levelText:ke,title:(Ae==null?void 0:Ae.title)||"",summary:(Ae==null?void 0:Ae.summary)||"",hint:(Ae==null?void 0:Ae.hint)||""},removedSections:ge.map(Qe=>({id:Qe.id,level:Qe.level,levelText:Qe.level===1?"":Qe.level===2?"":Qe.level===3?"":`${Qe.level}`,title:Qe.title||"",summary:Qe.summary||"",hint:Qe.hint||""})),process:`${G}`,outputs:{summary:`${(Ae==null?void 0:Ae.title)||h}${Z.length}`,deletedCount:Z.length,removedSample:ge.slice(0,8).map(Qe=>({id:Qe.id,level:Qe.level,title:I(Qe.title||"",80)}))},destinations:["/"],outputTarget:"",aiGuidance:`Replay ${(Ae==null?void 0:Ae.title)||""}`,specialRequirements:""},[])};lA((e==null?void 0:e.sections)||[]);const Is=()=>{const h=qr.current;if(!h)return;const y=Number(h.selectionStart??0),L=Number(h.selectionEnd??0);if(!Number.isFinite(y)||!Number.isFinite(L)||L<=y){_s({text:"",start:0,end:0});return}const G=(h.value||"").slice(y,L);if(!G.toString().trim()){_s({text:"",start:0,end:0});return}_s({text:G,start:y,end:L})},Wa=()=>{const h=qr.current;if(!h)return null;const y=Number(h.selectionStart??0),L=Number(h.selectionEnd??0);if(!Number.isFinite(y)||!Number.isFinite(L)||L<=y)return null;const G=(h.value||"").slice(y,L);return G.toString().trim()?{text:G,start:y,end:L}:null},yl=async()=>{var ze,yt;const h=Wa(),L=(gr.text||(h==null?void 0:h.text)||"").toString().trim();if(!L){pt("");return}if(!x||T!=="outline"){pt("");return}const G=Object.keys(B||{}).filter(Xe=>B[Xe]);if(!G.length){pt("");return}const Z=o.find(Xe=>Xe.id===l),ge=(Z==null?void 0:Z.name)||"",Ae=((e==null?void 0:e.sections)||[]).filter(Xe=>G.includes(Xe.id)),ke=Ae.map(Xe=>{const lt=Number(Xe.level)||1;return`- ${Ul[lt]||Ul[1]}${(Xe.title||"").toString()}`}),he=[],Ze=[];Ae.forEach(Xe=>{((Xe==null?void 0:Xe.summary)||"").toString().trim().length?he.push(Xe.id):Ze.push(Xe.id)});const Qe=(()=>{const Xe=e;if(!Xe||!Array.isArray(Xe.sections))return null;const lt=(Xe.sections||[]).map(Wt=>G.includes(Wt.id)?{...Wt,summary:L}:Wt);return{...Xe,sections:lt}})();if(Qe){if(t(Qe),u(Xe=>Xe&&{...Xe,customTemplate:Qe}),s!=null&&s.id)try{const Xe=await mn(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:Qe}});Xe!=null&&Xe.template&&t(Xe.template),Xe!=null&&Xe.scene&&u(Xe.scene)}catch(Xe){console.error(Xe),pt((Xe==null?void 0:Xe.message)||"")}}else Lc(Xe=>(Xe||[]).map(lt=>{if(!G.includes(lt.id))return lt;const Wt=(lt.summary||"").toString(),Lt=Wt.trim()?`${Wt}

${L}`:L;return{...lt,summary:Lt}}));const Me=(Z==null?void 0:Z.content)||"",kt=(h==null?void 0:h.start)??gr.start,ct=(h==null?void 0:h.end)??gr.end,Tt=Me.slice(Math.max(0,kt-100),kt).trim(),st=Me.slice(ct,ct+100).trim(),xt=Ae.map(Xe=>{var lt;return{id:Xe.id,title:Xe.title||"",level:Xe.level||1,hadContentBefore:!!((lt=Xe.summary)!=null&&lt.toString().trim())}});nn("",{type:"insert_to_summary",intentDescription:"",docName:ge,docId:(Z==null?void 0:Z.id)||"",selection:{start:kt,end:ct},targetSectionIds:G,inputs:[{kind:"selection",docName:ge,contextSummary:ge,sourceType:"selection",textExcerpt:I(L,200),textLength:L.length,contextBefore:I(Tt,80),contextAfter:I(st,80)},{kind:"outline_selected",contextSummary:`${G.length}`,sourceType:"outline_selected"}],process:"",outputs:{summary:`${G.length} ${L.length}`,usedModel:"",status:"done",targetSections:xt},destinations:[{kind:"outline_section_summary_batch",sectionTitle:xt.map(Xe=>Xe.title).join(""),count:G.length}],overwrittenSectionIds:he,emptyBeforeSectionIds:Ze},["",ke.length?ke.slice(0,8).join(`
`):"()"]);const Ge=(h==null?void 0:h.end)??gr.end;_s({text:"",start:0,end:0});try{(yt=(ze=qr.current)==null?void 0:ze.setSelectionRange)==null||yt.call(ze,Ge,Ge)}catch{}pt("")},$l=(h,y,L,G)=>{const Z=G||(L==="pass"?"":L==="fail"?"":"");Et(ge=>{const Ae=ge[h]||{running:!1,bySection:{}};return{...ge,[h]:{...Ae,bySection:{...Ae.bySection||{},[y]:{status:L,message:Z}}}}})},la=()=>hr({docs:o,selectedDocId:l,docDraft:me,template:e,scene:s,sectionDocLinks:X,sectionDocPick:Y,selectedOutlineExec:B,sectionDocDone:de,dispatchLogs:oe,processedContent:J,finalSlots:re,summaryExpanded:te}),Ps=async h=>{if(h)try{const y=await Hi();h.selectedDocId&&Array.isArray(y)&&y.some(G=>G.id===h.selectedDocId)&&f(h.selectedDocId);const L=await Ns();if(L!=null&&L.id){const G=await mn(`/api/scene/${L.id}`),Z=(G==null?void 0:G.scene)||L;u(Z);const ge=(Z==null?void 0:Z.customTemplate)||(Z==null?void 0:Z.template)||null;ge&&t(ge),Z!=null&&Z.sectionDocLinks&&E(Z.sectionDocLinks)}}catch{}},Jr=(h,y)=>{const L=(h||"").toString().trim().toLowerCase();if(!L)return null;const G=(y||[]).find(Z=>((Z==null?void 0:Z.name)||"").toString().trim().toLowerCase()===L);return(G==null?void 0:G.id)||null},Tr=h=>Jr(h,o),Xi=()=>new Promise(h=>setTimeout(h,0)),Hi=async()=>{try{const h=await mn("/api/docs");if(Array.isArray(h==null?void 0:h.docs))return a(h.docs),h.docs}catch{}return null},po=async h=>{const y=(h||(s==null?void 0:s.id)||"").toString();if(!y)return null;try{const L=await mn(`/api/scene/${y}`),G=L==null?void 0:L.scene;return G&&(u(G),E(G.sectionDocLinks||{}),G.customTemplate&&t(G.customTemplate)),G||null}catch{return null}},$s=async h=>{const y=await po(h);if(y!=null&&y.customTemplate)return y.customTemplate;try{const L=await mn("/api/template");return(L==null?void 0:L.template)||null}catch{return null}},qs=async h=>{var L;if(!(s!=null&&s.id))throw new Error("scene ");if(!h||!Array.isArray(h.sections))throw new Error("template ");const y=await mn(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:h}});return y!=null&&y.scene&&u(y.scene),y!=null&&y.template&&t(y.template),(L=y==null?void 0:y.scene)!=null&&L.sectionDocLinks&&E(y.scene.sectionDocLinks||{}),(y==null?void 0:y.template)||null},es=(h,y)=>{if(h&&typeof h=="object")return!1;const L=(y||"").toString();return!(L===""||L===""||L===""||L===""||L==="")},dc=async(h,y)=>{var he,Ze,Qe,Me,kt,ct,Tt,st,xt,Ge,ze;const L=Xr((y==null?void 0:y.content)||""),G=((y==null?void 0:y.action)||"").toString(),Z=Zl(h==null?void 0:h.precipitationMode),ge=[],Ae=(yt,Xe,lt={})=>{if(yt)return!0;if(Z==="llm"&&!lt.strict)return ge.push(Xe||"Replay "),!1;throw new Error(Xe||"Replay ")},ke=yt=>{if(!yt||!ge.length)return yt;if(yt.status==="done"){const Xe=yt.replayMode||"llm",lt=ge.join("");let Wt="";return Xe==="llm"?Wt=`  Replay Done${lt}`:Wt=`  Replay Done${lt}`,{...yt,status:"pass",message:Wt,softErrors:[...ge]}}return{...yt,softErrors:[...ge]}};if(es(L,G))throw new Error(" section  Replay");if((L==null?void 0:L.type)==="dispatch_input"||G==="")return{status:"pass",message:""};if((L==null?void 0:L.type)==="edit_outline_title"||(L==null?void 0:L.type)==="edit_outline_summary"||(L==null?void 0:L.type)==="clear_outline_summary"||G===""||G===""||G==="")return{status:"pass",message:""};if((L==null?void 0:L.type)==="add_doc"||G===""){const yt=(L==null?void 0:L.docName)||(((y==null?void 0:y.content)||"").toString().split("")[1]||"").trim();if((L==null?void 0:L.source)==="upload"||((y==null?void 0:y.content)||"").toString().includes("")){if(L!=null&&L.docSelector&&typeof L.docSelector=="object"){const Mt=oi(L.docSelector),Bt=await bo(Mt);return Ae(Bt.count>0,"",{strict:!0}),Mt.mode!=="multi"&&Ae(Bt.count===1,` ${Bt.count} `),await Xi(),await Hi(),ke({status:"done",message:"/"})}Ae(!!yt,"",{strict:!0});const Lt=typeof(L==null?void 0:L.overwritten)=="boolean"?L.overwritten:null;if(Lt===!0&&!Tr(yt)){const Mt=await mn("/api/docs",{method:"POST",body:{name:yt,content:""}}),Bt=Mt==null?void 0:Mt.doc;if(Bt!=null&&Bt.id&&(a(Un=>vd(Un,[Bt])),s))try{const Un=Array.from(new Set([Bt.id,...s.docIds||[]])),{scene:ts}=await mn(`/api/scene/${s.id}`,{method:"PATCH",body:{docIds:Un}});u(ts)}catch{}await Xi();const xi=await Hi()||[];Ae(!!Jr(yt,xi),`${yt}`)}const{doc:un,overwritten:jt,text:Pt}=await yi(yt);Lt!==null&&Ae(jt===Lt,`${Lt?"":""}${jt?"":""}`),Ae(!!(un!=null&&un.id)," doc",{strict:!0}),Ae(((un==null?void 0:un.name)||"").toString().trim()===yt.trim(),`${(un==null?void 0:un.name)||""}`),Ae(((un==null?void 0:un.content)||"").toString()===(Pt||"").toString(),""),await Xi();const At=await Hi()||[],Ut=Jr(yt,At);return Ae(!!Ut,`${yt}`),ke({status:"done",message:"/"})}const lt=Tr(yt);if(!lt)throw new Error(`${yt||"()"}`);f(lt);const Wt=o.find(Lt=>Lt.id===lt);return ae((Wt==null?void 0:Wt.content)||""),await Xi(),ke({status:"done",message:"  Replay Done",replayMode:"script"})}if((L==null?void 0:L.type)==="outline_extract"||G===""){const yt=L==null?void 0:L.buttonId,Xe=yt&&vn.find(un=>un.id===yt)||vn.find(un=>un.kind==="outline_extract"&&un.enabled);if(!Xe)throw new Error("");const lt=(L==null?void 0:L.selectedDocName)||(L==null?void 0:L.docName);if(lt){const un=Tr(lt);if(un){const jt=o.find(Pt=>Pt.id===un);f(un),ae((jt==null?void 0:jt.content)||""),await Xi()}}const Wt=Number.isFinite((he=L==null?void 0:L.outputs)==null?void 0:he.sectionsCount)?Number(L.outputs.sectionsCount):null,Lt=await ea({btn:Xe,preferDocName:L==null?void 0:L.selectedDocName});return Ae(Lt>0," 0 "),Wt!==null&&Ae(Lt===Wt,`${Wt} ${Lt}`),await po(s==null?void 0:s.id),ke({status:"done",message:`  Replay Done${Lt} `,replayMode:"llm"})}if((L==null?void 0:L.type)==="copy_full_to_summary"||G===""){const yt=L==null?void 0:L.sectionId,Xe=L==null?void 0:L.docName;if(!yt)throw new Error(" sectionId");if(!Xe)throw new Error(" docName");let lt=Tr(Xe),Wt=lt?o.find(Mt=>Mt.id===lt):null;if(!lt&&Kr){const Mt=await Ci(Xe);lt=(Mt==null?void 0:Mt.id)||null,Wt=Mt||null}if(!lt)throw new Error(`${Xe}`);const Lt=((Wt==null?void 0:Wt.content)||"").toString(),un=await $s(s==null?void 0:s.id);Ae(!!un&&Array.isArray(un.sections),"",{strict:!0});const jt=(un.sections||[]).find(Mt=>Mt.id===yt);Ae(!!jt,`${yt}`,{strict:!0});const Pt={...un,sections:(un.sections||[]).map(Mt=>Mt.id===yt?{...Mt,summary:Lt}:Mt)},At=await qs(Pt),Ut=((At==null?void 0:At.sections)||[]).find(Mt=>Mt.id===yt);return Ae(!!Ut,`${yt}`,{strict:!0}),Ae((Ut.summary||"")===Lt,""),await Xi(),ke({status:"done",message:"  Replay Done",replayMode:"script"})}if((L==null?void 0:L.type)==="outline_link_doc"||G===""){const yt=L==null?void 0:L.sectionId,Xe=L==null?void 0:L.docName;if(!yt)throw new Error(" sectionId");if(!Xe)throw new Error(" docName");let lt=Tr(Xe);if(!lt&&Kr){const Pt=await Ci(Xe);lt=(Pt==null?void 0:Pt.id)||null}if(!lt)throw new Error(`${Xe}`);const Wt=X[yt]||[],Lt=Wt.includes(lt)?X:{...X,[yt]:[...Wt,lt]};E(Lt),Q(Pt=>({...Pt,[yt]:lt})),await Bo(Lt);const un=await po(s==null?void 0:s.id),jt=((Ze=un==null?void 0:un.sectionDocLinks)==null?void 0:Ze[yt])||[];return Ae(jt.includes(lt),`${Xe}`,{strict:!0}),await Xi(),await Hi(),ke({status:"done",message:`${Xe}`})}if((L==null?void 0:L.type)==="outline_unlink_doc"||G===""){const yt=L==null?void 0:L.sectionId,Xe=L==null?void 0:L.docName;if(!yt)throw new Error(" sectionId");if(!Xe)throw new Error(" docName");const lt=Tr(Xe);if(!lt)throw new Error(`${Xe}`);const Lt=(X[yt]||[]).filter(At=>At!==lt),un={...X,[yt]:Lt};Lt.length||delete un[yt],E(un),Q(At=>{const Ut={...At};return Ut[yt]===lt&&delete Ut[yt],Ut}),await Bo(un);const jt=await po(s==null?void 0:s.id),Pt=((Qe=jt==null?void 0:jt.sectionDocLinks)==null?void 0:Qe[yt])||[];return Ae(!Pt.includes(lt),`${Xe}`,{strict:!0}),ce(At=>{const Ut={...At};return Ut[yt]&&(delete Ut[yt][lt],Object.keys(Ut[yt]).length||delete Ut[yt]),Ut}),await Xi(),ke({status:"done",message:`${Xe}`})}if((L==null?void 0:L.type)==="insert_to_summary"||G===""||G===""){const yt=Array.isArray(L==null?void 0:L.targetSectionIds)?L.targetSectionIds:[],Xe=Array.isArray(L==null?void 0:L.inputs)?L.inputs.find(Tn=>(Tn==null?void 0:Tn.kind)==="selection"):null;let lt=((Xe==null?void 0:Xe.text)||(Xe==null?void 0:Xe.textExcerpt)||"").toString().trim();if(!yt.length)throw new Error(" targetSectionIds");if(!lt)throw new Error("");const Wt=(y==null?void 0:y.llmScript)||null,Lt=(Wt==null?void 0:Wt.aiGuidance)||"",un=(Wt==null?void 0:Wt.specialRequirements)||"";let jt=!1,Pt="";if(Z==="llm"){pt(" ...");try{const bi=!!(Lt||un)?`


${lt}


${Lt||""}


${un||""}



- """"""
- ""
- ""


- 
- 
- 

`:`


${lt}


1. +" "
2. 
3. 
4. 


- 
- 
- 

`,zi=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:bi}],maxTokens:2e3})});if(zi.ok){const ko=await zi.json();if(ko!=null&&ko.content){const ns=ko.content.trim();console.log(" :",ns),pt(" AI "),lt=ns,jt=!0}else Pt="",console.log(" ")}else{const ko=await zi.text().catch(()=>"");Pt=`API  (${zi.status}): ${ko||""}`,console.error(" API :",Pt)}}catch(Tn){Pt=(Tn==null?void 0:Tn.message)||"",console.error(":",Tn)}!jt&&Pt&&pt(` ${Pt}`)}const At=await $s(s==null?void 0:s.id);Ae(!!At&&Array.isArray(At.sections),"",{strict:!0}),yt.forEach(Tn=>Ae(!!(At.sections||[]).find(bi=>bi.id===Tn),`${Tn}`,{strict:!0}));const Ut=Array.isArray((Me=L==null?void 0:L.outputs)==null?void 0:Me.overwrittenSectionIds)?L.outputs.overwrittenSectionIds:[],Mt=Array.isArray((kt=L==null?void 0:L.outputs)==null?void 0:kt.emptyBeforeSectionIds)?L.outputs.emptyBeforeSectionIds:[];(Ut.length||Mt.length)&&(Ut.forEach(Tn=>{const bi=(At.sections||[]).find(zi=>zi.id===Tn);Ae(((bi==null?void 0:bi.summary)||"").toString().trim().length>0,`${Tn}`)}),Mt.forEach(Tn=>{const bi=(At.sections||[]).find(zi=>zi.id===Tn);Ae(((bi==null?void 0:bi.summary)||"").toString().trim().length===0,`${Tn}`)}));const Bt={...At,sections:(At.sections||[]).map(Tn=>yt.includes(Tn.id)?{...Tn,summary:lt}:Tn)},xi=await qs(Bt);(((ct=L==null?void 0:L.outputs)==null?void 0:ct.insertedExcerpt)||lt).toString().trim(),yt.forEach(Tn=>{const bi=((xi==null?void 0:xi.sections)||[]).find(zi=>zi.id===Tn);Ae(!!bi,`${Tn}`,{strict:!0}),Z!=="llm"&&Ae((bi.summary||"").toString()===lt,`""${Tn}`)}),await Xi();let Un="",ts="script";return Z==="llm"?jt?(ts="llm",Un="  Replay Done"):Pt?(ts="script_fallback",Un=`  Replay Done${Pt}`):Un="  Replay Done":Un="  Replay Done",ke({status:"done",message:Un,replayMode:ts,llmFailReason:Pt})}if((L==null?void 0:L.type)==="delete_outline_section"||G===""){const yt=L==null?void 0:L.sectionId;if(!yt)throw new Error(" sectionId");const Xe=await $s(s==null?void 0:s.id);Ae(!!Xe&&Array.isArray(Xe.sections),"",{strict:!0});const lt=Xe.sections||[],Wt=lt.findIndex(At=>At.id===yt);Ae(Wt!==-1,`${yt}`,{strict:!0});const Lt=Math.max(1,Math.min(3,Number((Tt=lt[Wt])==null?void 0:Tt.level)||1)),un=[lt[Wt].id];for(let At=Wt+1;At<lt.length&&!(Math.max(1,Math.min(3,Number((st=lt[At])==null?void 0:st.level)||1))<=Lt);At+=1)un.push(lt[At].id);const jt={...Xe,sections:(lt||[]).filter(At=>!un.includes(At.id))},Pt=await qs(jt);return un.forEach(At=>{Ae(!((Pt==null?void 0:Pt.sections)||[]).some(Ut=>Ut.id===At),`${At}`,{strict:!0})}),await Xi(),ke({status:"done",message:""})}if((L==null?void 0:L.type)==="outline_clear"||G===""){Ae(!!(s!=null&&s.id),"scene ",{strict:!0}),await mn(`/api/scene/${s.id}`,{method:"PATCH",body:{sectionDocLinks:{}}});const Xe=await qs({id:"template_empty",name:"",sections:[]});Ae(Array.isArray(Xe==null?void 0:Xe.sections)&&Xe.sections.length===0,"",{strict:!0});const lt=await po(s==null?void 0:s.id);return Ae(!(lt!=null&&lt.sectionDocLinks)||Object.keys(lt.sectionDocLinks||{}).length===0,"",{strict:!0}),Q({}),M({}),ce({}),fe({}),De({}),await Xi(),ke({status:"done",message:"  Replay Done",replayMode:"script"})}if((L==null?void 0:L.type)==="restore_history_outline"||G===""){const yt=L==null?void 0:L.outlineId,Xe=L==null?void 0:L.outlineTitle,lt=Jo.find(Lt=>Lt.id===yt)||Jo.find(Lt=>(Lt.title||Lt.docName)===Xe);if(!lt)throw new Error(`: ${Xe||yt}`);const Wt=await mn(`/api/scene/${s.id}/apply-template`,{method:"POST",body:{template:lt.template}});return t(Wt.template),u(Wt.scene),R(!0),await Xi(),ke({status:"done",message:"  Replay Done",replayMode:"script"})}if((L==null?void 0:L.type)==="dispatch"||G===""){if(!(s!=null&&s.id))throw new Error("scene ");const yt=(y==null?void 0:y.llmScript)||null,Xe=(yt==null?void 0:yt.aiGuidance)||"",lt=(yt==null?void 0:yt.specialRequirements)||"";let Wt=(L==null?void 0:L.instructions)||(L==null?void 0:L.promptContent)||(()=>{const sr=/?([\\s\\S]*?)(\\n|$)/.exec(((y==null?void 0:y.content)||"").toString());return((sr==null?void 0:sr[1])||"").trim()})();if(!Wt)throw new Error("");Z==="llm"&&(Xe||lt)&&(pt("  AI ..."),Wt=`${Wt}


${Xe||""}


${lt||""}`,console.log("  Replay - :",Wt));const Lt=vn.find(sr=>sr.kind==="dispatch"),un=(L==null?void 0:L.prompt)||(Lt==null?void 0:Lt.prompt);/?([\\s\\S]*?)(\\n|$)/.exec(((y==null?void 0:y.content)||"").toString());const jt=((L==null?void 0:L.inputKind)||"").toString(),Pt=Array.isArray(L==null?void 0:L.selectedSectionIds)?L.selectedSectionIds:[];let At="",Ut=[];if(jt==="result"&&Array.isArray(L==null?void 0:L.historyInputs)&&L.historyInputs.length)At=L.historyInputs.map((sr,Ar)=>`${Ar+1}${((sr==null?void 0:sr.key)||"").toString()}
${((sr==null?void 0:sr.text)||"").toString()}`).join(`

`);else if(jt.startsWith("outline_")){const sr=Array.isArray(L==null?void 0:L.selectedSectionTitles)?L.selectedSectionTitles:[],Ar=Array.isArray(L==null?void 0:L.targetSectionsDetail)?L.targetSectionsDetail:[],ni=(y==null?void 0:y.llmScript)||{},mo=Array.isArray(ni==null?void 0:ni.targetSectionsDetail)?ni.targetSectionsDetail:[],Zi=(e==null?void 0:e.sections)||[];let Ui=[];const Ga=Ar.length>0?Ar:mo;if(Ga.length>0&&(Ui=Ga.map(br=>{let li=Zi.find(Ao=>Ao.title===br.title);return!li&&br.id&&(li=Zi.find(Ao=>Ao.id===br.id)),li}).filter(Boolean)),Ui.length===0&&sr.length>0&&(Ui=sr.map(br=>Zi.find(li=>li.title===br)).filter(Boolean)),Ui.length===0&&Pt.length>0&&(Ui=Zi.filter(br=>Pt.includes(br.id))),Ui.length===0&&(ni!=null&&ni.targetTitle)){const br=Zi.find(li=>{var Ao,gi;return((Ao=li.title)==null?void 0:Ao.includes(ni.targetTitle))||((gi=ni.targetTitle)==null?void 0:gi.includes(li.title))});br&&(Ui=[br])}if(Ui.length===0){console.warn("[dispatch replay]  section");const br=Object.keys(B||{}).filter(li=>B[li]);Ui=Zi.filter(li=>br.includes(li.id))}if(console.log("[dispatch replay] :",{picked:Ui.map(br=>br==null?void 0:br.title)}),Ui.length===0)throw new Error("");const ql=Ui.filter(br=>!(br.summary||br.hint));if(ql.length>0&&console.warn("[dispatch replay]  section :",ql.map(br=>br.title)),Ut=Ui.map((br,li)=>({sectionId:br.id,field:"summary",content:jt==="outline_selected_batch"?`${br.title}
${br.summary||br.hint||"()"}`:br.summary||br.hint||br.title||"()",label:`${li+1}`})),jt==="outline_unprocessed_docs"){const li=(Array.isArray(L==null?void 0:L.inputs)?L.inputs.filter(gi=>(gi==null?void 0:gi.kind)==="doc_resource"):[]).map(gi=>((gi==null?void 0:gi.docName)||"").toString()).filter(Boolean),Ao=[];for(const gi of li){let Ds=Tr(gi),Hs=Ds?o.find(hc=>hc.id===Ds):null;if(!Hs&&Kr&&(Hs=await Ci(gi),Ds=(Hs==null?void 0:Hs.id)||null),!Hs)throw new Error(`${gi}`);Ao.push(Hs)}At=Ao.filter(Boolean).map((gi,Ds)=>`${Ds+1}${gi.name}
${gi.content}`).join(`

---

`)}else At=Ut.map(br=>`${br.label} | ID=${br.sectionId}
${br.content}`).join(`

`)}else{const Ar=(((xt=(Array.isArray(L==null?void 0:L.inputs)?L.inputs.filter(Zi=>(Zi==null?void 0:Zi.kind)==="doc_resource"):[])[0])==null?void 0:xt.docName)||(L==null?void 0:L.docName)||"").toString();let ni=Ar?Tr(Ar):l,mo=ni?o.find(Zi=>Zi.id===ni):null;if(!ni&&Ar&&Kr&&(mo=await Ci(Ar),ni=(mo==null?void 0:mo.id)||null),!mo)throw new Error(`${Ar||"()"}`);At=((mo==null?void 0:mo.content)||"").toString()}const Mt=await mn("/api/dispatch",{method:"POST",body:{sceneId:s==null?void 0:s.id,instructions:Wt,docContent:At,outlineSegments:Ut,systemPrompt:un}});if((Mt==null?void 0:Mt.usedModel)===!1)throw new Error("QWEN_API_KEYReplay ");const Bt=gl(Mt.detail||""),xi=Number.isFinite((Ge=L==null?void 0:L.outputs)==null?void 0:Ge.detailLength)?Number(L.outputs.detailLength):null,Un=Number.isFinite((ze=L==null?void 0:L.outputs)==null?void 0:ze.editsCount)?Number(L.outputs.editsCount):null;xi!==null&&xi>0&&Ae(Bt.toString().trim().length>0,"Replay  detail ");const ts=Bt&&Bt.trim().length>0||Array.isArray(Mt.edits)&&Mt.edits.length>0;Un!==null&&Un>0&&Ae(ts,"Replay detail  edits ");const Tn=await $s(s==null?void 0:s.id);Ae(!!Tn&&Array.isArray(Tn.sections),"",{strict:!0});const bi=Pt.length?Pt:Object.keys(B||{}).filter(sr=>B[sr]),zi=Ut.map(sr=>sr.sectionId),ko=sr=>{if(!sr)return null;const Ar=String(sr).trim(),ni=Ar.match(/ID\s*=\s*(.+)/i);if(ni)return ni[1].trim();const mo=Ar.match(/\d+\s*[:]\s*(.+)/);if(mo)return mo[1].trim();if(/^\d+$/.test(Ar)){const Ui=parseInt(Ar,10)-1;if(Ui>=0&&Ui<zi.length)return zi[Ui]}const Zi=Ar.match(/(\d+)/);if(Zi){const Ui=parseInt(Zi[1],10)-1;if(Ui>=0&&Ui<zi.length)return zi[Ui]}return Ar},ns={...Tn,sections:(Tn.sections||[]).map(sr=>{const Ar=Array.isArray(Mt.edits)?Mt.edits.find(mo=>ko(mo.sectionId)===sr.id||mo.sectionId===sr.id):null,ni={...sr,title:(Ar==null?void 0:Ar.field)==="title"&&Ar.content?Ar.content:sr.title,summary:(Ar==null?void 0:Ar.field)==="summary"&&Ar.content?Ar.content:sr.summary};return Bt&&bi.includes(sr.id)?{...ni,summary:Bt}:ni})},Vo=await qs(ns);bi.length&&Bt&&bi.forEach(sr=>{const Ar=((Vo==null?void 0:Vo.sections)||[]).find(ni=>ni.id===sr);Ae(!!Ar,`${sr}`,{strict:!0}),Ae((Ar.summary||"")===Bt,` Replay ${sr}`)}),bi.length&&ce(sr=>{const Ar={...sr};return bi.forEach(ni=>{(X[ni]||[]).forEach(Zi=>{Ar[ni]||(Ar[ni]={}),Ar[ni][Zi]=!0})}),Ar}),await Xi();const wl=Z==="llm"&&(Xe||lt);return ke({status:"done",message:wl?"  Replay Done":"  Replay Done",replayMode:wl?"llm":"script"})}return(L==null?void 0:L.type)==="final_generate"||G===""?{status:"pass",message:""}:{status:"pass",message:"/"}},vl=async h=>{var L;const y=Bn.find(G=>G.id===h);if(y&&!((L=dr==null?void 0:dr[h])!=null&&L.running)){le(G=>({...G,[h]:!0})),Et(G=>({...G,[h]:{running:!0,bySection:{}}})),pt("Replay");for(const G of y.sections||[]){$l(h,G.id,"running","");const Z=la();try{const ge=await dc(y,G);$l(h,G.id,ge.status,ge.message||"")}catch(ge){await Ps(Z),$l(h,G.id,"fail",(ge==null?void 0:ge.message)||"Replay ")}}Et(G=>({...G,[h]:{...(G==null?void 0:G[h])||{},running:!1}})),pt("Replay ")}},jc=h=>{var ge;const y=(e==null?void 0:e.sections)||[],L=y.findIndex(Ae=>Ae.id===h);if(L===-1||L===y.length-1)return!1;const G=((ge=y[L])==null?void 0:ge.level)||1,Z=y[L+1];return Z&&(Z.level||1)>G},Ha=h=>{W(y=>({...y,[h]:!y[h]}))},ru=h=>{const y=(e==null?void 0:e.sections)||[],L=y[h];if(!L)return!1;const G=L.level||1;for(let Z=h-1;Z>=0;Z--){const ge=y[Z];if(((ge==null?void 0:ge.level)||1)<G&&Oe[ge.id])return!0}return!1},Rs=h=>{var ct;if(ru(h.index))return null;const y=h.section,L=(y==null?void 0:y.level)||1,G=Ul[L]||Ul[1],Z=`${y.id}||title`,ge=`${y.id}||summary`,Ae=Se[Z],ke=Se[ge],he=X[y.id]||[],Ze=de[y.id]||{},Qe=Y[y.id]||"",Me=Qe||he[he.length-1]||"",kt=x&&T!=="records"&&!!Me&&(he||[]).includes(Me);return v.jsxs("div",{className:`section outline-node level-${Number(L)||1}`,style:{position:"relative"},children:[v.jsxs("div",{className:"section-head",style:{alignItems:"center",justifyContent:"space-between",paddingRight:"100px"},children:[v.jsx("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:Ae!==void 0?v.jsxs(v.Fragment,{children:[v.jsxs("select",{value:L,onChange:Tt=>Qo(y.id,Tt.target.value),className:"level-select",children:[v.jsx("option",{value:"1",children:Ue.t17}),v.jsx("option",{value:"2",children:Ue.t18}),v.jsx("option",{value:"3",children:Ue.t19}),v.jsx("option",{value:"4",children:Ue.t20})]}),v.jsx("input",{value:Ae,onChange:Tt=>De(st=>({...st,[Z]:Tt.target.value})),style:{minWidth:200}}),v.jsx("button",{className:"ghost small",onClick:()=>qa(y.id,"title",Ae),children:Ue.t21}),v.jsx("button",{className:"ghost small",onClick:()=>cs(y.id,"title"),children:Ue.t22})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{children:`${G}${y.title}`}),v.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>nu(y.id,"title",y.title||""),children:Ue.t23})]})}),v.jsxs("div",{className:"section-actions btn-compact",style:{position:"absolute",right:"8px",top:"8px"},children:[v.jsx("label",{className:"inline-check",children:v.jsx("input",{type:"checkbox",checked:!!B[y.id],onChange:Tt=>M(st=>({...st,[y.id]:Tt.target.checked}))})}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Hu(y.id),children:"+"}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Ea(y.id),children:Ue.t25}),jc(y.id)&&v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Ha(y.id),style:{fontSize:"11px",padding:"2px 6px",minWidth:"36px",color:Oe[y.id]?"#0ea5e9":"#64748b"},title:Oe[y.id]?"":"",children:Oe[y.id]?"":""})]})]}),v.jsx("div",{className:"hint",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:ke!==void 0?v.jsxs(v.Fragment,{children:[v.jsx("textarea",{rows:2,value:ke,onChange:Tt=>De(st=>({...st,[ge]:Tt.target.value})),style:{minWidth:260}}),v.jsx("button",{className:"ghost small",onClick:()=>qa(y.id,"summary",ke),children:Ue.t24}),v.jsx("button",{className:"ghost small",onClick:()=>cs(y.id,"summary"),children:Ue.t22})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`summary-text ${te[y.id]?"expanded":""}`,children:y.summary||y.hint||Ue.t127}),(y.summary||y.hint)&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"ghost xsmall",type:"button",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>fe(Tt=>({...Tt,[y.id]:!Tt[y.id]})),children:te[y.id]?Ue.t142:Ue.t143}),v.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px"},type:"button",onClick:()=>Mo(y.id),children:Ue.t25})]}),v.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>nu(y.id,"summary",y.summary||y.hint||""),children:Ue.t26})]})}),v.jsxs("div",{className:"link-row outline-row mixed-row",style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"8px",marginTop:"4px"},children:[v.jsxs("div",{className:"link-actions",style:{display:"flex",alignItems:"center",gap:"4px"},children:[v.jsxs("select",{value:Qe||"",onChange:Tt=>Q(st=>({...st,[y.id]:Tt.target.value})),style:{maxWidth:"140px",padding:"2px 6px",fontSize:"12px",height:"24px"},children:[v.jsx("option",{value:"",children:Ue.t27}),o.map(Tt=>v.jsx("option",{value:Tt.id,children:Tt.name},Tt.id))]}),v.jsx("button",{className:"ghost xsmall",style:{fontSize:"11px",padding:"2px 6px",whiteSpace:"nowrap"},type:"button",onClick:()=>Wu(y.id),children:Ue.t28})]}),he.map(Tt=>{const st=o.find(Ge=>Ge.id===Tt),xt=kt&&Tt===Me;return v.jsxs("span",{className:"doc-inline",style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[v.jsxs("span",{className:`pill doc-pill ${Ze[Tt]?"done":""}`,style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"2px 8px",borderRadius:"12px",background:Ze[Tt]?"#e6f4ea":"#f1f3f4",fontSize:"12px",border:"1px solid transparent"},children:[v.jsx("span",{style:{maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:(st==null?void 0:st.name)||Tt,children:(st==null?void 0:st.name)||Tt}),Ze[Tt]&&v.jsx("span",{className:"checkmark",style:{fontSize:"10px"}}),v.jsx("button",{type:"button",className:"pill-close",onClick:()=>Ho(y.id,Tt),"aria-label":Ue.t29,style:{width:"16px",height:"16px",lineHeight:"14px",fontSize:"14px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",color:"#666",cursor:"pointer"},children:""})]}),xt?v.jsx("button",{className:"ghost xsmall",type:"button",style:{fontSize:"11px",padding:"2px 6px"},onClick:()=>Tc(y.id,Me),children:Ue.t30}):null]},Tt)})]}),(ct=h.children)!=null&&ct.length?v.jsx("div",{className:"outline-children",children:h.children.map(Rs)}):null]},y.id)},Ws=(h,y)=>{Oi(JSON.stringify({panelId:h,buttonId:y}))},p=h=>{var L,G;if(S)return;console.log("Workbench button clicked:",h.kind,h.label);const y=Bn.length>0&&Object.keys(di||{}).filter(Z=>di[Z]).length===Bn.length;switch(h.kind){case"save":qu({});break;case"upload":(L=ho.current)==null||L.click();break;case"pick_dir":Vn();break;case"clear_dir":er();break;case"fill_summary":console.log("Fill summary triggered");break;case"tab_outline":A("outline");break;case"tab_records":A("records");break;case"tab_config":A("config"),(async()=>{try{const ge=await mn("/api/multi/precipitation/groups");if(Array.isArray(ge)){const Ae=ge.map(Zo).filter(Boolean);Jn(Ae);const ke=new Set(Ae.map(he=>he.id));Sr(he=>he.map(Ze=>({...Ze,groupIds:(Ze.groupIds||[]).filter(Qe=>ke.has(Qe))})))}}catch(ge){console.error("",ge)}})();break;case"tab_strategy":A("strategy");break;case"batch_replay":eu();break;case"select_all":y?ti():fl();break;case"delete_selected":rc();break;case"clear_selection":ti();break;case"group_new":ra();break;case"group_update":Ia();break;case"group_rename":Fi();break;case"group_delete":Cs();break;case"group_replay":ia();break;case"outline_extract":const Z=vn.find(ge=>ge.kind==="outline_extract");Z?Na(Z):pt("");break;case"clear_outline":za();break;case"add_button":pa(),A("config");break;case"start_deposit":ya();break;case"end_deposit":va();break;case"dispatch":$a();break;default:if((G=h.kind)!=null&&G.startsWith("slot_")||h.kind==="custom"){const ge=vn.find(Ae=>Ae.id===h.id)||h;Ua(ge)}break}},_=(h,y,{style:L,label:G,kind:Z,prompt:ge})=>{console.log("[DEBUG] handleButtonUpdate called:",{panelId:h,buttonId:y,style:L,label:G,kind:Z,prompt:ge}),Jt(Ae=>{const he=(Ae[h]||[]).map(Ze=>{if(Ze.id===y){const Qe={...Ze,style:L?{...Ze.style,...L}:Ze.style,label:G!==void 0?G:Ze.label,kind:Z!==void 0?Z:Ze.kind,prompt:ge!==void 0?ge:Ze.prompt};return console.log("[DEBUG] Updated button:",Qe),Qe}return Ze});return{...Ae,[h]:he}})},$=(h,y)=>{console.log("[GlobalButton] Update:",h,y),Gt(L=>L.map(G=>G.id===h?{...G,...y}:G))},K=(h,{style:y,label:L,kind:G,prompt:Z})=>{console.log("[GlobalButton] Style update:",h,{style:y,label:L,kind:G,prompt:Z}),Gt(ge=>ge.map(Ae=>Ae.id===h?{...Ae,style:y?{...Ae.style,...y}:Ae.style,label:L!==void 0?L:Ae.label,kind:G!==void 0?G:Ae.kind,prompt:Z!==void 0?Z:Ae.prompt}:Ae))},ue=h=>{const y=Zt.find(G=>G.id===h);if(!y)return;console.log("[GlobalButton] Delete (to recycle):",h);const L={...y,deletedAt:Date.now()};$n(G=>[...G,L]),Gt(G=>G.filter(Z=>Z.id!==h)),setTimeout(()=>{const G=[...On,L];localStorage.setItem("deleted-buttons-config",JSON.stringify(G))},0)},ve=h=>{const y=On.find(ge=>ge.id===h);if(!y)return;const{deletedAt:L,...G}=y,Z={...G};Gt(ge=>[...ge,Z]),$n(ge=>{const Ae=ge.filter(ke=>ke.id!==h);return localStorage.setItem("deleted-buttons-config",JSON.stringify(Ae)),Ae})},_e=h=>{$n(y=>{const L=y.filter(G=>G.id!==h);return localStorage.setItem("deleted-buttons-config",JSON.stringify(L)),L})},Ne=()=>{$n([]),localStorage.removeItem("deleted-buttons-config")},Te=(h,y,L="move")=>{if(!S)return;h.preventDefault(),h.stopPropagation();const G=Zt.find(Ae=>Ae.id===y);if(!G)return;const Z=h.clientX,ge=h.clientY;Po({buttonId:y,action:L,startX:Z,startY:ge,startPos:{x:G.x,y:G.y},startSize:{width:G.width,height:G.height}})},Pe=h=>{Oi(h)},$e=h=>{const y=Zt.find(L=>L.id===h);y?($n(L=>[...L,y]),Gt(L=>L.filter(G=>G.id!==h))):console.warn("Button not found in global buttons:",h)};return v.jsxs(v.Fragment,{children:[lo&&v.jsx("div",{className:"modal-backdrop",onClick:()=>co(!1),children:v.jsxs("div",{className:"modal-card",onClick:h=>h.stopPropagation(),children:[v.jsxs("div",{className:"modal-head",children:[v.jsx("h3",{children:Ue.t80}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>co(!1),children:Ue.t45})]}),v.jsx("div",{className:"modal-body",children:_a()}),v.jsxs("div",{className:"modal-foot",children:[v.jsx("button",{className:"ghost small",type:"button",onClick:()=>co(!1),children:Ue.t22}),v.jsx("button",{className:"ghost small",type:"button",onClick:xa,children:Ue.t59})]})]})}),Ms&&Cn&&v.jsx("div",{className:"modal-backdrop",onClick:Wo,children:v.jsxs("div",{className:"modal-card",onClick:h=>h.stopPropagation(),style:{width:"900px",maxWidth:"95vw",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{className:"modal-head",children:[v.jsx("h3",{children:" "}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:Wo,children:""})]}),v.jsxs("div",{className:"modal-body",style:{flex:1,overflow:"auto",padding:"16px"},children:[v.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"16px"},children:[v.jsxs("div",{style:{flex:1},children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:""}),v.jsx("input",{type:"text",value:Cn.depositName||"",onChange:h=>_t(y=>({...y,depositName:h.target.value})),placeholder:"",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),v.jsxs("div",{style:{width:"200px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:""}),v.jsxs("select",{value:Cn.precipitationMode||"llm",onChange:h=>_t(y=>({...y,precipitationMode:h.target.value})),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",background:"#fff"},children:[v.jsx("option",{value:"llm",children:" Replay"}),v.jsx("option",{value:"script",children:" Replay"})]})]})]}),v.jsx("div",{style:{marginBottom:"16px",padding:"10px 14px",background:Cn.precipitationMode==="llm"?"#eff6ff":"#fef3c7",border:`1px solid ${Cn.precipitationMode==="llm"?"#bfdbfe":"#fcd34d"}`,borderRadius:"6px",fontSize:"13px"},children:Cn.precipitationMode==="llm"?v.jsxs(v.Fragment,{children:[v.jsx("b",{children:" Replay"}),"Replay  AI Replay"]}):v.jsxs(v.Fragment,{children:[v.jsx("b",{children:" Replay"}),"Replay "]})}),v.jsxs("div",{style:{marginBottom:"16px"},children:[v.jsxs("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:[" ",((nt=Cn.sections)==null?void 0:nt.length)||0," ",v.jsx("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:"8px"},children:""})]}),v.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"8px",maxHeight:"120px",overflow:"auto"},children:[v.jsx("div",{onClick:()=>Ht(-1),style:{padding:"6px 10px",marginBottom:"4px",borderRadius:"4px",cursor:"pointer",background:Vt===-1?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"transparent",color:Vt===-1?"#fff":"#6b7280",fontWeight:Vt===-1?500:400,transition:"all 0.2s"},children:" "}),(Re=Cn.sections)==null?void 0:Re.map((h,y)=>v.jsxs("div",{onClick:()=>Ht(y),style:{padding:"6px 10px",borderRadius:"4px",cursor:"pointer",background:Vt===y?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"transparent",color:Vt===y?"#fff":"#111827",fontWeight:Vt===y?500:400,transition:"all 0.2s",marginBottom:y<Cn.sections.length-1?"2px":"0"},children:[v.jsxs("span",{style:{marginRight:"8px",opacity:.7},children:[y+1,"."]}),v.jsx("span",{children:h.action||h.generalizedTitle||""})]},y))]})]}),v.jsxs("div",{style:{marginBottom:"16px"},children:[v.jsxs("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:["",v.jsx("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:"8px"},children:Vt>=0?` ${Vt+1}`:Cn.precipitationMode==="llm"?"AI ":"Replay "})]}),v.jsx("textarea",{value:Vt>=0?Rl(Cn.structuredScript,Vt):Cn.structuredScript||"",onChange:h=>{if(Vt>=0){const y=qo(Cn.structuredScript,Vt,h.target.value);_t(L=>({...L,structuredScript:y}))}else _t(y=>({...y,structuredScript:h.target.value}))},placeholder:Cn.precipitationMode==="llm"?`AI AI ...

`:"Replay ...",style:{width:"100%",height:"220px",padding:"12px",border:`1px solid ${Cn.structuredScript?"#a7f3d0":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",background:Cn.structuredScript?"#f0fdf4":"#fff",color:"#1f2937",fontFamily:'Consolas, Monaco, "Courier New", monospace',resize:"vertical",lineHeight:"1.5"}})]}),Cn.precipitationMode==="llm"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{marginBottom:"16px"},children:[v.jsxs("label",{style:{display:"block",marginBottom:"6px",fontWeight:500,color:"#374151"},children:["",v.jsx("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:"8px"},children:" AI "})]}),v.jsx("textarea",{value:Cn.userRequirements||"",onChange:h=>_t(y=>({...y,userRequirements:h.target.value})),placeholder:"2...",style:{width:"100%",height:"50px",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[v.jsx("button",{onClick:()=>As(),disabled:Cn.isProcessing,style:{background:Cn.isProcessing?"#9ca3af":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 20px",fontSize:"14px",cursor:Cn.isProcessing?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:Cn.isProcessing?" AI ...":Cn.structuredScript?" AI ":" AI "}),v.jsx("span",{style:{color:"#6b7280",fontSize:"13px"},children:Cn.structuredScript?"":""})]})]})]}),v.jsxs("div",{className:"modal-foot",style:{borderTop:"1px solid #e5e7eb",padding:"12px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:Cn.precipitationMode==="llm"?" ReplayAI ":" Replay"}),v.jsxs("div",{style:{display:"flex",gap:"12px"},children:[v.jsx("button",{className:"ghost small",type:"button",onClick:Wo,style:{padding:"8px 16px"},children:""}),v.jsx("button",{className:"ghost small",type:"button",onClick:()=>{V(!1),ao([]),Do(!1),_t(null)},style:{padding:"8px 16px",color:"#dc2626"},children:""}),v.jsx("button",{type:"button",onClick:zs,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",border:"none",borderRadius:"6px",padding:"8px 20px",fontSize:"14px",fontWeight:500,cursor:"pointer",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)",transition:"all 0.2s ease"},children:" "})]})]})]})}),tr&&v.jsx("div",{className:"modal-backdrop",onClick:()=>yn(!1),children:v.jsxs("div",{className:"modal-card",onClick:h=>h.stopPropagation(),style:{width:"450px",maxWidth:"90vw"},children:[v.jsxs("div",{className:"modal-head",children:[v.jsx("h3",{children:" "}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>yn(!1),children:""})]}),v.jsxs("div",{className:"modal-body",style:{padding:"16px",maxHeight:"400px",overflow:"auto"},children:[v.jsxs("p",{style:{marginBottom:"12px",color:"#6b7280",fontSize:"13px"},children:[" ",as().length," "]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:_r.map((h,y)=>v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",background:Yt.includes(h.id)?"#eff6ff":"#f9fafb",border:Yt.includes(h.id)?"1px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",transition:"all 0.15s ease"},children:[v.jsx("input",{type:"checkbox",checked:Yt.includes(h.id),onChange:L=>{L.target.checked?Gn(G=>[...G,h.id]):Gn(G=>G.filter(Z=>Z!==h.id))},style:{width:"16px",height:"16px",cursor:"pointer"}}),v.jsxs("span",{style:{flex:1,fontWeight:500,color:"#374151"},children:[y+1,". ",h.name]}),v.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:[(h.depositIds||[]).length," "]})]},h.id))}),_r.length===0&&v.jsx("p",{style:{textAlign:"center",color:"#9ca3af",padding:"20px"},children:""})]}),v.jsxs("div",{className:"modal-foot",style:{display:"flex",justifyContent:"flex-end",gap:"10px",padding:"12px 16px",borderTop:"1px solid #e5e7eb"},children:[v.jsx("button",{className:"ghost small",type:"button",onClick:()=>yn(!1),style:{padding:"8px 16px"},children:""}),v.jsxs("button",{type:"button",onClick:Us,disabled:Yt.length===0,style:{background:Yt.length>0?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"#e5e7eb",color:Yt.length>0?"#fff":"#9ca3af",border:"none",borderRadius:"6px",padding:"8px 20px",fontSize:"14px",fontWeight:500,cursor:Yt.length>0?"pointer":"not-allowed",transition:"all 0.2s ease"},children:[" ",Yt.length>0?`(${Yt.length})`:""]})]})]})}),S&&jr&&v.jsx(Tb,{deletedButtons:On,deletedBlocks:In,onRestore:ve,onPermanentDelete:_e,onRestoreBlock:ma,onPermanentDeleteBlock:ga,onClearAll:Ne,onClose:()=>En(!1),onSave:()=>{C(!1),Xf(Zt),localStorage.setItem("layout_panel_positions",JSON.stringify(we)),localStorage.setItem("layout_content_blocks",JSON.stringify(Je)),localStorage.setItem("layout_deleted_blocks",JSON.stringify(In)),localStorage.setItem("layout_size",JSON.stringify(Ce)),mn("/api/config/save",{method:"POST",body:{layout:we,globalButtons:{activeButtons:Zt,deletedButtons:On,version:"2.0",savedAt:Date.now()},contentBlocks:Je,deletedBlocks:In,headerTitles:tn,layoutSize:Ce}}).then(()=>{console.log("Saved config to backend")}).catch(h=>{console.error("Failed to save to backend",h),alert(Ue.t154)})},onCancel:()=>{confirm(Ue.t155)&&(C(!1),window.location.reload())},onReset:()=>{confirm(Ue.t156)&&(localStorage.removeItem("layout_panel_positions"),localStorage.removeItem("layout_content_blocks"),localStorage.removeItem("button_config_v2"),window.location.reload())}}),S&&!jr&&v.jsx("button",{onClick:()=>En(!0),style:{position:"fixed",right:0,top:"50%",transform:"translateY(-50%)",zIndex:1e4,background:"#fff",border:"1px solid #e2e8f0",borderRight:"none",borderRadius:"8px 0 0 8px",padding:"8px",boxShadow:"-2px 0 8px rgba(0,0,0,0.1)",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:Ue.t130,children:v.jsx(Hv,{size:20,color:"#64748b"})}),S&&v.jsxs("button",{onClick:()=>{C(!1),localStorage.setItem("global-buttons-config",JSON.stringify({activeButtons:Zt,deletedButtons:On,version:"2.0",savedAt:Date.now()})),localStorage.setItem("layout_panel_positions",JSON.stringify(we)),localStorage.setItem("layout_content_blocks",JSON.stringify(Je)),localStorage.setItem("layout_deleted_blocks",JSON.stringify(In)),localStorage.setItem("layout_size",JSON.stringify(Ce)),mn("/api/config/save",{method:"POST",body:{layout:we,globalButtons:{activeButtons:Zt,deletedButtons:On,version:"2.0",savedAt:Date.now()},contentBlocks:Je,deletedBlocks:In,headerTitles:tn,layoutSize:Ce}}).then(()=>{console.log("Saved config to backend")}).catch(h=>{console.error("Failed to save to backend",h),alert(Ue.t154)})},style:{position:"fixed",right:"20px",top:"20px",zIndex:10001,background:"#000",color:"#fff",border:"none",borderRadius:"999px",padding:"10px 24px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",fontSize:"14px",fontWeight:500},children:[v.jsx(gm,{size:16}),Ue.t81]}),v.jsxs("main",{className:`layout-multi ${S?"editing-mode":""}`,style:{position:"relative"},children:[v.jsxs("header",{className:"hero",style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(Kv,{size:22,style:{color:"var(--primary-accent)",marginTop:"4px"}}),v.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",gap:"4px"},children:[S?v.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${tn.eyebrow.width||200}px`,height:`${tn.eyebrow.height||30}px`,border:"2px dashed #cbd5e1",borderRadius:"4px",background:"transparent",cursor:(zr==null?void 0:zr.titleKey)==="eyebrow"?"grabbing":"grab",zIndex:(zr==null?void 0:zr.titleKey)==="eyebrow"?200:100,transform:`translate(${((We=tn.eyebrow.position)==null?void 0:We.left)||0}px, ${((et=tn.eyebrow.position)==null?void 0:et.top)||0}px)`},onMouseDown:h=>Sa(h,"eyebrow"),children:[v.jsx("p",{className:"eyebrow",style:{margin:0,flex:1,display:"flex",alignItems:"center",justifyContent:((gt=tn.eyebrow.style)==null?void 0:gt.textAlign)==="left"?"flex-start":((rt=tn.eyebrow.style)==null?void 0:rt.textAlign)==="right"?"flex-end":"center",textAlign:((dt=tn.eyebrow.style)==null?void 0:dt.textAlign)||"center",...tn.eyebrow.style},children:tn.eyebrow.text}),v.jsx("button",{onClick:h=>{h.stopPropagation(),$o("eyebrow")},onMouseDown:h=>h.stopPropagation(),style:{width:"20px",height:"20px",borderRadius:"50%",background:"#3b82f6",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)",padding:0,flexShrink:0},title:Ue.t82,children:v.jsx(og,{size:12})}),v.jsx("div",{onMouseDown:h=>ji(h,"eyebrow","se"),style:{position:"absolute",right:"-4px",bottom:"-4px",width:"12px",height:"12px",background:"#3b82f6",border:"2px solid #fff",borderRadius:"50%",cursor:"nwse-resize",zIndex:120,boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"}})]}):v.jsx("p",{className:"eyebrow",style:{...tn.eyebrow.style,transform:`translate(${((mt=tn.eyebrow.position)==null?void 0:mt.left)||0}px, ${((vt=tn.eyebrow.position)==null?void 0:vt.top)||0}px)`,position:"relative",width:`${tn.eyebrow.width||200}px`,height:`${tn.eyebrow.height||30}px`,display:"flex",alignItems:"center",justifyContent:((wt=tn.eyebrow.style)==null?void 0:wt.textAlign)==="left"?"flex-start":((xn=tn.eyebrow.style)==null?void 0:xn.textAlign)==="right"?"flex-end":"center",textAlign:((an=tn.eyebrow.style)==null?void 0:an.textAlign)||"center",margin:0},children:tn.eyebrow.text}),S?v.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${tn.title.width||200}px`,height:`${tn.title.height||40}px`,border:"2px dashed #cbd5e1",borderRadius:"4px",background:"transparent",cursor:(zr==null?void 0:zr.titleKey)==="title"?"grabbing":"grab",zIndex:(zr==null?void 0:zr.titleKey)==="title"?200:100,transform:`translate(${((ir=tn.title.position)==null?void 0:ir.left)||0}px, ${((hn=tn.title.position)==null?void 0:hn.top)||0}px)`},onMouseDown:h=>Sa(h,"title"),children:[v.jsx("h1",{style:{margin:0,flex:1,display:"flex",alignItems:"center",justifyContent:((kr=tn.title.style)==null?void 0:kr.textAlign)==="left"?"flex-start":((Ii=tn.title.style)==null?void 0:Ii.textAlign)==="right"?"flex-end":"center",textAlign:((or=tn.title.style)==null?void 0:or.textAlign)||"center",...tn.title.style},children:tn.title.text}),v.jsx("button",{onClick:h=>{h.stopPropagation(),$o("title")},onMouseDown:h=>h.stopPropagation(),style:{width:"24px",height:"24px",borderRadius:"50%",background:"#3b82f6",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)",padding:0,flexShrink:0},title:Ue.t82,children:v.jsx(og,{size:12})}),v.jsx("div",{onMouseDown:h=>ji(h,"title","se"),style:{position:"absolute",right:"-4px",bottom:"-4px",width:"12px",height:"12px",background:"#3b82f6",border:"2px solid #fff",borderRadius:"50%",cursor:"nwse-resize",zIndex:120,boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"}})]}):v.jsx("h1",{style:{...tn.title.style,transform:`translate(${((ln=tn.title.position)==null?void 0:ln.left)||0}px, ${((Xt=tn.title.position)==null?void 0:Xt.top)||0}px)`,position:"relative",width:`${tn.title.width||200}px`,height:`${tn.title.height||40}px`,display:"flex",alignItems:"center",justifyContent:((Mi=tn.title.style)==null?void 0:Mi.textAlign)==="left"?"flex-start":((Kn=tn.title.style)==null?void 0:Kn.textAlign)==="right"?"flex-end":"center",textAlign:((xr=tn.title.style)==null?void 0:xr.textAlign)||"center",margin:0},children:tn.title.text})]})]}),v.jsxs("div",{className:"actions",style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[v.jsxs("button",{onClick:r,className:"ghost",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",borderRadius:"999px",fontSize:"16px",fontWeight:600,marginRight:S?"280px":"0"},children:[v.jsx(Vv,{size:18})," ",Ue.t83]}),!S&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsxs("button",{className:`ghost ${ee?"active":""}`,onClick:ya,children:[v.jsx(tg,{size:18})," ",ee?Ue.t131:Ue.t141]}),ee&&v.jsx("button",{className:"ghost",onClick:va,children:Ue.t87})]}),S&&v.jsx("span",{className:"hint",children:Ue.t88})]}),!S&&v.jsxs("div",{style:{position:"fixed",right:"24px",bottom:"24px",display:"flex",gap:"8px",zIndex:100},children:[v.jsxs("button",{className:"ghost",onClick:()=>co(!0),title:Ue.t84,style:{fontSize:"11px",padding:"4px 8px"},children:[v.jsx(Ld,{size:14}),Ue.t80]}),v.jsxs("button",{className:"ghost",onClick:()=>C(!0),title:Ue.t85,style:{fontSize:"11px",padding:"4px 8px"},children:[v.jsx(Yv,{size:14}),Ue.t86]})]})]}),S?v.jsx(Zv,{isEditing:!0,size:Ce,onSizeChange:He,style:{position:"relative"},children:v.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[v.jsx(Qa,{panelId:"document-list-panel",panelName:xo("document-list-panel"),isEditing:S,onTitleEdit:()=>wn("document-list-panel"),titleStyle:(mi=we["document-list-panel"])==null?void 0:mi.titleStyle,className:"document-list-panel",position:we["document-list-panel"],onPositionChange:h=>Le(y=>({...y,"document-list-panel":h})),children:v.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[v.jsx(Bs,{blockId:"document-list-content",panelId:"document-list-panel",isEditing:S,position:Je["document-list-panel"],onPositionChange:h=>ht(y=>({...y,"document-list-panel":h})),hidden:In.includes("document-list-panel"),onDelete:()=>ks("document-list-panel"),children:v.jsx(lg,{docs:o,selectedDocId:l,setSelectedDocId:f,deleteDoc:fc,uploadInputRef:ho,handleFilePick:zl,replayDirConfig:$r,setReplayDirConfig:ei,saveReplayDirConfig:sa,replayDirConfigSaving:vr})}),v.jsx(Bs,{blockId:"document-replay-ui",panelId:"document-list-panel",isEditing:S,position:Je["document-replay-ui"],onPositionChange:h=>ht(y=>({...y,"document-replay-ui":h})),hidden:In.includes("document-replay-ui"),onDelete:()=>ks("document-replay-ui"),children:v.jsx(cg,{replayDirName:to,pickReplayDirectory:Vn,clearReplayDirectory:er,replayDirHandle:Kr})})]})}),v.jsx(Qa,{panelId:"preview-panel",panelName:xo("preview-panel"),isEditing:S,onTitleEdit:()=>wn("preview-panel"),titleStyle:(oo=we["preview-panel"])==null?void 0:oo.titleStyle,className:"preview-panel",position:we["preview-panel"],onPositionChange:h=>Le(y=>({...y,"preview-panel":h})),children:v.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:v.jsx(Bs,{blockId:"preview-textarea",panelId:"preview-panel",isEditing:S,position:Je["preview-textarea"],onPositionChange:h=>ht(y=>({...y,"preview-textarea":h})),hidden:In.includes("preview-textarea"),onDelete:()=>ks("preview-textarea"),children:v.jsxs("div",{className:"card",style:{width:"100%",height:"100%",padding:"0",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[v.jsx("div",{style:{position:"absolute",top:8,right:24,zIndex:10},children:v.jsxs("button",{type:"button",onClick:yl,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[v.jsx(Z0,{size:14}),Ue.t89]})}),v.jsx("textarea",{ref:qr,className:"preview full",value:me,onChange:h=>ae(h.target.value),onMouseUp:Is,onKeyUp:Is,onSelect:Is,onBlur:Go,placeholder:Ue.t90,style:{border:"none",width:"100%",height:"100%",resize:"none",padding:"48px 12px 12px",boxSizing:"border-box"}})]})})})}),v.jsx(Qa,{panelId:"processing-panel",panelName:xo("processing-panel"),isEditing:S,onTitleEdit:()=>wn("processing-panel"),titleStyle:(Gi=we["processing-panel"])==null?void 0:Gi.titleStyle,className:"processing-panel",position:we["processing-panel"],onPositionChange:h=>Le(y=>({...y,"processing-panel":h})),children:v.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[v.jsx(Bs,{blockId:"processing-tabs",panelId:"processing-panel",isEditing:S,position:Je["processing-tabs"],onPositionChange:h=>ht(y=>({...y,"processing-tabs":h})),allowChildPointerEvents:!0,children:v.jsxs("div",{className:"editable-button-group processing-tabs-bar",children:[oc().map(h=>v.jsx(Uc,{button:h,isEditing:S,panelId:"processing-tabs",onMouseDown:io,onStyleEdit:Ws,onClick:p},h.id)),Oa()]})}),T!=="records"&&v.jsx(Bs,{blockId:"processing-content",panelId:"processing-panel",isEditing:S,position:Je["processing-panel"],onPositionChange:h=>ht(y=>({...y,"processing-panel":h})),hidden:In.includes("processing-panel"),onDelete:()=>ks("processing-panel"),children:v.jsx("div",{style:{fontSize:"12px",color:"#666",minHeight:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:v.jsxs("div",{style:{padding:"0 12px 12px",overflowY:"auto",flex:1},children:[T==="outline"&&v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginBottom:"12px"},children:[v.jsx("button",{className:"ghost small",onClick:()=>ss(!0),disabled:!((Ti=e==null?void 0:e.sections)!=null&&Ti.length),style:{background:"#3b82f6",color:"#fff",border:"none"},children:Ue.t91}),v.jsx("button",{className:"ghost small",onClick:za,style:{color:"#ef4444",borderColor:"#ef4444"},children:Ue.t92})]}),!e||!e.sections||e.sections.length===0?v.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",padding:"20px",textAlign:"center"},children:Ue.t93}):e.sections.map((h,y)=>Rs({section:h,index:y}))]}),T==="config"&&ba()]})})}),T==="records"&&v.jsxs(v.Fragment,{children:[v.jsxs(Bs,{blockId:"processing-records-toolbar",panelId:"processing-panel",isEditing:S,position:{...Je["processing-records-toolbar"],height:70},onPositionChange:h=>ht(y=>({...y,"processing-records-toolbar":h})),allowChildPointerEvents:!0,children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0"},children:[v.jsx("button",{type:"button",className:`ghost small ${q==="deposits"?"active":""}`,onClick:()=>ie("deposits"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:Ue.t61}),v.jsx("button",{type:"button",className:`ghost small ${q==="groups"?"active":""}`,onClick:()=>ie("groups"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:Ue.t62})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"2px 0",borderBottom:"1px solid #e5e7eb",marginBottom:"4px",flexWrap:"nowrap",overflowX:"auto",minHeight:"32px"},children:[q==="deposits"&&Fa(Fo).map(h=>v.jsx(Uc,{button:h,isEditing:S,panelId:"processing-records-toolbar",onMouseDown:io,onStyleEdit:Ws,onClick:p},h.id)),q==="groups"&&Fa(ls).map(h=>v.jsx(Uc,{button:h,isEditing:S,panelId:"processing-records-toolbar",onMouseDown:io,onStyleEdit:Ws,onClick:p},h.id))]})]}),v.jsx(Bs,{blockId:"processing-records-list",panelId:"processing-panel",isEditing:S,position:Je["processing-records-list"],onPositionChange:h=>ht(y=>({...y,"processing-records-list":h})),children:v.jsxs("div",{className:"sections history-scroll",style:{height:"100%",overflow:"auto"},children:[q==="groups"&&hl(),q==="groups"&&pl(),q==="deposits"&&Bn.length===0&&v.jsx("p",{className:"hint",style:{padding:"20px",textAlign:"center"},children:Ue.t63}),q==="deposits"&&Bn.length>0&&v.jsx(v.Fragment,{children:Bn.map((h,y)=>{var ke;const L=`${h.id}||order`,G=Ke[L]!==void 0,Z=ps(h),ge=uc(h),Ae=Z?Z.replace(" ","-"):"";return v.jsxs("div",{className:"section",onDragOver:lc(h.id),onDrop:cc(h.id),style:mr===h.id?{outline:"2px dashed #3b82f6",outlineOffset:2}:void 0,children:[v.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[v.jsx("label",{className:"inline-check",style:{gap:6},children:v.jsx("input",{type:"checkbox",checked:!!(di!=null&&di[h.id]),onChange:he=>Wr(h.id,he.target.checked)})}),v.jsx("button",{className:"icon-btn tiny deposit-drag-handle",type:"button",draggable:!0,onDragStart:ac(h.id),onDragEnd:js,title:Ue.t64,children:v.jsx(eg,{size:12})}),G?v.jsx("input",{className:"deposit-order-input",type:"number",min:1,max:Bn.length,value:Ke[L],onChange:he=>rr(h.id,"order",he.target.value),onBlur:()=>Fl(h.id),onKeyDown:he=>sc(he,h.id)}):v.jsx("button",{className:"pill muted deposit-order-pill",type:"button",onClick:()=>Ol(h.id,y+1),title:Ue.t65,children:y+1}),v.jsx("span",{className:"deposit-name",children:h.name||Ue.t144})]}),v.jsxs("div",{className:"section-actions",style:{gap:6},children:[Z?v.jsx("span",{className:`status ${Ae}`,title:ge||Ue.t122,children:Z}):null,ka(h),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void vl(h.id),disabled:!!((ke=dr==null?void 0:dr[h.id])!=null&&ke.running),children:"Replay"}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Ls([h.id]),children:Ue.t25}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>le(he=>({...he,[h.id]:!he[h.id]})),children:z[h.id]?Ue.t142:Ue.t143})]})]}),Z&&Z!=="done"&&ge?v.jsxs("div",{className:"hint",style:{marginTop:6,color:"#92400e"},children:[Ue.t70,ge]}):null,z[h.id]&&v.jsxs("div",{className:"sections",style:{gap:6,marginTop:"8px"},children:[(h.sections||[]).length===0&&v.jsx("div",{className:"hint",children:Ue.t71}),(h.sections||[]).map((he,Ze)=>{var Pt,At,Ut,Mt;const Qe=`${h.id}||${he.id}||action`,Me=`${h.id}||${he.id}||exec`,kt=`${h.id}||${he.id}||summary`,ct=`${h.id}||${he.id}||location`,Tt=`${h.id}||${he.id}||req_input`,st=`${h.id}||${he.id}||req_exec`,xt=`${h.id}||${he.id}||req_summary`,Ge=`${h.id}||${he.id}||req_location`,ze=Ke[Qe]!==void 0||Ke[Me]!==void 0||Ke[kt]!==void 0||Ke[ct]!==void 0,yt=Ve((he==null?void 0:he.content)||""),Xe=St(he),lt=Xr((he==null?void 0:he.content)||""),Wt=!ze&&(lt==null?void 0:lt.type)==="add_doc"&&((lt==null?void 0:lt.source)==="upload"||((he==null?void 0:he.content)||"").toString().includes(Ue.t162)),Lt=(At=(Pt=dr==null?void 0:dr[h.id])==null?void 0:Pt.bySection)==null?void 0:At[he.id],un=!!on[`${h.id}||${he.id}`],jt=ze?!0:Ml(h.id,he.id);return v.jsxs("div",{className:"section",style:{background:"#fff"},children:[v.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[v.jsx("span",{className:"pill muted",children:Ze+1}),ze?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"hint",children:Ue.t72}),v.jsx("input",{value:Ke[Qe]??he.action??"",onChange:Bt=>rr(h.id,`${he.id}||action`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id),style:{minWidth:180}})]}):v.jsx("span",{className:"section-action-name",children:he.action||Ue.t123}),Lt!=null&&Lt.status?v.jsx("span",{className:`status ${Lt.status}`,title:Lt.message||"",children:Lt.status}):null]}),v.jsxs("div",{className:"section-actions",style:{gap:6},children:[Wt?v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Ba(h.id,he),children:Ue.t73}):null,ze?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Ma(h.id,he.id),disabled:un,children:un?Ue.t124:Ue.t125}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>aa(h.id,he.id),children:Ue.t22})]}):v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Bl(h.id,he),children:Ue.t41}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Aa(h.id,he.id),children:jt?Ue.t142:Ue.t143}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>si(h.id,he.id),children:Ue.t25})]})]}),jt?ze?v.jsx("div",{className:"section",style:{background:"#f8fafc",border:"1px solid #e2e8f0",padding:"10px",borderRadius:8},children:v.jsxs("div",{style:{display:"grid",gap:8},children:[v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t74}),v.jsxs("select",{value:Ke[Tt]??Xe.inputSource,onChange:Bt=>rr(h.id,`${he.id}||req_input`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap"},children:(yt.inputLine||"").replace(Iv,"")||Ue.t126})]}),v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t94}),v.jsxs("select",{value:Ke[st]??Xe.actionExecution,onChange:Bt=>rr(h.id,`${he.id}||req_exec`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("input",{value:Ke[Me]??"",onChange:Bt=>rr(h.id,`${he.id}||exec`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id)})]}),v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t77}),v.jsxs("select",{value:Ke[xt]??Xe.executionSummary,onChange:Bt=>rr(h.id,`${he.id}||req_summary`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("textarea",{rows:3,value:Ke[kt]??"",onChange:Bt=>rr(h.id,`${he.id}||summary`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id)})]}),v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t78}),v.jsxs("select",{value:Ke[Ge]??Xe.recordLocation,onChange:Bt=>rr(h.id,`${he.id}||req_location`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("input",{value:Ke[ct]??"",onChange:Bt=>rr(h.id,`${he.id}||location`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id)})]}),v.jsx("div",{className:"hint",children:Ue.t79})]})}):v.jsxs(v.Fragment,{children:[he.llmScript&&v.jsxs("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #7dd3fc",borderRadius:6,padding:8,marginBottom:8},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:[v.jsx("span",{style:{background:"#0ea5e9",color:"#fff",fontSize:11,padding:"2px 6px",borderRadius:4},children:" "}),he.llmScript.title&&v.jsx("span",{style:{fontWeight:500,color:"#0369a1"},children:he.llmScript.title})]}),he.llmScript.type&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.type]}),he.llmScript.description&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.description]}),(he.llmScript.instructions||he.llmScript.promptContent)&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.instructions||he.llmScript.promptContent]}),he.llmScript.inputSourceDesc&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.inputSourceDesc]}),he.llmScript.inputContentExcerpt&&v.jsxs("div",{style:{fontSize:12,color:"#64748b",fontStyle:"italic"},children:[": ",he.llmScript.inputContentExcerpt.length>80?he.llmScript.inputContentExcerpt.substring(0,80)+"...":he.llmScript.inputContentExcerpt]}),he.llmScript.targetTitle&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.targetTitle]}),he.llmScript.outputTargetDesc&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.outputTargetDesc]}),((Ut=he.llmScript.outputs)==null?void 0:Ut.outputContent)&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.outputs.outputContent.length>100?he.llmScript.outputs.outputContent.substring(0,100)+"...":he.llmScript.outputs.outputContent]}),he.llmScript.aiGuidance&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e",fontStyle:"italic"},children:["AI: ",he.llmScript.aiGuidance]})]}),v.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:6,padding:8},children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:v.jsx("span",{style:{background:"#64748b",color:"#fff",fontSize:11,padding:"2px 6px",borderRadius:4},children:" "})}),v.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap",fontSize:12},children:he.content||((Mt=he.originalScript)==null?void 0:Mt.content)||Ue.t128})]}),Lt!=null&&Lt.status&&Lt.status!=="done"?v.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap",color:Lt.status==="fail"?"#b91c1c":"#92400e"},children:Lt.message||Ue.t129}):null]}):null]},he.id)})]})]},h.id)})})]})})]})]})}),v.jsx(Qa,{panelId:"operations-panel",panelName:xo("operations-panel"),isEditing:S,onTitleEdit:()=>wn("operations-panel"),titleStyle:(Ji=we["operations-panel"])==null?void 0:Ji.titleStyle,className:"operations-panel",position:we["operations-panel"],onPositionChange:h=>Le(y=>({...y,"operations-panel":h})),children:v.jsx(Bs,{blockId:"operations-content",panelId:"operations-panel",isEditing:S,position:Je["operations-panel"],onPositionChange:h=>ht(y=>({...y,"operations-panel":h})),hidden:In.includes("operations-panel"),onDelete:()=>ks("operations-panel"),children:v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-head",children:v.jsx("div",{className:"actions",style:{gap:"6px"},children:x?v.jsxs("button",{type:"button",className:`ghost small ${be==="batch_outline"?"active":""}`,onClick:()=>Ee("batch_outline"),children:[v.jsx(cf,{size:14}),Ue.t97]}):v.jsxs(v.Fragment,{children:[v.jsxs("button",{type:"button",className:`ghost small ${be==="doc"?"active":""}`,onClick:()=>Ee("doc"),children:[v.jsx(yf,{size:14}),Ue.t95]}),v.jsxs("button",{type:"button",className:`ghost small ${be==="result"?"active":""}`,onClick:()=>Ee("result"),children:[v.jsx(vf,{size:14}),Ue.t96]})]})})}),v.jsx("textarea",{ref:qn,className:"dispatch-input",rows:1,placeholder:Ue.t98}),Ft!=null&&Ft.enabled?v.jsxs("button",{className:"ghost",onClick:$a,disabled:k||d,children:[v.jsx(rg,{size:16})," ",(Ft.label||Ue.t145).toString()]}):v.jsx("div",{className:"hint",children:Ue.t99})]})})}),v.jsx(ag,{buttons:Zt.filter(h=>h.kind!=="outline_extract"&&h.kind!=="upload_file"&&h.kind!=="fill_summary"),isEditing:S,onMouseDown:Te,onStyleEdit:Pe,onClick:h=>{h.action==="run_block"&&runOutlineBlock(h.targetId),h.action==="toggle_section"&&toggleSection(h.targetId),h.kind==="dispatch"&&$a(),h.kind==="final_generate"&&runFinalGenerate()},onDelete:$e})]})}):v.jsxs("div",{style:{flex:1,position:"relative",minHeight:"600px",overflow:"visible"},children:[v.jsx(Qa,{panelId:"document-list-panel",panelName:xo("document-list-panel"),isEditing:!1,titleStyle:(so=we["document-list-panel"])==null?void 0:so.titleStyle,className:"document-list-panel",position:we["document-list-panel"],onPositionChange:()=>{},headerActions:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[((vi=Zt.find(h=>h.kind==="upload_file"))==null?void 0:vi.enabled)!==!1&&v.jsxs("button",{type:"button",onClick:()=>{var h;console.log("Upload button clicked",ho.current),(h=ho.current)==null||h.click()},title:((Lr=Zt.find(h=>h.kind==="upload_file"))==null?void 0:Lr.label)||Ue.t146,style:{pointerEvents:"auto",backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[v.jsx(bb,{size:14})," ",((Hr=Zt.find(h=>h.kind==="upload_file"))==null?void 0:Hr.label)||Ue.t146]}),v.jsx("button",{type:"button",onClick:()=>void tu(),disabled:o.length===0,title:Ue.t100,style:{pointerEvents:"auto",backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:o.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",opacity:o.length===0?.6:1},children:Ue.t92})]}),children:v.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[v.jsx(Bs,{blockId:"document-list-content",panelId:"document-list-panel",isEditing:!1,position:Je["document-list-panel"],onPositionChange:()=>{},hidden:In.includes("document-list-panel"),children:v.jsx(lg,{docs:o,selectedDocId:l,setSelectedDocId:f,deleteDoc:fc,uploadInputRef:ho,handleFilePick:zl,replayDirConfig:$r,setReplayDirConfig:ei,saveReplayDirConfig:sa,replayDirConfigSaving:vr})}),v.jsx(Bs,{blockId:"document-replay-ui",panelId:"document-list-panel",isEditing:!1,position:Je["document-replay-ui"],onPositionChange:()=>{},hidden:In.includes("document-replay-ui"),children:v.jsx(cg,{replayDirName:to,pickReplayDirectory:Vn,clearReplayDirectory:er,replayDirHandle:Kr})})]})}),v.jsx(Qa,{panelId:"preview-panel",panelName:xo("preview-panel"),isEditing:!1,titleStyle:(wi=we["preview-panel"])==null?void 0:wi.titleStyle,className:"preview-panel",position:we["preview-panel"],onPositionChange:()=>{},children:v.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:v.jsx(Bs,{blockId:"preview-textarea",panelId:"preview-panel",isEditing:!1,position:Je["preview-textarea"],onPositionChange:()=>{},hidden:In.includes("preview-textarea"),children:v.jsxs("div",{className:"card",style:{width:"100%",height:"100%",padding:"0",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[v.jsx("div",{style:{position:"absolute",top:8,right:24,zIndex:10},children:v.jsxs("button",{type:"button",onClick:yl,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[v.jsx(Z0,{size:14}),Ue.t89]})}),v.jsx("textarea",{ref:qr,className:"preview full",value:me,onChange:h=>ae(h.target.value),onMouseUp:Is,onKeyUp:Is,onSelect:Is,onBlur:Go,placeholder:Ue.t90,style:{border:"none",width:"100%",height:"100%",resize:"none",padding:"48px 12px 12px",boxSizing:"border-box"}})]})})})}),v.jsx(Qa,{panelId:"processing-panel",panelName:xo("processing-panel"),isEditing:!1,titleStyle:(Gr=we["processing-panel"])==null?void 0:Gr.titleStyle,className:"processing-panel",position:we["processing-panel"],onPositionChange:()=>{},children:v.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[v.jsx(Bs,{blockId:"processing-tabs",panelId:"processing-panel",isEditing:!1,position:Je["processing-tabs"],onPositionChange:()=>{},allowChildPointerEvents:!0,children:v.jsxs("div",{className:"editable-button-group processing-tabs-bar",children:[oc().map(h=>v.jsx(Uc,{button:h,isEditing:!1,panelId:"processing-tabs",onMouseDown:io,onStyleEdit:Ws,onClick:p},h.id)),Oa()]})}),T!=="records"&&v.jsx(Bs,{blockId:"processing-content",panelId:"processing-panel",isEditing:!1,position:Je["processing-panel"],onPositionChange:()=>{},hidden:In.includes("processing-panel"),children:v.jsx("div",{style:{fontSize:"12px",color:"#666",minHeight:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:v.jsxs("div",{style:{padding:"0 12px 12px",overflowY:"auto",flex:1},children:[T==="outline"&&v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[v.jsxs("button",{onClick:wa,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[v.jsx(tg,{size:14}),Ue.t101]}),v.jsxs("div",{style:{display:"flex",gap:"8px"},children:[Zt.filter(h=>h.kind==="outline_extract"&&h.enabled!==!1).slice(0,1).map(h=>v.jsx("button",{onClick:()=>Na(h),title:h.prompt?`Prompt: ${h.prompt.slice(0,50)}...`:Ue.t147,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:h.label},h.id)),v.jsx("button",{onClick:za,style:{backgroundColor:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:Ue.t92}),v.jsx("button",{onClick:()=>ss(!0),disabled:!((Pi=e==null?void 0:e.sections)!=null&&Pi.length),style:{backgroundColor:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"32px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",opacity:(Ri=e==null?void 0:e.sections)!=null&&Ri.length?1:.5},children:Ue.t91})]})]}),!e||!e.sections||e.sections.length===0?v.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",padding:"20px",textAlign:"center"},children:Ue.t93}):e.sections.map((h,y)=>Rs({section:h,index:y}))]}),T==="config"&&ba(),T==="strategy"&&v.jsxs("div",{style:{height:"100%",overflow:"auto"},children:[v.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f0f0f0",background:"#fafafa"},children:[v.jsx("h4",{style:{margin:"0 0 4px",fontSize:"15px",fontWeight:600},children:Ue.t138}),v.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b"},children:Ue.t139})]}),v.jsxs("div",{style:{padding:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[v.jsxs("div",{className:"card",style:{padding:"20px",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",background:"#fff"},children:[v.jsx("h5",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:600,borderBottom:"1px solid #f1f5f9",paddingBottom:"12px",color:"#334155"},children:Ue.t102}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569",cursor:"pointer"},children:[v.jsx("span",{children:Ue.t103}),v.jsx("input",{type:"checkbox",defaultChecked:!0,style:{width:"16px",height:"16px"}})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[v.jsx("span",{children:Ue.t104}),v.jsx("input",{type:"number",defaultValue:5,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[v.jsx("span",{children:Ue.t105}),v.jsx("input",{type:"number",defaultValue:100,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]})]})]}),v.jsxs("div",{className:"card",style:{padding:"20px",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",background:"#fff"},children:[v.jsx("h5",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:600,borderBottom:"1px solid #f1f5f9",paddingBottom:"12px",color:"#334155"},children:Ue.t140}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569",cursor:"pointer"},children:[v.jsx("span",{children:Ue.t106}),v.jsx("input",{type:"checkbox",defaultChecked:!0,style:{width:"16px",height:"16px"}})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[v.jsx("span",{children:Ue.t107}),v.jsxs("select",{style:{width:"80px",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px",background:"#fff"},children:[v.jsx("option",{}),v.jsx("option",{}),v.jsx("option",{})]})]})]})]}),v.jsxs("div",{className:"card",style:{padding:"20px",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",background:"#fff"},children:[v.jsx("h5",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:600,borderBottom:"1px solid #f1f5f9",paddingBottom:"12px",color:"#334155"},children:Ue.t108}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569",cursor:"pointer"},children:[v.jsx("span",{children:Ue.t109}),v.jsx("input",{type:"checkbox",style:{width:"16px",height:"16px"}})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[v.jsx("span",{children:Ue.t110}),v.jsx("input",{type:"number",defaultValue:10,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px",color:"#475569"},children:[v.jsx("span",{children:Ue.t137}),v.jsx("input",{type:"number",defaultValue:.8,step:.1,style:{width:"80px",padding:"6px 10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"13px"}})]})]})]})]})]})]})})}),T==="records"&&v.jsxs(v.Fragment,{children:[v.jsxs(Bs,{blockId:"processing-records-toolbar",panelId:"processing-panel",isEditing:!1,position:{...Je["processing-records-toolbar"],height:70},onPositionChange:()=>{},allowChildPointerEvents:!0,children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0"},children:[v.jsx("button",{type:"button",className:`ghost small ${q==="deposits"?"active":""}`,onClick:()=>ie("deposits"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:Ue.t61}),v.jsx("button",{type:"button",className:`ghost small ${q==="groups"?"active":""}`,onClick:()=>ie("groups"),style:{padding:"6px 16px",fontSize:"15px",fontWeight:600,whiteSpace:"nowrap"},children:Ue.t62})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"2px 0",borderBottom:"1px solid #e5e7eb",marginBottom:"4px",flexWrap:"nowrap",overflowX:"auto",minHeight:"32px"},children:[q==="deposits"&&Fa(Fo).map(h=>v.jsx(Uc,{button:h,isEditing:!1,panelId:"processing-records-toolbar",onMouseDown:io,onStyleEdit:Ws,onClick:p},h.id)),q==="groups"&&Fa(ls).map(h=>v.jsx(Uc,{button:h,isEditing:!1,panelId:"processing-records-toolbar",onMouseDown:io,onStyleEdit:Ws,onClick:p},h.id))]})]}),v.jsx(Bs,{blockId:"processing-records-list",panelId:"processing-panel",isEditing:!1,position:Je["processing-records-list"],onPositionChange:()=>{},children:v.jsxs("div",{className:"sections history-scroll",style:{height:"100%",overflow:"auto"},children:[q==="groups"&&hl(),q==="groups"&&pl(),q==="deposits"&&Bn.length===0&&v.jsx("p",{className:"hint",style:{padding:"20px",textAlign:"center"},children:Ue.t63}),q==="deposits"&&Bn.length>0&&v.jsx(v.Fragment,{children:Bn.map((h,y)=>{var ke;const L=`${h.id}||order`,G=Ke[L]!==void 0,Z=ps(h),ge=uc(h),Ae=Z?Z.replace(" ","-"):"";return v.jsxs("div",{className:"section",onDragOver:lc(h.id),onDrop:cc(h.id),style:mr===h.id?{outline:"2px dashed #3b82f6",outlineOffset:2}:void 0,children:[v.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[v.jsx("label",{className:"inline-check",style:{gap:6},children:v.jsx("input",{type:"checkbox",checked:!!(di!=null&&di[h.id]),onChange:he=>Wr(h.id,he.target.checked)})}),v.jsx("button",{className:"icon-btn tiny deposit-drag-handle",type:"button",draggable:!0,onDragStart:ac(h.id),onDragEnd:js,title:Ue.t64,children:v.jsx(eg,{size:12})}),G?v.jsx("input",{className:"deposit-order-input",type:"number",min:1,max:Bn.length,value:Ke[L],onChange:he=>rr(h.id,"order",he.target.value),onBlur:()=>Fl(h.id),onKeyDown:he=>sc(he,h.id)}):v.jsx("button",{className:"pill muted deposit-order-pill",type:"button",onClick:()=>Ol(h.id,y+1),title:Ue.t65,children:y+1}),Ke[`${h.id}||name`]!==void 0?v.jsx("input",{className:"deposit-name-input",value:Ke[`${h.id}||name`],onChange:he=>rr(h.id,"name",he.target.value),onBlur:()=>void Ra(h.id),onKeyDown:he=>ml(he,h.id),autoFocus:!0,onClick:he=>he.stopPropagation(),style:{border:"1px solid #1a73e8",padding:"2px 6px",borderRadius:"4px",fontSize:"16px",width:"200px"}}):v.jsx("span",{className:"deposit-name",onDoubleClick:he=>{he.stopPropagation(),rr(h.id,"name",h.name||h.id)},title:Ue.t120,style:{cursor:"text",fontWeight:500},children:h.name||Ue.t144}),v.jsx("button",{className:"icon-btn tiny",type:"button",onClick:he=>{he.stopPropagation(),rr(h.id,"name",h.name||h.id)},title:Ue.t67,style:{width:20,height:20,padding:2,opacity:.5},children:v.jsx(cf,{size:12})})]}),v.jsxs("div",{className:"section-actions",style:{gap:6},children:[Z?v.jsx("span",{className:`status ${Ae}`,title:ge||Ue.t122,children:Z}):null,ka(h),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void vl(h.id),disabled:!!((ke=dr==null?void 0:dr[h.id])!=null&&ke.running),children:"Replay"}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Ls([h.id]),children:Ue.t25}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>le(he=>({...he,[h.id]:!he[h.id]})),children:z[h.id]?Ue.t142:Ue.t143})]})]}),Z&&Z!=="done"&&ge?v.jsxs("div",{className:"hint",style:{marginTop:6,color:"#92400e"},children:[Ue.t70,ge]}):null,z[h.id]&&v.jsxs("div",{className:"sections",style:{gap:6,marginTop:"8px"},children:[(h.sections||[]).length===0&&v.jsx("div",{className:"hint",children:Ue.t71}),(h.sections||[]).map((he,Ze)=>{var Pt,At,Ut,Mt;const Qe=`${h.id}||${he.id}||action`,Me=`${h.id}||${he.id}||exec`,kt=`${h.id}||${he.id}||summary`,ct=`${h.id}||${he.id}||location`,Tt=`${h.id}||${he.id}||req_input`,st=`${h.id}||${he.id}||req_exec`,xt=`${h.id}||${he.id}||req_summary`,Ge=`${h.id}||${he.id}||req_location`,ze=Ke[Qe]!==void 0||Ke[Me]!==void 0||Ke[kt]!==void 0||Ke[ct]!==void 0,yt=Ve((he==null?void 0:he.content)||""),Xe=St(he),lt=Xr((he==null?void 0:he.content)||""),Wt=!ze&&(lt==null?void 0:lt.type)==="add_doc"&&((lt==null?void 0:lt.source)==="upload"||((he==null?void 0:he.content)||"").toString().includes(Ue.t162)),Lt=(At=(Pt=dr==null?void 0:dr[h.id])==null?void 0:Pt.bySection)==null?void 0:At[he.id],un=!!on[`${h.id}||${he.id}`],jt=ze?!0:Ml(h.id,he.id);return v.jsxs("div",{className:"section",style:{background:"#fff"},children:[v.jsxs("div",{className:"section-head",style:{justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{className:"section-title",style:{display:"flex",alignItems:"center",gap:10,flexWrap:"nowrap",flex:1,minWidth:0},children:[v.jsx("span",{className:"pill muted",children:Ze+1}),ze?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"hint",children:Ue.t72}),v.jsx("input",{value:Ke[Qe]??he.action??"",onChange:Bt=>rr(h.id,`${he.id}||action`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id),style:{minWidth:180}})]}):v.jsx("span",{className:"section-action-name",children:he.action||Ue.t123}),Lt!=null&&Lt.status?v.jsx("span",{className:`status ${Lt.status}`,title:Lt.message||"",children:Lt.status}):null]}),v.jsxs("div",{className:"section-actions",style:{gap:6},children:[Wt?v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Ba(h.id,he),children:Ue.t73}):null,ze?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>void Ma(h.id,he.id),disabled:un,children:un?Ue.t124:Ue.t125}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>aa(h.id,he.id),children:Ue.t22})]}):v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Bl(h.id,he),children:Ue.t41}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>Aa(h.id,he.id),children:jt?Ue.t142:Ue.t143}),v.jsx("button",{className:"ghost xsmall",type:"button",onClick:()=>si(h.id,he.id),children:Ue.t25})]})]}),jt?ze?v.jsx("div",{className:"section",style:{background:"#f8fafc",border:"1px solid #e2e8f0",padding:"10px",borderRadius:8},children:v.jsxs("div",{style:{display:"grid",gap:8},children:[v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t74}),v.jsxs("select",{value:Ke[Tt]??Xe.inputSource,onChange:Bt=>rr(h.id,`${he.id}||req_input`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap"},children:(yt.inputLine||"").replace(Iv,"")||Ue.t126})]}),v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t94}),v.jsxs("select",{value:Ke[st]??Xe.actionExecution,onChange:Bt=>rr(h.id,`${he.id}||req_exec`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("input",{value:Ke[Me]??"",onChange:Bt=>rr(h.id,`${he.id}||exec`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id)})]}),v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t77}),v.jsxs("select",{value:Ke[xt]??Xe.executionSummary,onChange:Bt=>rr(h.id,`${he.id}||req_summary`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("textarea",{rows:3,value:Ke[kt]??"",onChange:Bt=>rr(h.id,`${he.id}||summary`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id)})]}),v.jsxs("label",{style:{display:"grid",gap:4},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{className:"hint",children:Ue.t78}),v.jsxs("select",{value:Ke[Ge]??Xe.recordLocation,onChange:Bt=>rr(h.id,`${he.id}||req_location`,Bt.target.value),children:[v.jsx("option",{value:"required",children:Ue.t75}),v.jsx("option",{value:"optional",children:Ue.t76})]})]}),v.jsx("input",{value:Ke[ct]??"",onChange:Bt=>rr(h.id,`${he.id}||location`,Bt.target.value),onKeyDown:Bt=>ms(Bt,h.id,he.id)})]}),v.jsx("div",{className:"hint",children:Ue.t79})]})}):v.jsxs(v.Fragment,{children:[he.llmScript&&v.jsxs("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #7dd3fc",borderRadius:6,padding:8,marginBottom:8},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:[v.jsx("span",{style:{background:"#0ea5e9",color:"#fff",fontSize:11,padding:"2px 6px",borderRadius:4},children:" "}),he.llmScript.title&&v.jsx("span",{style:{fontWeight:500,color:"#0369a1"},children:he.llmScript.title})]}),he.llmScript.type&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.type]}),he.llmScript.description&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.description]}),(he.llmScript.instructions||he.llmScript.promptContent)&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.instructions||he.llmScript.promptContent]}),he.llmScript.inputSourceDesc&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.inputSourceDesc]}),he.llmScript.inputContentExcerpt&&v.jsxs("div",{style:{fontSize:12,color:"#64748b",fontStyle:"italic"},children:[": ",he.llmScript.inputContentExcerpt.length>80?he.llmScript.inputContentExcerpt.substring(0,80)+"...":he.llmScript.inputContentExcerpt]}),he.llmScript.targetTitle&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.targetTitle]}),he.llmScript.outputTargetDesc&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.outputTargetDesc]}),((Ut=he.llmScript.outputs)==null?void 0:Ut.outputContent)&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e"},children:[": ",he.llmScript.outputs.outputContent.length>100?he.llmScript.outputs.outputContent.substring(0,100)+"...":he.llmScript.outputs.outputContent]}),he.llmScript.aiGuidance&&v.jsxs("div",{style:{fontSize:12,color:"#0c4a6e",fontStyle:"italic"},children:["AI: ",he.llmScript.aiGuidance]})]}),v.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:6,padding:8},children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:v.jsx("span",{style:{background:"#64748b",color:"#fff",fontSize:11,padding:"2px 6px",borderRadius:4},children:" "})}),v.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap",fontSize:12},children:he.content||((Mt=he.originalScript)==null?void 0:Mt.content)||Ue.t128})]}),Lt!=null&&Lt.status&&Lt.status!=="done"?v.jsx("div",{className:"hint",style:{whiteSpace:"pre-wrap",color:Lt.status==="fail"?"#b91c1c":"#92400e"},children:Lt.message||Ue.t129}):null]}):null]},he.id)})]})]},h.id)})})]})})]})]})}),v.jsx(Qa,{panelId:"operations-panel",panelName:xo("operations-panel"),isEditing:!1,titleStyle:(ai=we["operations-panel"])==null?void 0:ai.titleStyle,className:"operations-panel",position:we["operations-panel"],onPositionChange:()=>{},children:v.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("textarea",{ref:qn,className:"dispatch-input",rows:1,placeholder:Ue.t98}),Ft!=null&&Ft.enabled?v.jsxs("button",{className:"ghost",onClick:$a,disabled:k||d,children:[v.jsx(rg,{size:16})," ",(Ft.label||Ue.t145).toString()]}):v.jsx("div",{className:"hint",children:Ue.t99})]})})}),v.jsx(ag,{buttons:Zt.filter(h=>h.kind!=="outline_extract"&&h.kind!=="upload_file"&&h.kind!=="fill_summary"),isEditing:!1,onMouseDown:()=>{},onStyleEdit:()=>{},onClick:h=>{var y;h.action==="run_block"&&runOutlineBlock(h.targetId),h.action==="toggle_section"&&toggleSection(h.targetId),h.kind==="dispatch"&&$a(),h.kind==="final_generate"&&runFinalGenerate(),h.kind==="outline_extract"&&Na(h),h.kind==="upload_file"&&((y=ho.current)==null||y.click())},onDelete:void 0})]}),ki&&(()=>{var y;const h=Zt.find(L=>L.id===ki);if(h)return v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>Oi(null)}),v.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:v.jsx(xu,{button:h,label:h.label,onStyleChange:K.bind(null,ki),onLogicChange:L=>{K(ki,{...h,kind:L.kind,prompt:L.prompt})},onDelete:()=>{confirm(Ue.t148)&&(ue(ki),Oi(null))},onClose:()=>Oi(null)})})]});try{const{panelId:L,buttonId:G}=JSON.parse(ki),Z=(y=$t[L])==null?void 0:y.find(ge=>ge.id===G);if(Z)return v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>Oi(null)}),v.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:v.jsx(xu,{button:Z,label:Z.label,onStyleChange:ge=>_(L,G,ge),onLogicChange:ge=>{_(L,G,{style:Z.style,label:Z.label,kind:ge.kind,prompt:ge.prompt})},onDelete:()=>$e(),onClose:()=>Oi(null)})})]})}catch(L){console.error(L)}return null})(),$i&&(()=>{var L,G;const h={"input-form-panel":Ue.t149,"document-list-panel":Ue.t150,"processing-panel":Ue.t151,"preview-panel":Ue.t152,"operations-panel":Ue.t153}[$i]||$i,y=((L=we[$i])==null?void 0:L.titleStyle)||{};return v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>wn(null)}),v.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:v.jsx(xu,{button:{id:"title",label:((G=we[$i])==null?void 0:G.customTitle)||h,style:y},onStyleChange:({style:Z,label:ge})=>{Le(Ae=>({...Ae,[$i]:{...Ae[$i],titleStyle:Z,customTitle:ge}}))},onClose:()=>wn(null),onDelete:void 0})})]})})(),uo&&(()=>{const h=tn[uo];return v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)",zIndex:9999},onClick:()=>$o(null)}),v.jsx("div",{style:{position:"fixed",right:20,top:60,zIndex:1e4},children:v.jsx(xu,{button:{id:uo,label:h.text,style:h.style||{}},onStyleChange:({style:y,label:L})=>{Ei(G=>({...G,[uo]:{...G[uo],text:L,style:y}}))},onClose:()=>$o(null),onDelete:void 0})})]})})(),N&&v.jsx("div",{className:"toast",children:N}),kn&&v.jsx(mA,{onClose:()=>Yr(!1),onSave:sl,onUse:al,onDelete:na,onRename:ds,historyList:Jo,loading:il}),v.jsx(tA,{isOpen:Ss,onClose:()=>ss(!1),sections:(e==null?void 0:e.sections)||[],docName:((So=o.find(h=>h.id===l))==null?void 0:So.name)||Ue.t135})]})]})}const mA=({onClose:r,onSave:e,onUse:t,onDelete:o,onRename:a,historyList:s,loading:u})=>v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"card",style:{width:"500px",maxHeight:"80vh",display:"flex",flexDirection:"column",background:"#fff",color:"#333",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",borderRadius:"16px",overflow:"hidden",border:"1px solid rgba(0,0,0,0.05)",position:"relative"},children:[v.jsx("button",{className:"ghost icon-btn",onClick:r,style:{color:"#666",width:"28px",height:"28px",position:"absolute",top:"12px",right:"12px",zIndex:2},children:v.jsx(Mu,{size:20})}),v.jsx("div",{className:"card-head",style:{justifyContent:"space-between",borderBottom:"1px solid #eee",padding:"16px 20px",background:"#fafafa"},children:v.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#111",margin:0},children:Ue.t111})}),v.jsx("div",{style:{padding:"16px 20px",borderBottom:"1px solid #eee"},children:v.jsxs("button",{style:{width:"100%",borderRadius:"8px",padding:"10px",background:"#3b82f6",color:"#fff",border:"none",fontSize:"14px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},onClick:e,children:[v.jsx(gm,{size:16}),Ue.t112]})}),v.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0"},children:u?v.jsx("div",{className:"hint text-center",style:{padding:"20px"},children:Ue.t113}):s.length===0?v.jsx("div",{className:"hint text-center",style:{padding:"40px"},children:Ue.t114}):v.jsx(gA,{list:s,onUse:t,onDelete:o,onRename:a})})]})}),gA=({list:r,onUse:e,onDelete:t,onRename:o})=>{const[a,s]=tt.useState(null),[u,l]=tt.useState(""),f=m=>{s(m.id),l(m.title||m.docName||Ue.t136)},d=()=>{a&&u.trim()&&o(a,u.trim()),s(null)};return v.jsx("div",{style:{padding:"0"},children:r.map(m=>{var k,b;return v.jsxs("div",{className:"list-item",style:{cursor:"default",flexDirection:"column",alignItems:"flex-start",gap:"8px",padding:"16px 20px",borderBottom:"1px solid #f0f0f0",margin:0,borderRadius:0},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[a===m.id?v.jsx("div",{style:{display:"flex",gap:"8px",flex:1,alignItems:"center"},children:v.jsx("input",{autoFocus:!0,value:u,onChange:g=>l(g.target.value),onKeyDown:g=>g.key==="Enter"&&d(),onBlur:d,style:{flex:1,padding:"4px 8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"14px"}})}):v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#333"},children:m.title||m.docName||Ue.t136}),v.jsx("button",{className:"ghost icon-btn small",onClick:()=>f(m),style:{width:"24px",height:"24px",color:"#666",opacity:.6},title:Ue.t67,children:v.jsx(cf,{size:14})})]}),v.jsx("div",{className:"hint",style:{fontSize:"12px",color:"#999"},children:new Date(m.timestamp).toLocaleString()})]}),v.jsxs("div",{className:"hint",style:{fontSize:"12px",color:"#666"},children:[Ue.t115,((b=(k=m.template)==null?void 0:k.sections)==null?void 0:b.length)||0,Ue.t116]}),v.jsxs("div",{style:{display:"flex",gap:"8px",width:"100%",justifyContent:"flex-end",marginTop:"8px"},children:[v.jsx("button",{onClick:()=>t(m.id),style:{background:"#f8fafc",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"6px 14px",fontSize:"13px",cursor:"pointer",fontWeight:500},children:Ue.t25}),v.jsx("button",{onClick:()=>e(m),style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontSize:"13px",cursor:"pointer",fontWeight:500},children:Ue.t134})]})]},m.id)})})},Uo={t1:"",t2:"",t3:"",t4:"",t5:" + ",t6:"",t7:"",t8:"",t9:"",t10:"",t11:" Studio",t12:"...",t13:" Enter Shift + Enter ",t14:"",t15:"Studio ",t16:" Pin ",t17:"",t18:"...",t19:"",t20:""};function yA({sources:r=[],onUpload:e,onDelete:t,onSelect:o,onClearAll:a}){const s=tt.useRef(null);return v.jsxs("div",{className:"panel-content",style:{height:"100%",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{className:"panel-header",style:{padding:"20px 24px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(ng,{className:"text-primary",size:20}),v.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600},children:Uo.t1}),v.jsx("span",{className:"pill muted",children:r.length})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("button",{className:"ghost icon-btn",onClick:()=>{var u;return(u=s.current)==null?void 0:u.click()},title:Uo.t2,children:v.jsx(Xv,{size:20})}),v.jsx("button",{className:"ghost icon-btn",onClick:()=>a==null?void 0:a(),title:Uo.t3,disabled:!r.length,children:v.jsx(Iu,{size:18})})]}),v.jsx("input",{type:"file",multiple:!0,ref:s,style:{display:"none"},onChange:e,accept:".txt,.md,.pdf,.docx"})]}),v.jsx("div",{className:"scroll-y",style:{flex:1,padding:"0 16px 20px"},children:r.length===0?v.jsxs("div",{className:"empty-state",children:[v.jsx(ng,{size:48,opacity:.1}),v.jsxs("p",{children:[Uo.t4,v.jsx("br",{}),v.jsx("span",{className:"sub",children:Uo.t5})]})]}):v.jsx("div",{className:"list",children:r.map(u=>v.jsxs("div",{className:`list-item ${u.selected?"active":""}`,onClick:()=>o(u.id),children:[v.jsx("div",{className:"icon-box",children:v.jsx(yf,{size:16})}),v.jsxs("div",{className:"content",children:[v.jsx("div",{className:"title",children:u.name}),v.jsxs("div",{className:"meta",children:[u.type,"  ",u.size]})]}),v.jsx("button",{className:"ghost icon-btn small delete-btn",onClick:l=>{l.stopPropagation(),t(u.id)},children:v.jsx(Iu,{size:14})})]},u.id))})})]})}function vA({messages:r=[],onSendMessage:e,thinking:t=!1,appButtons:o=[],onAppButtonClick:a,onClearMessages:s}){const[u,l]=tt.useState(""),f=tt.useRef(null);tt.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[r,t]);const d=()=>{u.trim()&&(e(u),l(""))};return v.jsxs("div",{className:"panel-content",style:{height:"100%",display:"flex",flexDirection:"column"},children:[v.jsx("div",{className:"panel-header",style:{padding:"20px 24px",borderBottom:"1px solid var(--border-light)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[v.jsx(rb,{size:20,className:"text-primary"}),v.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600},children:Uo.t6})]})}),o.length>0&&v.jsxs("div",{className:"chat-app-actions",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:o.map(m=>v.jsx("button",{type:"button",className:"ghost chat-app-btn",onClick:()=>a==null?void 0:a(m),children:m.label},m.id))}),s&&v.jsxs("button",{type:"button",className:"ghost",onClick:s,title:"",style:{padding:"6px 12px",fontSize:"13px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[v.jsx(Iu,{size:14}),""]})]}),v.jsxs("div",{className:"chat-area scroll-y",ref:f,style:{flex:1,padding:"20px"},children:[r.length===0&&v.jsxs("div",{className:"empty-state",children:[v.jsx(vf,{size:48,opacity:.1}),v.jsxs("p",{children:[Uo.t7,v.jsx("br",{}),v.jsx("span",{className:"sub",children:Uo.t8})]}),v.jsxs("div",{className:"suggestions",children:[v.jsx("button",{className:"suggestion-pill",onClick:()=>e(Uo.t19),children:Uo.t9}),v.jsx("button",{className:"suggestion-pill",onClick:()=>e(Uo.t20),children:Uo.t10})]})]}),r.map((m,k)=>v.jsxs("div",{className:`message ${m.role}`,children:[v.jsx("div",{className:"avatar",children:m.role==="user"?v.jsx(Sb,{size:16}):v.jsx(J0,{size:16})}),v.jsxs("div",{className:"bubble",children:[m.content,m.citations&&m.citations.length>0&&v.jsx("div",{className:"citations",children:m.citations.map((b,g)=>v.jsx("span",{className:"citation-chip",children:b},g))})]}),m.role==="assistant"&&v.jsx("div",{className:"msg-actions",children:v.jsx("button",{className:"ghost icon-btn xsmall",title:Uo.t11,children:v.jsx(lb,{size:14})})})]},`${m.id||"msg"}_${k}`)),t&&v.jsxs("div",{className:"message assistant thinking",children:[v.jsx("div",{className:"avatar",children:v.jsx(J0,{size:16})}),v.jsxs("div",{className:"bubble",children:[v.jsx("span",{className:"dot",children:"."}),v.jsx("span",{className:"dot",children:"."}),v.jsx("span",{className:"dot",children:"."})]})]})]}),v.jsxs("div",{className:"input-area",style:{padding:"20px",borderTop:"1px solid var(--border-light)"},children:[v.jsxs("div",{className:"input-box",children:[v.jsx("textarea",{className:"chat-input",rows:1,placeholder:Uo.t12,value:u,onChange:m=>l(m.target.value),onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),d())}}),v.jsx("button",{className:`send-btn ${u.trim()?"active":""}`,onClick:d,disabled:!u.trim(),children:v.jsx(mb,{size:18})})]}),v.jsx("div",{className:"input-hint",children:Uo.t13})]})]})}function wA({notes:r=[],onAddNote:e,onDeleteNote:t}){return v.jsxs("div",{className:"panel-content",style:{height:"100%",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{className:"panel-header",style:{padding:"20px 24px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(vf,{className:"text-accent",size:20}),v.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600},children:"Studio"})]}),v.jsx("button",{className:"ghost icon-btn",onClick:e,title:Uo.t14,children:v.jsx(Xv,{size:20})})]}),v.jsx("div",{className:"scroll-y",style:{flex:1,padding:"0 16px 20px"},children:r.length===0?v.jsxs("div",{className:"empty-state",children:[v.jsx(yf,{size:48,opacity:.1}),v.jsxs("p",{children:[Uo.t15,v.jsx("br",{}),v.jsx("span",{className:"sub",children:Uo.t16})]})]}):v.jsx("div",{className:"notes-grid",children:r.map(o=>v.jsxs("div",{className:"note-card",children:[v.jsxs("div",{className:"note-header",children:[v.jsx("input",{className:"note-title-input",defaultValue:o.title,placeholder:Uo.t17}),v.jsx("button",{className:"ghost icon-btn xsmall",onClick:()=>t(o.id),children:v.jsx(Mu,{size:14})})]}),v.jsx("textarea",{className:"note-content-input",defaultValue:o.content,placeholder:Uo.t18})]},o.id))})})]})}const Eo={t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:"",t9:"",t10:"",t11:"",t12:"",t13:""},xA=[{id:"1",role:"assistant",content:""}],bA=[{id:"1",title:"",content:""}],Bv="__REPLAY_META__",_A=`
JSON
- summary: 
- detail: 
- edits: [{sectionId, field:'title'|'summary', content}]
JSON
`.trim(),Mv=r=>{const e=(r||"").toString(),t=e.indexOf(Bv);if(t==-1)return null;const o=e.slice(t+Bv.length).trim();try{const a=JSON.parse(o);return a&&typeof a=="object"?a:null}catch{return null}},wd=(r,e)=>r.find(t=>e.some(o=>t.startsWith(o))),xd=(r,e)=>{if(!r)return"";const t=e.find(o=>r.startsWith(o));return t?r.slice(t.length).replace(/^[:\uff1a]/,"").trim():r.trim()},SA=r=>{const t=(r||"").toString().split(/\r?\n/).map(l=>l.trim()).filter(Boolean),o=wd(t,["","",""]),a=wd(t,["","",""]),s=wd(t,["","","",""]),u=wd(t,["","",""]);return{inputLine:o,actionLine:a,summaryLine:s,locationLine:u}},G1="shared_scene_id",Vr=async(r,e={})=>{const t=await fetch(r,{headers:{"Content-Type":"application/json"},...e,body:e.body?JSON.stringify(e.body):void 0}),o=await t.text();if(!t.ok){let a=o;try{const s=JSON.parse(o);a=(s==null?void 0:s.error)||a}catch{}throw new Error(a||"")}return o?JSON.parse(o):{}},Yo=async()=>{var o;const r=localStorage.getItem(G1);if(r)try{const a=await Vr(`/api/scene/${r}`);if(a!=null&&a.scene)return a.scene}catch{console.warn("Cached scene not found, creating new one:",r),localStorage.removeItem(G1)}let e=[];try{const a=await fetch("/api/docs");if(a.ok){const s=await a.json();Array.isArray(s==null?void 0:s.docs)&&(e=s.docs.map(u=>u.id).filter(Boolean))}}catch(a){console.error("Failed to load docs for new scene",a)}const t=await Vr("/api/scene",{method:"POST",body:{docIds:e}});return(o=t==null?void 0:t.scene)!=null&&o.id&&localStorage.setItem(G1,t.scene.id),(t==null?void 0:t.scene)||null},kA=r=>r.toString().trim().toLowerCase().endsWith(".docx"),AA=async()=>{const r=await ku(()=>import("./mammoth.browser-BNU1FDIp.js").then(e=>e.m),[]);return(r==null?void 0:r.default)||r},NA=r=>{var l;const e=(r||"").toString();if(!e.trim())return"";let t;try{t=new DOMParser().parseFromString(e,"text/html")}catch{return e.replace(/<[^>]+>/g," ").replace(/\s+\n/g,`
`).trim()}const o=[],a=(f="")=>{const d=(f||"").toString().replace(/\s+/g," ").trim();d&&o.push(d)},s=()=>{o.length&&o[o.length-1]!==""&&o.push("")},u=(f,d=0)=>{if(!f||f.nodeType===3)return;const m=f;if(!m.tagName){Array.from(m.childNodes||[]).forEach(b=>u(b,d));return}const k=m.tagName.toUpperCase();if(/^H[1-6]$/.test(k)){const b=Math.max(1,Math.min(6,Number(k.slice(1))||1)),g=(m.textContent||"").toString().trim();g&&a(`${"#".repeat(b)} ${g}`),s();return}if(k==="P"){const b=(m.textContent||"").toString().trim();b&&a(b),s();return}if(k==="LI"){const b=(m.textContent||"").toString().trim();b&&a(`${"  ".repeat(Math.max(0,d))}- ${b}`);return}if(k==="UL"||k==="OL"){Array.from(m.children||[]).forEach(b=>u(b,d+1)),s();return}if(k==="BR"){s();return}Array.from(m.childNodes||[]).forEach(b=>u(b,d))};return Array.from(((l=t.body)==null?void 0:l.childNodes)||[]).forEach(f=>u(f,0)),o.join(`
`).replace(/\n{3,}/g,`

`).trim()},EA=r=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>e(o.result.toString()),o.onerror=t,o.readAsText(r,"utf-8")}),CA=async r=>{const e=await r.arrayBuffer(),o=await(await AA()).convertToHtml({arrayBuffer:e}),a=((o==null?void 0:o.value)||"").toString(),s=NA(a);return s.trim()?s:""},TA=r=>{const e=(r||"").toString().length;return e<1024?`${e}B`:e<1024*1024?`${(e/1024).toFixed(1)}KB`:`${(e/(1024*1024)).toFixed(1)}MB`},zv=[{id:"app_btn_daily_merge",label:"",groupIds:[]},{id:"app_btn_competitor_report",label:"",groupIds:[]},{id:"app_btn_custom_write",label:"",groupIds:[]}],Nr={SOURCES:"sources-panel",CHAT:"chat-panel",STUDIO:"studio-panel",HEADER:"header-panel"},bd={[Nr.SOURCES]:!0,[Nr.CHAT]:!0,[Nr.STUDIO]:!0},V1={[Nr.SOURCES]:{left:20,top:40,width:320,height:900},[Nr.CHAT]:{left:360,top:40,width:800,height:900},[Nr.STUDIO]:{left:1180,top:40,width:460,height:900}},LA={"doc-classify":Nr.SOURCES,"info-extract":Nr.CHAT,"cross-analysis":Nr.STUDIO};function jA({onSwitch:r}){var Po,qi,ao,Bn,Fr,fi,Xo,di;const[e,t]=tt.useState([]),[o,a]=tt.useState({}),[s,u]=tt.useState(xA),[l,f]=tt.useState(bA),[d,m]=tt.useState(!1),[k,b]=tt.useState(zv),[g,j]=tt.useState([]),N=e.map(Ie=>{const Ke=((Ie==null?void 0:Ie.name)||"").toString(),bt=Ke.includes(".")?Ke.split(".").pop().toUpperCase():"TXT";return{id:(Ie==null?void 0:Ie.id)||Ke,name:Ke||"",type:bt||"TXT",size:TA((Ie==null?void 0:Ie.content)||""),selected:!!o[Ie==null?void 0:Ie.id]}}),[O,x]=tt.useState(!1),[R,T]=tt.useState([]),[A,q]=tt.useState([]),ie=async()=>{try{const Ie=await fetch("/api/docs");if(!Ie.ok)throw new Error("load docs failed");const Ke=await Ie.json();if(Array.isArray(Ke==null?void 0:Ke.docs))return t(Ke.docs),Ke.docs}catch(Ie){console.error("Failed to load docs",Ie)}return null};tt.useEffect(()=>{ie(),fetch("/api/chat/cache").then(Ie=>Ie.ok?Ie.json():null).then(Ie=>{Ie!=null&&Ie.messages&&Array.isArray(Ie.messages)&&Ie.messages.length>0&&u(Ie.messages)}).catch(Ie=>console.log("",Ie))},[]),tt.useEffect(()=>{a(Ie=>{const Ke={};return e.forEach(bt=>{Ie[bt.id]&&(Ke[bt.id]=!0)}),Ke})},[e]),tt.useEffect(()=>{var Ie;s.length===1&&((Ie=s[0])==null?void 0:Ie.id)==="1"||fetch("/api/chat/cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:s})}).catch(Ke=>console.log("",Ke))},[s]),tt.useEffect(()=>{fetch("/api/multi/precipitation/records").then(Ie=>Ie.json()).then(Ie=>{Array.isArray(Ie)&&T(Ie.sort((Ke,bt)=>bt.createdAt-Ke.createdAt))}).catch(Ie=>console.error("Failed to load records",Ie))},[]),tt.useEffect(()=>{fetch("/api/multi/precipitation/groups").then(Ie=>Ie.ok?Ie.json():[]).then(Ie=>{Array.isArray(Ie)&&j(Ie)}).catch(Ie=>console.error("Failed to load deposit groups",Ie))},[]);const[oe,ne]=tt.useState(!1),[z,le]=tt.useState(""),re=Ie=>!Ie||!Array.isArray(Ie.buttons)?zv:Ie.buttons.map((Ke,bt)=>{if(!Ke||typeof Ke!="object")return null;const Qt=typeof Ke.id=="string"&&Ke.id.trim()?Ke.id.trim():`app_btn_${bt}`,cn=typeof Ke.label=="string"?Ke.label.trim():"";if(!cn)return null;const on=Array.isArray(Ke.groupIds)?Ke.groupIds.filter(Boolean):[];return{id:Qt,label:cn,groupIds:on}}).filter(Boolean),F=Ie=>{u(Ke=>[...Ke,{id:`msg_${Date.now()}`,role:"assistant",content:Ie}])},J=async(Ie,Ke,bt={})=>{var Mr,Qr,Er,Sr,Ai,Hn,$r,ei,vr,Ro,lo,co,Ki,Ni,tn,Ei,uo,$o,zr,Qn,fo,Cr,xo,ho,ha;const{precipitationMode:Qt="llm",structuredScript:cn=""}=bt,on=qn=>new Promise(qr=>setTimeout(qr,qn)),sn=[];let en=[];try{const qn=await fetch("/api/docs");if(qn.ok){const qr=await qn.json();Array.isArray(qr==null?void 0:qr.docs)&&(en=qr.docs,t(qr.docs))}}catch(qn){console.error("Replay: ",qn)}!en.length&&e.length&&(en=e);const Fn=async()=>{try{const qn=await fetch("/api/docs");if(qn.ok){const qr=await qn.json();if(Array.isArray(qr==null?void 0:qr.docs))return en=qr.docs,t(qr.docs),en}}catch(qn){console.error("Replay: ",qn)}return en},mr=async()=>en.length?en:Fn();let Br=null;try{Br=await Yo()}catch(qn){console.log("",qn)}for(let qn=0;qn<Ie.length;qn++){const qr=Ie[qn]||{},gr=qr.llmScript||null,dr=(qr.originalScript||qr).content||qr.content||"",Et=Mv(dr)||{},Kr=SA(dr),eo=(qr.action||(gr==null?void 0:gr.title)||Et.record||Et.type||`${qn+1}`).toString();let to=Qt==="llm"?"llm":"script",dn="";le(Qt==="llm"?`${Ke} [${qn+1}/${Ie.length}]   Replay: ${eo}`:`${Ke} [${qn+1}/${Ie.length}]   Replay: ${eo}`);const Jo=xd(Kr.inputLine,["","",""]);xd(Kr.actionLine,["","",""]);const Qs=xd(Kr.summaryLine,["","","",""]);xd(Kr.locationLine,["","",""]);const il=(Mr=Et==null?void 0:Et.outputs)!=null&&Mr.summary?String(Et.outputs.summary):"";let Ln="done",kn="";const Yr=((Et==null?void 0:Et.type)||"").toString(),Ss=()=>{var _t;return(Et.docName||Et.selectedDocName||(Array.isArray(Et.inputs)?(_t=Et.inputs.find(Vt=>Vt==null?void 0:Vt.docName))==null?void 0:_t.docName:"")||"").toString()};await mr();const ss=_t=>{if(!_t&&!Et.docId)return null;if(Et.docId){const Yt=en.find(Gn=>(Gn==null?void 0:Gn.id)===Et.docId);if(Yt)return Yt}const Vt=en.find(Yt=>(Yt==null?void 0:Yt.name)===_t);if(Vt)return Vt;const Ht=(_t||"").toLowerCase().trim(),tr=en.find(Yt=>((Yt==null?void 0:Yt.name)||"").toLowerCase().trim()===Ht);return tr||en.find(Yt=>{const Gn=((Yt==null?void 0:Yt.name)||"").toLowerCase().trim();return Gn.includes(Ht)||Ht.includes(Gn)})||null};if(Yr==="add_doc"||Yr.startsWith("add_doc")){const _t=Ss();await Fn();let Vt=ss(_t);if(!Vt&&en.length>0)try{const Ht=await Yo(),tr=new Set((Ht==null?void 0:Ht.docIds)||[]),yn=en.find(Yt=>!tr.has(Yt.id));yn&&(Vt=yn)}catch(Ht){console.error("",Ht)}if(!Vt)Ln="fail",kn=_t?`${_t}`:"";else try{const Ht=await Yo();if(!(Ht!=null&&Ht.id))throw new Error("scene ");const tr=Array.from(new Set([...Ht.docIds||[],Vt.id]));await Vr(`/api/scene/${Ht.id}`,{method:"PATCH",body:{docIds:tr}}),await Fn(),Ln="done",kn=`${Vt.name}`}catch(Ht){Ln="fail",kn=(Ht==null?void 0:Ht.message)||""}}else if(Yr==="delete_doc"||Yr==="remove_doc"||Yr.startsWith("delete_doc")||Yr.startsWith("remove_doc")){const _t=Ss(),Vt=ss(_t);if(!Vt)Ln="fail",kn=_t?`${_t}`:"";else try{await fetch(`/api/docs/${Vt.id}`,{method:"DELETE"}),await Fn(),Ln="done",kn=`${Vt.name}`}catch{Ln="fail",kn=""}}else if(Yr==="outline_extract"||Yr.startsWith("outline_extract")){const _t=Ss(),Vt=ss(_t);if(!Vt)Ln="fail",kn=_t?`${_t}`:"";else try{const Ht=await Yo();if(!(Ht!=null&&Ht.id))throw new Error("scene ");const tr=await Vr("/api/template/auto",{method:"POST",body:{text:Vt.content||"",prompt:(Et==null?void 0:Et.prompt)||""}});if(!((Er=(Qr=tr==null?void 0:tr.template)==null?void 0:Qr.sections)!=null&&Er.length))throw new Error("");await Vr(`/api/scene/${Ht.id}/apply-template`,{method:"POST",body:{template:tr.template}});try{await Vr("/api/outline/cache",{method:"POST",body:{template:tr.template}})}catch(yn){console.error("",yn)}try{const yn={id:`outline_${Date.now()}`,template:tr.template,timestamp:Date.now(),docName:(Vt==null?void 0:Vt.name)||_t||"",title:(Vt==null?void 0:Vt.name)||_t||""};await Vr("/api/multi/outlines",{method:"POST",body:yn})}catch(yn){console.error("",yn)}Ln="done",kn=`  Replay Done${tr.template.sections.length}`,to="llm"}catch(Ht){Ln="fail",kn=(Ht==null?void 0:Ht.message)||""}}else if(Yr==="insert_to_summary"||Yr.startsWith("insert_to_summary")){const _t=Array.isArray(Et.targetSectionIds)?Et.targetSectionIds:[],Vt=Array.isArray(Et.selectedSectionTitles)?Et.selectedSectionTitles:[],Ht=Array.isArray(Et==null?void 0:Et.inputs)?Et.inputs.find(yn=>(yn==null?void 0:yn.kind)==="selection"):null;let tr=((Ht==null?void 0:Ht.text)||(Ht==null?void 0:Ht.textExcerpt)||((Sr=Et==null?void 0:Et.outputs)==null?void 0:Sr.insertedExcerpt)||"").toString().trim();if(!tr&&(_t.length>0||Vt.length>0))try{const yn=await Yo();if(yn!=null&&yn.id){const Yt=await Vr(`/api/scene/${yn.id}`),Gn=((Ai=Yt==null?void 0:Yt.scene)==null?void 0:Ai.customTemplate)||((Hn=Yt==null?void 0:Yt.scene)==null?void 0:Hn.template);if(($r=Gn==null?void 0:Gn.sections)!=null&&$r.length){const Zn=Gn.sections.filter(Rn=>_t.includes(Rn.id)||Vt.some(vn=>{var zt;return((zt=Rn.title)==null?void 0:zt.includes(vn))||(vn==null?void 0:vn.includes(Rn.title))}));if(Zn.length>0){const Rn=Zn.map(vn=>vn.summary||vn.hint||"").filter(vn=>vn.trim()).join(`

`);Rn.trim()&&(tr=Rn,console.log("[insert_to_summary] :",tr.substring(0,100)))}}}}catch(yn){console.error("[insert_to_summary] :",yn)}if(!_t.length&&!Vt.length)Ln="fail",kn="";else if(!tr)Ln="fail",kn="";else try{const yn=(gr==null?void 0:gr.aiGuidance)||"",Yt=(gr==null?void 0:gr.specialRequirements)||"";let Gn=!1;if(Qt==="llm"){try{const hr=!!(yn||Yt)?`


${tr}


${yn||""}


${Yt||""}



- """"""
- ""
- ""


- 
- 
- 

`:`


${tr}


1. +" "
2. 
3. 
4. 


- 
- 
- 

`,wr=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:hr}],maxTokens:2e3})});if(wr.ok){const Xr=await wr.json();Xr!=null&&Xr.content?(tr=Xr.content.trim(),Gn=!0):dn=""}else{const Xr=await wr.text().catch(()=>"");dn=`API  (${wr.status}): ${Xr||""}`,console.error(" API :",dn)}}catch(Mn){dn=(Mn==null?void 0:Mn.message)||"",console.error(":",Mn)}!Gn&&dn&&addMessage("system",` ${dn}`)}const Zn=await Yo();if(!(Zn!=null&&Zn.id))throw new Error("scene ");const Rn=await Vr(`/api/scene/${Zn.id}`),vn=((ei=Rn==null?void 0:Rn.scene)==null?void 0:ei.customTemplate)||((vr=Rn==null?void 0:Rn.scene)==null?void 0:vr.template);if(!((Ro=vn==null?void 0:vn.sections)!=null&&Ro.length))throw new Error("");const zt=((lo=Et==null?void 0:Et.outputs)==null?void 0:lo.overwrite)!==!1,Ft=Mn=>!!(_t.includes(Mn.id)||Vt.some(hr=>{var wr;return Mn.title===hr||((wr=Mn.title)==null?void 0:wr.includes(hr))||(hr==null?void 0:hr.includes(Mn.title))})),nr={...vn,sections:(vn.sections||[]).map(Mn=>{if(!Ft(Mn))return Mn;const hr=(Mn.summary||"").toString(),wr=zt?tr:hr.trim()?`${hr}

${tr}`:tr;return{...Mn,summary:wr}})};await Vr(`/api/scene/${Zn.id}/apply-template`,{method:"POST",body:{template:nr}}),Ln="done",Qt==="llm"?Gn?(kn=`  Replay Done${_t.length}`,to="llm"):dn?(kn=`  Replay Done${dn}${_t.length}`,to="script"):(kn=`  Replay Done${_t.length}`,to="script"):(kn=`  Replay Done${_t.length}`,to="script")}catch(yn){Ln="fail",kn=(yn==null?void 0:yn.message)||""}}else if(Yr==="outline_clear"||Yr.startsWith("outline_clear"))try{const _t=await Yo();if(!(_t!=null&&_t.id))throw new Error("scene ");await Vr(`/api/scene/${_t.id}`,{method:"PATCH",body:{sectionDocLinks:{}}});const Vt={id:"template_empty",name:"",sections:[]};await Vr(`/api/scene/${_t.id}/apply-template`,{method:"POST",body:{template:Vt}});try{await Vr("/api/outline/cache",{method:"POST",body:{template:Vt}})}catch(Ht){console.error("",Ht)}Ln="done",kn="  Replay Done",to="script"}catch{Ln="fail",kn=""}else if(Yr==="restore_history_outline"||Yr.startsWith("restore_history_outline"))try{const _t=await Yo();if(!(_t!=null&&_t.id))throw new Error("scene ");const Vt=await Vr("/api/multi/outlines");let Ht=null;if(Array.isArray(Vt)&&Vt.length>0&&(Et.outlineId&&(Ht=Vt.find(yn=>yn.id===Et.outlineId)),!Ht&&Et.outlineTitle&&(Ht=Vt.find(yn=>(yn.title||yn.docName)===Et.outlineTitle)),Ht||(Ht=Vt[0])),!(Ht!=null&&Ht.template))throw new Error("");await Vr(`/api/scene/${_t.id}/apply-template`,{method:"POST",body:{template:Ht.template}});try{await Vr("/api/outline/cache",{method:"POST",body:{template:Ht.template}})}catch(yn){console.error("",yn)}Ln="done",kn=`  Replay Done${Ht.title||Ht.docName||""}`,to="script"}catch(_t){Ln="fail",kn=(_t==null?void 0:_t.message)||""}else if(Yr==="dispatch"||Yr.startsWith("dispatch")||Yr==="execute_instruction")try{const _t=await Yo();if(!(_t!=null&&_t.id))throw new Error("scene ");let Vt=(Et==null?void 0:Et.instructions)||(Et==null?void 0:Et.promptContent)||"";if(!Vt){const zt=((qr==null?void 0:qr.content)||"").toString(),Ft=/Prompt([^\n]+)/.exec(zt),nr=/([^\n]+)/.exec(zt);Vt=((Ft==null?void 0:Ft[1])||(nr==null?void 0:nr[1])||"").trim()}if(!Vt)throw new Error("");const Ht=(gr==null?void 0:gr.aiGuidance)||"",tr=(gr==null?void 0:gr.specialRequirements)||"";Qt==="llm"&&(Ht||tr)&&(Vt=`${Vt}


${Ht||""}


${tr||""}`);const yn=(Et==null?void 0:Et.prompt)||_A,Yt=((Et==null?void 0:Et.inputKind)||"").toString();let Gn="",Zn=[];if(Yt==="result"&&Array.isArray(Et==null?void 0:Et.historyInputs)&&Et.historyInputs.length)Gn=Et.historyInputs.map((zt,Ft)=>`${Ft+1}${(zt==null?void 0:zt.key)||""}
${(zt==null?void 0:zt.text)||""}`).join(`

`);else if(Yt.startsWith("outline_")){const zt=await Vr(`/api/scene/${_t.id}`),Ft=((co=zt==null?void 0:zt.scene)==null?void 0:co.customTemplate)||((Ki=zt==null?void 0:zt.scene)==null?void 0:Ki.template),nr=Array.isArray(Et==null?void 0:Et.selectedSectionIds)?Et.selectedSectionIds:[],Mn=Array.isArray(Et==null?void 0:Et.selectedSectionTitles)?Et.selectedSectionTitles:[],hr=Array.isArray(Et==null?void 0:Et.targetSectionsDetail)?Et.targetSectionsDetail:[],wr=Array.isArray(gr==null?void 0:gr.targetSectionsDetail)?gr.targetSectionsDetail:[],Xr=(Ft==null?void 0:Ft.sections)||[];let no=[];const I=hr.length>0?hr:wr;if(I.length>0&&(no=I.map(se=>{let je=Xr.find(Be=>Be.title===se.title);return!je&&se.id&&(je=Xr.find(Be=>Be.id===se.id)),je}).filter(Boolean)),no.length===0&&Mn.length>0&&(no=Mn.map(se=>Xr.find(je=>je.title===se)).filter(Boolean)),no.length===0&&nr.length>0&&(no=Xr.filter(se=>nr.includes(se.id))),no.length===0&&(gr!=null&&gr.targetTitle)){const se=Xr.find(je=>{var Be,Ve;return((Be=je.title)==null?void 0:Be.includes(gr.targetTitle))||((Ve=gr.targetTitle)==null?void 0:Ve.includes(je.title))});se&&(no=[se])}if(no.length===0)throw new Error("");Zn=no.map((se,je)=>({sectionId:se.id,field:"summary",content:Yt==="outline_selected_batch"?`${se.title}
${se.summary||se.hint||"()"}`:se.summary||se.hint||se.title||"()",label:`${je+1}`})),Gn=Zn.map(se=>`${se.label} | ID=${se.sectionId}
${se.content}`).join(`

`)}else{const zt=Array.isArray(Et==null?void 0:Et.inputs)?Et.inputs.filter(Ft=>(Ft==null?void 0:Ft.kind)==="doc_resource"||(Ft==null?void 0:Ft.kind)==="doc"):[];if(zt.length>0){const Ft=zt.map(Mn=>(Mn==null?void 0:Mn.docName)||"").filter(Boolean);Gn=en.filter(Mn=>Ft.some(hr=>{var wr;return Mn.name===hr||((wr=Mn.name)==null?void 0:wr.includes(hr))})).map(Mn=>Mn.content||"").join(`

`)}else en.length>0&&(Gn=en.map(Ft=>`${Ft.name}
${Ft.content||""}`).join(`

`))}const Rn=await Vr("/api/dispatch",{method:"POST",body:{sceneId:_t.id,instructions:Vt,docContent:Gn,outlineSegments:Zn.length>0?Zn:void 0,systemPrompt:yn}});if(!((Rn==null?void 0:Rn.usedModel)!==!1))Ln="fail",kn=" QWEN_API_KEY Replay",dn=" QWEN_API_KEY";else{const zt=((Rn==null?void 0:Rn.detail)||"").toString().trim(),Ft=Array.isArray(Rn==null?void 0:Rn.edits)?Rn.edits:[],nr=(Rn==null?void 0:Rn.summary)||zt.substring(0,100)||"";if(Ln="done",kn=`  Replay Done${nr}`,to="llm",Ft.length>0||zt){const Mn=await Vr(`/api/scene/${_t.id}`),hr=((Ni=Mn==null?void 0:Mn.scene)==null?void 0:Ni.customTemplate)||((tn=Mn==null?void 0:Mn.scene)==null?void 0:tn.template);if(hr!=null&&hr.sections){const wr=Zn.map(je=>je.sectionId),Xr=je=>{if(!je)return null;const Be=String(je).trim(),Ve=Be.match(/ID\s*=\s*(.+)/i);if(Ve)return Ve[1].trim();const ft=Be.match(/\d+\s*[:]\s*(.+)/);if(ft)return ft[1].trim();if(/^\d+$/.test(Be)){const rn=parseInt(Be,10)-1;if(rn>=0&&rn<wr.length)return wr[rn]}const St=Be.match(/(\d+)/);if(St){const rn=parseInt(St[1],10)-1;if(rn>=0&&rn<wr.length)return wr[rn]}return Be},no=Array.isArray(Et==null?void 0:Et.selectedSectionIds)?Et.selectedSectionIds:[],I=no.length>0?no:wr,se={...hr,sections:hr.sections.map(je=>{const Be=Ft.find(ft=>Xr(ft.sectionId)===je.id||ft.sectionId===je.id),Ve={...je,title:(Be==null?void 0:Be.field)==="title"&&Be.content?Be.content:je.title,summary:(Be==null?void 0:Be.field)==="summary"&&Be.content?Be.content:je.summary};return zt&&I.includes(je.id)?{...Ve,summary:zt}:Ve})};await Vr(`/api/scene/${_t.id}/apply-template`,{method:"POST",body:{template:se}}),console.log("[dispatch replay] :",{editsCount:Ft.length,detail:zt==null?void 0:zt.substring(0,50),targetIds:I})}}}}catch(_t){Ln="fail",kn=(_t==null?void 0:_t.message)||""}else if(Yr==="add_outline_section"||Yr.startsWith("add_outline_section"))try{const _t=await Yo();if(!(_t!=null&&_t.id))throw new Error("scene ");const Vt=await Vr(`/api/scene/${_t.id}`),Ht=((Ei=Vt==null?void 0:Vt.scene)==null?void 0:Ei.customTemplate)||((uo=Vt==null?void 0:Vt.scene)==null?void 0:uo.template);if(!(Ht!=null&&Ht.sections))throw new Error("");const tr=Et==null?void 0:Et.afterSection,yn=(tr==null?void 0:tr.title)||"";let Yt=Ht.sections.length;if(yn){const vn=Ht.sections.findIndex(zt=>{var Ft;return zt.title===yn||((Ft=zt.title)==null?void 0:Ft.includes(yn))});vn!==-1&&(Yt=vn+1)}const Gn={id:`sec_replay_${Date.now()}_${Math.floor(Math.random()*1e3)}`,title:(($o=Et==null?void 0:Et.newSection)==null?void 0:$o.title)||"",summary:((zr=Et==null?void 0:Et.newSection)==null?void 0:zr.summary)||"",hint:((Qn=Et==null?void 0:Et.newSection)==null?void 0:Qn.hint)||"",level:((fo=Et==null?void 0:Et.newSection)==null?void 0:fo.level)||1},Zn=[...Ht.sections.slice(0,Yt),Gn,...Ht.sections.slice(Yt)],Rn={...Ht,sections:Zn};await Vr(`/api/scene/${_t.id}/apply-template`,{method:"POST",body:{template:Rn}}),Ln="done",kn=`  Replay Done${yn||""}${Gn.title}`,to="script"}catch(_t){Ln="fail",kn=(_t==null?void 0:_t.message)||""}else if(Yr==="delete_outline_section"||Yr.startsWith("delete_outline_section"))try{const _t=await Yo();if(!(_t!=null&&_t.id))throw new Error("scene ");const Vt=await Vr(`/api/scene/${_t.id}`),Ht=((Cr=Vt==null?void 0:Vt.scene)==null?void 0:Cr.customTemplate)||((xo=Vt==null?void 0:Vt.scene)==null?void 0:xo.template);if(!(Ht!=null&&Ht.sections))throw new Error("");const tr=Et==null?void 0:Et.targetSection,yn=(tr==null?void 0:tr.title)||"";if(!yn)throw new Error("");const Yt=Ht.sections.findIndex(zt=>{var Ft;return zt.title===yn||((Ft=zt.title)==null?void 0:Ft.includes(yn))});if(Yt===-1)throw new Error(`${yn}`);const Gn=Ht.sections[Yt].level||1,Zn=[Ht.sections[Yt].id];for(let zt=Yt+1;zt<Ht.sections.length&&!((Ht.sections[zt].level||1)<=Gn);zt++)Zn.push(Ht.sections[zt].id);const Rn=Ht.sections.filter(zt=>!Zn.includes(zt.id)),vn={...Ht,sections:Rn};await Vr(`/api/scene/${_t.id}/apply-template`,{method:"POST",body:{template:vn}}),Ln="done",kn=`  Replay Done${yn}${Zn.length}`,to="script"}catch(_t){Ln="fail",kn=(_t==null?void 0:_t.message)||""}else Yr?(Ln="fail",kn=`${Yr}`):(Ln="fail",kn="");if(Ln==="fail")try{le(`${Ke} [${qn+1}/${Ie.length}] AI ...`);const _t=await Vr("/api/multi/outlines").catch(()=>[]),Vt=await Yo().catch(()=>null),Ht=(Vt==null?void 0:Vt.customTemplate)||(Vt==null?void 0:Vt.template),tr={docs:en.map(Yt=>({id:Yt.id,name:Yt.name})),outlineSectionsCount:((ho=Ht==null?void 0:Ht.sections)==null?void 0:ho.length)||0,outlineHistoryCount:Array.isArray(_t)?_t.length:0,outlineHistory:Array.isArray(_t)?_t.slice(0,5).map(Yt=>({id:Yt.id,title:Yt.title||Yt.docName})):[]},yn=await fetch("/api/ai/replay-analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({section:qr,context:tr})});if(yn.ok){const Yt=await yn.json();if(Yt.understood&&!Yt.fallbackToScript&&Yt.confidence>=.5){console.log("AI Replay :",Yt);const Gn=Yt.action,Zn=Yt.params||{};let Rn="done",vn=Yt.reason||"";try{if(Gn==="add_doc"||Gn==="upload_doc"){await Fn();let zt=null;if(Zn.docName&&(zt=en.find(Ft=>Ft.name===Zn.docName)||en.find(Ft=>Ft.name.toLowerCase().includes(Zn.docName.toLowerCase()))),!zt&&Zn.docId&&(zt=en.find(Ft=>Ft.id===Zn.docId)),!zt&&en.length>0&&(zt=en[0]),zt){const Ft=await Yo();if(Ft!=null&&Ft.id){const nr=Array.from(new Set([...Ft.docIds||[],zt.id]));await Vr(`/api/scene/${Ft.id}`,{method:"PATCH",body:{docIds:nr}}),vn=`AI ${zt.name}`}}else Rn="fail",vn="AI: "}else if(Gn==="outline_extract"){let zt=null;if(Zn.docName&&(zt=en.find(Ft=>Ft.name===Zn.docName)||en.find(Ft=>Ft.name.toLowerCase().includes(Zn.docName.toLowerCase()))),!zt&&en.length>0&&(zt=en[0]),zt){const Ft=await Yo();if(Ft!=null&&Ft.id){const nr=await Vr("/api/template/auto",{method:"POST",body:{text:zt.content||""}});nr!=null&&nr.template&&(await Vr(`/api/scene/${Ft.id}/apply-template`,{method:"POST",body:{template:nr.template}}),await Vr("/api/outline/cache",{method:"POST",body:{template:nr.template}}),vn=`AI  ${zt.name} `)}}else Rn="fail",vn="AI: "}else if(Gn==="restore_history_outline"||Gn==="apply_outline"){const zt=Array.isArray(_t)?_t:[];let Ft=null;if(Zn.outlineId&&(Ft=zt.find(nr=>nr.id===Zn.outlineId)),!Ft&&Zn.outlineTitle&&(Ft=zt.find(nr=>(nr.title||nr.docName||"").includes(Zn.outlineTitle))),!Ft&&zt.length>0&&(Ft=zt[0]),Ft!=null&&Ft.template){const nr=await Yo();nr!=null&&nr.id&&(await Vr(`/api/scene/${nr.id}/apply-template`,{method:"POST",body:{template:Ft.template}}),await Vr("/api/outline/cache",{method:"POST",body:{template:Ft.template}}),vn=`AI ${Ft.title||Ft.docName||""}`)}else Rn="fail",vn="AI: "}else if(Gn==="outline_clear"){const zt=await Yo();if(zt!=null&&zt.id){const Ft={id:"template_empty",name:"",sections:[]};await Vr(`/api/scene/${zt.id}/apply-template`,{method:"POST",body:{template:Ft}}),await Vr("/api/outline/cache",{method:"POST",body:{template:Ft}}),vn="AI "}}else if(Gn==="insert_to_summary"||Gn==="fill_summary"){const zt=await Yo(),Ft=(zt==null?void 0:zt.customTemplate)||(zt==null?void 0:zt.template);if(((ha=Ft==null?void 0:Ft.sections)==null?void 0:ha.length)>0){let nr=Zn.targetSectionIds||[];if(!nr.length&&Zn.targetSectionTitle){const Mn=Ft.sections.find(hr=>(hr.title||"").includes(Zn.targetSectionTitle));Mn&&(nr=[Mn.id])}if(!nr.length&&Ft.sections.length>0&&(nr=[Ft.sections[0].id]),nr.length>0&&Zn.content){const Mn={...Ft,sections:Ft.sections.map(hr=>nr.includes(hr.id)?{...hr,summary:Zn.content}:hr)};await Vr(`/api/scene/${zt.id}/apply-template`,{method:"POST",body:{template:Mn}}),vn="AI "}else Rn="fail",vn="AI: "}else Rn="fail",vn="AI: "}else if(Gn==="dispatch")if(Zn.instruction&&en.length>0){const zt=await Promise.all(en.slice(0,3).map(async Ft=>({name:Ft.name,content:Ft.content||""})));await Vr("/api/dispatch",{method:"POST",body:{instruction:Zn.instruction,documents:zt}}),vn="AI "}else Rn="fail",vn="AI: ";else Rn="fail",vn=`AI:  ${Gn}`}catch(zt){Rn="fail",vn=`AI : ${zt.message}`}Rn==="done"?(Ln="done",kn=` ${vn}`):kn=`${kn}
 AI : ${vn}`}else Yt.usedModel&&(kn=`${kn}
 AI : ${Yt.reason||""}`)}}catch(_t){console.log("AI ",_t),kn=`${kn}
 AI `}let Ms=Ln,Do="script",Cn=kn;Qt==="llm"&&gr&&Ln==="fail"?(Ms="skipped",Cn=`  Replay ${dn||""}
  Replay ${kn}`,F(` ** ${qn+1}**  Replay 
 ${kn}
 `)):Qt==="llm"&&!gr&&Ln==="fail"?(Cn=`  Replay ${kn}`,F(` ** ${qn+1}** 
 ${kn}`)):Ln==="done"?(Ms="script_done",dn?(Cn=`  Replay ${kn}`,F(` ** ${qn+1}**  Replay 
 ${kn}`)):Qt==="llm"?(Cn=` ${kn}`,F(` ** ${qn+1}** ${kn}`)):Cn=` ${kn}`):Ln==="fail"&&(Cn=`  Replay ${kn}`,F(` ** ${qn+1}**  Replay 
 ${kn}`)),sn.push({step:qn+1,action:eo,status:Ms==="skipped"?"skipped":Ln,reason:Cn,replayMode:Do,replayStatus:Ms,llmFailReason:dn||null,meta:{type:Yr,docName:Ss(),inputText:Jo,summaryText:Qs||il,llmAttempted:Qt==="llm"&&!!gr,scriptFallback:Qt==="llm"&&gr&&Ln!=="done"}}),le(`${Ke} [${qn+1}/${Ie.length}] ${eo}`),await on(100)}const _r=sn.filter(qn=>qn.status==="done").length,Jn=sn.filter(qn=>qn.status==="fail").length,hi=sn.filter(qn=>qn.status==="skipped").length,ii=sn.filter(qn=>qn.replayStatus==="llm_done").length,ur=sn.filter(qn=>qn.replayStatus==="script_done").length,Pn=ii>ur?"llm":"script";return{total:Ie.length,done:_r,fail:Jn,skipped:hi,llmDone:ii,scriptDone:ur,results:sn,overallStatus:_r===Ie.length?"done":_r>0||hi>0?"partial_done":"fail",aiExecuted:ii>0,replayMode:Pn}},P=async Ie=>{const Ke=Array.isArray(Ie.groupIds)?Ie.groupIds.filter(Boolean):[];if(!Ke.length){F(`"${Ie.label}" 

""`);return}F(`"${Ie.label}"... `),ne(!0),le(`: ${Ie.label}`);const bt={buttonLabel:Ie.label,groupNames:[],groupDetails:[],loadedDocs:[],successSteps:[],failedSteps:[],totalSteps:0,completedSteps:0};try{let Qt=[];try{const Qr=(await(await fetch("/api/multi/replay/config")).json().catch(()=>({}))).dirPath;if(Qr){console.log("[Replay] :",Qr);const Er=await fetch("/api/multi/replay/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupIds:Ke,buttonLabel:Ie.label})});if(Er.ok){const Sr=await Er.json();if(console.log("[Replay] :",Sr),Array.isArray(Sr.docsLoaded)&&Sr.docsLoaded.length>0){const Ai=[];for(const Hn of Sr.docsLoaded)try{const $r=await fetch("/api/docs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Hn.name,content:Hn.content})});if($r.ok){const{doc:ei,overwritten:vr}=await $r.json();if(ei){Ai.push(ei),Qt.push(ei),bt.loadedDocs.push(ei.name);const Ro=vr?"":"";bt.successSteps.push({type:"",name:`${Ro}${ei.name}`,status:"success"}),console.log(`[Replay] ${Ro}:`,ei.name,ei.id)}}else console.error("[Replay] :",Hn.name,await $r.text()),bt.failedSteps.push({type:"",name:Hn.name,status:"fail",reason:""})}catch($r){console.error("[Replay] :",Hn.name,$r),bt.failedSteps.push({type:"",name:Hn.name,status:"fail",reason:$r.message})}if(Ai.length>0){t($r=>{const ei=new Map($r.map(vr=>[vr.id,vr]));return Ai.forEach(vr=>ei.set(vr.id,vr)),Array.from(ei.values())});const Hn=await Yo();if(Hn!=null&&Hn.id){const $r=Array.from(new Set([...Ai.map(ei=>ei.id),...Hn.docIds||[]]));await Vr(`/api/scene/${Hn.id}`,{method:"PATCH",body:{docIds:$r}}),console.log("[Replay] :",$r.length,"")}}}}else console.error("[Replay] :",Er.status,await Er.text())}else console.log("[Replay] ")}catch(Pn){console.error("[Replay] :",Pn)}Qt.length>0&&F(`  ${Qt.length} 
${Qt.map(Pn=>`   ${Pn.name}`).join(`
`)}`);const on=await(await fetch("/api/multi/precipitation/records")).json().catch(()=>[]),sn=Array.isArray(on)?on:Array.isArray(on==null?void 0:on.records)?on.records:[],Fn=await(await fetch("/api/multi/precipitation/groups")).json().catch(()=>[]),Br=(Array.isArray(Fn)?Fn:Array.isArray(Fn==null?void 0:Fn.groups)?Fn.groups:[]).filter(Pn=>Ke.includes(Pn.id));if(Br.length===0){F(" ");return}let _r=0,Jn=0;for(const Pn of Br){const Mr=Pn.depositIds||Pn.recordIds||[],Qr=sn.filter(Er=>Mr.includes(Er.id));_r+=Qr.length,Jn+=Qr.reduce((Er,Sr)=>{var Ai;return Er+(((Ai=Sr.sections)==null?void 0:Ai.length)||0)},0)}bt.totalSteps=Jn;const hi=Br.map(Pn=>`${Pn.name||""}`).join("");F(` **${Ie.label}**

${hi}
 ${_r} ${Jn} 

---`);let ii=0;for(const Pn of Br){ii++;const Mr=Pn.name||"",Qr=Pn.depositIds||Pn.recordIds||[],Er=sn.filter(Hn=>Qr.includes(Hn.id));bt.groupNames.push(Mr),F(`
 ** ${ii}/${Br.length}${Mr}**${Er.length} `),le(`: ${Mr}`);const Sr={name:Mr,recordCount:Er.length,records:[]};let Ai=0;for(const Hn of Er){Ai++;const $r=Hn.name||Hn.title||"",ei=Array.isArray(Hn.sections)?Hn.sections:[],vr=Hn.precipitationMode||"llm",Ro=Hn.structuredScript||"",lo=vr==="llm"?"":"",co=vr==="llm"?"Replay":"Replay";le(`${Mr} > ${$r} [${Ai}/${Er.length}]`);const Ki=await J(ei,$r,{precipitationMode:vr,structuredScript:Ro});let Ni=`
  ${lo} ** ${Ai}${$r}** (${co})
`;const tn={title:$r,sectionCount:ei.length,mode:vr,results:[]};if(Ki){bt.completedSteps+=Ki.done;const Ei=Ki.replayMode||"script",uo=Ki.results.filter(Qn=>Qn.status==="done").length,$o=Ki.results.filter(Qn=>Qn.status==="fail").length,zr=Ki.results.filter(Qn=>Qn.status==="skipped").length;$o===0&&zr===0?Ni+=`      ${uo}/${ei.length} 
`:uo>0?Ni+=`      ${uo} ${$o} ${zr}
`:Ni+=`      ${$o+zr}/${ei.length} 
`,Ki.results.filter(Qn=>Qn.status==="done").forEach(Qn=>{bt.successSteps.push({type:Qn.action,record:$r,group:Mr,status:"success",detail:Qn.reason,replayMode:Qn.replayMode||Ei,replayStatus:Qn.replayStatus||(Qn.replayMode==="llm"?"llm_done":"script_done")}),tn.results.push({action:Qn.action,status:"done",reason:Qn.reason})}),Ki.results.filter(Qn=>Qn.status==="fail"||Qn.status==="skipped").forEach(Qn=>{const fo=Qn.status==="skipped"?"":"";Ni+=`     ${fo} ${Qn.action}: ${Qn.reason}
`,bt.failedSteps.push({type:Qn.action,record:$r,group:Mr,status:Qn.status==="skipped"?"skipped":vr==="llm"?"partial_fail":"fail",reason:Qn.reason,replayMode:Qn.replayMode||Ei,replayStatus:Qn.replayStatus||Qn.status}),tn.results.push({action:Qn.action,status:Qn.status,reason:Qn.reason})})}else Ni+=`      ${ei.length} 
`,bt.completedSteps+=ei.length,ei.forEach(Ei=>{const uo=Mv(Ei.content||"")||{};bt.successSteps.push({type:Ei.action||uo.type||"",record:$r,group:Mr,status:"success",replayMode:"script",replayStatus:"script_done"}),tn.results.push({action:Ei.action,status:"done"})});Sr.records.push(tn),F(Ni)}bt.groupDetails.push(Sr)}const ur=be(bt,Ie.label);F(ur);try{const Pn=await fetch("/api/docs");if(Pn.ok){const Mr=await Pn.json();Array.isArray(Mr==null?void 0:Mr.docs)&&t(Mr.docs)}}catch(Pn){console.error("",Pn)}try{const Pn=await Yo();(Pn!=null&&Pn.customTemplate||Pn!=null&&Pn.template)&&await fetch("/api/outline/cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:Pn.customTemplate||Pn.template})})}catch(Pn){console.error("",Pn)}}catch(Qt){console.error("Replay :",Qt),F(`
 ****

${Ie.label}${Qt.message||""}

 `)}finally{ne(!1),le("")}},be=(Ie,Ke)=>{const{groupNames:bt,groupDetails:Qt,loadedDocs:cn,successSteps:on,failedSteps:sn,totalSteps:en}=Ie,Fn=[];Fn.push(`
---`),Fn.push(`
 **${Ke}**
`);const mr=on.length,Br=sn.length,_r=sn.filter(ur=>ur.status==="skipped").length,Jn=Br-_r;let hi,ii;return Br===0?(hi="",ii=""):mr>0?(hi="",ii=""):(hi="",ii=""),Fn.push(`**${hi} ${ii}**
`),Fn.push(` ${bt.length} ${bt.join("")}`),Fn.push(` ${cn.length} `),Fn.push(` ${en} `),Fn.push(`   -  ${mr} `),Jn>0&&Fn.push(`   -  ${Jn} `),_r>0&&Fn.push(`   -  ${_r} `),Qt.length>0&&(Fn.push(`
****`),Qt.forEach((ur,Pn)=>{const Mr=ur.records.reduce((Sr,Ai)=>Sr+Ai.results.filter(Hn=>Hn.status==="done").length,0),Qr=ur.records.reduce((Sr,Ai)=>Sr+Ai.results.length,0),Er=Mr===Qr?"":Mr>0?"":"";Fn.push(`  ${Pn+1}. ${ur.name}${Er} ${Mr}/${Qr} `)})),Br>0&&(Fn.push(`
** **`),[...new Set(sn.map(ur=>ur.type))],sn.some(ur=>{var Pn;return(Pn=ur.reason)==null?void 0:Pn.includes("")})&&Fn.push("  - "),sn.some(ur=>{var Pn;return((Pn=ur.reason)==null?void 0:Pn.includes(""))||ur.replayMode==="llm"})&&Fn.push("  - Replay"),Fn.push('  - ""')),Br===0?Fn.push(`
 `):mr>0&&Fn.push(`
 `),Fn.join(`
`)},[Ee,pe]=tt.useState(!1),[xe,Se]=tt.useState(!1),[De,X]=tt.useState({width:1680,height:1050}),[E,Y]=tt.useState(()=>{try{const Ie=localStorage.getItem("multidoc_header_titles");if(Ie)return JSON.parse(Ie)}catch{}return{title:{text:"",style:{fontSize:"24px",fontWeight:400,color:"#202124",textAlign:"left"},position:{left:0,top:0},width:300,height:40},eyebrow:{text:"KNOWLEDGE STUDIO",style:{fontSize:"11px",letterSpacing:"1px",color:"#5f6368",textTransform:"uppercase",textAlign:"left"},position:{left:0,top:0},width:200,height:30}}}),[Q,me]=tt.useState(null),[ae,B]=tt.useState(null),[M,de]=tt.useState(null);tt.useEffect(()=>{E&&localStorage.setItem("multidoc_header_titles",JSON.stringify(E))},[E]),tt.useEffect(()=>{Se(!!Ee)},[Ee]);const[ce,te]=tt.useState(V1),[fe,Oe]=tt.useState({[Nr.SOURCES]:"",[Nr.CHAT]:"",[Nr.STUDIO]:"Studio"}),[W,ee]=tt.useState(bd),[V,S]=tt.useState({}),[C,U]=tt.useState(null),[we,Le]=tt.useState(null),Ce=Ie=>{const Ke={...bd};return Ie&&typeof Ie=="object"&&Object.keys(Ke).forEach(bt=>{Ke[bt]=Ie[bt]!==!1}),Ke},He=Ie=>{const Ke={...V1};if(!Ie||typeof Ie!="object")return Ke;const bt=(cn,on)=>{if(!on||typeof on!="object")return;const sn=Number(on.left),en=Number(on.top),Fn=Number(on.width),mr=Number(on.height);!Number.isFinite(sn)||!Number.isFinite(en)||!Number.isFinite(Fn)||!Number.isFinite(mr)||Fn<=0||mr<=0||(Ke[cn]={left:sn,top:en,width:Fn,height:mr})};let Qt=!1;return Object.entries(LA).forEach(([cn,on])=>{Ie[cn]&&(Qt=!0,bt(on,Ie[cn]))}),Qt||Object.values(Nr).forEach(cn=>{Ie[cn]&&bt(cn,Ie[cn])}),Ke},at=Ie=>{ee(Ke=>({...Ke,[Ie]:!1}))},Je=Ie=>{ee(Ke=>({...Ke,[Ie]:!0}))};tt.useEffect(()=>{fetch("/api/multi/buttons").then(Ie=>Ie.ok?Ie.json():{}).then(Ie=>S(Ie)).catch(Ie=>console.error("Failed to load buttons:",Ie)),fetch("/api/multi/app-buttons").then(Ie=>Ie.ok?Ie.json():null).then(Ie=>{const Ke=re(Ie);Ke.length&&b(Ke)}).catch(Ie=>console.error("Failed to load app buttons:",Ie)),fetch("/api/multi/layout").then(Ie=>Ie.ok?Ie.json():null).then(Ie=>{Ie&&(Ie.layoutSize&&X(Ie.layoutSize),Ie.panelPositions?te(He(Ie.panelPositions)):Ie["doc-classify"]&&te(He(Ie)),Ie.panelTitles&&Oe(Ie.panelTitles),Ie.panelVisibility&&ee(Ce(Ie.panelVisibility)))}).catch(Ie=>console.error("Failed to load layout from server:",Ie));try{const Ie=localStorage.getItem("multidoc_layout_config");if(Ie){const Ke=JSON.parse(Ie);Ke.layoutSize&&X(Ke.layoutSize),Ke.panelPositions&&te(He(Ke.panelPositions)),Ke.panelTitles&&Oe(Ke.panelTitles),Ke.panelVisibility&&ee(Ce(Ke.panelVisibility))}}catch(Ie){console.error("Failed to load layout:",Ie)}fetch("/api/multi/panels").then(Ie=>Ie.ok?Ie.json():null).then(Ie=>{Ie&&ee(Ce(Ie))}).catch(Ie=>console.error("Failed to load panel visibility:",Ie))},[]);const ht=async()=>{try{await fetch("/api/multi/buttons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});const Ie={layoutSize:De,panelPositions:ce,panelTitles:fe,panelVisibility:W};localStorage.setItem("multidoc_layout_config",JSON.stringify(Ie)),await fetch("/api/multi/layout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie)}),await fetch("/api/multi/panels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})}catch(Ie){console.error("Failed to save configuration:",Ie),alert("")}},Ct=()=>{Ee?$t():(Le({buttons:JSON.parse(JSON.stringify(V)),panels:JSON.parse(JSON.stringify(ce)),titles:JSON.parse(JSON.stringify(fe)),visibility:JSON.parse(JSON.stringify(W)),size:{...De}}),pe(!0))},$t=async()=>{await ht(),pe(!1),U(null),Le(null)},Jt=()=>{we&&(S(we.buttons),te(we.panels),Oe(we.titles),we.visibility&&ee(Ce(we.visibility)),X(we.size)),pe(!1),U(null),Le(null)},Zt=async()=>{if(confirm(""))try{const Ie=localStorage.getItem("multidoc_layout_config"),Ke=localStorage.getItem("multidoc_header_titles");if(Ie){const bt=JSON.parse(Ie);bt.layoutSize&&X(bt.layoutSize),bt.panelPositions&&te(He(bt.panelPositions)),bt.panelTitles&&Oe(bt.panelTitles),bt.panelVisibility&&ee(Ce(bt.panelVisibility));const Qt=await fetch("/api/multi/buttons");if(Qt.ok){const cn=await Qt.json();S(cn)}Ke&&Y(JSON.parse(Ke))}else{const bt=await fetch("/api/multi/buttons/reset",{method:"POST"});if(bt.ok){const Qt=await bt.json();S(Qt)}localStorage.removeItem("multidoc_layout_config"),te(V1),Oe({[Nr.SOURCES]:"",[Nr.CHAT]:"",[Nr.STUDIO]:"Studio"}),ee(bd),Y({title:{text:"",style:{fontSize:"24px",fontWeight:400,color:"#202124",textAlign:"left"},position:{left:0,top:0},width:300,height:40},eyebrow:{text:"KNOWLEDGE STUDIO",style:{fontSize:"11px",letterSpacing:"1px",color:"#5f6368",textTransform:"uppercase",textAlign:"left"},position:{left:0,top:0},width:200,height:30}}),localStorage.removeItem("multidoc_header_titles"),X({width:1680,height:1050})}U(null),pe(!1),Le(null)}catch(Ie){console.error("Reset failed",Ie),alert("")}},Gt=(Ie,Ke)=>{if(!Ee)return;Ie.preventDefault(),Ie.stopPropagation();const bt=Ie.clientX,Qt=Ie.clientY,cn=E[Ke].position||{left:0,top:0};me({titleKey:Ke,startX:bt,startY:Qt,startPos:cn})};tt.useEffect(()=>{if(!Q)return;const Ie=bt=>{const Qt=bt.clientX-Q.startX,cn=bt.clientY-Q.startY;Y(on=>({...on,[Q.titleKey]:{...on[Q.titleKey],position:{left:Q.startPos.left+Qt,top:Q.startPos.top+cn}}}))},Ke=()=>me(null);return document.addEventListener("mousemove",Ie),document.addEventListener("mouseup",Ke),()=>{document.removeEventListener("mousemove",Ie),document.removeEventListener("mouseup",Ke)}},[Q]);const Or=(Ie,Ke,bt)=>{if(!Ee)return;Ie.preventDefault(),Ie.stopPropagation();const Qt=Ie.clientX,cn=Ie.clientY,on={width:E[Ke].width||200,height:E[Ke].height||30};B({titleKey:Ke,startX:Qt,startY:cn,startSize:on,direction:bt})};tt.useEffect(()=>{if(!ae)return;const Ie=bt=>{const Qt=bt.clientX-ae.startX,cn=bt.clientY-ae.startY;Y(on=>{const sn=Math.max(50,ae.startSize.width+Qt),en=Math.max(20,ae.startSize.height+cn);return{...on,[ae.titleKey]:{...on[ae.titleKey],width:sn,height:en}}})},Ke=()=>B(null);return document.addEventListener("mousemove",Ie),document.addEventListener("mouseup",Ke),()=>{document.removeEventListener("mousemove",Ie),document.removeEventListener("mouseup",Ke)}},[ae]);const Nn=(Ie,Ke,bt,Qt)=>{if(!Ee)return;Ie.stopPropagation();const cn=V[Ke]||[],on=cn.findIndex(ur=>ur.id===bt);if(on===-1)return;const sn=cn[on],en=Ie.clientX,Fn=Ie.clientY,mr=sn.left,Br=sn.top,_r=sn.width,Jn=sn.height,hi=ur=>{const Pn=ur.clientX-en,Mr=ur.clientY-Fn,Qr={...sn};Qt==="move"?(Qr.left=mr+Pn,Qr.top=Br+Mr):Qt==="resize-e"?Qr.width=Math.max(20,_r+Pn):Qt==="resize-s"?Qr.height=Math.max(20,Jn+Mr):Qt==="resize-se"&&(Qr.width=Math.max(20,_r+Pn),Qr.height=Math.max(20,Jn+Mr)),S(Er=>{const Sr=[...Er[Ke]||[]];return Sr[on]=Qr,{...Er,[Ke]:Sr}})},ii=()=>{document.removeEventListener("mousemove",hi),document.removeEventListener("mouseup",ii)};document.addEventListener("mousemove",hi),document.addEventListener("mouseup",ii)},On=(Ie,Ke)=>{const Qt=(V[Ie]||[]).find(cn=>cn.id===Ke);Qt&&U({panelId:Ie,buttonId:Ke,button:Qt})},$n=()=>{if(!C)return;const{panelId:Ie,buttonId:Ke}=C;confirm("")&&(S(bt=>{const Qt=(bt[Ie]||[]).filter(cn=>cn.id!==Ke);return{...bt,[Ie]:Qt}}),U(null))},In=({style:Ie,label:Ke})=>{if(!C)return;const{panelId:bt,buttonId:Qt}=C;S(cn=>{const on=[...cn[bt]||[]],sn=on.findIndex(en=>en.id===Qt);return sn!==-1&&(on[sn]={...on[sn],label:Ke!==void 0?Ke:on[sn].label,style:{...on[sn].style,...Ie}}),{...cn,[bt]:on}})},pn=Ie=>{if(!Ee){if(console.log("Button clicked:",Ie.label,Ie.kind),O){const Ke=e.filter(cn=>o[cn.id]),bt=Ke.map(cn=>{var on;return{docName:cn.name||"",docType:((on=(cn.name||"").split(".").pop())==null?void 0:on.toUpperCase())||"TXT"}}),Qt={id:`sec_${Date.now()}`,order:A.length+1,buttonId:Ie.id,buttonLabel:Ie.label,buttonKind:Ie.kind,timestamp:Date.now(),input:{sourceType:Ie.kind||"button_click",inputContext:bt,selectedDocCount:Ke.length},action:{type:"button_click",buttonKind:Ie.kind,buttonLabel:Ie.label},output:{targetLocation:"pending",status:"pending"}};q(cn=>[...cn,Qt])}switch(Ie.kind){case"switch":r==null||r();break;case"edit":Ct();break;case"action":alert(`: ${Ie.label}`);break}}},jr=Ie=>{const Ke=fe[Ie],bt=prompt("",Ke);bt!==null&&bt.trim()!==""&&Oe(Qt=>({...Qt,[Ie]:bt.trim()}))},En=async Ie=>{const Ke=Ie==null?void 0:Ie.target,bt=Array.from((Ke==null?void 0:Ke.files)||[]);if(!bt.length)return;const Qt=[],cn=[];for(const on of bt)try{const sn=(on==null?void 0:on.name)||"",Fn=kA(sn)?await CA(on):await EA(on),mr=typeof Fn=="string"?Fn:String(Fn??""),Br=mr.trim()?mr:"",_r=await fetch("/api/docs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:sn,content:Br})});if(!_r.ok){const hi=await _r.text();throw new Error(hi||"")}const Jn=await _r.json();Jn!=null&&Jn.doc&&Qt.push(Jn.doc)}catch(sn){console.error(sn),cn.push({name:(on==null?void 0:on.name)||"(unknown)",reason:sn==null?void 0:sn.message})}if(Qt.length&&t(on=>{const sn=new Map((on||[]).filter(Boolean).map(en=>[en.id,en]));return Qt.forEach(en=>{en!=null&&en.id&&sn.set(en.id,en)}),Array.from(sn.values())}),await ie(),Ke&&(Ke.value=""),cn.length){const on=cn.map(sn=>sn.reason?`${sn.name} (${sn.reason})`:sn.name).join(", ");F(`${on}`)}if(O){const on=bt.map(en=>en.name).join(", "),sn={id:`sec_${Date.now()}`,order:A.length+1,buttonId:"source_upload_trigger",buttonLabel:"",buttonKind:"action",timestamp:Date.now(),input:{sourceType:"file_system",contentPreview:` ${bt.length} ${on}`},action:{type:"upload_file",buttonData:{label:"",kind:"upload"}},output:{targetLocation:"sources_list",summary:` ${bt.length} `},meta:{fileCount:bt.length,fileDetails:Qt.map(en=>({id:en.id,name:en.name})),reproducibility:{requiresLocalFile:!0,fileNames:bt.map(en=>en.name)}}};q(en=>[...en,sn])}},Wn=async Ie=>{try{await fetch(`/api/docs/${Ie}`,{method:"DELETE"}),await ie(),a(Ke=>{const bt={...Ke};return delete bt[Ie],bt})}catch(Ke){console.error("Failed to delete doc",Ke)}},Ir=async()=>{if(e.length&&confirm(""))try{for(const Ie of e)await fetch(`/api/docs/${Ie.id}`,{method:"DELETE"});await ie(),a({})}catch(Ie){console.error("Failed to clear docs",Ie)}},zn=Ie=>a(Ke=>({...Ke,[Ie]:!Ke[Ie]})),Sn=()=>{const Ie={id:"1",role:"assistant",content:""};u([Ie]),fetch("/api/chat/cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[Ie]})}).catch(Ke=>console.log("",Ke))},Ur=async Ie=>{const Ke={id:`u_${Date.now()}`,role:"user",content:Ie};u(bt=>[...bt,Ke]),m(!0);try{const bt=e.map(mr=>{var Br;return{name:mr.name,content:((Br=mr.content)==null?void 0:Br.substring(0,5e3))||""}}).filter(mr=>mr.content),Qt=bt.length>0?`

${bt.map(mr=>`${mr.name}
${mr.content}`).join(`

---

`)}

---

`:"",on=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:`

`},{role:"user",content:`${Qt}${Ie}`}],maxTokens:1e3})});let sn="";const en=[];if(on.ok){const mr=await on.json();mr!=null&&mr.content&&(sn=mr.content,bt.forEach(Br=>{(sn.includes(Br.name)||Ie.includes(Br.name))&&en.push(Br.name)}))}const Fn={id:`a_${Date.now()}`,role:"assistant",content:sn,citations:en.length>0?en:bt.length>0?[bt[0].name]:[]};u(mr=>[...mr,Fn])}catch(bt){console.error("AI :",bt);const Qt={id:`a_${Date.now()}`,role:"assistant",content:" AI "};u(cn=>[...cn,Qt])}finally{m(!1)}},Zs=()=>f(Ie=>[{id:`n_${Date.now()}`,title:"",content:""},...Ie]),ki=Ie=>f(Ke=>Ke.filter(bt=>bt.id!==Ie)),Oi=Ie=>v.jsx(Eb,{panelId:Ie,buttons:V[Ie]||[],isEditing:Ee,onButtonMouseDown:Nn,onStyleEdit:On,onClick:pn,style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"}}),$i=(Ie,Ke)=>{Y(bt=>({...bt,[Ie]:{...bt[Ie],text:Ke}}))},wn=Object.keys(bd).filter(Ie=>W[Ie]===!1),yr=Ie=>fe!=null&&fe[Ie]?fe[Ie]:Ie===Nr.SOURCES?"":Ie===Nr.CHAT?"":Ie===Nr.STUDIO?"Studio":Ie;return v.jsxs("div",{className:`layout-multi ${Ee?"editing-mode":""}`,style:{position:"relative",height:"100%",padding:"16px",boxSizing:"border-box"},children:[v.jsxs("header",{className:"hero multi-header",style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(Kv,{size:22,style:{color:"var(--primary-accent)",marginTop:"4px"}}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px",position:"relative"},children:Ee?v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${E.title.width}px`,height:`${E.title.height}px`,border:"1px dashed #94a3b8",borderRadius:"4px",zIndex:(Q==null?void 0:Q.titleKey)==="title"?200:100,transform:`translate(${((Po=E.title.position)==null?void 0:Po.left)||0}px, ${((qi=E.title.position)==null?void 0:qi.top)||0}px)`,transition:(Q==null?void 0:Q.titleKey)==="title"?"none":"transform 0.2s"},children:[v.jsxs("div",{style:{position:"absolute",top:"-24px",left:0,display:"flex",gap:"4px",background:"#f1f5f9",padding:"2px 4px",borderRadius:"4px",border:"1px solid #e2e8f0"},children:[v.jsx("div",{onMouseDown:Ie=>Gt(Ie,"title"),style:{cursor:"move",display:"flex",alignItems:"center",color:"#64748b"},title:Eo.t1,children:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("polyline",{points:"5 9 2 12 5 15"}),v.jsx("polyline",{points:"9 5 12 2 15 5"}),v.jsx("polyline",{points:"19 9 22 12 19 15"}),v.jsx("polyline",{points:"9 19 12 22 15 19"}),v.jsx("circle",{cx:"12",cy:"12",r:"1"})]})}),v.jsx("div",{onClick:()=>de("title"),style:{cursor:"pointer",display:"flex",alignItems:"center",color:"#64748b"},title:Eo.t2,children:v.jsx(Ld,{size:14})})]}),v.jsx("input",{value:E.title.text,onChange:Ie=>$i("title",Ie.target.value),style:{...E.title.style,margin:0,width:"100%",height:"100%",border:"none",background:"transparent",outline:"none",padding:0}}),v.jsx("div",{className:"resize-handle e",onMouseDown:Ie=>Or(Ie,"title","e")}),v.jsx("div",{className:"resize-handle s",onMouseDown:Ie=>Or(Ie,"title","s")}),v.jsx("div",{className:"resize-handle se",onMouseDown:Ie=>Or(Ie,"title","se")})]}),v.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center",width:`${E.eyebrow.width}px`,height:`${E.eyebrow.height}px`,border:"1px dashed #94a3b8",borderRadius:"4px",zIndex:(Q==null?void 0:Q.titleKey)==="eyebrow"?200:100,transform:`translate(${((ao=E.eyebrow.position)==null?void 0:ao.left)||0}px, ${((Bn=E.eyebrow.position)==null?void 0:Bn.top)||0}px)`,transition:(Q==null?void 0:Q.titleKey)==="eyebrow"?"none":"transform 0.2s"},children:[v.jsxs("div",{style:{position:"absolute",top:"-24px",left:0,display:"flex",gap:"4px",background:"#f1f5f9",padding:"2px 4px",borderRadius:"4px",border:"1px solid #e2e8f0"},children:[v.jsx("div",{onMouseDown:Ie=>Gt(Ie,"eyebrow"),style:{cursor:"move",display:"flex",alignItems:"center",color:"#64748b"},title:Eo.t1,children:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("polyline",{points:"5 9 2 12 5 15"}),v.jsx("polyline",{points:"9 5 12 2 15 5"}),v.jsx("polyline",{points:"19 9 22 12 19 15"}),v.jsx("polyline",{points:"9 19 12 22 15 19"}),v.jsx("circle",{cx:"12",cy:"12",r:"1"})]})}),v.jsx("div",{onClick:()=>de("eyebrow"),style:{cursor:"pointer",display:"flex",alignItems:"center",color:"#64748b"},title:Eo.t2,children:v.jsx(Ld,{size:14})})]}),v.jsx("input",{value:E.eyebrow.text,onChange:Ie=>$i("eyebrow",Ie.target.value),style:{...E.eyebrow.style,margin:0,width:"100%",height:"100%",border:"none",background:"transparent",outline:"none",padding:0}}),v.jsx("div",{className:"resize-handle e",onMouseDown:Ie=>Or(Ie,"eyebrow","e")}),v.jsx("div",{className:"resize-handle s",onMouseDown:Ie=>Or(Ie,"eyebrow","s")}),v.jsx("div",{className:"resize-handle se",onMouseDown:Ie=>Or(Ie,"eyebrow","se")})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("h1",{style:{...E.title.style,margin:0,width:`${E.title.width}px`,height:`${E.title.height}px`,display:"flex",alignItems:"center",transform:`translate(${((Fr=E.title.position)==null?void 0:Fr.left)||0}px, ${((fi=E.title.position)==null?void 0:fi.top)||0}px)`,transition:"transform 0.2s"},children:E.title.text}),v.jsx("p",{className:"eyebrow",style:{...E.eyebrow.style,margin:0,width:`${E.eyebrow.width}px`,height:`${E.eyebrow.height}px`,display:"flex",alignItems:"center",transform:`translate(${((Xo=E.eyebrow.position)==null?void 0:Xo.left)||0}px, ${((di=E.eyebrow.position)==null?void 0:di.top)||0}px)`,transition:"transform 0.2s"},children:E.eyebrow.text})]})})]}),v.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px",alignItems:"center"},children:[v.jsxs("button",{onClick:r,className:"ghost",style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"999px",fontSize:"16px",fontWeight:600},children:[v.jsx(Vv,{size:18})," ",Eo.t3]}),Ee&&v.jsxs("div",{className:"edit-toolbar",style:{display:"flex",alignItems:"center",gap:"8px",background:"white",padding:"4px 8px",borderRadius:"8px",boxShadow:"var(--shadow-sm)",border:"1px solid #e2e8f0"},children:[v.jsx("button",{className:"ghost small",onClick:Zt,title:Eo.t5,children:v.jsx(Jv,{size:16})}),v.jsx("button",{className:"ghost small",onClick:Jt,title:Eo.t6,children:v.jsx(Mu,{size:16})}),v.jsxs("button",{className:"primary small",onClick:$t,title:Eo.t7,children:[v.jsx(gm,{size:16}),Eo.t7]})]})]}),Oi(Nr.HEADER)]}),!Ee&&v.jsx("div",{style:{position:"fixed",right:"24px",bottom:"24px",zIndex:100},children:v.jsxs("button",{className:"ghost",onClick:Ct,title:Eo.t4,style:{fontSize:"11px",padding:"4px 8px"},children:[v.jsx(Yv,{size:14}),Eo.t4]})}),v.jsx("div",{className:"multi-content-area",style:{flex:1,overflow:"auto",position:"relative"},children:v.jsxs(Zv,{isEditing:Ee,size:De,onSizeChange:X,minWidth:1200,minHeight:800,style:{background:"#f8fafc"},children:[W[Nr.SOURCES]!==!1&&v.jsxs(Qa,{panelId:Nr.SOURCES,panelName:fe[Nr.SOURCES],isEditing:Ee,position:ce[Nr.SOURCES],onPositionChange:Ie=>te(Ke=>({...Ke,[Nr.SOURCES]:Ie})),onTitleEdit:jr,editHeaderActions:Ee?v.jsx("button",{type:"button",className:"ghost",onClick:Ie=>{Ie.stopPropagation(),at(Nr.SOURCES)},style:{padding:"4px 8px",fontSize:"12px"},children:Eo.t8}):null,children:[v.jsx(yA,{sources:N,onUpload:En,onDelete:Wn,onSelect:zn,onClearAll:Ir}),Oi(Nr.SOURCES)]}),W[Nr.CHAT]!==!1&&v.jsxs(Qa,{panelId:Nr.CHAT,panelName:fe[Nr.CHAT],isEditing:Ee,position:ce[Nr.CHAT],onPositionChange:Ie=>te(Ke=>({...Ke,[Nr.CHAT]:Ie})),onTitleEdit:jr,editHeaderActions:Ee?v.jsx("button",{type:"button",className:"ghost",onClick:Ie=>{Ie.stopPropagation(),at(Nr.CHAT)},style:{padding:"4px 8px",fontSize:"12px"},children:Eo.t8}):null,children:[v.jsx(vA,{messages:s,onSendMessage:Ur,thinking:d,appButtons:k,onAppButtonClick:P,onClearMessages:Sn}),Oi(Nr.CHAT)]}),W[Nr.STUDIO]!==!1&&v.jsxs(Qa,{panelId:Nr.STUDIO,panelName:fe[Nr.STUDIO],isEditing:Ee,position:ce[Nr.STUDIO],onPositionChange:Ie=>te(Ke=>({...Ke,[Nr.STUDIO]:Ie})),onTitleEdit:jr,editHeaderActions:Ee?v.jsx("button",{type:"button",className:"ghost",onClick:Ie=>{Ie.stopPropagation(),at(Nr.STUDIO)},style:{padding:"4px 8px",fontSize:"12px"},children:Eo.t8}):null,children:[v.jsx(wA,{notes:l,onAddNote:Zs,onDeleteNote:ki}),Oi(Nr.STUDIO)]})]})}),Ee&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`multi-hidden-sidebar ${xe?"is-open":"is-closed"}`,children:[v.jsxs("div",{className:"multi-hidden-header",children:[v.jsxs("div",{className:"multi-hidden-title",children:[Eo.t9,v.jsx("span",{className:"multi-hidden-count",children:wn.length})]}),v.jsx("button",{type:"button",className:"ghost icon-btn multi-hidden-close",onClick:()=>Se(!1),title:Eo.t10,children:v.jsx(Hx,{size:18})})]}),v.jsx("div",{className:"multi-hidden-body",children:wn.length===0?v.jsx("div",{className:"multi-hidden-empty",children:Eo.t11}):wn.map(Ie=>v.jsxs("div",{className:"multi-hidden-item",children:[v.jsx("span",{className:"multi-hidden-name",children:yr(Ie)}),v.jsx("button",{type:"button",className:"ghost multi-hidden-restore",onClick:Ke=>{Ke.stopPropagation(),Je(Ie)},children:Eo.t12})]},Ie))})]}),!xe&&v.jsxs("button",{type:"button",className:"multi-hidden-toggle",onClick:()=>Se(!0),title:Eo.t9,children:[v.jsx(Hv,{size:16}),v.jsx("span",{children:Eo.t9})]})]}),oe&&v.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"rgba(30, 41, 59, 0.9)",color:"white",padding:"12px 24px",borderRadius:"999px",zIndex:9999,display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",backdropFilter:"blur(4px)",fontSize:"14px",fontWeight:500},children:[v.jsx("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),v.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"}),z]}),C&&v.jsxs(v.Fragment,{children:[v.jsx(sg,{onClose:()=>U(null)}),v.jsx(xu,{button:C.button,onStyleChange:In,onDelete:$n,onClose:()=>U(null)})]}),M&&v.jsxs(v.Fragment,{children:[v.jsx(sg,{onClose:()=>de(null)}),v.jsx(xu,{button:{label:E[M].text,style:E[M].style},onStyleChange:Ie=>{Y(Ke=>({...Ke,[M]:{...Ke[M],text:Ie.label,style:{...Ke[M].style,...Ie.style}}}))},onClose:()=>de(null),onDelete:()=>{}})]})]})}class IA extends pm.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?v.jsx("div",{children:Eo.t13}):this.props.children}}function PA(r){return v.jsx(IA,{children:v.jsx(jA,{...r})})}function RA(){const[r,e]=tt.useState("multi"),t=()=>{e(o=>o==="sop"?"multi":"sop")};return v.jsx("div",{className:"app-shell",children:r==="sop"?v.jsx(pm.Fragment,{children:v.jsx("div",{className:"sop-wrapper",children:v.jsx(pA,{onSwitch:t})})}):v.jsx(PA,{onSwitch:t})})}bx.createRoot(document.getElementById("root")).render(v.jsx(pm.StrictMode,{children:v.jsx(RA,{})}));export{Si as _,Kf as c,Uv as g};
